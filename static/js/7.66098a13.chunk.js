(this["webpackJsonptweet-storm-builder"]=this["webpackJsonptweet-storm-builder"]||[]).push([[7],{247:function(e,t,a){},253:function(e,t,a){},544:function(e,t,a){"use strict";a.r(t);var n=a(160),r=a.n(n),l=a(27),o=a(28),i=a(31),s=a(30),c=a(32),u=a(0),m=a.n(u),p=a(92),d=a(13),f=a(10),h=a(29),g=a(16),b=a.n(g),v=["AUD","CAD","CHF","EUR","GBP","NZD","USD"];function E(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(b.a.get("".concat("https://openexchangerates.org/api/latest.json","?app_id=").concat("b35691a10625439b84bd3638ee37b741")));case 2:return e=t.sent,console.log("rates:",Object(p.pick)(e.data.rates,v)),t.abrupt("return",Object(p.pick)(e.data.rates,v));case 5:case"end":return t.stop()}}))}var y=a(3);function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem(e);if(!a)return t;try{var n=JSON.parse(a);return Object(y.a)({},t,{},n)}catch(r){return console.log("Error reading saved state",r),t}}function S(e,t){return localStorage.setItem(e,JSON.stringify(t))}var O=a(15),C=a(243),N=a.n(C),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).copy=function(){var e=a.props.textFn();N()(e),a.setState({hasCopied:!0},(function(){window.setTimeout((function(){return a.setState({hasCopied:!1})}),3e3)}))},a.state={hasCopied:!1},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"buttonText",value:function(){return this.state.hasCopied?m.a.createElement("span",{style:{color:"red"}},"Copied"):this.props.children?m.a.createElement("span",null,this.props.children):m.a.createElement("span",null,"Copy to clipboard")}},{key:"render",value:function(){var e=this.props.disabled;return m.a.createElement(h.Button,{onClick:this.copy,disabled:e},m.a.createElement(h.Icon,{size:"small"},m.a.createElement("i",{className:"far fa-copy"})),this.buttonText())}}]),t}(u.Component);function T(e){return m.a.createElement(h.Form.Field,{kind:"addons"},m.a.createElement(h.Form.Control,null,m.a.createElement(h.Button,{onClick:e.onReset},m.a.createElement(h.Icon,{size:"small"},m.a.createElement("i",{className:"fas fa-sync"})))),m.a.createElement(h.Form.Control,{style:{width:"100%"}},m.a.createElement(h.Form.Input,{type:"text",onChange:e.onChange,value:e.value})),m.a.createElement(h.Form.Control,null,m.a.createElement(j,{textFn:e.onSubmit})))}var D=a(540),x=a(98),w=a(159),B=a(541);function _(e){var t=e.locale,a=e.amount,n=e.currency;return m.a.createElement(w.a,{textComponent:u.Fragment,locale:t||"en-US"},m.a.createElement(B.a,{value:a,style:"currency",currency:n,minimumFractionDigits:0,maximumFractionDigits:2}))}var F={AUD:["Australia"],CAD:["Canada"],GBP:["United Kingdom"],NZD:["New Zealand"],CHF:["Switzerland"],EUR:["Austria","Belgium","Cyprus","Denmark","Estonia","Finland","France","Germany","Greece","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Portugal","Slovakia","Slovenia","Spain","Sweden"]};function A(e){return Object.keys(F).map((function(t,a){var n=0===a?"if":"elif",r=F[t].map((function(e){return"user.country == '".concat(e,"'")})).join(" or ");return"{% ".concat(n," ").concat(r," %}").concat(e(t))})).concat(["{% else %}".concat(e("USD"),"{% endif %}")]).join("")}var L=function(){function e(t){var a=this;Object(l.a)(this,e),this.config=void 0,this.build=function(){var e=a.config,t=e.amount,n=e.rates,r=e.multiplier,l=e.template,o=e.locale,i=e.correctLowAsks;if(!l.match(/{{amount}}/))return l;var s=t?function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0;return A((function(r){var l=t[r]*a;if(!l)return"";var o=e?Math.round(e*l):0;return Object(x.renderToStaticMarkup)(m.a.createElement(_,{amount:o,currency:r,locale:n}))}))}(t,n,r,o):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return A((function(r){var l=e[r]*t;if(!l)return"";var o="{{suggested_ask_via_usd|multiply:".concat(l,"|floatformat:0}}");return n&&(o="{% if suggested_ask_via_usd >= 2.5 %}".concat(o,"{% else %}{{3|multiply:").concat(l,"|floatformat:0}}{% endif %}")),Object(x.renderToStaticMarkup)(m.a.createElement(_,{amount:0,currency:r,locale:a})).replace("0",o)}))}(n,r,o,i);return"".concat(a.head).concat(s).concat(a.tail)},this.config=t}return Object(o.a)(e,[{key:"head",get:function(){if(!this.config)return"";var e=this.config.template.split("{{amount}}");return Object(D.a)(e,1)[0]}},{key:"tail",get:function(){if(!this.config)return"";var e=this.config.template.split("{{amount}}");return Object(D.a)(e,2)[1]}},{key:"amount",get:function(){var e=this,t=this.config,a=t.amount,n=t.rates,r=t.locale;return A((function(t){var l=n[t]*(e.config.multiplier||1);if(!l)return"";var o=a?Math.round(a*l):0;return Object(x.renderToStaticMarkup)(m.a.createElement(_,{amount:o,currency:t,locale:r}))}))}}]),e}(),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e)))._debouncedSave=void 0,a.saveState=Object(p.debounce)((function(){return S("PlainTextCreator",a.state)}),1500),a.updateTemplate=function(e){a.setState({template:Object(y.a)({},a.state.template,{},e)})},a.resetTemplate=function(){return a.setState(t.defaultState)},a.build=function(){if(a.props.rates)return new L({template:a.state.template[a.props.lang],locale:a.props.lang,rates:a.props.rates,correctLowAsks:a.props.correctLowAsks}).build();throw new Error("Rates not loaded")},a.onChange=function(e){a.updateTemplate(Object(O.a)({},a.props.lang,e.currentTarget.value))},a.state=k("PlainTextCreator",t.defaultState),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!Object(p.isEqual)(this.state,t)||this.props.lang!==e.lang}},{key:"componentDidUpdate",value:function(){this._debouncedSave=this.saveState()}},{key:"componentWillUnmount",value:function(){this._debouncedSave&&this._debouncedSave.flush()}},{key:"render",value:function(){return m.a.createElement("div",{className:"PlainTextBuilder tool-section"},m.a.createElement("label",{className:"label"},"Build plain text"),m.a.createElement(T,{value:this.state.template[this.props.lang],onChange:this.onChange,onReset:this.resetTemplate,onSubmit:this.build}))}}]),t}(u.Component);R.defaultState={template:{en:"Will you chip in {{amount}} to help ...?",fr:"Ferez-vous un don de {{amount}} pour aider ...?",de:"Wirst du {{amount}} spenden um zu helfen ...?"}};var M=a(246),U=a.n(M),z=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,e),this.url="https://actions.sumofus.org/a/donate",this.config=null,this.amount=function(e){var a,n;if(!e||!(null===(a=t.config)||void 0===a?void 0:null===(n=a.rates)||void 0===n?void 0:n[e]))return"";var r=t.config.rates[e]*(t.config.multiplier||1);if(t.config.amount)return"{{".concat(t.config.amount,"|multiply:").concat(r,"|floatformat:0}}");var l="{% if suggested_ask_via_usd >= 1 %}{{suggested_ask_via_usd|multiply:".concat(r,"|floatformat:0}}{% else %}1{% endif %}");return t.config.correctLowAsks&&(l="{% if suggested_ask_via_usd >= 2.5 %}".concat(l,"{% else %}{{3|multiply:").concat(r,"|floatformat:0}}{% endif %}")),l},this.build=function(){return"".concat(t.url,"?").concat(t.query)},a.url&&(this.url=a.url),a.config&&(this.config=a.config),console.log("Config in URL builder:",a.config)}return Object(o.a)(e,null,[{key:"donationBandSnippet",value:function(){return["{% if suggested_ask_via_usd <= 1 %}nondonor","{% elif suggested_ask_via_usd <= 19 %}lowdonor","{% elif suggested_ask_via_usd <= 50 %}middonor","{% elif suggested_ask_via_usd <= 100 %}highdonor","{% else %}vhighdonor{% endif %}"].join("")}}]),Object(o.a)(e,[{key:"query",get:function(){if(!this.config)return e.defaultQuery;var t=this.config,a=t.recurringDefault,n={amount:t.omitAmount?void 0:"AMOUNT",currency:"CURRENCY",recurring_default:a,one_click:t.oneClick||void 0,source:"fwd"};return U.a.stringify(Object(p.omitBy)(n,p.isUndefined)).replace("AMOUNT",A(this.amount)).replace("CURRENCY",A((function(e){return e})))}}]),e}();z.defaultQuery=U.a.stringify({donation_band:"DONATION_BANDS",source:"fwd"}).replace("DONATION_BANDS",z.donationBandSnippet());var I=function e(t){var a=this;Object(l.a)(this,e),this.config=void 0,this.style=void 0,this.build=function(){var e=a.config,t=e.url,n=e.template,r=e.locale,l=e.rates,o=e.amount,i=e.multiplier,s=e.correctLowAsks,c={url:t,config:{locale:r,rates:l,amount:o,multiplier:i,correctLowAsks:s,omitAmount:e.omitAmount}},u={template:n,locale:r,rates:l,amount:o,multiplier:i,correctLowAsks:s};return Object(x.renderToStaticMarkup)(m.a.createElement("a",{style:a.style,href:"{{link}}"},"{{text}}")).replace("{{link}}",new z(c).build()).replace("{{text}}",new L(u).build())},this.config=t,this.style=t.style},W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).style=e.style,a}return Object(c.a)(t,e),t}(I),J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e)))._debouncedSave=void 0,a.saveState=Object(p.debounce)((function(){return S("LinkCreator",a.state)}),1500),a.updateTemplate=function(e){a.setState({template:Object(y.a)({},a.state.template,{},e)})},a.resetTemplate=function(){return a.setState(t.defaultState)},a.build=function(){var e=a.props,t=e.url,n=e.rates,r=e.lang,l=e.correctLowAsks,o=a.state.template[a.props.lang];if(n)return new W({url:t,template:o,rates:n,locale:r,correctLowAsks:l,omitAmount:!1,style:a.props.styles.linkStyle}).build();throw new Error("Rates not loaded")},a.onChange=function(e){a.updateTemplate(Object(O.a)({},a.props.lang,e.currentTarget.value))},a.state=k("LinkCreator",t.defaultState),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!Object(p.isEqual)(this.state,t)||this.props.lang!==e.lang}},{key:"componentDidUpdate",value:function(){this._debouncedSave=this.saveState()}},{key:"componentWillUnmount",value:function(){this._debouncedSave&&this._debouncedSave.flush()}},{key:"render",value:function(){return m.a.createElement("div",{className:"LinkCreator tool-section"},m.a.createElement("label",{className:"label"},"Build a link"),m.a.createElement(T,{value:this.state.template[this.props.lang],onChange:this.onChange,onReset:this.resetTemplate,onSubmit:this.build}))}}]),t}(u.Component);J.defaultState={template:{en:"Yes, I will chip in {{amount}} to help ...",fr:"Oui, je vais donner {{amount}} pour aider ...",de:"Ja, ich spende {{amount}}, um zu helfen ..."}};var P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e)))._debouncedSave=void 0,a.saveState=Object(p.debounce)((function(){return S("ButtonCreator",a.state)}),1500),a.updateTemplate=function(e){a.setState({template:Object(y.a)({},a.state.template,{},e)})},a.resetTemplate=function(){return a.setState(t.defaultState)},a.build=function(){var e=a.props,t=e.url,n=e.rates,r=e.lang,l=e.correctLowAsks,o=a.state.template[a.props.lang];if(n)return new I({url:t,template:o,rates:n,locale:r,correctLowAsks:l,omitAmount:!1,style:a.props.styles.buttonStyle}).build();throw new Error("Rates not loaded")},a.onChange=function(e){a.updateTemplate(Object(O.a)({},a.props.lang,e.currentTarget.value))},a.state=k("ButtonCreator",t.defaultState),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this._debouncedSave=this.saveState()}},{key:"componentWillUnmount",value:function(){this._debouncedSave&&this._debouncedSave.flush()}},{key:"shouldComponentUpdate",value:function(e,t){return!Object(p.isEqual)(this.state,t)||this.props.lang!==e.lang}},{key:"render",value:function(){return m.a.createElement("div",{className:"ButtonCreator tool-section"},m.a.createElement("label",{className:"label"},"Build a button"),m.a.createElement(T,{value:this.state.template[this.props.lang],onChange:this.onChange,onReset:this.resetTemplate,onSubmit:this.build}))}},{key:"template",get:function(){return this.state.template[this.props.lang]}}]),t}(u.Component);P.defaultState={template:{en:"Donate {{amount}} now",fr:"Donner {{amount}}",de:"Jetzt {{amount}} Spenden"}};var Y={classic:{linkStyle:{color:"#00abbd",fontFamily:"sans-serif",fontWeight:"bold"},buttonStyle:{backgroundColor:"#dc6134",borderRadius:"3px",boxShadow:"inset 0 -1.2px rgba(0, 0, 0, 0.12) !important",color:"white",display:"block",fontFamily:"sans-serif",fontWeight:"bold",lineHeight:"44px",margin:"10px 0",maxWidth:"300px",textAlign:"center",textDecoration:"none",textSizeAdjust:"none",textTransform:"uppercase",whiteSpace:"nowrap"}},rebranding:{linkStyle:{color:"#00abbd",fontFamily:"Montserrat, Helvetica, Arial, sans-serif",fontWeight:"bold"},buttonStyle:{backgroundColor:"#f8492e",borderRadius:"0px",color:"white",display:"block",fontFamily:"Montserrat, Helvetica, Arial, sans-serif",fontWeight:"bold",lineHeight:"44px",margin:"10px 0",maxWidth:"300px",textAlign:"center",textDecoration:"none",textSizeAdjust:"none",textTransform:"uppercase",whiteSpace:"nowrap"}}},q={backgroundColor:"#BEBEBE",color:"#000"},H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).saveState=Object(p.debounce)((function(){return S("CannotDonateButtonCreator",a.state)}),1500),a.updateTemplate=function(e){a.setState({template:Object(y.a)({},a.state.template,{},e)})},a.resetTemplate=function(){return a.setState(t.defaultState)},a.build=function(){return Object(x.renderToStaticMarkup)(m.a.createElement("a",{style:Object(y.a)({},a.state.buttonStyle,{},q),href:"https://www.sumofus.org/optout/?lang={{ user.lang }}&akid={{ user.token }}"},a.state.template[a.props.lang]))},a.onChange=function(e){a.updateTemplate(Object(O.a)({},a.props.lang,e.target.value))},a.state=k("CannotDonateButtonCreator",t.defaultState),a.state.buttonStyle=e.styles.buttonStyle,a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this._debouncedSave=this.saveState()}},{key:"componentWillUnmount",value:function(){this._debouncedSave&&this._debouncedSave.flush()}},{key:"shouldComponentUpdate",value:function(e,t){return!Object(p.isEqual)(this.state,t)||this.props.lang!==e.lang}},{key:"render",value:function(){return m.a.createElement("div",{className:"CannotDonateButtonCreator tool-section"},m.a.createElement("label",{className:"label"},"Can't Donate"),m.a.createElement(T,{value:this.state.template[this.props.lang],onChange:this.onChange,onReset:this.resetTemplate,onSubmit:this.build}))}},{key:"template",get:function(){return this.state.template[this.props.lang]}}]),t}(u.Component);H.defaultState={template:{en:"Can't Donate",fr:"Can't Donate",de:"Can't Donate"}};var G=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"BasicFundraiserCreators"},m.a.createElement(R,Object.assign({},this.props,{correctLowAsks:!1})),m.a.createElement(J,Object.assign({},this.props,{correctLowAsks:!1})),m.a.createElement(P,Object.assign({},this.props,{correctLowAsks:!1})),m.a.createElement(H,Object.assign({},this.props,{correctLowAsks:!1})))}}]),t}(u.Component),K=a(20),X=a(131),Z=a.n(X),Q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e)))._debouncedSave=void 0,a.saveState=Object(p.debounce)((function(){return S("SuggestedAmountsDonors",a.state)}),500),a.updateButtonTemplate=function(e){a.setState({buttonTemplate:Object(y.a)({},a.state.buttonTemplate,Object(O.a)({},a.props.lang,e.currentTarget.value))})},a.updateOtherLinkTemplate=function(e){a.setState({otherLinkTemplate:Object(y.a)({},a.state.otherLinkTemplate,Object(O.a)({},a.props.lang,e.currentTarget.value))})},a.updateMultipliers=function(e,t){var n=Object(K.a)(a.state.multipliers);e&&!Number(e)||(n[t]=e,a.setState({multipliers:n}))},a.updateRecurringDefault=function(e){var t=e.currentTarget.value;""!==t&&"recurring"!==t&&"only_recurring"!==t&&"one_off"!==t||a.setState({recurringDefault:t})},a.resetState=function(){return a.setState(t.defaultState)},a.link=function(e){var t=a.props,n=t.lang,r=t.rates,l=t.url,o=a.state,i=o.recurringDefault,s=o.oneClick;return r?new z({url:l,config:Object(p.pickBy)({multiplier:e,locale:n,rates:r,recurringDefault:i,oneClick:s,correctLowAsks:!0},p.identity)}).build():l},a.text=function(e){var t=a.props,n=t.lang,r=t.rates;return r?new L({multiplier:e,locale:n,rates:r,template:a.state.buttonTemplate[a.props.lang],correctLowAsks:!0}).build():""},a.button=function(e){return e?Object(x.renderToStaticMarkup)(m.a.createElement("a",{style:a.props.styles.buttonStyle,href:"{{link}}"},"{{text}}")).replace("{{link}}",a.link(e)).replace("{{text}}",a.text(e)):""},a.otherAmountButton=function(){var e=new z({url:a.props.url,config:Object(p.pickBy)({recurringDefault:a.state.recurringDefault,omitAmount:!0},p.identity)}).build(),t=a.state.otherLinkTemplate[a.props.lang];return Object(x.renderToStaticMarkup)(m.a.createElement("a",{style:a.props.styles.linkStyle,href:"{{link}}"},"{{text}}")).replace("{{link}}",e).replace("{{text}}",t)},a.copy=function(){if(!a.props.rates)return"";var e=a.state.multipliers.map((function(e){return Number(e)})).map(a.button).concat([a.otherAmountButton()]).join("");return"<div>".concat(e,"</div>")},a.state=k("SuggestedAmountsDonors",t.defaultState),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this._debouncedSave=this.saveState()}},{key:"componentWillUnmount",value:function(){this._debouncedSave&&this._debouncedSave.flush()}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"SuggestedAmountsDonors tool-section"},m.a.createElement(h.Form.Field,{className:"is-horizontal is-grouped"},m.a.createElement("div",{className:"field-label"},m.a.createElement("label",{className:"label"},"Button copy")),m.a.createElement("div",{className:"field-body"},m.a.createElement(h.Form.Input,{type:"text",size:"small",value:this.state.buttonTemplate[this.props.lang],onChange:this.updateButtonTemplate}))),m.a.createElement(h.Form.Field,{className:"is-horizontal is-grouped"},m.a.createElement("div",{className:"field-label"},m.a.createElement("label",{className:"label"},"Other amount copy")),m.a.createElement("div",{className:"field-body"},m.a.createElement(h.Form.Input,{type:"text",size:"small",value:this.state.otherLinkTemplate[this.props.lang],onChange:this.updateOtherLinkTemplate}))),m.a.createElement(h.Form.Field,{className:"is-horizontal"},m.a.createElement("div",{className:"field-label"},m.a.createElement("label",{className:"label"},"Multipliers")),m.a.createElement("div",{className:"field-body"},this.state.multipliers.map((function(t,a){return m.a.createElement(h.Form.Control,{key:"amount-".concat(a),className:"field"},m.a.createElement(h.Form.Input,{size:"small",name:"amount-".concat(a),value:(null===t||void 0===t?void 0:t.toString())||"",className:"is-info",placeholder:"Amount ".concat(a+1),type:"text",onChange:function(t){return e.updateMultipliers(t.currentTarget.value,a)}}))})))),m.a.createElement(h.Form.Field,{className:"is-horizontal is-grouped"},m.a.createElement("div",{className:"field-label"}),m.a.createElement("div",{className:"field-body"},m.a.createElement("p",{className:"field has-text-right"},"Enter your multipliers here. 4 and 5 are optional."))),m.a.createElement(h.Form.Field,{className:"is-horizontal is-grouped"},m.a.createElement("div",{className:"field-label"},m.a.createElement("label",{className:"label"},"Recurring")),m.a.createElement("div",{className:"field-body"},m.a.createElement("div",{className:"select is-small"},m.a.createElement("select",{className:"is-small",name:"recurringDefault",value:this.state.recurringDefault,onChange:this.updateRecurringDefault},m.a.createElement("option",{value:""},"Use page default"),m.a.createElement("option",{value:"recurring"},"Recurring"),m.a.createElement("option",{value:"only_recurring"},"Only recurring"),m.a.createElement("option",{value:"one_off"},"One off"))))),m.a.createElement(h.Form.Field,{className:"is-horizontal is-grouped"},m.a.createElement("div",{className:"field-label"},m.a.createElement("label",{className:"label",htmlFor:"oneClick"},"One click?")),m.a.createElement("div",{className:"field-body"},m.a.createElement("div",{className:Z()("select","is-small",{"is-success":this.state.oneClick,"is-danger":!this.state.oneClick})},m.a.createElement("select",{className:"is-small",name:"oneClick",value:this.state.oneClick?"true":"false",onChange:function(t){return e.setState({oneClick:"true"===t.currentTarget.value})}},m.a.createElement("option",{value:"true"},"Yes"),m.a.createElement("option",{value:"false"},"No"))))),m.a.createElement("div",{className:"level"},m.a.createElement(j,{textFn:this.copy,disabled:!this.props.rates}),m.a.createElement(h.Button,{onClick:this.resetState},m.a.createElement(h.Icon,{size:"small"},m.a.createElement("i",{className:"fas fa-sync"})),m.a.createElement("span",null,"Reset"))))}}]),t}(u.Component);Q.defaultState={multipliers:[1,1.5,2,0,0],recurringDefault:"",oneClick:!0,buttonTemplate:{en:"Donate {{amount}} now",fr:"Donner {{amount}}",de:"Jetzt {{amount}} Spenden"},otherLinkTemplate:{en:"Donate another amount",fr:"Doner un autre montant",de:"Spenden Sie einen anderen Betrag"}};var V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e)))._debouncedSave=void 0,a.saveState=Object(p.debounce)((function(){return S("FixedAmountCreator",a.state)}),500),a.updateButtonTemplate=function(e){a.setState({buttonTemplate:Object(y.a)({},a.state.buttonTemplate,Object(O.a)({},a.props.lang,e.currentTarget.value))})},a.updateOtherLinkTemplate=function(e){a.setState({otherLinkTemplate:Object(y.a)({},a.state.otherLinkTemplate,Object(O.a)({},a.props.lang,e.currentTarget.value))})},a.updateAmount=function(e,t){var n=Object(K.a)(a.state.amounts);n[t]=Number(e)||0,a.setState({amounts:n})},a.updateRecurringDefault=function(e){var t=e.currentTarget.value;""!==t&&"recurring"!==t&&"only_recurring"!==t&&"one_off"!==t||a.setState({recurringDefault:t})},a.resetState=function(){return a.setState(t.defaultState)},a.link=function(e){var t=a.props,n=t.lang,r=t.rates,l=t.url,o=a.state.recurringDefault;return r?new z({url:l,config:Object(p.pickBy)({amount:e,locale:n,rates:r,recurringDefault:o},p.identity)}).build():l},a.text=function(e){var t=a.props,n=t.lang,r=t.rates;return r?new L({amount:e,locale:n,rates:r,template:a.state.buttonTemplate[a.props.lang]}).build():""},a.button=function(e){return e?Object(x.renderToStaticMarkup)(m.a.createElement("a",{style:a.props.styles.buttonStyle,href:"{{link}}"},"{{text}}")).replace("{{link}}",a.link(e)).replace("{{text}}",a.text(e)):""},a.otherAmountButton=function(){var e=new z({url:a.props.url,config:Object(p.pickBy)({recurringDefault:a.state.recurringDefault,omitAmount:!0},p.identity)}).build(),t=a.state.otherLinkTemplate[a.props.lang];return Object(x.renderToStaticMarkup)(m.a.createElement("a",{style:a.props.styles.linkStyle,href:"{{link}}"},"{{text}}")).replace("{{link}}",e).replace("{{text}}",t)},a.copy=function(){return a.props.rates?a.state.amounts.map((function(e){return a.button(e)})).concat([a.otherAmountButton()]).join(""):""},a.state=k("FixedAmountCreator",t.defaultState),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this._debouncedSave=this.saveState()}},{key:"componentWillUnmount",value:function(){this._debouncedSave&&this._debouncedSave.flush()}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"FixedAmountCreator tool-section"},m.a.createElement(h.Form.Field,null,m.a.createElement("label",{className:"label"},"Button copy"),m.a.createElement(h.Form.Input,{type:"text",size:"small",value:this.state.buttonTemplate[this.props.lang],onChange:this.updateButtonTemplate})),m.a.createElement(h.Form.Field,null,m.a.createElement("label",{className:"label"},"Other amount copy"),m.a.createElement(h.Form.Input,{type:"text",size:"small",value:this.state.otherLinkTemplate[this.props.lang],onChange:this.updateOtherLinkTemplate})),m.a.createElement("label",{className:"label"},"Enter your amounts here. 4 and 5 are optional. Each will create a button."),m.a.createElement(h.Form.Field,{className:"is-grouped is-grouped-multiline"},this.state.amounts.map((function(t,a){return m.a.createElement(h.Form.Control,{key:"amount-".concat(a)},m.a.createElement(h.Form.Input,{size:"small",name:"amount-".concat(a),value:t?t.toString():"",className:"is-info",placeholder:"Amount ".concat(a+1),type:"text",onChange:function(t){return e.updateAmount(t.currentTarget.value,a)}}))}))),m.a.createElement(h.Form.Field,null,m.a.createElement("label",{className:"label"},"Recurring default"),m.a.createElement("div",{className:"select"},m.a.createElement("select",{name:"recurringDefault",value:this.state.recurringDefault,onChange:this.updateRecurringDefault},m.a.createElement("option",{value:""},"Use page default"),m.a.createElement("option",{value:"recurring"},"Recurring"),m.a.createElement("option",{value:"only_recurring"},"Only recurring"),m.a.createElement("option",{value:"one_off"},"One off")))),m.a.createElement("div",{className:"level"},m.a.createElement(j,{textFn:this.copy,disabled:!this.props.rates}),m.a.createElement(h.Button,{onClick:this.resetState},m.a.createElement(h.Icon,{size:"small"},m.a.createElement("i",{className:"fas fa-sync"})),m.a.createElement("span",null,"Reset"))))}}]),t}(u.Component);V.defaultState={amounts:[4,8,20,0,0],recurringDefault:"",buttonTemplate:{en:"Donate {{amount}} now",fr:"Donner {{amount}}",de:"Jetzt {{amount}} Spenden"},otherLinkTemplate:{en:"Donate another amount",fr:"Doner un autre montant",de:"Spenden Sie einen anderen Betrag"}};var $=function(e){return m.a.createElement(h.Form.Field,{className:"is-horizontal"},m.a.createElement("div",{className:"field-label"},m.a.createElement("label",{className:"label is-normal"},e.label)),m.a.createElement("div",{className:"field-body"},e.children))},ee=function(e){return m.a.createElement(h.Form.Field,{className:"is-horizontal"},m.a.createElement("div",{className:"field-label"},m.a.createElement("label",{className:"label is-normal"},e.label)),m.a.createElement("div",{className:"field-body"},m.a.createElement(h.Form.Input,{type:"text",size:"small",value:e.value,onChange:e.onChange})))},te=function(e){return m.a.createElement(m.a.Fragment,null,m.a.createElement(ee,{label:"Button",value:e.donorButtonTemplate,onChange:function(t){return e.onChange("donorButtonTemplate",t.currentTarget.value)}}),m.a.createElement(ee,{label:"Other",value:e.donorOtherLinkTemplate,onChange:function(t){return e.onChange("donorOtherLinkTemplate",t.currentTarget.value)}}),m.a.createElement($,{label:"Multipliers"},e.donorMultipliers.map((function(t,a){return m.a.createElement(h.Form.Control,{key:"amount-".concat(a),className:"field"},m.a.createElement(h.Form.Input,{size:"small",name:"amount-".concat(a),value:t||"",className:"is-info",placeholder:"Amount ".concat(a+1),type:"text",onChange:function(t){return function(t,a){var n=Object(K.a)(e.donorMultipliers);Number.isNaN(Number(t))||(n[a]=Number(t),e.onChange("donorMultipliers",n))}(t.currentTarget.value,a)}}))}))),m.a.createElement($,{label:"Recurring"},m.a.createElement("div",{className:"select is-small"},m.a.createElement("select",{className:"is-small",name:"recurringDefault",value:e.donorRecurring,onChange:function(t){return e.onChange("donorRecurring",t.currentTarget.value)}},m.a.createElement("option",{value:""},"Use page default"),m.a.createElement("option",{value:"recurring"},"Recurring"),m.a.createElement("option",{value:"only_recurring"},"Only recurring"),m.a.createElement("option",{value:"one_off"},"One off")))),m.a.createElement($,{label:"One click"},m.a.createElement("div",{className:Z()("select","is-small",{"is-success":e.donorOneClick,"is-danger":!e.donorOneClick})},m.a.createElement("select",{className:"is-small",name:"oneClick",value:e.donorOneClick,onChange:function(t){return e.onChange("donorOneClick","true"===t.currentTarget.value)}},m.a.createElement("option",{value:!0},"Yes"),m.a.createElement("option",{value:!1},"No")))))},ae=function(e){return m.a.createElement("div",{className:"form"},m.a.createElement(ee,{label:"Button",value:e.nonDonorButtonTemplate,onChange:function(t){return e.onChange("nonDonorButtonTemplate",t.currentTarget.value)}}),m.a.createElement(ee,{label:"Link",value:e.nonDonorLinkTemplate,onChange:function(t){return e.onChange("nonDonorLinkTemplate",t.currentTarget.value)}}))},ne=function(e,t){var a=t.styles||Y.classic,n=new z({url:t.url,config:Object(p.pickBy)({multiplier:e,locale:t.locale,rates:t.rates,recurringDefault:t.recurringDefault,oneClick:t.oneClick,correctLowAsks:!0},p.identity)}).build(),r=new L({multiplier:e,locale:t.locale,rates:t.rates,template:t.buttonTemplate,correctLowAsks:!0}).build();return oe({style:a.buttonStyle,href:n,text:r})},re=function(e){var t=e.url,a=e.recurringDefault,n=e.otherAmountTemplate,r=e.styles||Y.classic,l=new z({url:t,config:Object(p.pickBy)({recurringDefault:a,omitAmount:!0},p.identity)}).build();return oe({style:r.linkStyle,href:l,text:n})},le=function(e){var t,a,n=e.url,r=e.rates,l=e.locale,o=e.correctLowAsks,i=e.template,s=e.isButton?(null===(t=e.styles)||void 0===t?void 0:t.buttonStyle)||Y.classic.buttonStyle:(null===(a=e.styles)||void 0===a?void 0:a.linkStyle)||Y.classic.linkStyle;if(r)return new W({url:n,template:i,rates:r,locale:l,correctLowAsks:o||!1,omitAmount:!1,style:s}).build();throw new Error("Rates not loaded")},oe=function(e){return Object(x.renderToStaticMarkup)(m.a.createElement("a",{style:e.style,href:"{{href}}"},"{{text}}")).replace("{{href}}",e.href).replace("{{text}}",e.text)},ie={en:"Donate {{amount}} now",fr:"Donner {{amount}}",de:"Jetzt {{amount}} Spenden"},se={en:"Donate another amount",fr:"Doner un autre montant",de:"Spenden Sie einen anderen Betrag"},ce={en:"Will you chip in {{amount}} to help [EDIT]?",fr:"Oui, je vais donner {{amount}} pour aider [EDIT]",de:"Ja, ich spende {{amount}}, um zu helfen [EDIT]"},ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).updateKey=function(e,t){a.setState(Object(O.a)({},e,t))},a.buildMarkup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"XXXX",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY",a="\n  {% if donations_as_usd.highest_previous %}\n  \x3c!--- DONOR ---\x3e\n  <p><strong><em>If you\u2019ve saved your payment information with SumOfUs, your donation will go through immediately:</em></strong></p>\n\n  ".concat(e,"\n\n  {% else %}\n  \x3c!--- NON-DONOR ---\x3e\n  <p><em>Donating just takes a moment -- use Paypal or your card.</em></p>\n\n  ").concat(t,"\n\n  {% endif %}");return a},a.donorTemplate=function(){return(e={locale:a.props.lang,rates:a.props.rates,url:a.props.url,styles:a.props.styles,multipliers:a.state.donorMultipliers,recurringDefault:a.state.donorRecurring,oneClick:a.state.donorOneClick,buttonTemplate:a.state.donorButtonTemplate,otherAmountTemplate:a.state.donorOtherLinkTemplate}).rates?e.multipliers.map((function(e){return Number(e)})).filter((function(e){return e>0})).map((function(t){return ne(t,e)})).concat([re(e)]).join(""):"";var e},a.nonDonorTemplate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return le({correctLowAsks:e.correctLowAsks||!1,isButton:e.isButton||!1,locale:a.props.lang,rates:a.props.rates,styles:a.props.styles,template:e.template||a.state.nonDonorButtonTemplate,url:a.props.url})},a.buildSidebarMarkup=function(){return a.buildMarkup(a.donorTemplate(),a.nonDonorTemplate({isButton:!0,template:a.state.nonDonorButtonTemplate}))},a.buildBodyMarkup=function(){return a.buildMarkup(a.donorTemplate(),a.nonDonorTemplate({isButton:!1,template:a.state.nonDonorLinkTemplate}))},a.state={donorButtonTemplate:ie[e.lang],donorOtherLinkTemplate:se[e.lang],donorMultipliers:[1,1.5,2,0,0],donorRecurring:"",donorOneClick:!0,nonDonorButtonTemplate:ie[e.lang],nonDonorLinkTemplate:ce[e.lang]},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{id:"box-text-wrapper",className:"tool-section"},m.a.createElement("div",{className:"columns"},m.a.createElement("div",{className:"column"},m.a.createElement("h1",{className:"subtitle"},"Donors"),m.a.createElement(te,{donorButtonTemplate:this.state.donorButtonTemplate,donorOtherLinkTemplate:this.state.donorOtherLinkTemplate,donorMultipliers:this.state.donorMultipliers,donorRecurring:this.state.donorRecurring,donorOneClick:this.state.donorOneClick,onChange:this.updateKey})),m.a.createElement("div",{className:"column"},m.a.createElement("h2",{className:"subtitle"},"Non-donors"),m.a.createElement(ae,{nonDonorButtonTemplate:this.state.nonDonorButtonTemplate,nonDonorLinkTemplate:this.state.nonDonorLinkTemplate,onChange:this.updateKey}))),m.a.createElement("div",{className:"columns"},m.a.createElement("div",{className:"column"},m.a.createElement(j,{textFn:this.buildSidebarMarkup},m.a.createElement("span",{"data-testid":"box-button"},"Copy ",m.a.createElement("strong",null,"box button")," html"))," ",m.a.createElement(j,{textFn:this.buildBodyMarkup},m.a.createElement("span",{"data-testid":"body-button"},"Copy ",m.a.createElement("strong",null,"body")," html")))))}}]),t}(u.Component),me=(a(247),function(){return m.a.createElement(h.Tabs,{centered:!0,className:"FundraiserMailingMenu"},m.a.createElement("ul",null,m.a.createElement("li",null,m.a.createElement(d.c,{exact:!0,to:"/fundraiser-mailing",activeClassName:"is-active"},"Suggested Amounts")),m.a.createElement("li",null,m.a.createElement(d.c,{exact:!0,to:"/fundraiser-mailing/suggested-amounts-donors",activeClassName:"is-active"},"Suggested Amounts (Donors)")),m.a.createElement("li",null,m.a.createElement(d.c,{exact:!0,to:"/fundraiser-mailing/fixed-amount",activeClassName:"is-active"},"Fixed Amounts (Monthly)")),m.a.createElement("li",null,m.a.createElement(d.c,{exact:!0,to:"/fundraiser-mailing/conditional-cta",activeClassName:"is-active"},m.a.createElement("span",null,m.a.createElement("strong",{className:"standout"},"[Preview]")," Conditional CTA for full list")))))});function pe(e){var t=e.currentLanguage,a=e.onChange;return m.a.createElement("nav",{className:"SwitchLanguage"},m.a.createElement(h.Button,{style:{margin:"auto .5em"},className:de("en",t),onClick:function(){return a("en")}},"En"),m.a.createElement(h.Button,{style:{margin:"auto .5em"},className:de("fr",t),onClick:function(){return a("fr")}},"Fr"),m.a.createElement(h.Button,{style:{margin:"auto .5em"},className:de("de",t),onClick:function(){return a("de")}},"De"))}function de(e,t){return Z()({"is-small":!0,"is-white":!0,"is-light":e===t})}var fe=a(248),he=a.n(fe),ge=(a(253),a(254),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e)))._debouncedSave=void 0,a.saveState=Object(p.debounce)((function(){return S("BaseComponent",a.state)}),3e3),a.handleThemeChange=function(e){if(e){var t=e.currentTarget.checked?"rebranding":"classic";a.setState({themeName:t})}},a.state=k("BaseComponent",t.defaultState),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this._debouncedSave=this.saveState()}},{key:"componentWillUnmount",value:function(){this._debouncedSave&&this._debouncedSave.flush()}},{key:"componentDidMount",value:function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(E());case 2:e=t.sent,this.setState({rates:e});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"BaseComponent section"},m.a.createElement("div",{className:"container"},m.a.createElement(pe,{currentLanguage:this.state.lang,onChange:function(t){return e.setState({lang:t})}}),m.a.createElement(me,null),m.a.createElement(h.Form.Field,{className:"BaseComponent-url"},m.a.createElement("label",{className:"label"},"Page URL"),m.a.createElement(h.Form.Input,{type:"text",name:"pageUrl",onChange:function(t){return e.setState({url:t.currentTarget.value})},value:this.state.url})),m.a.createElement(d.a,null,m.a.createElement(f.b,{exact:!0,path:"/fundraiser-mailing",component:function(){return m.a.createElement(G,{url:e.state.url,rates:e.state.rates,lang:e.state.lang,styles:Y[e.state.themeName]||Y.classic})}}),m.a.createElement(f.b,{exact:!0,path:"/fundraiser-mailing/conditional-cta",component:function(){return m.a.createElement(ue,{url:e.state.url,rates:e.state.rates,lang:e.state.lang,styles:Y[e.state.themeName]||Y.classic})}}),m.a.createElement(f.b,{exact:!0,path:"/fundraiser-mailing/suggested-amounts-donors",component:function(){return m.a.createElement(Q,{url:e.state.url,rates:e.state.rates,lang:e.state.lang,styles:Y[e.state.themeName]||Y.classic})}}),m.a.createElement(f.b,{exact:!0,path:"/fundraiser-mailing/fixed-amount",component:function(){return m.a.createElement(V,{url:e.state.url,rates:e.state.rates,lang:e.state.lang,styles:Y[e.state.themeName]||Y.classic})}})),m.a.createElement("div",{className:"theme-selector"},m.a.createElement("label",{htmlFor:"theme-toggle"},"Rebranding styles:"),m.a.createElement(he.a,{id:"theme-toggle",defaultChecked:"rebranding"===this.state.themeName,onChange:this.handleThemeChange}))))}}]),t}(u.Component));ge.defaultState={url:"https://actions.sumofus.org/a/donate",rates:null,lang:"en",themeName:"classic"};t.default=ge}}]);
//# sourceMappingURL=7.66098a13.chunk.js.map