{"version":3,"sources":["../node_modules/aws-amplify/node_modules/aws-sdk/lib/core.js","../node_modules/aws-sdk/lib/core.js","../node_modules/aws-sdk/lib/util.js","../../../src/Common/index.ts","../node_modules/aws-amplify/node_modules/aws-sdk/lib/util.js","../node_modules/buffer/index.js","../node_modules/lodash/create.js","../node_modules/aws-amplify/node_modules/axios/lib/utils.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_root.js","../../../../src/Common/Logger/index.ts","../node_modules/lodash/_getNative.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/browser_loader.js","../node_modules/xmlbuilder/lib/XMLNode.js","../node_modules/jmespath/jmespath.js","../../../src/Auth/index.ts","../node_modules/react-copy-to-clipboard/lib/index.js","../node_modules/react-copy-to-clipboard/lib/Component.js","../node_modules/react-copy-to-clipboard/node_modules/copy-to-clipboard/index.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/model/shape.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/keys.js","../node_modules/lodash/isObjectLike.js","../node_modules/aws-sdk/lib/model/shape.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/protocol/rest.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/eq.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_toKey.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/browserHashUtils.js","../node_modules/aws-amplify/node_modules/aws-sdk/clients/sts.js","../../../../src/Common/Platform/index.ts","../node_modules/aws-sdk/lib/protocol/rest.js","../node_modules/aws-sdk/lib/browserHashUtils.js","../node_modules/aws-sdk/clients/sts.js","../node_modules/punycode/punycode.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/protocol/json.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/json/builder.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/json/parser.js","../node_modules/lodash/identity.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/isSymbol.js","../node_modules/url/url.js","../node_modules/querystring-es3/index.js","../node_modules/crypto-browserify/helpers.js","../../../src/Cache/index.ts","../../../../src/Cache/Utils/index.ts","../node_modules/aws-amplify/node_modules/axios/lib/defaults.js","../node_modules/aws-sdk/lib/browser_loader.js","../node_modules/aws-sdk/lib/protocol/json.js","../node_modules/aws-sdk/lib/json/builder.js","../node_modules/aws-sdk/lib/json/parser.js","../../src/index.ts","../../../src/Common/Facet.ts","../node_modules/timers-browserify/main.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/protocol/query.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/model/collection.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/protocol/rest_json.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/protocol/rest_xml.js","../node_modules/lodash/_assignValue.js","../node_modules/lodash/_baseAssignValue.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_copyObject.js","../node_modules/lodash/_isIterateeCall.js","../node_modules/lodash/_baseKeys.js","../node_modules/xmlbuilder/lib/XMLDeclaration.js","../node_modules/lodash/_getTag.js","../node_modules/xmlbuilder/lib/XMLElement.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/_castPath.js","../node_modules/xmlbuilder/lib/XMLProcessingInstruction.js","../node_modules/xmlbuilder/lib/XMLCData.js","../node_modules/xmlbuilder/lib/XMLComment.js","../node_modules/xmlbuilder/lib/XMLDocType.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/model/api.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/model/operation.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/model/paginator.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/model/resource_waiter.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/credentials.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/credentials/credential_provider_chain.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/http.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/sequential_executor.js","../node_modules/util/util.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/signers/v3.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/signers/v4_credentials.js","../node_modules/aws-amplify/node_modules/aws-sdk/node_modules/uuid/lib/rng-browser.js","../node_modules/aws-amplify/node_modules/aws-sdk/node_modules/uuid/lib/bytesToUuid.js","../node_modules/node-libs-browser/node_modules/events/events.js","../node_modules/crypto-browserify/index.js","../../../src/Common/Hub.ts","../../../src/Common/Signer.ts","../../../src/Cache/StorageCache.ts","../../../src/Cache/InMemoryCache.ts","../node_modules/uuid/index.js","../node_modules/aws-amplify/node_modules/axios/lib/helpers/bind.js","../node_modules/aws-amplify/node_modules/axios/lib/adapters/xhr.js","../node_modules/aws-amplify/node_modules/axios/lib/core/createError.js","../node_modules/aws-amplify/node_modules/axios/lib/cancel/isCancel.js","../node_modules/aws-amplify/node_modules/axios/lib/cancel/Cancel.js","../node_modules/zen-observable/index.js","../node_modules/aws-sdk/lib/protocol/query.js","../node_modules/aws-sdk/lib/model/collection.js","../node_modules/aws-sdk/lib/protocol/rest_json.js","../node_modules/aws-sdk/lib/protocol/rest_xml.js","../node_modules/aws-sdk/lib/model/api.js","../node_modules/aws-sdk/lib/model/operation.js","../node_modules/aws-sdk/lib/model/paginator.js","../node_modules/aws-sdk/lib/model/resource_waiter.js","../node_modules/aws-sdk/lib/credentials.js","../node_modules/aws-sdk/lib/credentials/credential_provider_chain.js","../node_modules/aws-sdk/lib/http.js","../node_modules/aws-sdk/lib/sequential_executor.js","../node_modules/aws-sdk/lib/signers/v3.js","../node_modules/aws-sdk/lib/signers/v4_credentials.js","../node_modules/aws-sdk/node_modules/uuid/lib/rng-browser.js","../node_modules/aws-sdk/node_modules/uuid/lib/bytesToUuid.js","../node_modules/aws-sdk/lib/event-stream/to-buffer.js","../../../src/Analytics/index.ts","../../../src/Analytics/Analytics.ts","../node_modules/aws-amplify/node_modules/aws-sdk/clients/s3.js","../node_modules/setimmediate/setImmediate.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/query/query_param_serializer.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/xml/builder.js","../node_modules/xmlbuilder/lib/index.js","../node_modules/lodash/assign.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_createAssigner.js","../node_modules/lodash/_baseRest.js","../node_modules/lodash/_overRest.js","../node_modules/lodash/_apply.js","../node_modules/lodash/_setToString.js","../node_modules/lodash/_baseSetToString.js","../node_modules/lodash/constant.js","../node_modules/lodash/_shortOut.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_overArg.js","../node_modules/xmlbuilder/lib/XMLBuilder.js","../node_modules/xmlbuilder/lib/XMLStringifier.js","../node_modules/lodash/_baseAssign.js","../node_modules/lodash/_baseCreate.js","../node_modules/lodash/isEmpty.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/every.js","../node_modules/lodash/_arrayEvery.js","../node_modules/lodash/_baseEvery.js","../node_modules/lodash/_baseEach.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_createBaseEach.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/get.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/memoize.js","../node_modules/lodash/toString.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/xmlbuilder/lib/XMLAttribute.js","../node_modules/xmlbuilder/lib/XMLDTDAttList.js","../node_modules/xmlbuilder/lib/XMLDTDEntity.js","../node_modules/xmlbuilder/lib/XMLDTDElement.js","../node_modules/xmlbuilder/lib/XMLDTDNotation.js","../node_modules/xmlbuilder/lib/XMLRaw.js","../node_modules/xmlbuilder/lib/XMLText.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/api_loader.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/service.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/region_config.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/config.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/event_listeners.js","../node_modules/util/support/isBufferBrowser.js","../node_modules/inherits/inherits_browser.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/request.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/state_machine.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/response.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/resource_waiter.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/signers/request_signer.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/signers/v2.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/signers/v3https.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/signers/v4.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/signers/s3.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/signers/presign.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/param_validator.js","../node_modules/aws-amplify/node_modules/aws-sdk/node_modules/uuid/index.js","../node_modules/aws-amplify/node_modules/aws-sdk/node_modules/uuid/v1.js","../node_modules/aws-amplify/node_modules/aws-sdk/node_modules/uuid/v4.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/browserCryptoLib.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/browserHmac.js","../node_modules/base64-js/index.js","../node_modules/buffer/node_modules/ieee754/index.js","../node_modules/isarray/index.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/browserMd5.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/browserSha1.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/browserSha256.js","../node_modules/url/util.js","../node_modules/querystring-es3/decode.js","../node_modules/querystring-es3/encode.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/credentials/temporary_credentials.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/services/sts.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/credentials/web_identity_credentials.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/credentials/cognito_identity_credentials.js","../node_modules/aws-amplify/node_modules/aws-sdk/clients/cognitoidentity.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/services/cognitoidentity.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/credentials/saml_credentials.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/xml/browser_parser.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/http/xhr.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/services/s3.js","../node_modules/aws-amplify/node_modules/aws-sdk/lib/s3/managed_upload.js","../node_modules/aws-amplify/node_modules/aws-sdk/browser.js","../node_modules/crypto-browserify/sha.js","../node_modules/crypto-browserify/sha256.js","../node_modules/crypto-browserify/rng.js","../node_modules/crypto-browserify/md5.js","../node_modules/js-cookie/src/js.cookie.js","../node_modules/aws-amplify/node_modules/aws-sdk/clients/pinpoint.js","../node_modules/aws-amplify/node_modules/aws-sdk/clients/mobileanalytics.js","../../../../src/Common/Logger/ConsoleLogger.ts","../../../../src/Common/ClientDevice/index.ts","../../../../src/Common/ClientDevice/browser.ts","../../../src/Common/Errors.ts","../../../src/Common/JS.ts","../../../src/Common/Parser.ts","../../../../src/Common/OAuthHelper/index.ts","../../../../src/Common/OAuthHelper/GoogleOAuth.ts","../../../../src/Common/OAuthHelper/FacebookOAuth.ts","../../../../src/Common/RNComponents/index.ts","../../../../src/Analytics/Providers/AWSAnalyticsProvider.ts","../../../src/Cache/BrowserStorageCache.ts","../../../../src/Cache/Utils/CacheUtils.ts","../../../../src/Cache/Utils/CacheList.ts","../node_modules/uuid/v4.js","../../../src/Auth/Auth.ts","../../../src/Storage/index.ts","../../../src/Storage/Storage.ts","../../../src/API/index.ts","../../../src/API/API.ts","../../../src/API/RestClient.ts","../node_modules/aws-amplify/node_modules/axios/index.js","../node_modules/aws-amplify/node_modules/axios/lib/axios.js","../node_modules/is-buffer/index.js","../node_modules/aws-amplify/node_modules/axios/lib/core/Axios.js","../node_modules/aws-amplify/node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/aws-amplify/node_modules/axios/lib/core/settle.js","../node_modules/aws-amplify/node_modules/axios/lib/core/enhanceError.js","../node_modules/aws-amplify/node_modules/axios/lib/helpers/buildURL.js","../node_modules/aws-amplify/node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/aws-amplify/node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/aws-amplify/node_modules/axios/lib/helpers/btoa.js","../node_modules/aws-amplify/node_modules/axios/lib/helpers/cookies.js","../node_modules/aws-amplify/node_modules/axios/lib/core/InterceptorManager.js","../node_modules/aws-amplify/node_modules/axios/lib/core/dispatchRequest.js","../node_modules/aws-amplify/node_modules/axios/lib/core/transformData.js","../node_modules/aws-amplify/node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/aws-amplify/node_modules/axios/lib/helpers/combineURLs.js","../node_modules/aws-amplify/node_modules/axios/lib/cancel/CancelToken.js","../node_modules/aws-amplify/node_modules/axios/lib/helpers/spread.js","../../../src/PubSub/index.ts","../../../src/PubSub/PubSub.ts","../../../../src/Common/Polyfills/index.ts","../../../../src/Common/Polyfills/Polyfills.ts","../node_modules/zen-observable/lib/Observable.js","../../../../src/PubSub/Providers/AWSIotProvider.ts","../../../../src/PubSub/Providers/MqttOverWSProvider.ts","../node_modules/paho-mqtt/paho-mqtt.js","../../../../src/PubSub/Providers/PubSubProvider.ts","../../../src/I18n/index.ts","../../../src/I18n/I18n.ts","../node_modules/aws-sdk/clients/s3.js","../node_modules/aws-sdk/lib/query/query_param_serializer.js","../node_modules/aws-sdk/lib/xml/builder.js","../node_modules/aws-sdk/lib/xml/xml-node.js","../node_modules/aws-sdk/lib/xml/escape-attribute.js","../node_modules/aws-sdk/lib/xml/xml-text.js","../node_modules/aws-sdk/lib/xml/escape-element.js","../node_modules/aws-sdk/lib/api_loader.js","../node_modules/aws-sdk/lib/service.js","../node_modules/aws-sdk/lib/region_config.js","../node_modules/aws-sdk/lib/config.js","../node_modules/aws-sdk/lib/event_listeners.js","../node_modules/aws-sdk/lib/request.js","../node_modules/aws-sdk/lib/state_machine.js","../node_modules/aws-sdk/lib/response.js","../node_modules/aws-sdk/lib/resource_waiter.js","../node_modules/aws-sdk/lib/signers/request_signer.js","../node_modules/aws-sdk/lib/signers/v2.js","../node_modules/aws-sdk/lib/signers/v3https.js","../node_modules/aws-sdk/lib/signers/v4.js","../node_modules/aws-sdk/lib/signers/s3.js","../node_modules/aws-sdk/lib/signers/presign.js","../node_modules/aws-sdk/lib/param_validator.js","../node_modules/aws-sdk/node_modules/uuid/index.js","../node_modules/aws-sdk/node_modules/uuid/v1.js","../node_modules/aws-sdk/node_modules/uuid/v4.js","../node_modules/aws-sdk/lib/browserCryptoLib.js","../node_modules/aws-sdk/lib/browserHmac.js","../node_modules/aws-sdk/lib/browserMd5.js","../node_modules/aws-sdk/lib/browserSha1.js","../node_modules/aws-sdk/lib/browserSha256.js","../node_modules/aws-sdk/lib/event-stream/buffered-create-event-stream.js","../node_modules/aws-sdk/lib/event-stream/event-message-chunker.js","../node_modules/aws-sdk/lib/event-stream/parse-event.js","../node_modules/aws-sdk/lib/event-stream/parse-message.js","../node_modules/aws-sdk/lib/event-stream/int64.js","../node_modules/aws-sdk/lib/event-stream/split-message.js","../node_modules/aws-sdk/lib/credentials/temporary_credentials.js","../node_modules/aws-sdk/lib/services/sts.js","../node_modules/aws-sdk/lib/credentials/web_identity_credentials.js","../node_modules/aws-sdk/lib/credentials/cognito_identity_credentials.js","../node_modules/aws-sdk/clients/cognitoidentity.js","../node_modules/aws-sdk/lib/services/cognitoidentity.js","../node_modules/aws-sdk/lib/credentials/saml_credentials.js","../node_modules/aws-sdk/lib/xml/browser_parser.js","../node_modules/aws-sdk/lib/http/xhr.js","../node_modules/aws-sdk/lib/services/s3.js","../node_modules/aws-sdk/lib/s3/managed_upload.js","../node_modules/mustache/mustache.js","../node_modules/amazon-cognito-identity-js/es/AuthenticationDetails.js","../node_modules/amazon-cognito-identity-js/es/BigInteger.js","../node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js","../node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js","../node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js","../node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js","../node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js","../node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js","../node_modules/amazon-cognito-identity-js/es/DateHelper.js","../node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js","../node_modules/amazon-cognito-identity-js/es/StorageHelper.js","../node_modules/amazon-cognito-identity-js/es/CognitoUser.js","../node_modules/amazon-cognito-identity-js/es/UserAgent.js","../node_modules/amazon-cognito-identity-js/es/Client.js","../node_modules/amazon-cognito-identity-js/es/CognitoUserPool.js","../node_modules/amazon-cognito-identity-js/es/CookieStorage.js","../node_modules/amazon-cognito-identity-js/es/index.js"],"names":["AWS","util","require","toString","module","exports","update","VERSION","Signers","Protocol","Json","Query","Rest","RestJson","RestXml","XML","Builder","Parser","JSON","Model","Api","Operation","Shape","Paginator","ResourceWaiter","apiLoader","events","SequentialExecutor","environment","engine","isBrowser","navigator","userAgent","process","platform","version","AWS_EXECUTION_ENV","name","agent","browser","isNode","uriEscape","string","output","encodeURIComponent","replace","escape","ch","charCodeAt","toUpperCase","uriEscapePath","parts","arrayEach","split","part","push","join","urlParse","url","parse","urlFormat","format","queryStringParse","qs","querystring","queryParamsToString","params","items","sortedKeys","Object","keys","sort","value","ename","result","Array","isArray","vals","item","undefined","readFileSync","path","base64","encode","error","Error","Buffer","from","Uint8Array","decode","buffer","toStream","isBuffer","readable","stream","Readable","pos","_read","size","length","end","slice","concat","buffers","i","offset","copy","byteLength","lstatSync","object","upperFirst","substr","lowerFirst","toLowerCase","ini","currentSection","map","line","section","match","fn","noop","makeAsync","expectedArgs","args","prototype","call","arguments","callback","pop","apply","date","getDate","config","systemClockOffset","Date","getTime","iso8601","toISOString","rfc822","toUTCString","unixTimestamp","formatter","parseTimestamp","code","crypto","crc32Table","crc32","data","tbl","crc","readUInt8","hmac","key","digest","lib","createHmac","md5","hash","sha256","algorithm","createHash","sliceFn","arraySliceFn","ArrayBuffer","on","chunk","err","FileReader","out","index","reader","onerror","onload","buf","_continueReading","back","readAsArrayBuffer","toHex","abort","each","iterFunction","hasOwnProperty","this","array","idx","parseInt","obj1","obj2","merge","dupe","isEmpty","obj","prop","webkitSlice","mozSlice","isType","type","typeName","str","options","originalError","message","stack","defineProperty","writable","enumerable","time","inherit","klass","features","newObject","ctor","constructor","__super__","mixin","hideProperties","props","configurable","property","isValue","opts","get","memoizedProperty","cachedValue","hoistPayloadMember","resp","req","request","operationName","operation","service","api","operations","payload","hasEventOutput","payloadMember","members","responsePayload","computeSha256","body","done","Stream","fs","settings","start","createReadStream","sha","isClockSkewed","serverTime","Math","abs","applyClockOffset","extractRequestId","requestId","httpResponse","headers","ResponseMetadata","RequestId","addPromises","constructors","PromiseDependency","getPromisesDependency","Promise","deletePromises","ind","deletePromisesFromClass","addPromisesToClass","promisifyMethod","methodName","self","resolve","reject","isDualstackAvailable","metadata","serviceIdentifier","dualstackAvailable","calculateRetryDelay","retryCount","retryDelayOptions","customBackoff","base","random","pow","handleRequestWithRetries","httpRequest","cb","http","HttpClient","getInstance","httpOptions","errCallback","maxRetries","retryable","delay","setTimeout","sendRequest","retryAfter","handleRequest","statusCode","defer","uuid","v4","convertPayloadToString","rules","nextTick","setImmediate","defaultProfile","configOptInEnv","sharedCredentialsFileEnv","sharedConfigFileEnv","imdsDisabledEnv","__export","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","arg","encodingOrOffset","allocUnsafe","TypeError","byteOffset","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","len","checked","val","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","n","m","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","indexOf","lastIndexOf","arr","indexSize","arrLength","valLength","String","read","readUInt16BE","foundIndex","found","j","hexWrite","Number","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","c","hi","lo","utf16leToBytes","fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","e","typedArraySupport","poolSize","_augment","Symbol","species","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","list","swap16","swap32","swap64","equals","inspect","max","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","stringtrim","base64clean","src","dst","baseAssign","baseCreate","properties","bind","isObject","isFunction","forEach","l","isArrayBuffer","isFormData","FormData","isArrayBufferView","isString","isNumber","isUndefined","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","product","window","document","assignValue","extend","thisArg","freeGlobal","freeSelf","root","Function","baseIsNative","getValue","XMLCData","XMLComment","XMLDeclaration","XMLDocType","XMLElement","XMLRaw","XMLText","hasProp","XMLNode","parent","stringify","element","attributes","text","childNode","k","lastChild","len1","ref","valueOf","ignoreDecorators","convertAttKey","attribute","convertPIKey","instruction","separateArrayItems","convertTextKey","convertCDataKey","cdata","convertCommentKey","comment","convertRawKey","raw","node","insertBefore","child","removed","isRoot","children","splice","insertAfter","remove","declaration","standalone","doc","xmldec","doctype","pubID","sysID","up","documentObject","prev","next","importXMLBuilder","xmlbuilder","clonedRoot","clone","ele","nod","txt","dat","com","dec","dtd","t","d","r","u","strictDeepEqual","first","second","keysSeen","key2","isFalse","trimLeft","TYPE_NUMBER","TYPE_STRING","basicTokens","operatorStartToken","skipChars","isNum","Lexer","tokenize","identifier","token","tokens","_current","_consumeUnquotedIdentifier","_consumeNumber","_consumeLBracket","_consumeQuotedIdentifier","_consumeRawStringLiteral","literal","_consumeLiteral","_consumeOperator","maxLength","current","startingChar","literalString","_looksLikeJSON","ex","bindingPower","TreeInterpreter","runtime","Runtime","interpreter","_interpreter","functionTable","_func","_functionAbs","_signature","types","avg","_functionAvg","ceil","_functionCeil","contains","_functionContains","_functionEndsWith","_functionFloor","_functionLength","_functionMap","_functionMax","_functionMerge","variadic","_functionMaxBy","sum","_functionSum","_functionStartsWith","_functionMin","_functionMinBy","_functionType","_functionKeys","values","_functionValues","_functionSort","_functionSortBy","_functionJoin","reverse","_functionReverse","_functionToArray","_functionToString","_functionToNumber","_functionNotNull","expression","_loadTokens","ast","_lookahead","_lookaheadToken","rbp","leftToken","_advance","left","nud","currentToken","led","number","right","Not","_parseProjectionRHS","Star","_parseMultiselectHash","Flatten","_parseIndexExpression","_projectIfSlice","_parseMultiselectList","Expref","_match","_errorToken","tokenName","Dot","_parseDotRHS","Pipe","Or","And","condition","Filter","_parseComparator","tokenType","_parseSliceExpression","indexExpr","comparator","lookahead","expressions","keyToken","keyName","pairs","identifierTypes","search","visit","matched","field","collected","sliceParams","computed","computeSliceParams","stop","step","objValues","filtered","finalResults","original","merged","resolvedArgs","callFunction","refNode","jmespathType","arrayLength","stepValueNegative","capSliceRange","actualValue","functionEntry","_validateArgs","signature","pluralized","currentSpec","actualType","typeMatched","_getTypeName","_typeMatches","expected","argValue","subtype","searchStr","suffix","originalStr","reversedStr","reversedArray","inputArray","mapped","exprefNode","elements","maxElement","localeCompare","minElement","listToSum","joinChar","convertedValue","sortedArray","requiredType","decorated","exprA","exprB","maxRecord","resolvedArray","keyFunction","createKeyFunction","maxNumber","minRecord","minNumber","allowedTypes","msg","compile","parser","CopyToClipboard","_react","_interopRequireDefault","_copyToClipboard","__esModule","_typeof","iterator","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectWithoutProperties","source","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_possibleConstructorReturn","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","ReferenceError","_setPrototypeOf","p","_defineProperty","_React$PureComponent","_getPrototypeOf2","_this","_len","_key","event","_this$props","onCopy","elem","Children","only","onClick","protoProps","staticProps","subClass","superClass","create","_inherits","_this$props2","cloneElement","getOwnPropertyDescriptors","defineProperties","_objectSpread","PureComponent","deselectCurrent","debug","reselectPrevious","range","selection","mark","success","createRange","getSelection","createElement","textContent","style","all","position","top","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","addEventListener","stopPropagation","preventDefault","clipboardData","clearData","setData","appendChild","selectNodeContents","addRange","execCommand","console","warn","copyKey","test","prompt","removeRange","removeAllRanges","removeChild","Collection","shape","memberName","enum","pattern","location","xmlName","queryName","locationName","streaming","isStreaming","isComposite","Boolean","idempotencyToken","jsonvalue","sensitive","documentation","documentationUrl","xmlAttribute","toWireFormat","toType","CompositeShape","flattened","StructureShape","requiredMap","firstInit","isShape","member","xmlOrder","required","resultWrapper","xmlNamespace","prefix","uri","ListShape","oldName","MapShape","StringShape","nullLessProtocols","protocol","isJsonValue","BinaryShape","Base64Shape","BooleanShape","normalizedTypes","character","double","long","short","biginteger","bigdecimal","blob","timestampFormat","parseFloat","refShape","shapes","filteredKeys","InlineShape","origType","getRawTag","objectToString","symToStringTag","toStringTag","isLength","arrayLikeKeys","baseKeys","isArrayLike","eventstream","eventpayload","eventheader","memberNames","iLen","isEventPayload","eventHeaderMemberNames","isEventHeader","generateURI","endpointPath","operationPath","input","queryString","queryStringSet","paramValue","regex","RegExp","_","plus","buildRequest","method","httpMethod","populateMethod","endpoint","httpPath","populateURI","memberValue","populateHeaders","extractError","extractData","v","header","isLocationName","baseGetTag","tag","other","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","clear","entry","has","eq","nativeCreate","getNative","isKeyable","__data__","isSymbol","viewStrings","isEmptyData","convertToBuffer","BYTES_PER_ELEMENT","Service","services","STS","defineService","model","paginators","pagination","nodeType","punycode","maxInt","regexPunycode","regexNonASCII","regexSeparators","errors","stringFromCharCode","mapDomain","ucs2decode","extra","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","baseMinusTMin","basic","oldi","w","baseMinusT","inputLength","bias","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","define","JsonBuilder","JsonParser","targetPrefix","jsonVersion","builder","build","__type","Message","statusMessage","convertResponseTypes","translate","structure","struct","memberShape","translateStructure","translateMap","translateList","translateScalar","shapeMembers","reIsUint","objectProto","Ctor","baseIsArguments","isObjectLike","isArguments","stubFalse","freeExports","freeModule","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","isTypedArray","Map","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","reIsDeepProp","reIsPlainProp","Url","slashes","auth","host","port","hostname","query","pathname","href","relative","resolveObject","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","parseQueryString","slashesDenoteHost","queryIndex","splitter","uSplit","rest","simplePath","exec","proto","lowerProto","atSign","hostEnd","hec","decodeURIComponent","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","unshift","toASCII","h","ae","esc","qm","s","charAt","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","isAbsolute","zeroBuffer","hashSize","bigEndian","toBuffer","toArray","default","utils","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","defaults","adapter","XMLHttpRequest","getDefaultAdapter","transformRequest","transformResponse","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","status","common","createEventStream","Timeout","id","clearFn","_id","_clearFn","clearTimeout","setInterval","clearInterval","close","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","QueryParamSerializer","Version","apiVersion","Action","serialize","Code","Errors","origRules","tmp","_XAMZRequestId","requestIdShape","memoize","nameTr","iterable","applyContentTypeHeader","isBinary","payloadShape","populateBody","rootElement","toXML","baseAssignValue","objValue","func","funcToString","customizer","isNew","newValue","isIndex","isPrototype","nativeKeys","xmlVersion","xmlEncoding","xmlStandalone","level","indent","newline","pretty","ref1","ref2","space","DataView","Set","WeakMap","toSource","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","XMLAttribute","XMLProcessingInstruction","every","eleName","instructions","att","attName","clonedSelf","pi","clonedChild","attValue","skipNullAttributes","removeAttribute","insTarget","insValue","ref3","ref4","ref5","ins","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","baseIsEqualDeep","baseIsEqual","bitmask","SetCache","arraySome","cacheHas","equalFunc","isPartial","othLength","stacked","seen","arrValue","othValue","compared","othIndex","srcValue","castPath","toKey","isKey","stringToPath","XMLDTDAttList","XMLDTDElement","XMLDTDEntity","XMLDTDNotation","dtdPubID","dtdSysID","attList","elementName","attributeName","attributeType","defaultValueType","defaultValue","entity","pEntity","notation","ent","pent","not","endpointPrefix","signingName","globalEndpoint","signatureVersion","serviceAbbreviation","serviceFullName","paginator","waiters","waiter","requestUri","authtype","idempotentMembers","isIdempotent","input_token","limit_key","more_results","output_token","result_key","Credentials","expired","expireTime","creds","credentials","accessKeyId","secretAccessKey","sessionToken","expiryWindow","needsRefresh","currentTime","adjustedTime","refresh","getPromise","refreshPromise","CredentialProviderChain","providers","defaultProviders","resolveNext","provider","getErr","resolvePromise","Endpoint","sslEnabled","HttpRequest","region","_userAgent","setUserAgent","getUserAgentHeaderName","appendToUserAgent","agentPartial","getUserAgent","HttpResponse","createUnbufferedStream","singleton","_events","listeners","eventName","listener","onAsync","_isAsync","removeListener","removeAllListeners","emit","eventArgs","doneCallback","count","callListeners","prevError","callNextListener","_haltHandlersOnError","addListeners","callbacks","addNamedListener","addListener","addNamedAsyncListener","addNamedListeners","descriptors","formatRegExp","f","objects","deprecate","noDeprecation","warned","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","ctx","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","styles","recurseTimes","primitive","simple","formatPrimitive","visibleKeys","arrayToHash","getOwnPropertyNames","isError","formatError","isRegExp","braces","formatProperty","formatArray","reduce","cur","numLinesEst","reduceToSingleString","desc","ar","re","pad","debuglog","NODE_DEBUG","pid","isPrimitive","months","timestamp","getHours","getMinutes","getSeconds","getMonth","log","inherits","origin","add","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","newReason","promisify","promiseResolve","promiseReject","promise","custom","callbackify","callbackified","maybeCb","then","rej","V3","RequestSigner","addAuthorization","datetime","authorization","signedHeaders","headersToSign","canonicalHeaders","stringToSign","cachedSecret","cacheQueue","v4Identifier","createScope","serviceName","getSigningKey","shouldCache","cacheKey","kDate","kRegion","kService","signingKey","emptyCache","rng","msCrypto","getRandomValues","rnds8","rnds","byteToHex","bth","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","NumberIsNaN","EventEmitter","init","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","_getMaxListeners","_addListener","prepend","existing","warning","newListener","emitter","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","setMaxListeners","getMaxListeners","doError","er","context","handler","prependListener","once","prependOnceListener","originalListener","spliceOne","off","rawListeners","eventNames","algorithms","sha1","alg","bufs","enc","ipad","opad","randomBytes","HubClass","url_info","sorted_query","signed_headers","Utils_1","isInteger","logger","defaultConfig","store","presentKeyPrio","v1","settle","buildURL","parseHeaders","isURLSameOrigin","createError","btoa","requestData","requestHeaders","loadEvent","xDomain","XDomainRequest","onprogress","ontimeout","username","password","Authorization","open","paramsSerializer","readyState","responseURL","responseHeaders","getAllResponseHeaders","response","responseType","responseText","statusText","cookies","xsrfValue","withCredentials","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancelToken","cancel","send","enhanceError","__CANCEL__","Cancel","Observable","isEventStream","streamsApiVersion","topLevelShape","hasEventStream","Common_1","S3","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","handle","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","messagePrefix","onGlobalMessage","attachEvent","installPostMessageImplementation","MessageChannel","channel","port1","port2","installMessageChannelImplementation","html","documentElement","script","onreadystatechange","installReadyStateChangeImplementation","task","run","ucfirst","isQueryName","serializeStructure","serializeMember","memberRules","serializeList","valueName","serializeMap","XmlBuilder","xml","isXmlAttribute","applyNamespaces","xmlKey","xmlValue","serializeScalar","xmlNamespaceUri","xmlNamespacePrefix","noEmpty","XMLBuilder","assign","copyObject","createAssigner","isMasked","reIsHostCtor","funcProto","reIsNative","nativeObjectToString","isOwn","unmasked","coreJsData","maskSrcKey","uid","IE_PROTO","baseRest","isIterateeCall","assigner","sources","guard","identity","overRest","setToString","nativeMax","transform","otherArgs","baseSetToString","shortOut","constant","nativeNow","now","lastCalled","stamp","baseTimes","inherited","isArr","isArg","isBuff","skipIndexes","iteratee","typedArrayTags","freeProcess","binding","overArg","XMLStringifier","rootObject","headless","me","assertLegalChar","allowSurrogateChars","noDoubleEncoding","eleText","elEscape","attEscape","dtdElementValue","dtdAttType","dtdAttDefault","dtdEntityValue","dtdNData","chars","chr","ampregex","objectCreate","arrayEvery","baseEvery","baseIteratee","collection","predicate","baseEach","baseForOwn","createBaseEach","baseFor","createBaseFor","fromRight","keysFunc","eachFunc","baseMatches","baseMatchesProperty","baseIsMatch","getMatchData","matchesStrictComparable","matchData","noCustomizer","COMPARE_PARTIAL_FLAG","assocIndexOf","LARGE_ARRAY_SIZE","Hash","hashClear","hashDelete","hashGet","hashHas","hashSet","getMapData","equalArrays","equalByTag","equalObjects","objectTag","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","setCacheAdd","setCacheHas","cache","mapToArray","setToArray","symbolProto","symbolValueOf","convert","getAllKeys","objProps","objLength","skipCtor","objCtor","othCtor","baseGetAllKeys","getSymbols","arrayPush","symbolsFunc","arrayFilter","stubArray","nativeGetSymbols","symbol","resIndex","isStrictComparable","hasIn","baseGet","memoizeCapped","rePropName","reEscapeChar","quote","subString","resolver","memoized","Cache","baseToString","arrayMap","symbolToString","baseHasIn","hasPath","hasFunc","baseProperty","basePropertyDeep","pe","nData","svc","regionConfig","clientCount","loadServiceClass","ServiceClass","originalConfig","_clientId","initialize","svcConfig","Config","validateService","endpointFromTemplate","setEndpoint","serviceConfig","apiConfig","defineServiceApi","apiVersions","getLatestServiceClass","getLatestServiceVersion","selectedVersion","defaultRetryCount","customizeRequests","customRequestHandler","makeRequest","Request","addAllRequestListeners","makeUnauthenticatedRequest","toUnauthenticated","waitFor","wait","EventListeners","Core","serviceInterface","CorePost","paramValidation","VALIDATE_PARAMETERS","Logger","setupRequestListeners","getSignerClass","getVersion","successfulResponse","numRetries","retryDelays","retryableError","timeoutError","networkingError","expiredCredentialsError","throttledError","clockSkewError","getSkewCorrectedDate","newServerTime","paginationConfig","throwException","defineMethods","versions","_serviceMap","addVersions","superclass","setApi","isApi","hasService","applyConfig","regionPrefix","generateRegionPrefix","derivedKeys","patterns","useDualstack","isGlobalEndpoint","PromisesDependency","extractCredentials","getCredentials","finish","credError","getStaticCredentials","credentialProvider","allowUnknownKeys","loadFromPath","fileSystemCreds","FileSystemCredentials","chain","maxRedirects","s3ForcePathStyle","s3BucketEndpoint","s3DisableBodySigning","computeChecksums","correctClockSkew","customUserAgent","dynamoDbCrc32","signatureCache","useAccelerateEndpoint","setPromisesDependency","dep","ManagedUpload","addAsync","validation","ParamValidator","validate","haltHandlersOnError","V4","getOperationAuthtype","signer","setServiceClientId","signedAt","httpResp","didCallback","errCode","executeSend","_abortCallback","numBytes","dateHeader","total","progress","loaded","redirect","redirectCount","retryDelay","willRetry","errno","startTime","ansi","isTTY","censoredParams","filterSensitiveLog","inputShape","subShapeName","subShape","isSensitive","buildMessage","superCtor","super_","TempCtor","AcceptorStateMachine","domain","jmespath","hardErrorStates","complete","fsm","setupStates","transition","_asm","currentState","machine","Domain","domainEmitter","domainThrown","addState","Response","states","emitEvent","runTo","eachPage","wrappedCallback","hasNextPage","nextPage","eachItem","resultKey","continueIteration","isPageable","streams","PassThrough","sent","HTTP_DATA","HTTP_ERROR","expectedLen","shouldCheckContentLength","receivedLen","checkContentLengthAndEmit","httpStream","lengthAccumulator","_write","unpipe","eventParameters","presign","expires","Presign","sign","toGet","isPresigned","VALIDATE_CREDENTIALS","SIGN","buildAsGet","finalState","bindObject","inputError","fail","accept","acceptState","failState","nextPageTokens","inputTokens","inputToken","cacheNextPageTokens","moreResults","exprs","outputToken","expr","CHECK_ACCEPTORS","_waiter","acceptors","acceptorMatched","acceptor","matcher","matchers","argument","setSuccess","setError","loadWaiterConfig","pathAll","results","numResults","pathAny","$waiter","maxAttempts","serviceClientId","getServiceClientId","V2","V3Https","Timestamp","SignatureVersion","SignatureMethod","AWSAccessKeyId","SecurityToken","Signature","v4Credentials","updateForPresigned","addHeaders","credString","credentialString","isSignableHeader","lowerKey","sep","hexEncodedHash","canonicalString","hexEncodedBodyHash","canonicalHeaderValues","unsignableHeaders","subResources","canonicalizedAmzHeaders","canonicalizedResource","amzHeaders","resource","virtualHostedBucket","resources","param","subresource","secret","expiresHeader","signedUrlBuilder","signerClass","signedUrlSigner","parsedUrl","queryParams","SET_CONTENT_LENGTH","COMPUTE_SHA256","validateMember","validateStructure","paramName","validateType","memberContext","validateList","validateMap","validateScalar","validateRange","mapCount","validateString","validatePayload","validateNumber","validTypes","validateEnum","validatePattern","acceptedTypes","foundInvalidType","acceptedType","vowel","castedValue","bytesToUuid","_seedBytes","_nodeId","_clockseq","_lastMSecs","_lastNSecs","clockseq","nsecs","dt","tl","tmh","ii","Hmac","Md5","Sha1","Sha256","createSign","hashUtils","hashCtor","outer","inner","BLOCK_SIZE","bufferHash","bufferFromSecret","toHash","finished","b64","lens","getLens","validLen","placeHoldersLen","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","num","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","bufferLength","bytesHashed","cmn","ff","gg","hh","sourceData","setUint8","hashBuffer","undecoratedLength","bitsHashed","setUint32","buff","getUint32","Uint32Array","h0","h1","h2","h3","h4","block","totalLength","byte","processBlock","outView","temp","KEY","MAX_HASHABLE_LENGTH","Int32Array","bufferView","state0","state1","state2","state3","state4","state5","state6","state7","t1_1","t2_1","t1","t2","regexp","maxKeys","kstr","vstr","xs","stringifyPrimitive","objectKeys","ks","TemporaryCredentials","masterCredentials","loadMasterCredentials","RoleArn","RoleSessionName","createClients","assumeRole","getSessionToken","credentialsFrom","AccessKeyId","SecretAccessKey","SessionToken","Expiration","assumeRoleWithWebIdentity","assumeRoleWithSAML","WebIdentityCredentials","clientConfig","_clientConfig","stsConfig","CognitoIdentity","CognitoIdentityCredentials","localStorageKey","_identityId","loadCachedId","IdentityId","identityId","getId","clearIdOnNotAuthorized","getCredentialsFromSTS","getCredentialsForIdentity","clearCachedId","poolId","IdentityPoolId","loginId","LoginId","storage","cognito","loadCredentials","SecretKey","cacheId","getOpenIdToken","WebIdentityToken","Token","webIdentityCredentials","webErr","sts","getStorage","Logins","actualProviders","cognitoConfig","setStorage","localStorage","SAMLCredentials","DomXmlParser","parseXml","parseStructure","tagName","firstElementChild","nodeName","getElementsByTagName","nextElementSibling","parseMap","parseList","parentNode","childNodes","parseUnknown","getAttribute","parseScalar","xmlChild","DOMParser","parseFromString","syntaxError","errorElement","ActiveXObject","async","loadXML","XHRClient","xhr","headersEmitted","HEADERS_RECEIVED","DONE","finishRequest","evt","xhrAsync","xhrWithCredentials","rawHeaders","substring","ab","view","operationsWith200StatusCodeError","regionRedirectErrorCodes","getSignatureVersion","defaultApiVersion","userDefinedVersion","_originalConfig","regionDefinedVersion","messages","shouldDisableBodySigning","validateScheme","validateBucketEndpoint","correctBucketRegionFromCache","validateBucketName","addContentType","computeContentMd5","computeSseCustomerKeyMd5","addExpect100Continue","VALIDATE_REGION","requestBucketRegion","prepareSignedUrl","reqRegionForNetworkingError","disableBodySigning","scheme","SSECustomerKey","CopySourceSSECustomerKey","Bucket","bucket","Key","slashIndex","isValidAccelerateOperation","pathStyleBucketName","removeVirtualHostedBucketFromPath","contentType","charsetName","computableChecksumOperations","putBucketCors","putBucketLifecycle","putBucketLifecycleConfiguration","putBucketTagging","deleteObjects","putBucketReplication","willComputeChecksums","ContentMD5","bucketName","dnsCompatibleBucketName","ipAddress","dots","_requestRegionForBucket","bucketRegionCache","updateReqBucketRegion","s3Config","newConfig","Host","LocationConstraint","createBucketConfiguration","CreateBucketConfiguration","clearBucketRegionCache","extractRequestIds","cachedRegion","codes","304","403","400","404","Region","reqOperation","reqParams","MaxKeys","regionReq","getRegionReq","listObjects","buckets","requestRegion","extendedRequestId","cfId","getSignedUrl","Expires","createPresignedPost","boundParams","finalizePost","fields","preparePostFields","Fields","Conditions","conditions","expiresInSeconds","signingDate","shortDate","scope","credential","Policy","preparePostPolicy","expiration","noPresignedContentLength","Body","ContentLength","createBucket","uploader","completeInfo","fillQueue","configure","partSize","minPartSize","queueSize","leavePartsOnError","tags","bindServiceObject","validateBody","adjustTotalBytes","maxTotalParts","failed","runFill","fillBuffer","fillStream","partBuffers","cleanup","isDoneChunking","numParts","totalPartNumbers","doneParts","finishMultiPart","totalBytes","newPartSize","partPos","totalChunkedBytes","totalUploadedBytes","activeParts","multipartReq","partBufferLength","bodyLen","nextChunk","endPos","pbuf","isDoneSending","partNumber","Tagging","getTaggingHeader","putObject","_managedUpload","finishSinglePart","ETag","UploadId","uploadPart","queueChunks","createMultipartUpload","kvPairStrings","Value","partParams","PartNumber","partInfo","_lastUploadedBytes","resume","abortMultipartUpload","completeParams","MultipartUpload","Parts","completeMultipartUpload","Location","putObjectTagging","TagSet","httpReq","info","helpers","core_sha1","olda","oldb","oldc","oldd","olde","rol","safe_add","sha1_ft","sha1_kt","lsw","cnt","S","X","Ch","z","Maj","Sigma0256","Sigma1256","Gamma0256","core_sha256","g","T1","T2","K","HASH","W","mathRNG","whatwgRNG","core_md5","md5_ff","md5_gg","md5_hh","md5_ii","md5_cmn","factory","OldCookies","Cookies","noConflict","converter","stringifiedAttributes","cookie","json","jar","getJSON","withConverter","Pinpoint","MobileAnalytics","ConsoleLogger","logger_level_name","ClientDevice","browserClientInfo","Hub_1","dirX","isPending","ga","googleUser","fb","_a","setItem","prefixedKey","spaceItemNeed","cacheThresholdSpace","getCurrTime","CacheList","_refreshHandlers","session","APIClass","Axios","createInstance","axios","instanceConfig","CancelToken","isCancel","promises","spread","isSlowBuffer","InterceptorManager","dispatchRequest","interceptors","interceptor","fulfilled","rejected","normalizedName","serializedParams","ignoreDuplicateOf","originURL","msie","urlParsingNode","resolveURL","setAttribute","requestURL","E","charCode","secure","toGMTString","handlers","use","eject","transformData","isAbsoluteURL","combineURLs","throwIfCancellationRequested","throwIfRequested","baseURL","fns","relativeURL","executor","InMemoryCache_1","_createClass","hasSymbols","hasSymbol","getSymbol","observable","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","getSpecies","isObservable","hostReportError","enqueue","cleanupSubscription","subscription","_cleanup","unsubscribe","closeSubscription","_observer","_queue","_state","notifySubscription","observer","onNotify","queue","flushSubscription","Subscription","subscriber","subscriptionObserver","SubscriptionObserver","_subscription","_subscriber","subscribe","_this2","_this3","_this4","C","hasSeed","hasValue","seed","acc","_this5","startNext","_this6","subscriptions","completeIfDone","closed","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_item","return","_len2","_key2","MqttOverWSProvider","client","getItem","removeItem","MESSAGE_TYPE","errorStr","validKey","ERROR","INVALID_TYPE","OK","CONNECT_TIMEOUT","SUBSCRIBE_TIMEOUT","UNSUBSCRIBE_TIMEOUT","PING_TIMEOUT","INTERNAL_ERROR","CONNACK_RETURNCODE","SOCKET_ERROR","SOCKET_CLOSE","MALFORMED_UTF","UNSUPPORTED","INVALID_STATE","INVALID_ARGUMENT","UNSUPPORTED_OPERATION","INVALID_STORED_DATA","INVALID_MQTT_MESSAGE_TYPE","MALFORMED_UNICODE","BUFFER_FULL","CONNACK_RC","0","1","2","3","4","5","substitutions","part1","part2","MqttProtoIdentifierv3","MqttProtoIdentifierv4","WireMessage","decodeMessage","startingPos","messageInfo","remLength","multiplier","wireMessage","sessionPresent","returnCode","qos","readUint16","topicName","parseUTF8","messageIdentifier","retained","duplicate","destinationName","payloadMessage","writeUint16","writeString","utf8Length","stringToUTF8","UTF8Length","lowCharCode","utf16","byte1","byte2","byte3","byte4","willMessagePayloadBytes","topicStrLength","destinationNameLength","mqttVersion","clientId","willMessage","payloadBytes","userName","topics","requestedQos","mbi","encodeMBI","byteStream","connectFlags","cleanSession","keepAliveInterval","Pinger","_client","_keepAliveInterval","isReset","pingReq","doTimeout","pinger","doPing","_trace","socket","_disconnected","reset","timeoutSeconds","action","ClientImpl","WebSocket","_wsuri","_localKey","_msg_queue","_buffered_msg_queue","_sentMessages","_receivedMessages","_notify_msg_sent","_message_identifier","_sequence","restore","connected","maxMessageIdentifier","connectOptions","hostIndex","onConnected","onConnectionLost","onMessageDelivered","onMessageArrived","traceFunction","_connectTimeout","sendPinger","receivePinger","_reconnectInterval","_reconnecting","_reconnectTimeout","disconnectedPublishing","disconnectedBufferSize","receiveBuffer","_traceBuffer","_MAX_TRACE_ENTRIES","connect","connectOptionsMasked","_traceMask","uris","_doConnect","subscribeOptions","onSuccess","grantedQos","invocationContext","onFailure","errorCode","errorMessage","timeOut","_requires_ack","_schedule_message","unsubscribeOptions","sequence","disconnect","getTraceLog","startTrace","stopTrace","wsurl","useSSL","uriParts","binaryType","onopen","_on_socket_open","_on_socket_message","_on_socket_error","onclose","_on_socket_close","_process_queue","storedMessage","pubRecReceived","hex","messageBytes","payloadHex","_socket_send","messageCount","_deframeMessages","_handleMessage","newData","errorStack","sentMessage","receivedMessage","sequencedMessages","msgId","pubRelMessage","reconnected","_connected","_receivePublish","_receiveMessage","pubCompMessage","wireMessageMasked","pubAckMessage","pubRecMessage","reconnect","_reconnect","errorText","mqttVersionExplicit","record","severity","traceObject","masked","traceObjectMasked","attr","newPayload","newDestinationName","newQos","newRetained","newTopic","newDuplicate","Client","ipv6AddSBracket","clientIdLength","newOnConnected","newDisconnectedPublishing","newDisconnectedBufferSize","newOnConnectionLost","newOnMessageDelivered","newOnMessageArrived","hosts","ports","stringPayload","usingURIs","ipv6","topic","publish","isConnected","_config","I18n","defVal","XmlNode","XmlText","addAttribute","addChildNode","entryKey","entryValue","escapeAttribute","hasChildren","xmlText","attributeNames","escapeElement","eventMessageChunker","parseEvent","eventMessages","parseMessage","parsedMessage","messageType","parseError","eventType","eventModel","eventPayloadMemberName","eventHeaderNames","Int64","splitMessage","nameLength","binaryLength","stringLength","uuidChars","negate","fromNumber","round","negative","PRELUDE_LENGTH","expectedPreludeChecksum","PRELUDE_MEMBER_LENGTH","expectedMessageChecksum","headersEnd","mustache","escapeRegExp","hasProperty","propName","regExpTest","nonSpaceRe","isWhitespace","testRegExp","entityMap","whiteRe","spaceRe","equalsRe","curlyRe","tagRe","Scanner","tail","Context","parentContext","Writer","eos","scan","scanUntil","names","lookupHit","clearCache","template","openingTagRe","closingTagRe","closingCurlyRe","sections","spaces","hasTag","nonSpace","stripSpace","compileTags","tagsToCompile","openSection","scanner","valueLength","nestedTokens","collector","numTokens","nestTokens","lastToken","squashedTokens","squashTokens","parseTemplate","render","partials","renderTokens","originalTemplate","renderSection","renderInverted","renderPartial","unescapedValue","escapedValue","rawValue","defaultWriter","to_html","dbits","AuthenticationDetails","_ref","ValidationData","Username","Password","AuthParameters","validationData","authParameters","getUsername","getPassword","getValidationData","getAuthParameters","BigInteger","nbi","inBrowser","appName","am","xl","xh","DB","DM","DV","FV","F1","F2","rr","vv","BI_RC","int2char","intAt","nbv","fromInt","nbits","Montgomery","mp","invDigit","mpl","mph","um","mt2","dlShiftTo","divRemTo","compareTo","ZERO","subTo","revert","copyTo","u0","clamp","drShiftTo","mulTo","multiplyTo","sqrTo","squareTo","mi","sh","lShiftTo","bs","cbs","bm","ds","rShiftTo","pm","pt","ts","ms","nsh","ys","y0","yt","d1","d2","ONE","qd","addTo","km","bitLength","mod","subtract","multiply","divide","modPow","k1","g2","is1","r2","AuthenticationHelper","PoolName","N","hexHash","smallAValue","generateRandomSmallA","getLargeAValue","infoBits","poolName","getSmallAValue","largeAValue","calculateA","hexRandom","generateRandomString","getRandomPassword","randomPassword","getSaltDevices","SaltToHashDevices","getVerifierDevices","verifierDevices","generateHashDevice","deviceGroupKey","combinedString","hashedString","padHex","verifierDevicesNotPadded","A","calculateU","B","UHexHash","hashHex","hexStr","computehkdf","ikm","salt","prk","infoBitsUpdate","getPasswordAuthenticationKey","serverBValue","UValue","usernamePassword","usernamePasswordHash","xValue","calculateS","sValue","hkdf","gModPowXN","err2","getNewPasswordRequiredChallengeUserAttributePrefix","bigInt","hashStr","CognitoJwtToken","jwtToken","decodePayload","getJwtToken","getExpiration","exp","getIssuedAt","iat","CognitoAccessToken","_CognitoJwtToken","AccessToken","CognitoIdToken","IdToken","CognitoRefreshToken","RefreshToken","getToken","CognitoUserSession","ClockDrift","idToken","refreshToken","accessToken","clockDrift","calculateClockDrift","getIdToken","getRefreshToken","getAccessToken","getClockDrift","isValid","adjusted","monthNames","weekNames","DateHelper","getNowString","weekDay","getUTCDay","month","getUTCMonth","day","getUTCDate","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","getUTCFullYear","CognitoUserAttribute","Name","setValue","getName","setName","dataMemory","MemoryStorage","StorageHelper","storageWindow","exception","CognitoUser","Pool","pool","Session","signInUserSession","authenticationFlowType","Storage","setSignInUserSession","clearCachedTokens","cacheTokens","getSignInUserSession","getAuthenticationFlowType","setAuthenticationFlowType","initiateAuth","authDetails","USERNAME","jsonReq","AuthFlow","ClientId","getClientId","ClientMetadata","getUserContextData","UserContextData","challengeName","ChallengeName","challengeParameters","ChallengeParameters","customChallenge","getCognitoUserSession","AuthenticationResult","authenticateUser","authenticateUserPlainUsernamePassword","authenticateUserDefaultAuth","authenticationHelper","getUserPoolId","dateHelper","deviceKey","DEVICE_KEY","errOnAValue","aValue","SRP_A","CHALLENGE_NAME","USER_ID_FOR_SRP","SRP_B","SALT","getCachedDeviceKeyAndPassword","errOnHkdf","dateNow","signatureString","SECRET_BLOCK","challengeResponses","PASSWORD_CLAIM_SECRET_BLOCK","TIMESTAMP","PASSWORD_CLAIM_SIGNATURE","jsonReqResp","ChallengeResponses","respondToAuthChallenge","challenge","challengeCallback","errChallenge","dataChallenge","clearCachedDeviceKeyAndPassword","errAuthenticate","dataAuthenticate","userAttributes","rawRequiredAttributes","requiredAttributes","userAttributesPrefix","newPasswordRequired","authenticateUserInternal","PASSWORD","authResult","mfaRequired","selectMFAType","mfaSetup","totpRequired","newDeviceMetadata","NewDeviceMetadata","DeviceGroupKey","DeviceKey","errGenHash","deviceSecretVerifierConfig","Salt","PasswordVerifier","DeviceSecretVerifierConfig","DeviceName","errConfirm","dataConfirm","cacheDeviceKeyAndPassword","UserConfirmationNecessary","getDeviceResponse","completeNewPasswordChallenge","newPassword","requiredAttributeData","finalUserAttributes","NEW_PASSWORD","errAValue","errHkdf","confirmRegistration","confirmationCode","forceAliasCreation","ConfirmationCode","ForceAliasCreation","sendCustomChallengeAnswer","answerChallenge","_this7","ANSWER","sendMFACode","mfaType","_this8","SMS_MFA_CODE","mfaTypeSelection","SOFTWARE_TOKEN_MFA_CODE","changePassword","oldUserPassword","newUserPassword","PreviousPassword","ProposedPassword","enableMFA","mfaOptions","DeliveryMedium","AttributeName","MFAOptions","setUserMfaPreference","smsMfaSettings","softwareTokenMfaSettings","SMSMfaSettings","SoftwareTokenMfaSettings","disableMFA","deleteUser","_this9","updateAttributes","UserAttributes","getUserAttributes","userData","attributeList","userAttribute","getMFAOptions","getUserData","deleteAttributes","UserAttributeNames","resendConfirmationCode","getSession","keyPrefix","idTokenKey","accessTokenKey","refreshTokenKey","clockDriftKey","cachedSession","refreshSession","_this10","REFRESH_TOKEN","lastUserKey","deviceKeyKey","authenticationResult","randomPasswordKey","deviceGroupKeyKey","forgotPassword","inputVerificationCode","confirmPassword","getAttributeVerificationCode","verifyAttribute","getDevice","forgetSpecificDevice","forgetDevice","_this11","setDeviceStatusRemembered","DeviceRememberedStatus","setDeviceStatusNotRemembered","listDevices","paginationToken","Limit","PaginationToken","globalSignOut","_this12","signOut","sendMFASelectionAnswer","_this13","associateSoftwareToken","_this14","associateSecretCode","SecretCode","verifySoftwareToken","totpCode","friendlyDeviceName","_this15","UserCode","FriendlyDeviceName","errRespond","dataRespond","UserAgent","mode","fetch","catch","ok","CognitoUserPool","UserPoolId","AdvancedSecurityDataCollectionFlag","userPoolId","advancedSecurityDataCollectionFlag","signUp","cognitoUser","returnData","user","userConfirmed","UserConfirmed","userSub","UserSub","getCurrentUser","lastAuthUser","AmazonCognitoAdvancedSecurityData","amazonCognitoAdvancedSecurityDataConst","advancedSecurityData","getData","EncodedData","CookieStorage"],"mappings":"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","file":"static/js/3.697783e8.chunk.js","sourcesContent":["/**\n * The main AWS namespace\n */\nvar AWS = { util: require('./util') };\n\n/**\n * @api private\n * @!macro [new] nobrowser\n *   @note This feature is not supported in the browser environment of the SDK.\n */\nvar _hidden = {}; _hidden.toString(); // hack to parse macro\n\nmodule.exports = AWS;\n\nAWS.util.update(AWS, {\n\n  /**\n   * @constant\n   */\n  VERSION: '2.198.0',\n\n  /**\n   * @api private\n   */\n  Signers: {},\n\n  /**\n   * @api private\n   */\n  Protocol: {\n    Json: require('./protocol/json'),\n    Query: require('./protocol/query'),\n    Rest: require('./protocol/rest'),\n    RestJson: require('./protocol/rest_json'),\n    RestXml: require('./protocol/rest_xml')\n  },\n\n  /**\n   * @api private\n   */\n  XML: {\n    Builder: require('./xml/builder'),\n    Parser: null // conditionally set based on environment\n  },\n\n  /**\n   * @api private\n   */\n  JSON: {\n    Builder: require('./json/builder'),\n    Parser: require('./json/parser')\n  },\n\n  /**\n   * @api private\n   */\n  Model: {\n    Api: require('./model/api'),\n    Operation: require('./model/operation'),\n    Shape: require('./model/shape'),\n    Paginator: require('./model/paginator'),\n    ResourceWaiter: require('./model/resource_waiter')\n  },\n\n  /**\n   * @api private\n   */\n  apiLoader: require('./api_loader')\n});\n\nrequire('./service');\nrequire('./config');\n\nrequire('./http');\nrequire('./sequential_executor');\nrequire('./event_listeners');\nrequire('./request');\nrequire('./response');\nrequire('./resource_waiter');\nrequire('./signers/request_signer');\nrequire('./param_validator');\n\n/**\n * @readonly\n * @return [AWS.SequentialExecutor] a collection of global event listeners that\n *   are attached to every sent request.\n * @see AWS.Request AWS.Request for a list of events to listen for\n * @example Logging the time taken to send a request\n *   AWS.events.on('send', function startSend(resp) {\n *     resp.startTime = new Date().getTime();\n *   }).on('complete', function calculateTime(resp) {\n *     var time = (new Date().getTime() - resp.startTime) / 1000;\n *     console.log('Request took ' + time + ' seconds');\n *   });\n *\n *   new AWS.S3().listBuckets(); // prints 'Request took 0.285 seconds'\n */\nAWS.events = new AWS.SequentialExecutor();\n","/**\n * The main AWS namespace\n */\nvar AWS = { util: require('./util') };\n\n/**\n * @api private\n * @!macro [new] nobrowser\n *   @note This feature is not supported in the browser environment of the SDK.\n */\nvar _hidden = {}; _hidden.toString(); // hack to parse macro\n\n/**\n * @api private\n */\nmodule.exports = AWS;\n\nAWS.util.update(AWS, {\n\n  /**\n   * @constant\n   */\n  VERSION: '2.259.1',\n\n  /**\n   * @api private\n   */\n  Signers: {},\n\n  /**\n   * @api private\n   */\n  Protocol: {\n    Json: require('./protocol/json'),\n    Query: require('./protocol/query'),\n    Rest: require('./protocol/rest'),\n    RestJson: require('./protocol/rest_json'),\n    RestXml: require('./protocol/rest_xml')\n  },\n\n  /**\n   * @api private\n   */\n  XML: {\n    Builder: require('./xml/builder'),\n    Parser: null // conditionally set based on environment\n  },\n\n  /**\n   * @api private\n   */\n  JSON: {\n    Builder: require('./json/builder'),\n    Parser: require('./json/parser')\n  },\n\n  /**\n   * @api private\n   */\n  Model: {\n    Api: require('./model/api'),\n    Operation: require('./model/operation'),\n    Shape: require('./model/shape'),\n    Paginator: require('./model/paginator'),\n    ResourceWaiter: require('./model/resource_waiter')\n  },\n\n  /**\n   * @api private\n   */\n  apiLoader: require('./api_loader')\n});\n\nrequire('./service');\nrequire('./config');\n\nrequire('./http');\nrequire('./sequential_executor');\nrequire('./event_listeners');\nrequire('./request');\nrequire('./response');\nrequire('./resource_waiter');\nrequire('./signers/request_signer');\nrequire('./param_validator');\n\n/**\n * @readonly\n * @return [AWS.SequentialExecutor] a collection of global event listeners that\n *   are attached to every sent request.\n * @see AWS.Request AWS.Request for a list of events to listen for\n * @example Logging the time taken to send a request\n *   AWS.events.on('send', function startSend(resp) {\n *     resp.startTime = new Date().getTime();\n *   }).on('complete', function calculateTime(resp) {\n *     var time = (new Date().getTime() - resp.startTime) / 1000;\n *     console.log('Request took ' + time + ' seconds');\n *   });\n *\n *   new AWS.S3().listBuckets(); // prints 'Request took 0.285 seconds'\n */\nAWS.events = new AWS.SequentialExecutor();\n","/* eslint guard-for-in:0 */\nvar AWS;\n\n/**\n * A set of utility methods for use with the AWS SDK.\n *\n * @!attribute abort\n *   Return this value from an iterator function {each} or {arrayEach}\n *   to break out of the iteration.\n *   @example Breaking out of an iterator function\n *     AWS.util.each({a: 1, b: 2, c: 3}, function(key, value) {\n *       if (key == 'b') return AWS.util.abort;\n *     });\n *   @see each\n *   @see arrayEach\n * @api private\n */\nvar util = {\n  environment: 'nodejs',\n  engine: function engine() {\n    if (util.isBrowser() && typeof navigator !== 'undefined') {\n      return navigator.userAgent;\n    } else {\n      var engine = process.platform + '/' + process.version;\n      if (process.env.AWS_EXECUTION_ENV) {\n        engine += ' exec-env/' + process.env.AWS_EXECUTION_ENV;\n      }\n      return engine;\n    }\n  },\n\n  userAgent: function userAgent() {\n    var name = util.environment;\n    var agent = 'aws-sdk-' + name + '/' + require('./core').VERSION;\n    if (name === 'nodejs') agent += ' ' + util.engine();\n    return agent;\n  },\n\n  isBrowser: function isBrowser() { return process && process.browser; },\n  isNode: function isNode() { return !util.isBrowser(); },\n  uriEscape: function uriEscape(string) {\n    var output = encodeURIComponent(string);\n    output = output.replace(/[^A-Za-z0-9_.~\\-%]+/g, escape);\n\n    // AWS percent-encodes some extra non-standard characters in a URI\n    output = output.replace(/[*]/g, function(ch) {\n      return '%' + ch.charCodeAt(0).toString(16).toUpperCase();\n    });\n\n    return output;\n  },\n\n  uriEscapePath: function uriEscapePath(string) {\n    var parts = [];\n    util.arrayEach(string.split('/'), function (part) {\n      parts.push(util.uriEscape(part));\n    });\n    return parts.join('/');\n  },\n\n  urlParse: function urlParse(url) {\n    return util.url.parse(url);\n  },\n\n  urlFormat: function urlFormat(url) {\n    return util.url.format(url);\n  },\n\n  queryStringParse: function queryStringParse(qs) {\n    return util.querystring.parse(qs);\n  },\n\n  queryParamsToString: function queryParamsToString(params) {\n    var items = [];\n    var escape = util.uriEscape;\n    var sortedKeys = Object.keys(params).sort();\n\n    util.arrayEach(sortedKeys, function(name) {\n      var value = params[name];\n      var ename = escape(name);\n      var result = ename + '=';\n      if (Array.isArray(value)) {\n        var vals = [];\n        util.arrayEach(value, function(item) { vals.push(escape(item)); });\n        result = ename + '=' + vals.sort().join('&' + ename + '=');\n      } else if (value !== undefined && value !== null) {\n        result = ename + '=' + escape(value);\n      }\n      items.push(result);\n    });\n\n    return items.join('&');\n  },\n\n  readFileSync: function readFileSync(path) {\n    if (util.isBrowser()) return null;\n    return require('fs').readFileSync(path, 'utf-8');\n  },\n\n  base64: {\n    encode: function encode64(string) {\n      if (typeof string === 'number') {\n        throw util.error(new Error('Cannot base64 encode number ' + string));\n      }\n      if (string === null || typeof string === 'undefined') {\n        return string;\n      }\n      var buf = (typeof util.Buffer.from === 'function' && util.Buffer.from !== Uint8Array.from) ? util.Buffer.from(string) : new util.Buffer(string);\n      return buf.toString('base64');\n    },\n\n    decode: function decode64(string) {\n      if (typeof string === 'number') {\n        throw util.error(new Error('Cannot base64 decode number ' + string));\n      }\n      if (string === null || typeof string === 'undefined') {\n        return string;\n      }\n      return (typeof util.Buffer.from === 'function' && util.Buffer.from !== Uint8Array.from) ? util.Buffer.from(string, 'base64') : new util.Buffer(string, 'base64');\n    }\n\n  },\n\n  buffer: {\n    toStream: function toStream(buffer) {\n      if (!util.Buffer.isBuffer(buffer)) buffer = new util.Buffer(buffer);\n\n      var readable = new (util.stream.Readable)();\n      var pos = 0;\n      readable._read = function(size) {\n        if (pos >= buffer.length) return readable.push(null);\n\n        var end = pos + size;\n        if (end > buffer.length) end = buffer.length;\n        readable.push(buffer.slice(pos, end));\n        pos = end;\n      };\n\n      return readable;\n    },\n\n    /**\n     * Concatenates a list of Buffer objects.\n     */\n    concat: function(buffers) {\n      var length = 0,\n          offset = 0,\n          buffer = null, i;\n\n      for (i = 0; i < buffers.length; i++) {\n        length += buffers[i].length;\n      }\n\n      buffer = new util.Buffer(length);\n\n      for (i = 0; i < buffers.length; i++) {\n        buffers[i].copy(buffer, offset);\n        offset += buffers[i].length;\n      }\n\n      return buffer;\n    }\n  },\n\n  string: {\n    byteLength: function byteLength(string) {\n      if (string === null || string === undefined) return 0;\n      if (typeof string === 'string') string = new util.Buffer(string);\n\n      if (typeof string.byteLength === 'number') {\n        return string.byteLength;\n      } else if (typeof string.length === 'number') {\n        return string.length;\n      } else if (typeof string.size === 'number') {\n        return string.size;\n      } else if (typeof string.path === 'string') {\n        return require('fs').lstatSync(string.path).size;\n      } else {\n        throw util.error(new Error('Cannot determine length of ' + string),\n          { object: string });\n      }\n    },\n\n    upperFirst: function upperFirst(string) {\n      return string[0].toUpperCase() + string.substr(1);\n    },\n\n    lowerFirst: function lowerFirst(string) {\n      return string[0].toLowerCase() + string.substr(1);\n    }\n  },\n\n  ini: {\n    parse: function string(ini) {\n      var currentSection, map = {};\n      util.arrayEach(ini.split(/\\r?\\n/), function(line) {\n        line = line.split(/(^|\\s)[;#]/)[0]; // remove comments\n        var section = line.match(/^\\s*\\[([^\\[\\]]+)\\]\\s*$/);\n        if (section) {\n          currentSection = section[1];\n        } else if (currentSection) {\n          var item = line.match(/^\\s*(.+?)\\s*=\\s*(.+?)\\s*$/);\n          if (item) {\n            map[currentSection] = map[currentSection] || {};\n            map[currentSection][item[1]] = item[2];\n          }\n        }\n      });\n\n      return map;\n    }\n  },\n\n  fn: {\n    noop: function() {},\n\n    /**\n     * Turn a synchronous function into as \"async\" function by making it call\n     * a callback. The underlying function is called with all but the last argument,\n     * which is treated as the callback. The callback is passed passed a first argument\n     * of null on success to mimick standard node callbacks.\n     */\n    makeAsync: function makeAsync(fn, expectedArgs) {\n      if (expectedArgs && expectedArgs <= fn.length) {\n        return fn;\n      }\n\n      return function() {\n        var args = Array.prototype.slice.call(arguments, 0);\n        var callback = args.pop();\n        var result = fn.apply(null, args);\n        callback(result);\n      };\n    }\n  },\n\n  /**\n   * Date and time utility functions.\n   */\n  date: {\n\n    /**\n     * @return [Date] the current JavaScript date object. Since all\n     *   AWS services rely on this date object, you can override\n     *   this function to provide a special time value to AWS service\n     *   requests.\n     */\n    getDate: function getDate() {\n      if (!AWS) AWS = require('./core');\n      if (AWS.config.systemClockOffset) { // use offset when non-zero\n        return new Date(new Date().getTime() + AWS.config.systemClockOffset);\n      } else {\n        return new Date();\n      }\n    },\n\n    /**\n     * @return [String] the date in ISO-8601 format\n     */\n    iso8601: function iso8601(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.toISOString().replace(/\\.\\d{3}Z$/, 'Z');\n    },\n\n    /**\n     * @return [String] the date in RFC 822 format\n     */\n    rfc822: function rfc822(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.toUTCString();\n    },\n\n    /**\n     * @return [Integer] the UNIX timestamp value for the current time\n     */\n    unixTimestamp: function unixTimestamp(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.getTime() / 1000;\n    },\n\n    /**\n     * @param [String,number,Date] date\n     * @return [Date]\n     */\n    from: function format(date) {\n      if (typeof date === 'number') {\n        return new Date(date * 1000); // unix timestamp\n      } else {\n        return new Date(date);\n      }\n    },\n\n    /**\n     * Given a Date or date-like value, this function formats the\n     * date into a string of the requested value.\n     * @param [String,number,Date] date\n     * @param [String] formatter Valid formats are:\n     #   * 'iso8601'\n     #   * 'rfc822'\n     #   * 'unixTimestamp'\n     * @return [String]\n     */\n    format: function format(date, formatter) {\n      if (!formatter) formatter = 'iso8601';\n      return util.date[formatter](util.date.from(date));\n    },\n\n    parseTimestamp: function parseTimestamp(value) {\n      if (typeof value === 'number') { // unix timestamp (number)\n        return new Date(value * 1000);\n      } else if (value.match(/^\\d+$/)) { // unix timestamp\n        return new Date(value * 1000);\n      } else if (value.match(/^\\d{4}/)) { // iso8601\n        return new Date(value);\n      } else if (value.match(/^\\w{3},/)) { // rfc822\n        return new Date(value);\n      } else {\n        throw util.error(\n          new Error('unhandled timestamp format: ' + value),\n          {code: 'TimestampParserError'});\n      }\n    }\n\n  },\n\n  crypto: {\n    crc32Table: [\n     0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA, 0x076DC419,\n     0x706AF48F, 0xE963A535, 0x9E6495A3, 0x0EDB8832, 0x79DCB8A4,\n     0xE0D5E91E, 0x97D2D988, 0x09B64C2B, 0x7EB17CBD, 0xE7B82D07,\n     0x90BF1D91, 0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE,\n     0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7, 0x136C9856,\n     0x646BA8C0, 0xFD62F97A, 0x8A65C9EC, 0x14015C4F, 0x63066CD9,\n     0xFA0F3D63, 0x8D080DF5, 0x3B6E20C8, 0x4C69105E, 0xD56041E4,\n     0xA2677172, 0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B,\n     0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940, 0x32D86CE3,\n     0x45DF5C75, 0xDCD60DCF, 0xABD13D59, 0x26D930AC, 0x51DE003A,\n     0xC8D75180, 0xBFD06116, 0x21B4F4B5, 0x56B3C423, 0xCFBA9599,\n     0xB8BDA50F, 0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924,\n     0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D, 0x76DC4190,\n     0x01DB7106, 0x98D220BC, 0xEFD5102A, 0x71B18589, 0x06B6B51F,\n     0x9FBFE4A5, 0xE8B8D433, 0x7807C9A2, 0x0F00F934, 0x9609A88E,\n     0xE10E9818, 0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01,\n     0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E, 0x6C0695ED,\n     0x1B01A57B, 0x8208F4C1, 0xF50FC457, 0x65B0D9C6, 0x12B7E950,\n     0x8BBEB8EA, 0xFCB9887C, 0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3,\n     0xFBD44C65, 0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2,\n     0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB, 0x4369E96A,\n     0x346ED9FC, 0xAD678846, 0xDA60B8D0, 0x44042D73, 0x33031DE5,\n     0xAA0A4C5F, 0xDD0D7CC9, 0x5005713C, 0x270241AA, 0xBE0B1010,\n     0xC90C2086, 0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F,\n     0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4, 0x59B33D17,\n     0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD, 0xEDB88320, 0x9ABFB3B6,\n     0x03B6E20C, 0x74B1D29A, 0xEAD54739, 0x9DD277AF, 0x04DB2615,\n     0x73DC1683, 0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8,\n     0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1, 0xF00F9344,\n     0x8708A3D2, 0x1E01F268, 0x6906C2FE, 0xF762575D, 0x806567CB,\n     0x196C3671, 0x6E6B06E7, 0xFED41B76, 0x89D32BE0, 0x10DA7A5A,\n     0x67DD4ACC, 0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5,\n     0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252, 0xD1BB67F1,\n     0xA6BC5767, 0x3FB506DD, 0x48B2364B, 0xD80D2BDA, 0xAF0A1B4C,\n     0x36034AF6, 0x41047A60, 0xDF60EFC3, 0xA867DF55, 0x316E8EEF,\n     0x4669BE79, 0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236,\n     0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F, 0xC5BA3BBE,\n     0xB2BD0B28, 0x2BB45A92, 0x5CB36A04, 0xC2D7FFA7, 0xB5D0CF31,\n     0x2CD99E8B, 0x5BDEAE1D, 0x9B64C2B0, 0xEC63F226, 0x756AA39C,\n     0x026D930A, 0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713,\n     0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38, 0x92D28E9B,\n     0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21, 0x86D3D2D4, 0xF1D4E242,\n     0x68DDB3F8, 0x1FDA836E, 0x81BE16CD, 0xF6B9265B, 0x6FB077E1,\n     0x18B74777, 0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C,\n     0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45, 0xA00AE278,\n     0xD70DD2EE, 0x4E048354, 0x3903B3C2, 0xA7672661, 0xD06016F7,\n     0x4969474D, 0x3E6E77DB, 0xAED16A4A, 0xD9D65ADC, 0x40DF0B66,\n     0x37D83BF0, 0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9,\n     0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6, 0xBAD03605,\n     0xCDD70693, 0x54DE5729, 0x23D967BF, 0xB3667A2E, 0xC4614AB8,\n     0x5D681B02, 0x2A6F2B94, 0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B,\n     0x2D02EF8D],\n\n    crc32: function crc32(data) {\n      var tbl = util.crypto.crc32Table;\n      var crc = 0 ^ -1;\n\n      if (typeof data === 'string') {\n        data = new util.Buffer(data);\n      }\n\n      for (var i = 0; i < data.length; i++) {\n        var code = data.readUInt8(i);\n        crc = (crc >>> 8) ^ tbl[(crc ^ code) & 0xFF];\n      }\n      return (crc ^ -1) >>> 0;\n    },\n\n    hmac: function hmac(key, string, digest, fn) {\n      if (!digest) digest = 'binary';\n      if (digest === 'buffer') { digest = undefined; }\n      if (!fn) fn = 'sha256';\n      if (typeof string === 'string') string = new util.Buffer(string);\n      return util.crypto.lib.createHmac(fn, key).update(string).digest(digest);\n    },\n\n    md5: function md5(data, digest, callback) {\n      return util.crypto.hash('md5', data, digest, callback);\n    },\n\n    sha256: function sha256(data, digest, callback) {\n      return util.crypto.hash('sha256', data, digest, callback);\n    },\n\n    hash: function(algorithm, data, digest, callback) {\n      var hash = util.crypto.createHash(algorithm);\n      if (!digest) { digest = 'binary'; }\n      if (digest === 'buffer') { digest = undefined; }\n      if (typeof data === 'string') data = new util.Buffer(data);\n      var sliceFn = util.arraySliceFn(data);\n      var isBuffer = util.Buffer.isBuffer(data);\n      //Identifying objects with an ArrayBuffer as buffers\n      if (util.isBrowser() && typeof ArrayBuffer !== 'undefined' && data && data.buffer instanceof ArrayBuffer) isBuffer = true;\n\n      if (callback && typeof data === 'object' &&\n          typeof data.on === 'function' && !isBuffer) {\n        data.on('data', function(chunk) { hash.update(chunk); });\n        data.on('error', function(err) { callback(err); });\n        data.on('end', function() { callback(null, hash.digest(digest)); });\n      } else if (callback && sliceFn && !isBuffer &&\n                 typeof FileReader !== 'undefined') {\n        // this might be a File/Blob\n        var index = 0, size = 1024 * 512;\n        var reader = new FileReader();\n        reader.onerror = function() {\n          callback(new Error('Failed to read data.'));\n        };\n        reader.onload = function() {\n          var buf = new util.Buffer(new Uint8Array(reader.result));\n          hash.update(buf);\n          index += buf.length;\n          reader._continueReading();\n        };\n        reader._continueReading = function() {\n          if (index >= data.size) {\n            callback(null, hash.digest(digest));\n            return;\n          }\n\n          var back = index + size;\n          if (back > data.size) back = data.size;\n          reader.readAsArrayBuffer(sliceFn.call(data, index, back));\n        };\n\n        reader._continueReading();\n      } else {\n        if (util.isBrowser() && typeof data === 'object' && !isBuffer) {\n          data = new util.Buffer(new Uint8Array(data));\n        }\n        var out = hash.update(data).digest(digest);\n        if (callback) callback(null, out);\n        return out;\n      }\n    },\n\n    toHex: function toHex(data) {\n      var out = [];\n      for (var i = 0; i < data.length; i++) {\n        out.push(('0' + data.charCodeAt(i).toString(16)).substr(-2, 2));\n      }\n      return out.join('');\n    },\n\n    createHash: function createHash(algorithm) {\n      return util.crypto.lib.createHash(algorithm);\n    }\n\n  },\n\n  /** @!ignore */\n\n  /* Abort constant */\n  abort: {},\n\n  each: function each(object, iterFunction) {\n    for (var key in object) {\n      if (Object.prototype.hasOwnProperty.call(object, key)) {\n        var ret = iterFunction.call(this, key, object[key]);\n        if (ret === util.abort) break;\n      }\n    }\n  },\n\n  arrayEach: function arrayEach(array, iterFunction) {\n    for (var idx in array) {\n      if (Object.prototype.hasOwnProperty.call(array, idx)) {\n        var ret = iterFunction.call(this, array[idx], parseInt(idx, 10));\n        if (ret === util.abort) break;\n      }\n    }\n  },\n\n  update: function update(obj1, obj2) {\n    util.each(obj2, function iterator(key, item) {\n      obj1[key] = item;\n    });\n    return obj1;\n  },\n\n  merge: function merge(obj1, obj2) {\n    return util.update(util.copy(obj1), obj2);\n  },\n\n  copy: function copy(object) {\n    if (object === null || object === undefined) return object;\n    var dupe = {};\n    // jshint forin:false\n    for (var key in object) {\n      dupe[key] = object[key];\n    }\n    return dupe;\n  },\n\n  isEmpty: function isEmpty(obj) {\n    for (var prop in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n        return false;\n      }\n    }\n    return true;\n  },\n\n  arraySliceFn: function arraySliceFn(obj) {\n    var fn = obj.slice || obj.webkitSlice || obj.mozSlice;\n    return typeof fn === 'function' ? fn : null;\n  },\n\n  isType: function isType(obj, type) {\n    // handle cross-\"frame\" objects\n    if (typeof type === 'function') type = util.typeName(type);\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']';\n  },\n\n  typeName: function typeName(type) {\n    if (Object.prototype.hasOwnProperty.call(type, 'name')) return type.name;\n    var str = type.toString();\n    var match = str.match(/^\\s*function (.+)\\(/);\n    return match ? match[1] : str;\n  },\n\n  error: function error(err, options) {\n    var originalError = null;\n    if (typeof err.message === 'string' && err.message !== '') {\n      if (typeof options === 'string' || (options && options.message)) {\n        originalError = util.copy(err);\n        originalError.message = err.message;\n      }\n    }\n    err.message = err.message || null;\n\n    if (typeof options === 'string') {\n      err.message = options;\n    } else if (typeof options === 'object' && options !== null) {\n      util.update(err, options);\n      if (options.message)\n        err.message = options.message;\n      if (options.code || options.name)\n        err.code = options.code || options.name;\n      if (options.stack)\n        err.stack = options.stack;\n    }\n\n    if (typeof Object.defineProperty === 'function') {\n      Object.defineProperty(err, 'name', {writable: true, enumerable: false});\n      Object.defineProperty(err, 'message', {enumerable: true});\n    }\n\n    err.name = options && options.name || err.name || err.code || 'Error';\n    err.time = new Date();\n\n    if (originalError) err.originalError = originalError;\n\n    return err;\n  },\n\n  /**\n   * @api private\n   */\n  inherit: function inherit(klass, features) {\n    var newObject = null;\n    if (features === undefined) {\n      features = klass;\n      klass = Object;\n      newObject = {};\n    } else {\n      var ctor = function ConstructorWrapper() {};\n      ctor.prototype = klass.prototype;\n      newObject = new ctor();\n    }\n\n    // constructor not supplied, create pass-through ctor\n    if (features.constructor === Object) {\n      features.constructor = function() {\n        if (klass !== Object) {\n          return klass.apply(this, arguments);\n        }\n      };\n    }\n\n    features.constructor.prototype = newObject;\n    util.update(features.constructor.prototype, features);\n    features.constructor.__super__ = klass;\n    return features.constructor;\n  },\n\n  /**\n   * @api private\n   */\n  mixin: function mixin() {\n    var klass = arguments[0];\n    for (var i = 1; i < arguments.length; i++) {\n      // jshint forin:false\n      for (var prop in arguments[i].prototype) {\n        var fn = arguments[i].prototype[prop];\n        if (prop !== 'constructor') {\n          klass.prototype[prop] = fn;\n        }\n      }\n    }\n    return klass;\n  },\n\n  /**\n   * @api private\n   */\n  hideProperties: function hideProperties(obj, props) {\n    if (typeof Object.defineProperty !== 'function') return;\n\n    util.arrayEach(props, function (key) {\n      Object.defineProperty(obj, key, {\n        enumerable: false, writable: true, configurable: true });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  property: function property(obj, name, value, enumerable, isValue) {\n    var opts = {\n      configurable: true,\n      enumerable: enumerable !== undefined ? enumerable : true\n    };\n    if (typeof value === 'function' && !isValue) {\n      opts.get = value;\n    }\n    else {\n      opts.value = value; opts.writable = true;\n    }\n\n    Object.defineProperty(obj, name, opts);\n  },\n\n  /**\n   * @api private\n   */\n  memoizedProperty: function memoizedProperty(obj, name, get, enumerable) {\n    var cachedValue = null;\n\n    // build enumerable attribute for each value with lazy accessor.\n    util.property(obj, name, function() {\n      if (cachedValue === null) {\n        cachedValue = get();\n      }\n      return cachedValue;\n    }, enumerable);\n  },\n\n  /**\n   * TODO Remove in major version revision\n   * This backfill populates response data without the\n   * top-level payload name.\n   *\n   * @api private\n   */\n  hoistPayloadMember: function hoistPayloadMember(resp) {\n    var req = resp.request;\n    var operationName = req.operation;\n    var operation = req.service.api.operations[operationName];\n    var output = operation.output;\n    if (output.payload && !operation.hasEventOutput) {\n      var payloadMember = output.members[output.payload];\n      var responsePayload = resp.data[output.payload];\n      if (payloadMember.type === 'structure') {\n        util.each(responsePayload, function(key, value) {\n          util.property(resp.data, key, value, false);\n        });\n      }\n    }\n  },\n\n  /**\n   * Compute SHA-256 checksums of streams\n   *\n   * @api private\n   */\n  computeSha256: function computeSha256(body, done) {\n    if (util.isNode()) {\n      var Stream = util.stream.Stream;\n      var fs = require('fs');\n      if (body instanceof Stream) {\n        if (typeof body.path === 'string') { // assume file object\n          var settings = {};\n          if (typeof body.start === 'number') {\n            settings.start = body.start;\n          }\n          if (typeof body.end === 'number') {\n            settings.end = body.end;\n          }\n          body = fs.createReadStream(body.path, settings);\n        } else { // TODO support other stream types\n          return done(new Error('Non-file stream objects are ' +\n                                'not supported with SigV4'));\n        }\n      }\n    }\n\n    util.crypto.sha256(body, 'hex', function(err, sha) {\n      if (err) done(err);\n      else done(null, sha);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  isClockSkewed: function isClockSkewed(serverTime) {\n    if (serverTime) {\n      util.property(AWS.config, 'isClockSkewed',\n        Math.abs(new Date().getTime() - serverTime) >= 300000, false);\n      return AWS.config.isClockSkewed;\n    }\n  },\n\n  applyClockOffset: function applyClockOffset(serverTime) {\n    if (serverTime)\n      AWS.config.systemClockOffset = serverTime - new Date().getTime();\n  },\n\n  /**\n   * @api private\n   */\n  extractRequestId: function extractRequestId(resp) {\n    var requestId = resp.httpResponse.headers['x-amz-request-id'] ||\n                     resp.httpResponse.headers['x-amzn-requestid'];\n\n    if (!requestId && resp.data && resp.data.ResponseMetadata) {\n      requestId = resp.data.ResponseMetadata.RequestId;\n    }\n\n    if (requestId) {\n      resp.requestId = requestId;\n    }\n\n    if (resp.error) {\n      resp.error.requestId = requestId;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  addPromises: function addPromises(constructors, PromiseDependency) {\n    if (PromiseDependency === undefined && AWS && AWS.config) {\n      PromiseDependency = AWS.config.getPromisesDependency();\n    }\n    if (PromiseDependency === undefined && typeof Promise !== 'undefined') {\n      PromiseDependency = Promise;\n    }\n    if (typeof PromiseDependency !== 'function') var deletePromises = true;\n    if (!Array.isArray(constructors)) constructors = [constructors];\n\n    for (var ind = 0; ind < constructors.length; ind++) {\n      var constructor = constructors[ind];\n      if (deletePromises) {\n        if (constructor.deletePromisesFromClass) {\n          constructor.deletePromisesFromClass();\n        }\n      } else if (constructor.addPromisesToClass) {\n        constructor.addPromisesToClass(PromiseDependency);\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  promisifyMethod: function promisifyMethod(methodName, PromiseDependency) {\n    return function promise() {\n      var self = this;\n      return new PromiseDependency(function(resolve, reject) {\n        self[methodName](function(err, data) {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(data);\n          }\n        });\n      });\n    };\n  },\n\n  /**\n   * @api private\n   */\n  isDualstackAvailable: function isDualstackAvailable(service) {\n    if (!service) return false;\n    var metadata = require('../apis/metadata.json');\n    if (typeof service !== 'string') service = service.serviceIdentifier;\n    if (typeof service !== 'string' || !metadata.hasOwnProperty(service)) return false;\n    return !!metadata[service].dualstackAvailable;\n  },\n\n  /**\n   * @api private\n   */\n  calculateRetryDelay: function calculateRetryDelay(retryCount, retryDelayOptions) {\n    if (!retryDelayOptions) retryDelayOptions = {};\n    var customBackoff = retryDelayOptions.customBackoff || null;\n    if (typeof customBackoff === 'function') {\n      return customBackoff(retryCount);\n    }\n    var base = typeof retryDelayOptions.base === 'number' ? retryDelayOptions.base : 100;\n    var delay = Math.random() * (Math.pow(2, retryCount) * base);\n    return delay;\n  },\n\n  /**\n   * @api private\n   */\n  handleRequestWithRetries: function handleRequestWithRetries(httpRequest, options, cb) {\n    if (!options) options = {};\n    var http = AWS.HttpClient.getInstance();\n    var httpOptions = options.httpOptions || {};\n    var retryCount = 0;\n\n    var errCallback = function(err) {\n      var maxRetries = options.maxRetries || 0;\n      if (err && err.code === 'TimeoutError') err.retryable = true;\n      if (err && err.retryable && retryCount < maxRetries) {\n        retryCount++;\n        var delay = util.calculateRetryDelay(retryCount, options.retryDelayOptions);\n        setTimeout(sendRequest, delay + (err.retryAfter || 0));\n      } else {\n        cb(err);\n      }\n    };\n\n    var sendRequest = function() {\n      var data = '';\n      http.handleRequest(httpRequest, httpOptions, function(httpResponse) {\n        httpResponse.on('data', function(chunk) { data += chunk.toString(); });\n        httpResponse.on('end', function() {\n          var statusCode = httpResponse.statusCode;\n          if (statusCode < 300) {\n            cb(null, data);\n          } else {\n            var retryAfter = parseInt(httpResponse.headers['retry-after'], 10) * 1000 || 0;\n            var err = util.error(new Error(),\n              { retryable: statusCode >= 500 || statusCode === 429 }\n            );\n            if (retryAfter && err.retryable) err.retryAfter = retryAfter;\n            errCallback(err);\n          }\n        });\n      }, errCallback);\n    };\n\n    AWS.util.defer(sendRequest);\n  },\n\n  /**\n   * @api private\n   */\n  uuid: {\n    v4: function uuidV4() {\n      return require('uuid').v4();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  convertPayloadToString: function convertPayloadToString(resp) {\n    var req = resp.request;\n    var operation = req.operation;\n    var rules = req.service.api.operations[operation].output || {};\n    if (rules.payload && resp.data[rules.payload]) {\n      resp.data[rules.payload] = resp.data[rules.payload].toString();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  defer: function defer(callback) {\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n      process.nextTick(callback);\n    } else if (typeof setImmediate === 'function') {\n      setImmediate(callback);\n    } else {\n      setTimeout(callback, 0);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  defaultProfile: 'default',\n\n  /**\n   * @api private\n   */\n  configOptInEnv: 'AWS_SDK_LOAD_CONFIG',\n\n  /**\n   * @api private\n   */\n  sharedCredentialsFileEnv: 'AWS_SHARED_CREDENTIALS_FILE',\n\n  /**\n   * @api private\n   */\n  sharedConfigFileEnv: 'AWS_CONFIG_FILE',\n\n  /**\n   * @api private\n   */\n  imdsDisabledEnv: 'AWS_EC2_METADATA_DISABLED'\n};\n\n/**\n * @api private\n */\nmodule.exports = util;\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Facet_1 = require(\"./Facet\");\nvar Logger_1 = require(\"./Logger\");\n__export(require(\"./Facet\"));\nvar ClientDevice_1 = require(\"./ClientDevice\");\nexports.ClientDevice = ClientDevice_1.default;\n__export(require(\"./Logger\"));\n__export(require(\"./Errors\"));\nvar Hub_1 = require(\"./Hub\");\nexports.Hub = Hub_1.default;\nvar JS_1 = require(\"./JS\");\nexports.JS = JS_1.default;\nvar Signer_1 = require(\"./Signer\");\nexports.Signer = Signer_1.default;\nvar Parser_1 = require(\"./Parser\");\nexports.Parser = Parser_1.default;\nvar OAuthHelper_1 = require(\"./OAuthHelper\");\nexports.FacebookOAuth = OAuthHelper_1.FacebookOAuth;\nexports.GoogleOAuth = OAuthHelper_1.GoogleOAuth;\n__export(require(\"./RNComponents\"));\nvar Platform_1 = require(\"./Platform\");\nexports.Constants = {\n    'userAgent': Platform_1.default.userAgent\n};\nvar logger = new Logger_1.ConsoleLogger('Common');\nif (Facet_1.AWS['util']) {\n    Facet_1.AWS['util'].userAgent = function () {\n        return exports.Constants.userAgent;\n    };\n}\nelse if (Facet_1.AWS.config) {\n    Facet_1.AWS.config.update({ 'customUserAgent': exports.Constants.userAgent });\n}\nelse {\n    logger.warn('No AWS.config');\n}\n//# sourceMappingURL=index.js.map","/* eslint guard-for-in:0 */\nvar AWS;\n\n/**\n * A set of utility methods for use with the AWS SDK.\n *\n * @!attribute abort\n *   Return this value from an iterator function {each} or {arrayEach}\n *   to break out of the iteration.\n *   @example Breaking out of an iterator function\n *     AWS.util.each({a: 1, b: 2, c: 3}, function(key, value) {\n *       if (key == 'b') return AWS.util.abort;\n *     });\n *   @see each\n *   @see arrayEach\n * @api private\n */\nvar util = {\n  environment: 'nodejs',\n  engine: function engine() {\n    if (util.isBrowser() && typeof navigator !== 'undefined') {\n      return navigator.userAgent;\n    } else {\n      var engine = process.platform + '/' + process.version;\n      if (process.env.AWS_EXECUTION_ENV) {\n        engine += ' exec-env/' + process.env.AWS_EXECUTION_ENV;\n      }\n      return engine;\n    }\n  },\n\n  userAgent: function userAgent() {\n    var name = util.environment;\n    var agent = 'aws-sdk-' + name + '/' + require('./core').VERSION;\n    if (name === 'nodejs') agent += ' ' + util.engine();\n    return agent;\n  },\n\n  isBrowser: function isBrowser() { return process && process.browser; },\n  isNode: function isNode() { return !util.isBrowser(); },\n  uriEscape: function uriEscape(string) {\n    var output = encodeURIComponent(string);\n    output = output.replace(/[^A-Za-z0-9_.~\\-%]+/g, escape);\n\n    // AWS percent-encodes some extra non-standard characters in a URI\n    output = output.replace(/[*]/g, function(ch) {\n      return '%' + ch.charCodeAt(0).toString(16).toUpperCase();\n    });\n\n    return output;\n  },\n\n  uriEscapePath: function uriEscapePath(string) {\n    var parts = [];\n    util.arrayEach(string.split('/'), function (part) {\n      parts.push(util.uriEscape(part));\n    });\n    return parts.join('/');\n  },\n\n  urlParse: function urlParse(url) {\n    return util.url.parse(url);\n  },\n\n  urlFormat: function urlFormat(url) {\n    return util.url.format(url);\n  },\n\n  queryStringParse: function queryStringParse(qs) {\n    return util.querystring.parse(qs);\n  },\n\n  queryParamsToString: function queryParamsToString(params) {\n    var items = [];\n    var escape = util.uriEscape;\n    var sortedKeys = Object.keys(params).sort();\n\n    util.arrayEach(sortedKeys, function(name) {\n      var value = params[name];\n      var ename = escape(name);\n      var result = ename + '=';\n      if (Array.isArray(value)) {\n        var vals = [];\n        util.arrayEach(value, function(item) { vals.push(escape(item)); });\n        result = ename + '=' + vals.sort().join('&' + ename + '=');\n      } else if (value !== undefined && value !== null) {\n        result = ename + '=' + escape(value);\n      }\n      items.push(result);\n    });\n\n    return items.join('&');\n  },\n\n  readFileSync: function readFileSync(path) {\n    if (util.isBrowser()) return null;\n    return require('fs').readFileSync(path, 'utf-8');\n  },\n\n  base64: {\n    encode: function encode64(string) {\n      if (typeof string === 'number') {\n        throw util.error(new Error('Cannot base64 encode number ' + string));\n      }\n      if (string === null || typeof string === 'undefined') {\n        return string;\n      }\n      var buf = (typeof util.Buffer.from === 'function' && util.Buffer.from !== Uint8Array.from) ? util.Buffer.from(string) : new util.Buffer(string);\n      return buf.toString('base64');\n    },\n\n    decode: function decode64(string) {\n      if (typeof string === 'number') {\n        throw util.error(new Error('Cannot base64 decode number ' + string));\n      }\n      if (string === null || typeof string === 'undefined') {\n        return string;\n      }\n      return (typeof util.Buffer.from === 'function' && util.Buffer.from !== Uint8Array.from) ? util.Buffer.from(string, 'base64') : new util.Buffer(string, 'base64');\n    }\n\n  },\n\n  buffer: {\n    toStream: function toStream(buffer) {\n      if (!util.Buffer.isBuffer(buffer)) buffer = new util.Buffer(buffer);\n\n      var readable = new (util.stream.Readable)();\n      var pos = 0;\n      readable._read = function(size) {\n        if (pos >= buffer.length) return readable.push(null);\n\n        var end = pos + size;\n        if (end > buffer.length) end = buffer.length;\n        readable.push(buffer.slice(pos, end));\n        pos = end;\n      };\n\n      return readable;\n    },\n\n    /**\n     * Concatenates a list of Buffer objects.\n     */\n    concat: function(buffers) {\n      var length = 0,\n          offset = 0,\n          buffer = null, i;\n\n      for (i = 0; i < buffers.length; i++) {\n        length += buffers[i].length;\n      }\n\n      buffer = new util.Buffer(length);\n\n      for (i = 0; i < buffers.length; i++) {\n        buffers[i].copy(buffer, offset);\n        offset += buffers[i].length;\n      }\n\n      return buffer;\n    }\n  },\n\n  string: {\n    byteLength: function byteLength(string) {\n      if (string === null || string === undefined) return 0;\n      if (typeof string === 'string') string = new util.Buffer(string);\n\n      if (typeof string.byteLength === 'number') {\n        return string.byteLength;\n      } else if (typeof string.length === 'number') {\n        return string.length;\n      } else if (typeof string.size === 'number') {\n        return string.size;\n      } else if (typeof string.path === 'string') {\n        return require('fs').lstatSync(string.path).size;\n      } else {\n        throw util.error(new Error('Cannot determine length of ' + string),\n          { object: string });\n      }\n    },\n\n    upperFirst: function upperFirst(string) {\n      return string[0].toUpperCase() + string.substr(1);\n    },\n\n    lowerFirst: function lowerFirst(string) {\n      return string[0].toLowerCase() + string.substr(1);\n    }\n  },\n\n  ini: {\n    parse: function string(ini) {\n      var currentSection, map = {};\n      util.arrayEach(ini.split(/\\r?\\n/), function(line) {\n        line = line.split(/(^|\\s)[;#]/)[0]; // remove comments\n        var section = line.match(/^\\s*\\[([^\\[\\]]+)\\]\\s*$/);\n        if (section) {\n          currentSection = section[1];\n        } else if (currentSection) {\n          var item = line.match(/^\\s*(.+?)\\s*=\\s*(.+?)\\s*$/);\n          if (item) {\n            map[currentSection] = map[currentSection] || {};\n            map[currentSection][item[1]] = item[2];\n          }\n        }\n      });\n\n      return map;\n    }\n  },\n\n  fn: {\n    noop: function() {},\n\n    /**\n     * Turn a synchronous function into as \"async\" function by making it call\n     * a callback. The underlying function is called with all but the last argument,\n     * which is treated as the callback. The callback is passed passed a first argument\n     * of null on success to mimick standard node callbacks.\n     */\n    makeAsync: function makeAsync(fn, expectedArgs) {\n      if (expectedArgs && expectedArgs <= fn.length) {\n        return fn;\n      }\n\n      return function() {\n        var args = Array.prototype.slice.call(arguments, 0);\n        var callback = args.pop();\n        var result = fn.apply(null, args);\n        callback(result);\n      };\n    }\n  },\n\n  /**\n   * Date and time utility functions.\n   */\n  date: {\n\n    /**\n     * @return [Date] the current JavaScript date object. Since all\n     *   AWS services rely on this date object, you can override\n     *   this function to provide a special time value to AWS service\n     *   requests.\n     */\n    getDate: function getDate() {\n      if (!AWS) AWS = require('./core');\n      if (AWS.config.systemClockOffset) { // use offset when non-zero\n        return new Date(new Date().getTime() + AWS.config.systemClockOffset);\n      } else {\n        return new Date();\n      }\n    },\n\n    /**\n     * @return [String] the date in ISO-8601 format\n     */\n    iso8601: function iso8601(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.toISOString().replace(/\\.\\d{3}Z$/, 'Z');\n    },\n\n    /**\n     * @return [String] the date in RFC 822 format\n     */\n    rfc822: function rfc822(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.toUTCString();\n    },\n\n    /**\n     * @return [Integer] the UNIX timestamp value for the current time\n     */\n    unixTimestamp: function unixTimestamp(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.getTime() / 1000;\n    },\n\n    /**\n     * @param [String,number,Date] date\n     * @return [Date]\n     */\n    from: function format(date) {\n      if (typeof date === 'number') {\n        return new Date(date * 1000); // unix timestamp\n      } else {\n        return new Date(date);\n      }\n    },\n\n    /**\n     * Given a Date or date-like value, this function formats the\n     * date into a string of the requested value.\n     * @param [String,number,Date] date\n     * @param [String] formatter Valid formats are:\n     #   * 'iso8601'\n     #   * 'rfc822'\n     #   * 'unixTimestamp'\n     * @return [String]\n     */\n    format: function format(date, formatter) {\n      if (!formatter) formatter = 'iso8601';\n      return util.date[formatter](util.date.from(date));\n    },\n\n    parseTimestamp: function parseTimestamp(value) {\n      if (typeof value === 'number') { // unix timestamp (number)\n        return new Date(value * 1000);\n      } else if (value.match(/^\\d+$/)) { // unix timestamp\n        return new Date(value * 1000);\n      } else if (value.match(/^\\d{4}/)) { // iso8601\n        return new Date(value);\n      } else if (value.match(/^\\w{3},/)) { // rfc822\n        return new Date(value);\n      } else {\n        throw util.error(\n          new Error('unhandled timestamp format: ' + value),\n          {code: 'TimestampParserError'});\n      }\n    }\n\n  },\n\n  crypto: {\n    crc32Table: [\n     0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA, 0x076DC419,\n     0x706AF48F, 0xE963A535, 0x9E6495A3, 0x0EDB8832, 0x79DCB8A4,\n     0xE0D5E91E, 0x97D2D988, 0x09B64C2B, 0x7EB17CBD, 0xE7B82D07,\n     0x90BF1D91, 0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE,\n     0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7, 0x136C9856,\n     0x646BA8C0, 0xFD62F97A, 0x8A65C9EC, 0x14015C4F, 0x63066CD9,\n     0xFA0F3D63, 0x8D080DF5, 0x3B6E20C8, 0x4C69105E, 0xD56041E4,\n     0xA2677172, 0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B,\n     0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940, 0x32D86CE3,\n     0x45DF5C75, 0xDCD60DCF, 0xABD13D59, 0x26D930AC, 0x51DE003A,\n     0xC8D75180, 0xBFD06116, 0x21B4F4B5, 0x56B3C423, 0xCFBA9599,\n     0xB8BDA50F, 0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924,\n     0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D, 0x76DC4190,\n     0x01DB7106, 0x98D220BC, 0xEFD5102A, 0x71B18589, 0x06B6B51F,\n     0x9FBFE4A5, 0xE8B8D433, 0x7807C9A2, 0x0F00F934, 0x9609A88E,\n     0xE10E9818, 0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01,\n     0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E, 0x6C0695ED,\n     0x1B01A57B, 0x8208F4C1, 0xF50FC457, 0x65B0D9C6, 0x12B7E950,\n     0x8BBEB8EA, 0xFCB9887C, 0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3,\n     0xFBD44C65, 0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2,\n     0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB, 0x4369E96A,\n     0x346ED9FC, 0xAD678846, 0xDA60B8D0, 0x44042D73, 0x33031DE5,\n     0xAA0A4C5F, 0xDD0D7CC9, 0x5005713C, 0x270241AA, 0xBE0B1010,\n     0xC90C2086, 0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F,\n     0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4, 0x59B33D17,\n     0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD, 0xEDB88320, 0x9ABFB3B6,\n     0x03B6E20C, 0x74B1D29A, 0xEAD54739, 0x9DD277AF, 0x04DB2615,\n     0x73DC1683, 0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8,\n     0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1, 0xF00F9344,\n     0x8708A3D2, 0x1E01F268, 0x6906C2FE, 0xF762575D, 0x806567CB,\n     0x196C3671, 0x6E6B06E7, 0xFED41B76, 0x89D32BE0, 0x10DA7A5A,\n     0x67DD4ACC, 0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5,\n     0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252, 0xD1BB67F1,\n     0xA6BC5767, 0x3FB506DD, 0x48B2364B, 0xD80D2BDA, 0xAF0A1B4C,\n     0x36034AF6, 0x41047A60, 0xDF60EFC3, 0xA867DF55, 0x316E8EEF,\n     0x4669BE79, 0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236,\n     0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F, 0xC5BA3BBE,\n     0xB2BD0B28, 0x2BB45A92, 0x5CB36A04, 0xC2D7FFA7, 0xB5D0CF31,\n     0x2CD99E8B, 0x5BDEAE1D, 0x9B64C2B0, 0xEC63F226, 0x756AA39C,\n     0x026D930A, 0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713,\n     0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38, 0x92D28E9B,\n     0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21, 0x86D3D2D4, 0xF1D4E242,\n     0x68DDB3F8, 0x1FDA836E, 0x81BE16CD, 0xF6B9265B, 0x6FB077E1,\n     0x18B74777, 0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C,\n     0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45, 0xA00AE278,\n     0xD70DD2EE, 0x4E048354, 0x3903B3C2, 0xA7672661, 0xD06016F7,\n     0x4969474D, 0x3E6E77DB, 0xAED16A4A, 0xD9D65ADC, 0x40DF0B66,\n     0x37D83BF0, 0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9,\n     0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6, 0xBAD03605,\n     0xCDD70693, 0x54DE5729, 0x23D967BF, 0xB3667A2E, 0xC4614AB8,\n     0x5D681B02, 0x2A6F2B94, 0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B,\n     0x2D02EF8D],\n\n    crc32: function crc32(data) {\n      var tbl = util.crypto.crc32Table;\n      var crc = 0 ^ -1;\n\n      if (typeof data === 'string') {\n        data = new util.Buffer(data);\n      }\n\n      for (var i = 0; i < data.length; i++) {\n        var code = data.readUInt8(i);\n        crc = (crc >>> 8) ^ tbl[(crc ^ code) & 0xFF];\n      }\n      return (crc ^ -1) >>> 0;\n    },\n\n    hmac: function hmac(key, string, digest, fn) {\n      if (!digest) digest = 'binary';\n      if (digest === 'buffer') { digest = undefined; }\n      if (!fn) fn = 'sha256';\n      if (typeof string === 'string') string = new util.Buffer(string);\n      return util.crypto.lib.createHmac(fn, key).update(string).digest(digest);\n    },\n\n    md5: function md5(data, digest, callback) {\n      return util.crypto.hash('md5', data, digest, callback);\n    },\n\n    sha256: function sha256(data, digest, callback) {\n      return util.crypto.hash('sha256', data, digest, callback);\n    },\n\n    hash: function(algorithm, data, digest, callback) {\n      var hash = util.crypto.createHash(algorithm);\n      if (!digest) { digest = 'binary'; }\n      if (digest === 'buffer') { digest = undefined; }\n      if (typeof data === 'string') data = new util.Buffer(data);\n      var sliceFn = util.arraySliceFn(data);\n      var isBuffer = util.Buffer.isBuffer(data);\n      //Identifying objects with an ArrayBuffer as buffers\n      if (util.isBrowser() && typeof ArrayBuffer !== 'undefined' && data && data.buffer instanceof ArrayBuffer) isBuffer = true;\n\n      if (callback && typeof data === 'object' &&\n          typeof data.on === 'function' && !isBuffer) {\n        data.on('data', function(chunk) { hash.update(chunk); });\n        data.on('error', function(err) { callback(err); });\n        data.on('end', function() { callback(null, hash.digest(digest)); });\n      } else if (callback && sliceFn && !isBuffer &&\n                 typeof FileReader !== 'undefined') {\n        // this might be a File/Blob\n        var index = 0, size = 1024 * 512;\n        var reader = new FileReader();\n        reader.onerror = function() {\n          callback(new Error('Failed to read data.'));\n        };\n        reader.onload = function() {\n          var buf = new util.Buffer(new Uint8Array(reader.result));\n          hash.update(buf);\n          index += buf.length;\n          reader._continueReading();\n        };\n        reader._continueReading = function() {\n          if (index >= data.size) {\n            callback(null, hash.digest(digest));\n            return;\n          }\n\n          var back = index + size;\n          if (back > data.size) back = data.size;\n          reader.readAsArrayBuffer(sliceFn.call(data, index, back));\n        };\n\n        reader._continueReading();\n      } else {\n        if (util.isBrowser() && typeof data === 'object' && !isBuffer) {\n          data = new util.Buffer(new Uint8Array(data));\n        }\n        var out = hash.update(data).digest(digest);\n        if (callback) callback(null, out);\n        return out;\n      }\n    },\n\n    toHex: function toHex(data) {\n      var out = [];\n      for (var i = 0; i < data.length; i++) {\n        out.push(('0' + data.charCodeAt(i).toString(16)).substr(-2, 2));\n      }\n      return out.join('');\n    },\n\n    createHash: function createHash(algorithm) {\n      return util.crypto.lib.createHash(algorithm);\n    }\n\n  },\n\n  /** @!ignore */\n\n  /* Abort constant */\n  abort: {},\n\n  each: function each(object, iterFunction) {\n    for (var key in object) {\n      if (Object.prototype.hasOwnProperty.call(object, key)) {\n        var ret = iterFunction.call(this, key, object[key]);\n        if (ret === util.abort) break;\n      }\n    }\n  },\n\n  arrayEach: function arrayEach(array, iterFunction) {\n    for (var idx in array) {\n      if (Object.prototype.hasOwnProperty.call(array, idx)) {\n        var ret = iterFunction.call(this, array[idx], parseInt(idx, 10));\n        if (ret === util.abort) break;\n      }\n    }\n  },\n\n  update: function update(obj1, obj2) {\n    util.each(obj2, function iterator(key, item) {\n      obj1[key] = item;\n    });\n    return obj1;\n  },\n\n  merge: function merge(obj1, obj2) {\n    return util.update(util.copy(obj1), obj2);\n  },\n\n  copy: function copy(object) {\n    if (object === null || object === undefined) return object;\n    var dupe = {};\n    // jshint forin:false\n    for (var key in object) {\n      dupe[key] = object[key];\n    }\n    return dupe;\n  },\n\n  isEmpty: function isEmpty(obj) {\n    for (var prop in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n        return false;\n      }\n    }\n    return true;\n  },\n\n  arraySliceFn: function arraySliceFn(obj) {\n    var fn = obj.slice || obj.webkitSlice || obj.mozSlice;\n    return typeof fn === 'function' ? fn : null;\n  },\n\n  isType: function isType(obj, type) {\n    // handle cross-\"frame\" objects\n    if (typeof type === 'function') type = util.typeName(type);\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']';\n  },\n\n  typeName: function typeName(type) {\n    if (Object.prototype.hasOwnProperty.call(type, 'name')) return type.name;\n    var str = type.toString();\n    var match = str.match(/^\\s*function (.+)\\(/);\n    return match ? match[1] : str;\n  },\n\n  error: function error(err, options) {\n    var originalError = null;\n    if (typeof err.message === 'string' && err.message !== '') {\n      if (typeof options === 'string' || (options && options.message)) {\n        originalError = util.copy(err);\n        originalError.message = err.message;\n      }\n    }\n    err.message = err.message || null;\n\n    if (typeof options === 'string') {\n      err.message = options;\n    } else if (typeof options === 'object' && options !== null) {\n      util.update(err, options);\n      if (options.message)\n        err.message = options.message;\n      if (options.code || options.name)\n        err.code = options.code || options.name;\n      if (options.stack)\n        err.stack = options.stack;\n    }\n\n    if (typeof Object.defineProperty === 'function') {\n      Object.defineProperty(err, 'name', {writable: true, enumerable: false});\n      Object.defineProperty(err, 'message', {enumerable: true});\n    }\n\n    err.name = options && options.name || err.name || err.code || 'Error';\n    err.time = new Date();\n\n    if (originalError) err.originalError = originalError;\n\n    return err;\n  },\n\n  /**\n   * @api private\n   */\n  inherit: function inherit(klass, features) {\n    var newObject = null;\n    if (features === undefined) {\n      features = klass;\n      klass = Object;\n      newObject = {};\n    } else {\n      var ctor = function ConstructorWrapper() {};\n      ctor.prototype = klass.prototype;\n      newObject = new ctor();\n    }\n\n    // constructor not supplied, create pass-through ctor\n    if (features.constructor === Object) {\n      features.constructor = function() {\n        if (klass !== Object) {\n          return klass.apply(this, arguments);\n        }\n      };\n    }\n\n    features.constructor.prototype = newObject;\n    util.update(features.constructor.prototype, features);\n    features.constructor.__super__ = klass;\n    return features.constructor;\n  },\n\n  /**\n   * @api private\n   */\n  mixin: function mixin() {\n    var klass = arguments[0];\n    for (var i = 1; i < arguments.length; i++) {\n      // jshint forin:false\n      for (var prop in arguments[i].prototype) {\n        var fn = arguments[i].prototype[prop];\n        if (prop !== 'constructor') {\n          klass.prototype[prop] = fn;\n        }\n      }\n    }\n    return klass;\n  },\n\n  /**\n   * @api private\n   */\n  hideProperties: function hideProperties(obj, props) {\n    if (typeof Object.defineProperty !== 'function') return;\n\n    util.arrayEach(props, function (key) {\n      Object.defineProperty(obj, key, {\n        enumerable: false, writable: true, configurable: true });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  property: function property(obj, name, value, enumerable, isValue) {\n    var opts = {\n      configurable: true,\n      enumerable: enumerable !== undefined ? enumerable : true\n    };\n    if (typeof value === 'function' && !isValue) {\n      opts.get = value;\n    }\n    else {\n      opts.value = value; opts.writable = true;\n    }\n\n    Object.defineProperty(obj, name, opts);\n  },\n\n  /**\n   * @api private\n   */\n  memoizedProperty: function memoizedProperty(obj, name, get, enumerable) {\n    var cachedValue = null;\n\n    // build enumerable attribute for each value with lazy accessor.\n    util.property(obj, name, function() {\n      if (cachedValue === null) {\n        cachedValue = get();\n      }\n      return cachedValue;\n    }, enumerable);\n  },\n\n  /**\n   * TODO Remove in major version revision\n   * This backfill populates response data without the\n   * top-level payload name.\n   *\n   * @api private\n   */\n  hoistPayloadMember: function hoistPayloadMember(resp) {\n    var req = resp.request;\n    var operation = req.operation;\n    var output = req.service.api.operations[operation].output;\n    if (output.payload) {\n      var payloadMember = output.members[output.payload];\n      var responsePayload = resp.data[output.payload];\n      if (payloadMember.type === 'structure') {\n        util.each(responsePayload, function(key, value) {\n          util.property(resp.data, key, value, false);\n        });\n      }\n    }\n  },\n\n  /**\n   * Compute SHA-256 checksums of streams\n   *\n   * @api private\n   */\n  computeSha256: function computeSha256(body, done) {\n    if (util.isNode()) {\n      var Stream = util.stream.Stream;\n      var fs = require('fs');\n      if (body instanceof Stream) {\n        if (typeof body.path === 'string') { // assume file object\n          var settings = {};\n          if (typeof body.start === 'number') {\n            settings.start = body.start;\n          }\n          if (typeof body.end === 'number') {\n            settings.end = body.end;\n          }\n          body = fs.createReadStream(body.path, settings);\n        } else { // TODO support other stream types\n          return done(new Error('Non-file stream objects are ' +\n                                'not supported with SigV4'));\n        }\n      }\n    }\n\n    util.crypto.sha256(body, 'hex', function(err, sha) {\n      if (err) done(err);\n      else done(null, sha);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  isClockSkewed: function isClockSkewed(serverTime) {\n    if (serverTime) {\n      util.property(AWS.config, 'isClockSkewed',\n        Math.abs(new Date().getTime() - serverTime) >= 300000, false);\n      return AWS.config.isClockSkewed;\n    }\n  },\n\n  applyClockOffset: function applyClockOffset(serverTime) {\n    if (serverTime)\n      AWS.config.systemClockOffset = serverTime - new Date().getTime();\n  },\n\n  /**\n   * @api private\n   */\n  extractRequestId: function extractRequestId(resp) {\n    var requestId = resp.httpResponse.headers['x-amz-request-id'] ||\n                     resp.httpResponse.headers['x-amzn-requestid'];\n\n    if (!requestId && resp.data && resp.data.ResponseMetadata) {\n      requestId = resp.data.ResponseMetadata.RequestId;\n    }\n\n    if (requestId) {\n      resp.requestId = requestId;\n    }\n\n    if (resp.error) {\n      resp.error.requestId = requestId;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  addPromises: function addPromises(constructors, PromiseDependency) {\n    if (PromiseDependency === undefined && AWS && AWS.config) {\n      PromiseDependency = AWS.config.getPromisesDependency();\n    }\n    if (PromiseDependency === undefined && typeof Promise !== 'undefined') {\n      PromiseDependency = Promise;\n    }\n    if (typeof PromiseDependency !== 'function') var deletePromises = true;\n    if (!Array.isArray(constructors)) constructors = [constructors];\n\n    for (var ind = 0; ind < constructors.length; ind++) {\n      var constructor = constructors[ind];\n      if (deletePromises) {\n        if (constructor.deletePromisesFromClass) {\n          constructor.deletePromisesFromClass();\n        }\n      } else if (constructor.addPromisesToClass) {\n        constructor.addPromisesToClass(PromiseDependency);\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  promisifyMethod: function promisifyMethod(methodName, PromiseDependency) {\n    return function promise() {\n      var self = this;\n      return new PromiseDependency(function(resolve, reject) {\n        self[methodName](function(err, data) {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(data);\n          }\n        });\n      });\n    };\n  },\n\n  /**\n   * @api private\n   */\n  isDualstackAvailable: function isDualstackAvailable(service) {\n    if (!service) return false;\n    var metadata = require('../apis/metadata.json');\n    if (typeof service !== 'string') service = service.serviceIdentifier;\n    if (typeof service !== 'string' || !metadata.hasOwnProperty(service)) return false;\n    return !!metadata[service].dualstackAvailable;\n  },\n\n  /**\n   * @api private\n   */\n  calculateRetryDelay: function calculateRetryDelay(retryCount, retryDelayOptions) {\n    if (!retryDelayOptions) retryDelayOptions = {};\n    var customBackoff = retryDelayOptions.customBackoff || null;\n    if (typeof customBackoff === 'function') {\n      return customBackoff(retryCount);\n    }\n    var base = typeof retryDelayOptions.base === 'number' ? retryDelayOptions.base : 100;\n    var delay = Math.random() * (Math.pow(2, retryCount) * base);\n    return delay;\n  },\n\n  /**\n   * @api private\n   */\n  handleRequestWithRetries: function handleRequestWithRetries(httpRequest, options, cb) {\n    if (!options) options = {};\n    var http = AWS.HttpClient.getInstance();\n    var httpOptions = options.httpOptions || {};\n    var retryCount = 0;\n\n    var errCallback = function(err) {\n      var maxRetries = options.maxRetries || 0;\n      if (err && err.code === 'TimeoutError') err.retryable = true;\n      if (err && err.retryable && retryCount < maxRetries) {\n        retryCount++;\n        var delay = util.calculateRetryDelay(retryCount, options.retryDelayOptions);\n        setTimeout(sendRequest, delay + (err.retryAfter || 0));\n      } else {\n        cb(err);\n      }\n    };\n\n    var sendRequest = function() {\n      var data = '';\n      http.handleRequest(httpRequest, httpOptions, function(httpResponse) {\n        httpResponse.on('data', function(chunk) { data += chunk.toString(); });\n        httpResponse.on('end', function() {\n          var statusCode = httpResponse.statusCode;\n          if (statusCode < 300) {\n            cb(null, data);\n          } else {\n            var retryAfter = parseInt(httpResponse.headers['retry-after'], 10) * 1000 || 0;\n            var err = util.error(new Error(),\n              { retryable: statusCode >= 500 || statusCode === 429 }\n            );\n            if (retryAfter && err.retryable) err.retryAfter = retryAfter;\n            errCallback(err);\n          }\n        });\n      }, errCallback);\n    };\n\n    AWS.util.defer(sendRequest);\n  },\n\n  /**\n   * @api private\n   */\n  uuid: {\n    v4: function uuidV4() {\n      return require('uuid').v4();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  convertPayloadToString: function convertPayloadToString(resp) {\n    var req = resp.request;\n    var operation = req.operation;\n    var rules = req.service.api.operations[operation].output || {};\n    if (rules.payload && resp.data[rules.payload]) {\n      resp.data[rules.payload] = resp.data[rules.payload].toString();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  defer: function defer(callback) {\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n      process.nextTick(callback);\n    } else if (typeof setImmediate === 'function') {\n      setImmediate(callback);\n    } else {\n      setTimeout(callback, 0);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  defaultProfile: 'default',\n\n  /**\n   * @api private\n   */\n  configOptInEnv: 'AWS_SDK_LOAD_CONFIG',\n\n  /**\n   * @api private\n   */\n  sharedCredentialsFileEnv: 'AWS_SHARED_CREDENTIALS_FILE',\n\n  /**\n   * @api private\n   */\n  sharedConfigFileEnv: 'AWS_CONFIG_FILE',\n\n  /**\n   * @api private\n   */\n  imdsDisabledEnv: 'AWS_EC2_METADATA_DISABLED'\n};\n\nmodule.exports = util;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var baseAssign = require('./_baseAssign'),\n    baseCreate = require('./_baseCreate');\n\n/**\n * Creates an object that inherits from the `prototype` object. If a\n * `properties` object is given, its own enumerable string keyed properties\n * are assigned to the created object.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Object\n * @param {Object} prototype The object to inherit from.\n * @param {Object} [properties] The properties to assign to the object.\n * @returns {Object} Returns the new object.\n * @example\n *\n * function Shape() {\n *   this.x = 0;\n *   this.y = 0;\n * }\n *\n * function Circle() {\n *   Shape.call(this);\n * }\n *\n * Circle.prototype = _.create(Shape.prototype, {\n *   'constructor': Circle\n * });\n *\n * var circle = new Circle;\n * circle instanceof Circle;\n * // => true\n *\n * circle instanceof Shape;\n * // => true\n */\nfunction create(prototype, properties) {\n  var result = baseCreate(prototype);\n  return properties == null ? result : baseAssign(result, properties);\n}\n\nmodule.exports = create;\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./ConsoleLogger\"));\n//# sourceMappingURL=index.js.map","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var util = require('./util');\n\n// browser specific modules\nutil.crypto.lib = require('./browserCryptoLib');\nutil.Buffer = require('buffer/').Buffer;\nutil.url = require('url/');\nutil.querystring = require('querystring/');\nutil.environment = 'js';\n\nvar AWS = require('./core');\nmodule.exports = AWS;\n\nrequire('./credentials');\nrequire('./credentials/credential_provider_chain');\nrequire('./credentials/temporary_credentials');\nrequire('./credentials/web_identity_credentials');\nrequire('./credentials/cognito_identity_credentials');\nrequire('./credentials/saml_credentials');\n\n// Load the DOMParser XML parser\nAWS.XML.Parser = require('./xml/browser_parser');\n\n// Load the XHR HttpClient\nrequire('./http/xhr');\n\nif (typeof process === 'undefined') {\n  process = {\n    browser: true\n  };\n}\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLElement, XMLNode, XMLRaw, XMLText, isEmpty, isFunction, isObject,\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('lodash/isObject');\n\n  isFunction = require('lodash/isFunction');\n\n  isEmpty = require('lodash/isEmpty');\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent) {\n      this.parent = parent;\n      this.options = this.parent.options;\n      this.stringify = this.parent.stringify;\n      if (XMLElement === null) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n      }\n    }\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var childNode, item, j, k, key, lastChild, len, len1, ref, val;\n      lastChild = null;\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        ref = [attributes, text], text = ref[0], attributes = ref[1];\n      }\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          item = name[j];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if ((isObject(val)) && (isEmpty(val))) {\n            val = null;\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && key.indexOf(this.stringify.convertPIKey) === 0) {\n            lastChild = this.instruction(key.substr(this.stringify.convertPIKey.length), val);\n          } else if (!this.options.separateArrayItems && Array.isArray(val)) {\n            for (k = 0, len1 = val.length; k < len1; k++) {\n              item = val[k];\n              childNode = {};\n              childNode[key] = item;\n              lastChild = this.element(childNode);\n            }\n          } else if (isObject(val)) {\n            lastChild = this.element(key);\n            lastChild.element(val);\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name);\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, ref;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element\");\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref = [])), ref;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, ref;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        ref = [attributes, text], text = ref[0], attributes = ref[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      doc.xmldec = xmldec;\n      return doc.root();\n    };\n\n    XMLNode.prototype.doctype = function(pubID, sysID) {\n      var doc, doctype;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      doc.doctype = doctype;\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var child;\n      if (this.isRoot) {\n        return this;\n      }\n      child = this.parent;\n      while (!child.isRoot) {\n        child = child.parent;\n      }\n      return child;\n    };\n\n    XMLNode.prototype.document = function() {\n      return this.root().documentObject;\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().toString(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node\");\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node\");\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(xmlbuilder) {\n      var clonedRoot;\n      clonedRoot = xmlbuilder.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      return this.doctype(pubID, sysID);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n","(function(exports) {\n  \"use strict\";\n\n  function isArray(obj) {\n    if (obj !== null) {\n      return Object.prototype.toString.call(obj) === \"[object Array]\";\n    } else {\n      return false;\n    }\n  }\n\n  function isObject(obj) {\n    if (obj !== null) {\n      return Object.prototype.toString.call(obj) === \"[object Object]\";\n    } else {\n      return false;\n    }\n  }\n\n  function strictDeepEqual(first, second) {\n    // Check the scalar case first.\n    if (first === second) {\n      return true;\n    }\n\n    // Check if they are the same type.\n    var firstType = Object.prototype.toString.call(first);\n    if (firstType !== Object.prototype.toString.call(second)) {\n      return false;\n    }\n    // We know that first and second have the same type so we can just check the\n    // first type from now on.\n    if (isArray(first) === true) {\n      // Short circuit if they're not the same length;\n      if (first.length !== second.length) {\n        return false;\n      }\n      for (var i = 0; i < first.length; i++) {\n        if (strictDeepEqual(first[i], second[i]) === false) {\n          return false;\n        }\n      }\n      return true;\n    }\n    if (isObject(first) === true) {\n      // An object is equal if it has the same key/value pairs.\n      var keysSeen = {};\n      for (var key in first) {\n        if (hasOwnProperty.call(first, key)) {\n          if (strictDeepEqual(first[key], second[key]) === false) {\n            return false;\n          }\n          keysSeen[key] = true;\n        }\n      }\n      // Now check that there aren't any keys in second that weren't\n      // in first.\n      for (var key2 in second) {\n        if (hasOwnProperty.call(second, key2)) {\n          if (keysSeen[key2] !== true) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  function isFalse(obj) {\n    // From the spec:\n    // A false value corresponds to the following values:\n    // Empty list\n    // Empty object\n    // Empty string\n    // False boolean\n    // null value\n\n    // First check the scalar values.\n    if (obj === \"\" || obj === false || obj === null) {\n        return true;\n    } else if (isArray(obj) && obj.length === 0) {\n        // Check for an empty array.\n        return true;\n    } else if (isObject(obj)) {\n        // Check for an empty object.\n        for (var key in obj) {\n            // If there are any keys, then\n            // the object is not empty so the object\n            // is not false.\n            if (obj.hasOwnProperty(key)) {\n              return false;\n            }\n        }\n        return true;\n    } else {\n        return false;\n    }\n  }\n\n  function objValues(obj) {\n    var keys = Object.keys(obj);\n    var values = [];\n    for (var i = 0; i < keys.length; i++) {\n      values.push(obj[keys[i]]);\n    }\n    return values;\n  }\n\n  function merge(a, b) {\n      var merged = {};\n      for (var key in a) {\n          merged[key] = a[key];\n      }\n      for (var key2 in b) {\n          merged[key2] = b[key2];\n      }\n      return merged;\n  }\n\n  var trimLeft;\n  if (typeof String.prototype.trimLeft === \"function\") {\n    trimLeft = function(str) {\n      return str.trimLeft();\n    };\n  } else {\n    trimLeft = function(str) {\n      return str.match(/^\\s*(.*)/)[1];\n    };\n  }\n\n  // Type constants used to define functions.\n  var TYPE_NUMBER = 0;\n  var TYPE_ANY = 1;\n  var TYPE_STRING = 2;\n  var TYPE_ARRAY = 3;\n  var TYPE_OBJECT = 4;\n  var TYPE_BOOLEAN = 5;\n  var TYPE_EXPREF = 6;\n  var TYPE_NULL = 7;\n  var TYPE_ARRAY_NUMBER = 8;\n  var TYPE_ARRAY_STRING = 9;\n\n  var TOK_EOF = \"EOF\";\n  var TOK_UNQUOTEDIDENTIFIER = \"UnquotedIdentifier\";\n  var TOK_QUOTEDIDENTIFIER = \"QuotedIdentifier\";\n  var TOK_RBRACKET = \"Rbracket\";\n  var TOK_RPAREN = \"Rparen\";\n  var TOK_COMMA = \"Comma\";\n  var TOK_COLON = \"Colon\";\n  var TOK_RBRACE = \"Rbrace\";\n  var TOK_NUMBER = \"Number\";\n  var TOK_CURRENT = \"Current\";\n  var TOK_EXPREF = \"Expref\";\n  var TOK_PIPE = \"Pipe\";\n  var TOK_OR = \"Or\";\n  var TOK_AND = \"And\";\n  var TOK_EQ = \"EQ\";\n  var TOK_GT = \"GT\";\n  var TOK_LT = \"LT\";\n  var TOK_GTE = \"GTE\";\n  var TOK_LTE = \"LTE\";\n  var TOK_NE = \"NE\";\n  var TOK_FLATTEN = \"Flatten\";\n  var TOK_STAR = \"Star\";\n  var TOK_FILTER = \"Filter\";\n  var TOK_DOT = \"Dot\";\n  var TOK_NOT = \"Not\";\n  var TOK_LBRACE = \"Lbrace\";\n  var TOK_LBRACKET = \"Lbracket\";\n  var TOK_LPAREN= \"Lparen\";\n  var TOK_LITERAL= \"Literal\";\n\n  // The \"&\", \"[\", \"<\", \">\" tokens\n  // are not in basicToken because\n  // there are two token variants\n  // (\"&&\", \"[?\", \"<=\", \">=\").  This is specially handled\n  // below.\n\n  var basicTokens = {\n    \".\": TOK_DOT,\n    \"*\": TOK_STAR,\n    \",\": TOK_COMMA,\n    \":\": TOK_COLON,\n    \"{\": TOK_LBRACE,\n    \"}\": TOK_RBRACE,\n    \"]\": TOK_RBRACKET,\n    \"(\": TOK_LPAREN,\n    \")\": TOK_RPAREN,\n    \"@\": TOK_CURRENT\n  };\n\n  var operatorStartToken = {\n      \"<\": true,\n      \">\": true,\n      \"=\": true,\n      \"!\": true\n  };\n\n  var skipChars = {\n      \" \": true,\n      \"\\t\": true,\n      \"\\n\": true\n  };\n\n\n  function isAlpha(ch) {\n      return (ch >= \"a\" && ch <= \"z\") ||\n             (ch >= \"A\" && ch <= \"Z\") ||\n             ch === \"_\";\n  }\n\n  function isNum(ch) {\n      return (ch >= \"0\" && ch <= \"9\") ||\n             ch === \"-\";\n  }\n  function isAlphaNum(ch) {\n      return (ch >= \"a\" && ch <= \"z\") ||\n             (ch >= \"A\" && ch <= \"Z\") ||\n             (ch >= \"0\" && ch <= \"9\") ||\n             ch === \"_\";\n  }\n\n  function Lexer() {\n  }\n  Lexer.prototype = {\n      tokenize: function(stream) {\n          var tokens = [];\n          this._current = 0;\n          var start;\n          var identifier;\n          var token;\n          while (this._current < stream.length) {\n              if (isAlpha(stream[this._current])) {\n                  start = this._current;\n                  identifier = this._consumeUnquotedIdentifier(stream);\n                  tokens.push({type: TOK_UNQUOTEDIDENTIFIER,\n                               value: identifier,\n                               start: start});\n              } else if (basicTokens[stream[this._current]] !== undefined) {\n                  tokens.push({type: basicTokens[stream[this._current]],\n                              value: stream[this._current],\n                              start: this._current});\n                  this._current++;\n              } else if (isNum(stream[this._current])) {\n                  token = this._consumeNumber(stream);\n                  tokens.push(token);\n              } else if (stream[this._current] === \"[\") {\n                  // No need to increment this._current.  This happens\n                  // in _consumeLBracket\n                  token = this._consumeLBracket(stream);\n                  tokens.push(token);\n              } else if (stream[this._current] === \"\\\"\") {\n                  start = this._current;\n                  identifier = this._consumeQuotedIdentifier(stream);\n                  tokens.push({type: TOK_QUOTEDIDENTIFIER,\n                               value: identifier,\n                               start: start});\n              } else if (stream[this._current] === \"'\") {\n                  start = this._current;\n                  identifier = this._consumeRawStringLiteral(stream);\n                  tokens.push({type: TOK_LITERAL,\n                               value: identifier,\n                               start: start});\n              } else if (stream[this._current] === \"`\") {\n                  start = this._current;\n                  var literal = this._consumeLiteral(stream);\n                  tokens.push({type: TOK_LITERAL,\n                               value: literal,\n                               start: start});\n              } else if (operatorStartToken[stream[this._current]] !== undefined) {\n                  tokens.push(this._consumeOperator(stream));\n              } else if (skipChars[stream[this._current]] !== undefined) {\n                  // Ignore whitespace.\n                  this._current++;\n              } else if (stream[this._current] === \"&\") {\n                  start = this._current;\n                  this._current++;\n                  if (stream[this._current] === \"&\") {\n                      this._current++;\n                      tokens.push({type: TOK_AND, value: \"&&\", start: start});\n                  } else {\n                      tokens.push({type: TOK_EXPREF, value: \"&\", start: start});\n                  }\n              } else if (stream[this._current] === \"|\") {\n                  start = this._current;\n                  this._current++;\n                  if (stream[this._current] === \"|\") {\n                      this._current++;\n                      tokens.push({type: TOK_OR, value: \"||\", start: start});\n                  } else {\n                      tokens.push({type: TOK_PIPE, value: \"|\", start: start});\n                  }\n              } else {\n                  var error = new Error(\"Unknown character:\" + stream[this._current]);\n                  error.name = \"LexerError\";\n                  throw error;\n              }\n          }\n          return tokens;\n      },\n\n      _consumeUnquotedIdentifier: function(stream) {\n          var start = this._current;\n          this._current++;\n          while (this._current < stream.length && isAlphaNum(stream[this._current])) {\n              this._current++;\n          }\n          return stream.slice(start, this._current);\n      },\n\n      _consumeQuotedIdentifier: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (stream[this._current] !== \"\\\"\" && this._current < maxLength) {\n              // You can escape a double quote and you can escape an escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"\\\"\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          this._current++;\n          return JSON.parse(stream.slice(start, this._current));\n      },\n\n      _consumeRawStringLiteral: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (stream[this._current] !== \"'\" && this._current < maxLength) {\n              // You can escape a single quote and you can escape an escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"'\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          this._current++;\n          var literal = stream.slice(start + 1, this._current - 1);\n          return literal.replace(\"\\\\'\", \"'\");\n      },\n\n      _consumeNumber: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (isNum(stream[this._current]) && this._current < maxLength) {\n              this._current++;\n          }\n          var value = parseInt(stream.slice(start, this._current));\n          return {type: TOK_NUMBER, value: value, start: start};\n      },\n\n      _consumeLBracket: function(stream) {\n          var start = this._current;\n          this._current++;\n          if (stream[this._current] === \"?\") {\n              this._current++;\n              return {type: TOK_FILTER, value: \"[?\", start: start};\n          } else if (stream[this._current] === \"]\") {\n              this._current++;\n              return {type: TOK_FLATTEN, value: \"[]\", start: start};\n          } else {\n              return {type: TOK_LBRACKET, value: \"[\", start: start};\n          }\n      },\n\n      _consumeOperator: function(stream) {\n          var start = this._current;\n          var startingChar = stream[start];\n          this._current++;\n          if (startingChar === \"!\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_NE, value: \"!=\", start: start};\n              } else {\n                return {type: TOK_NOT, value: \"!\", start: start};\n              }\n          } else if (startingChar === \"<\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_LTE, value: \"<=\", start: start};\n              } else {\n                  return {type: TOK_LT, value: \"<\", start: start};\n              }\n          } else if (startingChar === \">\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_GTE, value: \">=\", start: start};\n              } else {\n                  return {type: TOK_GT, value: \">\", start: start};\n              }\n          } else if (startingChar === \"=\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_EQ, value: \"==\", start: start};\n              }\n          }\n      },\n\n      _consumeLiteral: function(stream) {\n          this._current++;\n          var start = this._current;\n          var maxLength = stream.length;\n          var literal;\n          while(stream[this._current] !== \"`\" && this._current < maxLength) {\n              // You can escape a literal char or you can escape the escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"`\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          var literalString = trimLeft(stream.slice(start, this._current));\n          literalString = literalString.replace(\"\\\\`\", \"`\");\n          if (this._looksLikeJSON(literalString)) {\n              literal = JSON.parse(literalString);\n          } else {\n              // Try to JSON parse it as \"<literal>\"\n              literal = JSON.parse(\"\\\"\" + literalString + \"\\\"\");\n          }\n          // +1 gets us to the ending \"`\", +1 to move on to the next char.\n          this._current++;\n          return literal;\n      },\n\n      _looksLikeJSON: function(literalString) {\n          var startingChars = \"[{\\\"\";\n          var jsonLiterals = [\"true\", \"false\", \"null\"];\n          var numberLooking = \"-0123456789\";\n\n          if (literalString === \"\") {\n              return false;\n          } else if (startingChars.indexOf(literalString[0]) >= 0) {\n              return true;\n          } else if (jsonLiterals.indexOf(literalString) >= 0) {\n              return true;\n          } else if (numberLooking.indexOf(literalString[0]) >= 0) {\n              try {\n                  JSON.parse(literalString);\n                  return true;\n              } catch (ex) {\n                  return false;\n              }\n          } else {\n              return false;\n          }\n      }\n  };\n\n      var bindingPower = {};\n      bindingPower[TOK_EOF] = 0;\n      bindingPower[TOK_UNQUOTEDIDENTIFIER] = 0;\n      bindingPower[TOK_QUOTEDIDENTIFIER] = 0;\n      bindingPower[TOK_RBRACKET] = 0;\n      bindingPower[TOK_RPAREN] = 0;\n      bindingPower[TOK_COMMA] = 0;\n      bindingPower[TOK_RBRACE] = 0;\n      bindingPower[TOK_NUMBER] = 0;\n      bindingPower[TOK_CURRENT] = 0;\n      bindingPower[TOK_EXPREF] = 0;\n      bindingPower[TOK_PIPE] = 1;\n      bindingPower[TOK_OR] = 2;\n      bindingPower[TOK_AND] = 3;\n      bindingPower[TOK_EQ] = 5;\n      bindingPower[TOK_GT] = 5;\n      bindingPower[TOK_LT] = 5;\n      bindingPower[TOK_GTE] = 5;\n      bindingPower[TOK_LTE] = 5;\n      bindingPower[TOK_NE] = 5;\n      bindingPower[TOK_FLATTEN] = 9;\n      bindingPower[TOK_STAR] = 20;\n      bindingPower[TOK_FILTER] = 21;\n      bindingPower[TOK_DOT] = 40;\n      bindingPower[TOK_NOT] = 45;\n      bindingPower[TOK_LBRACE] = 50;\n      bindingPower[TOK_LBRACKET] = 55;\n      bindingPower[TOK_LPAREN] = 60;\n\n  function Parser() {\n  }\n\n  Parser.prototype = {\n      parse: function(expression) {\n          this._loadTokens(expression);\n          this.index = 0;\n          var ast = this.expression(0);\n          if (this._lookahead(0) !== TOK_EOF) {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\n                  \"Unexpected token type: \" + t.type + \", value: \" + t.value);\n              error.name = \"ParserError\";\n              throw error;\n          }\n          return ast;\n      },\n\n      _loadTokens: function(expression) {\n          var lexer = new Lexer();\n          var tokens = lexer.tokenize(expression);\n          tokens.push({type: TOK_EOF, value: \"\", start: expression.length});\n          this.tokens = tokens;\n      },\n\n      expression: function(rbp) {\n          var leftToken = this._lookaheadToken(0);\n          this._advance();\n          var left = this.nud(leftToken);\n          var currentToken = this._lookahead(0);\n          while (rbp < bindingPower[currentToken]) {\n              this._advance();\n              left = this.led(currentToken, left);\n              currentToken = this._lookahead(0);\n          }\n          return left;\n      },\n\n      _lookahead: function(number) {\n          return this.tokens[this.index + number].type;\n      },\n\n      _lookaheadToken: function(number) {\n          return this.tokens[this.index + number];\n      },\n\n      _advance: function() {\n          this.index++;\n      },\n\n      nud: function(token) {\n        var left;\n        var right;\n        var expression;\n        switch (token.type) {\n          case TOK_LITERAL:\n            return {type: \"Literal\", value: token.value};\n          case TOK_UNQUOTEDIDENTIFIER:\n            return {type: \"Field\", name: token.value};\n          case TOK_QUOTEDIDENTIFIER:\n            var node = {type: \"Field\", name: token.value};\n            if (this._lookahead(0) === TOK_LPAREN) {\n                throw new Error(\"Quoted identifier not allowed for function names.\");\n            } else {\n                return node;\n            }\n            break;\n          case TOK_NOT:\n            right = this.expression(bindingPower.Not);\n            return {type: \"NotExpression\", children: [right]};\n          case TOK_STAR:\n            left = {type: \"Identity\"};\n            right = null;\n            if (this._lookahead(0) === TOK_RBRACKET) {\n                // This can happen in a multiselect,\n                // [a, b, *]\n                right = {type: \"Identity\"};\n            } else {\n                right = this._parseProjectionRHS(bindingPower.Star);\n            }\n            return {type: \"ValueProjection\", children: [left, right]};\n          case TOK_FILTER:\n            return this.led(token.type, {type: \"Identity\"});\n          case TOK_LBRACE:\n            return this._parseMultiselectHash();\n          case TOK_FLATTEN:\n            left = {type: TOK_FLATTEN, children: [{type: \"Identity\"}]};\n            right = this._parseProjectionRHS(bindingPower.Flatten);\n            return {type: \"Projection\", children: [left, right]};\n          case TOK_LBRACKET:\n            if (this._lookahead(0) === TOK_NUMBER || this._lookahead(0) === TOK_COLON) {\n                right = this._parseIndexExpression();\n                return this._projectIfSlice({type: \"Identity\"}, right);\n            } else if (this._lookahead(0) === TOK_STAR &&\n                       this._lookahead(1) === TOK_RBRACKET) {\n                this._advance();\n                this._advance();\n                right = this._parseProjectionRHS(bindingPower.Star);\n                return {type: \"Projection\",\n                        children: [{type: \"Identity\"}, right]};\n            } else {\n                return this._parseMultiselectList();\n            }\n            break;\n          case TOK_CURRENT:\n            return {type: TOK_CURRENT};\n          case TOK_EXPREF:\n            expression = this.expression(bindingPower.Expref);\n            return {type: \"ExpressionReference\", children: [expression]};\n          case TOK_LPAREN:\n            var args = [];\n            while (this._lookahead(0) !== TOK_RPAREN) {\n              if (this._lookahead(0) === TOK_CURRENT) {\n                expression = {type: TOK_CURRENT};\n                this._advance();\n              } else {\n                expression = this.expression(0);\n              }\n              args.push(expression);\n            }\n            this._match(TOK_RPAREN);\n            return args[0];\n          default:\n            this._errorToken(token);\n        }\n      },\n\n      led: function(tokenName, left) {\n        var right;\n        switch(tokenName) {\n          case TOK_DOT:\n            var rbp = bindingPower.Dot;\n            if (this._lookahead(0) !== TOK_STAR) {\n                right = this._parseDotRHS(rbp);\n                return {type: \"Subexpression\", children: [left, right]};\n            } else {\n                // Creating a projection.\n                this._advance();\n                right = this._parseProjectionRHS(rbp);\n                return {type: \"ValueProjection\", children: [left, right]};\n            }\n            break;\n          case TOK_PIPE:\n            right = this.expression(bindingPower.Pipe);\n            return {type: TOK_PIPE, children: [left, right]};\n          case TOK_OR:\n            right = this.expression(bindingPower.Or);\n            return {type: \"OrExpression\", children: [left, right]};\n          case TOK_AND:\n            right = this.expression(bindingPower.And);\n            return {type: \"AndExpression\", children: [left, right]};\n          case TOK_LPAREN:\n            var name = left.name;\n            var args = [];\n            var expression, node;\n            while (this._lookahead(0) !== TOK_RPAREN) {\n              if (this._lookahead(0) === TOK_CURRENT) {\n                expression = {type: TOK_CURRENT};\n                this._advance();\n              } else {\n                expression = this.expression(0);\n              }\n              if (this._lookahead(0) === TOK_COMMA) {\n                this._match(TOK_COMMA);\n              }\n              args.push(expression);\n            }\n            this._match(TOK_RPAREN);\n            node = {type: \"Function\", name: name, children: args};\n            return node;\n          case TOK_FILTER:\n            var condition = this.expression(0);\n            this._match(TOK_RBRACKET);\n            if (this._lookahead(0) === TOK_FLATTEN) {\n              right = {type: \"Identity\"};\n            } else {\n              right = this._parseProjectionRHS(bindingPower.Filter);\n            }\n            return {type: \"FilterProjection\", children: [left, right, condition]};\n          case TOK_FLATTEN:\n            var leftNode = {type: TOK_FLATTEN, children: [left]};\n            var rightNode = this._parseProjectionRHS(bindingPower.Flatten);\n            return {type: \"Projection\", children: [leftNode, rightNode]};\n          case TOK_EQ:\n          case TOK_NE:\n          case TOK_GT:\n          case TOK_GTE:\n          case TOK_LT:\n          case TOK_LTE:\n            return this._parseComparator(left, tokenName);\n          case TOK_LBRACKET:\n            var token = this._lookaheadToken(0);\n            if (token.type === TOK_NUMBER || token.type === TOK_COLON) {\n                right = this._parseIndexExpression();\n                return this._projectIfSlice(left, right);\n            } else {\n                this._match(TOK_STAR);\n                this._match(TOK_RBRACKET);\n                right = this._parseProjectionRHS(bindingPower.Star);\n                return {type: \"Projection\", children: [left, right]};\n            }\n            break;\n          default:\n            this._errorToken(this._lookaheadToken(0));\n        }\n      },\n\n      _match: function(tokenType) {\n          if (this._lookahead(0) === tokenType) {\n              this._advance();\n          } else {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\"Expected \" + tokenType + \", got: \" + t.type);\n              error.name = \"ParserError\";\n              throw error;\n          }\n      },\n\n      _errorToken: function(token) {\n          var error = new Error(\"Invalid token (\" +\n                                token.type + \"): \\\"\" +\n                                token.value + \"\\\"\");\n          error.name = \"ParserError\";\n          throw error;\n      },\n\n\n      _parseIndexExpression: function() {\n          if (this._lookahead(0) === TOK_COLON || this._lookahead(1) === TOK_COLON) {\n              return this._parseSliceExpression();\n          } else {\n              var node = {\n                  type: \"Index\",\n                  value: this._lookaheadToken(0).value};\n              this._advance();\n              this._match(TOK_RBRACKET);\n              return node;\n          }\n      },\n\n      _projectIfSlice: function(left, right) {\n          var indexExpr = {type: \"IndexExpression\", children: [left, right]};\n          if (right.type === \"Slice\") {\n              return {\n                  type: \"Projection\",\n                  children: [indexExpr, this._parseProjectionRHS(bindingPower.Star)]\n              };\n          } else {\n              return indexExpr;\n          }\n      },\n\n      _parseSliceExpression: function() {\n          // [start:end:step] where each part is optional, as well as the last\n          // colon.\n          var parts = [null, null, null];\n          var index = 0;\n          var currentToken = this._lookahead(0);\n          while (currentToken !== TOK_RBRACKET && index < 3) {\n              if (currentToken === TOK_COLON) {\n                  index++;\n                  this._advance();\n              } else if (currentToken === TOK_NUMBER) {\n                  parts[index] = this._lookaheadToken(0).value;\n                  this._advance();\n              } else {\n                  var t = this._lookahead(0);\n                  var error = new Error(\"Syntax error, unexpected token: \" +\n                                        t.value + \"(\" + t.type + \")\");\n                  error.name = \"Parsererror\";\n                  throw error;\n              }\n              currentToken = this._lookahead(0);\n          }\n          this._match(TOK_RBRACKET);\n          return {\n              type: \"Slice\",\n              children: parts\n          };\n      },\n\n      _parseComparator: function(left, comparator) {\n        var right = this.expression(bindingPower[comparator]);\n        return {type: \"Comparator\", name: comparator, children: [left, right]};\n      },\n\n      _parseDotRHS: function(rbp) {\n          var lookahead = this._lookahead(0);\n          var exprTokens = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER, TOK_STAR];\n          if (exprTokens.indexOf(lookahead) >= 0) {\n              return this.expression(rbp);\n          } else if (lookahead === TOK_LBRACKET) {\n              this._match(TOK_LBRACKET);\n              return this._parseMultiselectList();\n          } else if (lookahead === TOK_LBRACE) {\n              this._match(TOK_LBRACE);\n              return this._parseMultiselectHash();\n          }\n      },\n\n      _parseProjectionRHS: function(rbp) {\n          var right;\n          if (bindingPower[this._lookahead(0)] < 10) {\n              right = {type: \"Identity\"};\n          } else if (this._lookahead(0) === TOK_LBRACKET) {\n              right = this.expression(rbp);\n          } else if (this._lookahead(0) === TOK_FILTER) {\n              right = this.expression(rbp);\n          } else if (this._lookahead(0) === TOK_DOT) {\n              this._match(TOK_DOT);\n              right = this._parseDotRHS(rbp);\n          } else {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\"Sytanx error, unexpected token: \" +\n                                    t.value + \"(\" + t.type + \")\");\n              error.name = \"ParserError\";\n              throw error;\n          }\n          return right;\n      },\n\n      _parseMultiselectList: function() {\n          var expressions = [];\n          while (this._lookahead(0) !== TOK_RBRACKET) {\n              var expression = this.expression(0);\n              expressions.push(expression);\n              if (this._lookahead(0) === TOK_COMMA) {\n                  this._match(TOK_COMMA);\n                  if (this._lookahead(0) === TOK_RBRACKET) {\n                    throw new Error(\"Unexpected token Rbracket\");\n                  }\n              }\n          }\n          this._match(TOK_RBRACKET);\n          return {type: \"MultiSelectList\", children: expressions};\n      },\n\n      _parseMultiselectHash: function() {\n        var pairs = [];\n        var identifierTypes = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER];\n        var keyToken, keyName, value, node;\n        for (;;) {\n          keyToken = this._lookaheadToken(0);\n          if (identifierTypes.indexOf(keyToken.type) < 0) {\n            throw new Error(\"Expecting an identifier token, got: \" +\n                            keyToken.type);\n          }\n          keyName = keyToken.value;\n          this._advance();\n          this._match(TOK_COLON);\n          value = this.expression(0);\n          node = {type: \"KeyValuePair\", name: keyName, value: value};\n          pairs.push(node);\n          if (this._lookahead(0) === TOK_COMMA) {\n            this._match(TOK_COMMA);\n          } else if (this._lookahead(0) === TOK_RBRACE) {\n            this._match(TOK_RBRACE);\n            break;\n          }\n        }\n        return {type: \"MultiSelectHash\", children: pairs};\n      }\n  };\n\n\n  function TreeInterpreter(runtime) {\n    this.runtime = runtime;\n  }\n\n  TreeInterpreter.prototype = {\n      search: function(node, value) {\n          return this.visit(node, value);\n      },\n\n      visit: function(node, value) {\n          var matched, current, result, first, second, field, left, right, collected, i;\n          switch (node.type) {\n            case \"Field\":\n              if (value === null ) {\n                  return null;\n              } else if (isObject(value)) {\n                  field = value[node.name];\n                  if (field === undefined) {\n                      return null;\n                  } else {\n                      return field;\n                  }\n              } else {\n                return null;\n              }\n              break;\n            case \"Subexpression\":\n              result = this.visit(node.children[0], value);\n              for (i = 1; i < node.children.length; i++) {\n                  result = this.visit(node.children[1], result);\n                  if (result === null) {\n                      return null;\n                  }\n              }\n              return result;\n            case \"IndexExpression\":\n              left = this.visit(node.children[0], value);\n              right = this.visit(node.children[1], left);\n              return right;\n            case \"Index\":\n              if (!isArray(value)) {\n                return null;\n              }\n              var index = node.value;\n              if (index < 0) {\n                index = value.length + index;\n              }\n              result = value[index];\n              if (result === undefined) {\n                result = null;\n              }\n              return result;\n            case \"Slice\":\n              if (!isArray(value)) {\n                return null;\n              }\n              var sliceParams = node.children.slice(0);\n              var computed = this.computeSliceParams(value.length, sliceParams);\n              var start = computed[0];\n              var stop = computed[1];\n              var step = computed[2];\n              result = [];\n              if (step > 0) {\n                  for (i = start; i < stop; i += step) {\n                      result.push(value[i]);\n                  }\n              } else {\n                  for (i = start; i > stop; i += step) {\n                      result.push(value[i]);\n                  }\n              }\n              return result;\n            case \"Projection\":\n              // Evaluate left child.\n              var base = this.visit(node.children[0], value);\n              if (!isArray(base)) {\n                return null;\n              }\n              collected = [];\n              for (i = 0; i < base.length; i++) {\n                current = this.visit(node.children[1], base[i]);\n                if (current !== null) {\n                  collected.push(current);\n                }\n              }\n              return collected;\n            case \"ValueProjection\":\n              // Evaluate left child.\n              base = this.visit(node.children[0], value);\n              if (!isObject(base)) {\n                return null;\n              }\n              collected = [];\n              var values = objValues(base);\n              for (i = 0; i < values.length; i++) {\n                current = this.visit(node.children[1], values[i]);\n                if (current !== null) {\n                  collected.push(current);\n                }\n              }\n              return collected;\n            case \"FilterProjection\":\n              base = this.visit(node.children[0], value);\n              if (!isArray(base)) {\n                return null;\n              }\n              var filtered = [];\n              var finalResults = [];\n              for (i = 0; i < base.length; i++) {\n                matched = this.visit(node.children[2], base[i]);\n                if (!isFalse(matched)) {\n                  filtered.push(base[i]);\n                }\n              }\n              for (var j = 0; j < filtered.length; j++) {\n                current = this.visit(node.children[1], filtered[j]);\n                if (current !== null) {\n                  finalResults.push(current);\n                }\n              }\n              return finalResults;\n            case \"Comparator\":\n              first = this.visit(node.children[0], value);\n              second = this.visit(node.children[1], value);\n              switch(node.name) {\n                case TOK_EQ:\n                  result = strictDeepEqual(first, second);\n                  break;\n                case TOK_NE:\n                  result = !strictDeepEqual(first, second);\n                  break;\n                case TOK_GT:\n                  result = first > second;\n                  break;\n                case TOK_GTE:\n                  result = first >= second;\n                  break;\n                case TOK_LT:\n                  result = first < second;\n                  break;\n                case TOK_LTE:\n                  result = first <= second;\n                  break;\n                default:\n                  throw new Error(\"Unknown comparator: \" + node.name);\n              }\n              return result;\n            case TOK_FLATTEN:\n              var original = this.visit(node.children[0], value);\n              if (!isArray(original)) {\n                return null;\n              }\n              var merged = [];\n              for (i = 0; i < original.length; i++) {\n                current = original[i];\n                if (isArray(current)) {\n                  merged.push.apply(merged, current);\n                } else {\n                  merged.push(current);\n                }\n              }\n              return merged;\n            case \"Identity\":\n              return value;\n            case \"MultiSelectList\":\n              if (value === null) {\n                return null;\n              }\n              collected = [];\n              for (i = 0; i < node.children.length; i++) {\n                  collected.push(this.visit(node.children[i], value));\n              }\n              return collected;\n            case \"MultiSelectHash\":\n              if (value === null) {\n                return null;\n              }\n              collected = {};\n              var child;\n              for (i = 0; i < node.children.length; i++) {\n                child = node.children[i];\n                collected[child.name] = this.visit(child.value, value);\n              }\n              return collected;\n            case \"OrExpression\":\n              matched = this.visit(node.children[0], value);\n              if (isFalse(matched)) {\n                  matched = this.visit(node.children[1], value);\n              }\n              return matched;\n            case \"AndExpression\":\n              first = this.visit(node.children[0], value);\n\n              if (isFalse(first) === true) {\n                return first;\n              }\n              return this.visit(node.children[1], value);\n            case \"NotExpression\":\n              first = this.visit(node.children[0], value);\n              return isFalse(first);\n            case \"Literal\":\n              return node.value;\n            case TOK_PIPE:\n              left = this.visit(node.children[0], value);\n              return this.visit(node.children[1], left);\n            case TOK_CURRENT:\n              return value;\n            case \"Function\":\n              var resolvedArgs = [];\n              for (i = 0; i < node.children.length; i++) {\n                  resolvedArgs.push(this.visit(node.children[i], value));\n              }\n              return this.runtime.callFunction(node.name, resolvedArgs);\n            case \"ExpressionReference\":\n              var refNode = node.children[0];\n              // Tag the node with a specific attribute so the type\n              // checker verify the type.\n              refNode.jmespathType = TOK_EXPREF;\n              return refNode;\n            default:\n              throw new Error(\"Unknown node type: \" + node.type);\n          }\n      },\n\n      computeSliceParams: function(arrayLength, sliceParams) {\n        var start = sliceParams[0];\n        var stop = sliceParams[1];\n        var step = sliceParams[2];\n        var computed = [null, null, null];\n        if (step === null) {\n          step = 1;\n        } else if (step === 0) {\n          var error = new Error(\"Invalid slice, step cannot be 0\");\n          error.name = \"RuntimeError\";\n          throw error;\n        }\n        var stepValueNegative = step < 0 ? true : false;\n\n        if (start === null) {\n            start = stepValueNegative ? arrayLength - 1 : 0;\n        } else {\n            start = this.capSliceRange(arrayLength, start, step);\n        }\n\n        if (stop === null) {\n            stop = stepValueNegative ? -1 : arrayLength;\n        } else {\n            stop = this.capSliceRange(arrayLength, stop, step);\n        }\n        computed[0] = start;\n        computed[1] = stop;\n        computed[2] = step;\n        return computed;\n      },\n\n      capSliceRange: function(arrayLength, actualValue, step) {\n          if (actualValue < 0) {\n              actualValue += arrayLength;\n              if (actualValue < 0) {\n                  actualValue = step < 0 ? -1 : 0;\n              }\n          } else if (actualValue >= arrayLength) {\n              actualValue = step < 0 ? arrayLength - 1 : arrayLength;\n          }\n          return actualValue;\n      }\n\n  };\n\n  function Runtime(interpreter) {\n    this._interpreter = interpreter;\n    this.functionTable = {\n        // name: [function, <signature>]\n        // The <signature> can be:\n        //\n        // {\n        //   args: [[type1, type2], [type1, type2]],\n        //   variadic: true|false\n        // }\n        //\n        // Each arg in the arg list is a list of valid types\n        // (if the function is overloaded and supports multiple\n        // types.  If the type is \"any\" then no type checking\n        // occurs on the argument.  Variadic is optional\n        // and if not provided is assumed to be false.\n        abs: {_func: this._functionAbs, _signature: [{types: [TYPE_NUMBER]}]},\n        avg: {_func: this._functionAvg, _signature: [{types: [TYPE_ARRAY_NUMBER]}]},\n        ceil: {_func: this._functionCeil, _signature: [{types: [TYPE_NUMBER]}]},\n        contains: {\n            _func: this._functionContains,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY]},\n                        {types: [TYPE_ANY]}]},\n        \"ends_with\": {\n            _func: this._functionEndsWith,\n            _signature: [{types: [TYPE_STRING]}, {types: [TYPE_STRING]}]},\n        floor: {_func: this._functionFloor, _signature: [{types: [TYPE_NUMBER]}]},\n        length: {\n            _func: this._functionLength,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY, TYPE_OBJECT]}]},\n        map: {\n            _func: this._functionMap,\n            _signature: [{types: [TYPE_EXPREF]}, {types: [TYPE_ARRAY]}]},\n        max: {\n            _func: this._functionMax,\n            _signature: [{types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING]}]},\n        \"merge\": {\n            _func: this._functionMerge,\n            _signature: [{types: [TYPE_OBJECT], variadic: true}]\n        },\n        \"max_by\": {\n          _func: this._functionMaxBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        sum: {_func: this._functionSum, _signature: [{types: [TYPE_ARRAY_NUMBER]}]},\n        \"starts_with\": {\n            _func: this._functionStartsWith,\n            _signature: [{types: [TYPE_STRING]}, {types: [TYPE_STRING]}]},\n        min: {\n            _func: this._functionMin,\n            _signature: [{types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING]}]},\n        \"min_by\": {\n          _func: this._functionMinBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        type: {_func: this._functionType, _signature: [{types: [TYPE_ANY]}]},\n        keys: {_func: this._functionKeys, _signature: [{types: [TYPE_OBJECT]}]},\n        values: {_func: this._functionValues, _signature: [{types: [TYPE_OBJECT]}]},\n        sort: {_func: this._functionSort, _signature: [{types: [TYPE_ARRAY_STRING, TYPE_ARRAY_NUMBER]}]},\n        \"sort_by\": {\n          _func: this._functionSortBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        join: {\n            _func: this._functionJoin,\n            _signature: [\n                {types: [TYPE_STRING]},\n                {types: [TYPE_ARRAY_STRING]}\n            ]\n        },\n        reverse: {\n            _func: this._functionReverse,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY]}]},\n        \"to_array\": {_func: this._functionToArray, _signature: [{types: [TYPE_ANY]}]},\n        \"to_string\": {_func: this._functionToString, _signature: [{types: [TYPE_ANY]}]},\n        \"to_number\": {_func: this._functionToNumber, _signature: [{types: [TYPE_ANY]}]},\n        \"not_null\": {\n            _func: this._functionNotNull,\n            _signature: [{types: [TYPE_ANY], variadic: true}]\n        }\n    };\n  }\n\n  Runtime.prototype = {\n    callFunction: function(name, resolvedArgs) {\n      var functionEntry = this.functionTable[name];\n      if (functionEntry === undefined) {\n          throw new Error(\"Unknown function: \" + name + \"()\");\n      }\n      this._validateArgs(name, resolvedArgs, functionEntry._signature);\n      return functionEntry._func.call(this, resolvedArgs);\n    },\n\n    _validateArgs: function(name, args, signature) {\n        // Validating the args requires validating\n        // the correct arity and the correct type of each arg.\n        // If the last argument is declared as variadic, then we need\n        // a minimum number of args to be required.  Otherwise it has to\n        // be an exact amount.\n        var pluralized;\n        if (signature[signature.length - 1].variadic) {\n            if (args.length < signature.length) {\n                pluralized = signature.length === 1 ? \" argument\" : \" arguments\";\n                throw new Error(\"ArgumentError: \" + name + \"() \" +\n                                \"takes at least\" + signature.length + pluralized +\n                                \" but received \" + args.length);\n            }\n        } else if (args.length !== signature.length) {\n            pluralized = signature.length === 1 ? \" argument\" : \" arguments\";\n            throw new Error(\"ArgumentError: \" + name + \"() \" +\n                            \"takes \" + signature.length + pluralized +\n                            \" but received \" + args.length);\n        }\n        var currentSpec;\n        var actualType;\n        var typeMatched;\n        for (var i = 0; i < signature.length; i++) {\n            typeMatched = false;\n            currentSpec = signature[i].types;\n            actualType = this._getTypeName(args[i]);\n            for (var j = 0; j < currentSpec.length; j++) {\n                if (this._typeMatches(actualType, currentSpec[j], args[i])) {\n                    typeMatched = true;\n                    break;\n                }\n            }\n            if (!typeMatched) {\n                throw new Error(\"TypeError: \" + name + \"() \" +\n                                \"expected argument \" + (i + 1) +\n                                \" to be type \" + currentSpec +\n                                \" but received type \" + actualType +\n                                \" instead.\");\n            }\n        }\n    },\n\n    _typeMatches: function(actual, expected, argValue) {\n        if (expected === TYPE_ANY) {\n            return true;\n        }\n        if (expected === TYPE_ARRAY_STRING ||\n            expected === TYPE_ARRAY_NUMBER ||\n            expected === TYPE_ARRAY) {\n            // The expected type can either just be array,\n            // or it can require a specific subtype (array of numbers).\n            //\n            // The simplest case is if \"array\" with no subtype is specified.\n            if (expected === TYPE_ARRAY) {\n                return actual === TYPE_ARRAY;\n            } else if (actual === TYPE_ARRAY) {\n                // Otherwise we need to check subtypes.\n                // I think this has potential to be improved.\n                var subtype;\n                if (expected === TYPE_ARRAY_NUMBER) {\n                  subtype = TYPE_NUMBER;\n                } else if (expected === TYPE_ARRAY_STRING) {\n                  subtype = TYPE_STRING;\n                }\n                for (var i = 0; i < argValue.length; i++) {\n                    if (!this._typeMatches(\n                            this._getTypeName(argValue[i]), subtype,\n                                             argValue[i])) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n        } else {\n            return actual === expected;\n        }\n    },\n    _getTypeName: function(obj) {\n        switch (Object.prototype.toString.call(obj)) {\n            case \"[object String]\":\n              return TYPE_STRING;\n            case \"[object Number]\":\n              return TYPE_NUMBER;\n            case \"[object Array]\":\n              return TYPE_ARRAY;\n            case \"[object Boolean]\":\n              return TYPE_BOOLEAN;\n            case \"[object Null]\":\n              return TYPE_NULL;\n            case \"[object Object]\":\n              // Check if it's an expref.  If it has, it's been\n              // tagged with a jmespathType attr of 'Expref';\n              if (obj.jmespathType === TOK_EXPREF) {\n                return TYPE_EXPREF;\n              } else {\n                return TYPE_OBJECT;\n              }\n        }\n    },\n\n    _functionStartsWith: function(resolvedArgs) {\n        return resolvedArgs[0].lastIndexOf(resolvedArgs[1]) === 0;\n    },\n\n    _functionEndsWith: function(resolvedArgs) {\n        var searchStr = resolvedArgs[0];\n        var suffix = resolvedArgs[1];\n        return searchStr.indexOf(suffix, searchStr.length - suffix.length) !== -1;\n    },\n\n    _functionReverse: function(resolvedArgs) {\n        var typeName = this._getTypeName(resolvedArgs[0]);\n        if (typeName === TYPE_STRING) {\n          var originalStr = resolvedArgs[0];\n          var reversedStr = \"\";\n          for (var i = originalStr.length - 1; i >= 0; i--) {\n              reversedStr += originalStr[i];\n          }\n          return reversedStr;\n        } else {\n          var reversedArray = resolvedArgs[0].slice(0);\n          reversedArray.reverse();\n          return reversedArray;\n        }\n    },\n\n    _functionAbs: function(resolvedArgs) {\n      return Math.abs(resolvedArgs[0]);\n    },\n\n    _functionCeil: function(resolvedArgs) {\n        return Math.ceil(resolvedArgs[0]);\n    },\n\n    _functionAvg: function(resolvedArgs) {\n        var sum = 0;\n        var inputArray = resolvedArgs[0];\n        for (var i = 0; i < inputArray.length; i++) {\n            sum += inputArray[i];\n        }\n        return sum / inputArray.length;\n    },\n\n    _functionContains: function(resolvedArgs) {\n        return resolvedArgs[0].indexOf(resolvedArgs[1]) >= 0;\n    },\n\n    _functionFloor: function(resolvedArgs) {\n        return Math.floor(resolvedArgs[0]);\n    },\n\n    _functionLength: function(resolvedArgs) {\n       if (!isObject(resolvedArgs[0])) {\n         return resolvedArgs[0].length;\n       } else {\n         // As far as I can tell, there's no way to get the length\n         // of an object without O(n) iteration through the object.\n         return Object.keys(resolvedArgs[0]).length;\n       }\n    },\n\n    _functionMap: function(resolvedArgs) {\n      var mapped = [];\n      var interpreter = this._interpreter;\n      var exprefNode = resolvedArgs[0];\n      var elements = resolvedArgs[1];\n      for (var i = 0; i < elements.length; i++) {\n          mapped.push(interpreter.visit(exprefNode, elements[i]));\n      }\n      return mapped;\n    },\n\n    _functionMerge: function(resolvedArgs) {\n      var merged = {};\n      for (var i = 0; i < resolvedArgs.length; i++) {\n        var current = resolvedArgs[i];\n        for (var key in current) {\n          merged[key] = current[key];\n        }\n      }\n      return merged;\n    },\n\n    _functionMax: function(resolvedArgs) {\n      if (resolvedArgs[0].length > 0) {\n        var typeName = this._getTypeName(resolvedArgs[0][0]);\n        if (typeName === TYPE_NUMBER) {\n          return Math.max.apply(Math, resolvedArgs[0]);\n        } else {\n          var elements = resolvedArgs[0];\n          var maxElement = elements[0];\n          for (var i = 1; i < elements.length; i++) {\n              if (maxElement.localeCompare(elements[i]) < 0) {\n                  maxElement = elements[i];\n              }\n          }\n          return maxElement;\n        }\n      } else {\n          return null;\n      }\n    },\n\n    _functionMin: function(resolvedArgs) {\n      if (resolvedArgs[0].length > 0) {\n        var typeName = this._getTypeName(resolvedArgs[0][0]);\n        if (typeName === TYPE_NUMBER) {\n          return Math.min.apply(Math, resolvedArgs[0]);\n        } else {\n          var elements = resolvedArgs[0];\n          var minElement = elements[0];\n          for (var i = 1; i < elements.length; i++) {\n              if (elements[i].localeCompare(minElement) < 0) {\n                  minElement = elements[i];\n              }\n          }\n          return minElement;\n        }\n      } else {\n        return null;\n      }\n    },\n\n    _functionSum: function(resolvedArgs) {\n      var sum = 0;\n      var listToSum = resolvedArgs[0];\n      for (var i = 0; i < listToSum.length; i++) {\n        sum += listToSum[i];\n      }\n      return sum;\n    },\n\n    _functionType: function(resolvedArgs) {\n        switch (this._getTypeName(resolvedArgs[0])) {\n          case TYPE_NUMBER:\n            return \"number\";\n          case TYPE_STRING:\n            return \"string\";\n          case TYPE_ARRAY:\n            return \"array\";\n          case TYPE_OBJECT:\n            return \"object\";\n          case TYPE_BOOLEAN:\n            return \"boolean\";\n          case TYPE_EXPREF:\n            return \"expref\";\n          case TYPE_NULL:\n            return \"null\";\n        }\n    },\n\n    _functionKeys: function(resolvedArgs) {\n        return Object.keys(resolvedArgs[0]);\n    },\n\n    _functionValues: function(resolvedArgs) {\n        var obj = resolvedArgs[0];\n        var keys = Object.keys(obj);\n        var values = [];\n        for (var i = 0; i < keys.length; i++) {\n            values.push(obj[keys[i]]);\n        }\n        return values;\n    },\n\n    _functionJoin: function(resolvedArgs) {\n        var joinChar = resolvedArgs[0];\n        var listJoin = resolvedArgs[1];\n        return listJoin.join(joinChar);\n    },\n\n    _functionToArray: function(resolvedArgs) {\n        if (this._getTypeName(resolvedArgs[0]) === TYPE_ARRAY) {\n            return resolvedArgs[0];\n        } else {\n            return [resolvedArgs[0]];\n        }\n    },\n\n    _functionToString: function(resolvedArgs) {\n        if (this._getTypeName(resolvedArgs[0]) === TYPE_STRING) {\n            return resolvedArgs[0];\n        } else {\n            return JSON.stringify(resolvedArgs[0]);\n        }\n    },\n\n    _functionToNumber: function(resolvedArgs) {\n        var typeName = this._getTypeName(resolvedArgs[0]);\n        var convertedValue;\n        if (typeName === TYPE_NUMBER) {\n            return resolvedArgs[0];\n        } else if (typeName === TYPE_STRING) {\n            convertedValue = +resolvedArgs[0];\n            if (!isNaN(convertedValue)) {\n                return convertedValue;\n            }\n        }\n        return null;\n    },\n\n    _functionNotNull: function(resolvedArgs) {\n        for (var i = 0; i < resolvedArgs.length; i++) {\n            if (this._getTypeName(resolvedArgs[i]) !== TYPE_NULL) {\n                return resolvedArgs[i];\n            }\n        }\n        return null;\n    },\n\n    _functionSort: function(resolvedArgs) {\n        var sortedArray = resolvedArgs[0].slice(0);\n        sortedArray.sort();\n        return sortedArray;\n    },\n\n    _functionSortBy: function(resolvedArgs) {\n        var sortedArray = resolvedArgs[0].slice(0);\n        if (sortedArray.length === 0) {\n            return sortedArray;\n        }\n        var interpreter = this._interpreter;\n        var exprefNode = resolvedArgs[1];\n        var requiredType = this._getTypeName(\n            interpreter.visit(exprefNode, sortedArray[0]));\n        if ([TYPE_NUMBER, TYPE_STRING].indexOf(requiredType) < 0) {\n            throw new Error(\"TypeError\");\n        }\n        var that = this;\n        // In order to get a stable sort out of an unstable\n        // sort algorithm, we decorate/sort/undecorate (DSU)\n        // by creating a new list of [index, element] pairs.\n        // In the cmp function, if the evaluated elements are\n        // equal, then the index will be used as the tiebreaker.\n        // After the decorated list has been sorted, it will be\n        // undecorated to extract the original elements.\n        var decorated = [];\n        for (var i = 0; i < sortedArray.length; i++) {\n          decorated.push([i, sortedArray[i]]);\n        }\n        decorated.sort(function(a, b) {\n          var exprA = interpreter.visit(exprefNode, a[1]);\n          var exprB = interpreter.visit(exprefNode, b[1]);\n          if (that._getTypeName(exprA) !== requiredType) {\n              throw new Error(\n                  \"TypeError: expected \" + requiredType + \", received \" +\n                  that._getTypeName(exprA));\n          } else if (that._getTypeName(exprB) !== requiredType) {\n              throw new Error(\n                  \"TypeError: expected \" + requiredType + \", received \" +\n                  that._getTypeName(exprB));\n          }\n          if (exprA > exprB) {\n            return 1;\n          } else if (exprA < exprB) {\n            return -1;\n          } else {\n            // If they're equal compare the items by their\n            // order to maintain relative order of equal keys\n            // (i.e. to get a stable sort).\n            return a[0] - b[0];\n          }\n        });\n        // Undecorate: extract out the original list elements.\n        for (var j = 0; j < decorated.length; j++) {\n          sortedArray[j] = decorated[j][1];\n        }\n        return sortedArray;\n    },\n\n    _functionMaxBy: function(resolvedArgs) {\n      var exprefNode = resolvedArgs[1];\n      var resolvedArray = resolvedArgs[0];\n      var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);\n      var maxNumber = -Infinity;\n      var maxRecord;\n      var current;\n      for (var i = 0; i < resolvedArray.length; i++) {\n        current = keyFunction(resolvedArray[i]);\n        if (current > maxNumber) {\n          maxNumber = current;\n          maxRecord = resolvedArray[i];\n        }\n      }\n      return maxRecord;\n    },\n\n    _functionMinBy: function(resolvedArgs) {\n      var exprefNode = resolvedArgs[1];\n      var resolvedArray = resolvedArgs[0];\n      var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);\n      var minNumber = Infinity;\n      var minRecord;\n      var current;\n      for (var i = 0; i < resolvedArray.length; i++) {\n        current = keyFunction(resolvedArray[i]);\n        if (current < minNumber) {\n          minNumber = current;\n          minRecord = resolvedArray[i];\n        }\n      }\n      return minRecord;\n    },\n\n    createKeyFunction: function(exprefNode, allowedTypes) {\n      var that = this;\n      var interpreter = this._interpreter;\n      var keyFunc = function(x) {\n        var current = interpreter.visit(exprefNode, x);\n        if (allowedTypes.indexOf(that._getTypeName(current)) < 0) {\n          var msg = \"TypeError: expected one of \" + allowedTypes +\n                    \", received \" + that._getTypeName(current);\n          throw new Error(msg);\n        }\n        return current;\n      };\n      return keyFunc;\n    }\n\n  };\n\n  function compile(stream) {\n    var parser = new Parser();\n    var ast = parser.parse(stream);\n    return ast;\n  }\n\n  function tokenize(stream) {\n      var lexer = new Lexer();\n      return lexer.tokenize(stream);\n  }\n\n  function search(data, expression) {\n      var parser = new Parser();\n      // This needs to be improved.  Both the interpreter and runtime depend on\n      // each other.  The runtime needs the interpreter to support exprefs.\n      // There's likely a clean way to avoid the cyclic dependency.\n      var runtime = new Runtime();\n      var interpreter = new TreeInterpreter(runtime);\n      runtime._interpreter = interpreter;\n      var node = parser.parse(expression);\n      return interpreter.search(node, data);\n  }\n\n  exports.tokenize = tokenize;\n  exports.compile = compile;\n  exports.search = search;\n  exports.strictDeepEqual = strictDeepEqual;\n})(typeof exports === \"undefined\" ? this.jmespath = {} : exports);\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Auth_1 = require(\"./Auth\");\nexports.AuthClass = Auth_1.default;\nvar Common_1 = require(\"../Common\");\nvar logger = new Common_1.ConsoleLogger('Auth');\nvar _instance = null;\nif (!_instance) {\n    logger.debug('Create Auth Instance');\n    _instance = new Auth_1.default(null);\n}\nvar Auth = _instance;\nexports.default = Auth;\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nvar _require = require('./Component'),\n    CopyToClipboard = _require.CopyToClipboard;\n\nCopyToClipboard.CopyToClipboard = CopyToClipboard;\nmodule.exports = CopyToClipboard;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CopyToClipboard = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _copyToClipboard = _interopRequireDefault(require(\"copy-to-clipboard\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar CopyToClipboard =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(CopyToClipboard, _React$PureComponent);\n\n  function CopyToClipboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CopyToClipboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CopyToClipboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      var _this$props = _this.props,\n          text = _this$props.text,\n          onCopy = _this$props.onCopy,\n          children = _this$props.children,\n          options = _this$props.options;\n\n      var elem = _react[\"default\"].Children.only(children);\n\n      var result = (0, _copyToClipboard[\"default\"])(text, options);\n\n      if (onCopy) {\n        onCopy(text, result);\n      } // Bypass onClick if it was present\n\n\n      if (elem && elem.props && typeof elem.props.onClick === 'function') {\n        elem.props.onClick(event);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(CopyToClipboard, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          _text = _this$props2.text,\n          _onCopy = _this$props2.onCopy,\n          _options = _this$props2.options,\n          children = _this$props2.children,\n          props = _objectWithoutProperties(_this$props2, [\"text\", \"onCopy\", \"options\", \"children\"]);\n\n      var elem = _react[\"default\"].Children.only(children);\n\n      return _react[\"default\"].cloneElement(elem, _objectSpread({}, props, {\n        onClick: this.onClick\n      }));\n    }\n  }]);\n\n  return CopyToClipboard;\n}(_react[\"default\"].PureComponent);\n\nexports.CopyToClipboard = CopyToClipboard;\n\n_defineProperty(CopyToClipboard, \"defaultProps\", {\n  onCopy: undefined,\n  options: undefined\n});","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        e.clipboardData.clearData();\n        e.clipboardData.setData(options.format, text);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","var Collection = require('./collection');\n\nvar util = require('../util');\n\nfunction property(obj, name, value) {\n  if (value !== null && value !== undefined) {\n    util.property.apply(this, arguments);\n  }\n}\n\nfunction memoizedProperty(obj, name) {\n  if (!obj.constructor.prototype[name]) {\n    util.memoizedProperty.apply(this, arguments);\n  }\n}\n\nfunction Shape(shape, options, memberName) {\n  options = options || {};\n\n  property(this, 'shape', shape.shape);\n  property(this, 'api', options.api, false);\n  property(this, 'type', shape.type);\n  property(this, 'enum', shape.enum);\n  property(this, 'min', shape.min);\n  property(this, 'max', shape.max);\n  property(this, 'pattern', shape.pattern);\n  property(this, 'location', shape.location || this.location || 'body');\n  property(this, 'name', this.name || shape.xmlName || shape.queryName ||\n    shape.locationName || memberName);\n  property(this, 'isStreaming', shape.streaming || this.isStreaming || false);\n  property(this, 'isComposite', shape.isComposite || false);\n  property(this, 'isShape', true, false);\n  property(this, 'isQueryName', Boolean(shape.queryName), false);\n  property(this, 'isLocationName', Boolean(shape.locationName), false);\n  property(this, 'isIdempotent', shape.idempotencyToken === true);\n  property(this, 'isJsonValue', shape.jsonvalue === true);\n  property(this, 'isSensitive', shape.sensitive === true || shape.prototype && shape.prototype.sensitive === true);\n\n  if (options.documentation) {\n    property(this, 'documentation', shape.documentation);\n    property(this, 'documentationUrl', shape.documentationUrl);\n  }\n\n  if (shape.xmlAttribute) {\n    property(this, 'isXmlAttribute', shape.xmlAttribute || false);\n  }\n\n  // type conversion and parsing\n  property(this, 'defaultValue', null);\n  this.toWireFormat = function(value) {\n    if (value === null || value === undefined) return '';\n    return value;\n  };\n  this.toType = function(value) { return value; };\n}\n\n/**\n * @api private\n */\nShape.normalizedTypes = {\n  character: 'string',\n  double: 'float',\n  long: 'integer',\n  short: 'integer',\n  biginteger: 'integer',\n  bigdecimal: 'float',\n  blob: 'binary'\n};\n\n/**\n * @api private\n */\nShape.types = {\n  'structure': StructureShape,\n  'list': ListShape,\n  'map': MapShape,\n  'boolean': BooleanShape,\n  'timestamp': TimestampShape,\n  'float': FloatShape,\n  'integer': IntegerShape,\n  'string': StringShape,\n  'base64': Base64Shape,\n  'binary': BinaryShape\n};\n\nShape.resolve = function resolve(shape, options) {\n  if (shape.shape) {\n    var refShape = options.api.shapes[shape.shape];\n    if (!refShape) {\n      throw new Error('Cannot find shape reference: ' + shape.shape);\n    }\n\n    return refShape;\n  } else {\n    return null;\n  }\n};\n\nShape.create = function create(shape, options, memberName) {\n  if (shape.isShape) return shape;\n\n  var refShape = Shape.resolve(shape, options);\n  if (refShape) {\n    var filteredKeys = Object.keys(shape);\n    if (!options.documentation) {\n      filteredKeys = filteredKeys.filter(function(name) {\n        return !name.match(/documentation/);\n      });\n    }\n\n    // create an inline shape with extra members\n    var InlineShape = function() {\n      refShape.constructor.call(this, shape, options, memberName);\n    };\n    InlineShape.prototype = refShape;\n    return new InlineShape();\n  } else {\n    // set type if not set\n    if (!shape.type) {\n      if (shape.members) shape.type = 'structure';\n      else if (shape.member) shape.type = 'list';\n      else if (shape.key) shape.type = 'map';\n      else shape.type = 'string';\n    }\n\n    // normalize types\n    var origType = shape.type;\n    if (Shape.normalizedTypes[shape.type]) {\n      shape.type = Shape.normalizedTypes[shape.type];\n    }\n\n    if (Shape.types[shape.type]) {\n      return new Shape.types[shape.type](shape, options, memberName);\n    } else {\n      throw new Error('Unrecognized shape type: ' + origType);\n    }\n  }\n};\n\nfunction CompositeShape(shape) {\n  Shape.apply(this, arguments);\n  property(this, 'isComposite', true);\n\n  if (shape.flattened) {\n    property(this, 'flattened', shape.flattened || false);\n  }\n}\n\nfunction StructureShape(shape, options) {\n  var requiredMap = null, firstInit = !this.isShape;\n\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return {}; });\n    property(this, 'members', {});\n    property(this, 'memberNames', []);\n    property(this, 'required', []);\n    property(this, 'isRequired', function() { return false; });\n  }\n\n  if (shape.members) {\n    property(this, 'members', new Collection(shape.members, options, function(name, member) {\n      return Shape.create(member, options, name);\n    }));\n    memoizedProperty(this, 'memberNames', function() {\n      return shape.xmlOrder || Object.keys(shape.members);\n    });\n  }\n\n  if (shape.required) {\n    property(this, 'required', shape.required);\n    property(this, 'isRequired', function(name) {\n      if (!requiredMap) {\n        requiredMap = {};\n        for (var i = 0; i < shape.required.length; i++) {\n          requiredMap[shape.required[i]] = true;\n        }\n      }\n\n      return requiredMap[name];\n    }, false, true);\n  }\n\n  property(this, 'resultWrapper', shape.resultWrapper || null);\n\n  if (shape.payload) {\n    property(this, 'payload', shape.payload);\n  }\n\n  if (typeof shape.xmlNamespace === 'string') {\n    property(this, 'xmlNamespaceUri', shape.xmlNamespace);\n  } else if (typeof shape.xmlNamespace === 'object') {\n    property(this, 'xmlNamespacePrefix', shape.xmlNamespace.prefix);\n    property(this, 'xmlNamespaceUri', shape.xmlNamespace.uri);\n  }\n}\n\nfunction ListShape(shape, options) {\n  var self = this, firstInit = !this.isShape;\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return []; });\n  }\n\n  if (shape.member) {\n    memoizedProperty(this, 'member', function() {\n      return Shape.create(shape.member, options);\n    });\n  }\n\n  if (this.flattened) {\n    var oldName = this.name;\n    memoizedProperty(this, 'name', function() {\n      return self.member.name || oldName;\n    });\n  }\n}\n\nfunction MapShape(shape, options) {\n  var firstInit = !this.isShape;\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return {}; });\n    property(this, 'key', Shape.create({type: 'string'}, options));\n    property(this, 'value', Shape.create({type: 'string'}, options));\n  }\n\n  if (shape.key) {\n    memoizedProperty(this, 'key', function() {\n      return Shape.create(shape.key, options);\n    });\n  }\n  if (shape.value) {\n    memoizedProperty(this, 'value', function() {\n      return Shape.create(shape.value, options);\n    });\n  }\n}\n\nfunction TimestampShape(shape) {\n  var self = this;\n  Shape.apply(this, arguments);\n\n  if (this.location === 'header') {\n    property(this, 'timestampFormat', 'rfc822');\n  } else if (shape.timestampFormat) {\n    property(this, 'timestampFormat', shape.timestampFormat);\n  } else if (!this.timestampFormat && this.api) {\n    if (this.api.timestampFormat) {\n      property(this, 'timestampFormat', this.api.timestampFormat);\n    } else {\n      switch (this.api.protocol) {\n        case 'json':\n        case 'rest-json':\n          property(this, 'timestampFormat', 'unixTimestamp');\n          break;\n        case 'rest-xml':\n        case 'query':\n        case 'ec2':\n          property(this, 'timestampFormat', 'iso8601');\n          break;\n      }\n    }\n  }\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    if (typeof value.toUTCString === 'function') return value;\n    return typeof value === 'string' || typeof value === 'number' ?\n           util.date.parseTimestamp(value) : null;\n  };\n\n  this.toWireFormat = function(value) {\n    return util.date.format(value, self.timestampFormat);\n  };\n}\n\nfunction StringShape() {\n  Shape.apply(this, arguments);\n\n  var nullLessProtocols = ['rest-xml', 'query', 'ec2'];\n  this.toType = function(value) {\n    value = this.api && nullLessProtocols.indexOf(this.api.protocol) > -1 ?\n      value || '' : value;\n    if (this.isJsonValue) {\n      return JSON.parse(value);\n    }\n\n    return value && typeof value.toString === 'function' ?\n      value.toString() : value;\n  };\n\n  this.toWireFormat = function(value) {\n    return this.isJsonValue ? JSON.stringify(value) : value;\n  };\n}\n\nfunction FloatShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    return parseFloat(value);\n  };\n  this.toWireFormat = this.toType;\n}\n\nfunction IntegerShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    return parseInt(value, 10);\n  };\n  this.toWireFormat = this.toType;\n}\n\nfunction BinaryShape() {\n  Shape.apply(this, arguments);\n  this.toType = util.base64.decode;\n  this.toWireFormat = util.base64.encode;\n}\n\nfunction Base64Shape() {\n  BinaryShape.apply(this, arguments);\n}\n\nfunction BooleanShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (typeof value === 'boolean') return value;\n    if (value === null || value === undefined) return null;\n    return value === 'true';\n  };\n}\n\n/**\n * @api private\n */\nShape.shapes = {\n  StructureShape: StructureShape,\n  ListShape: ListShape,\n  MapShape: MapShape,\n  StringShape: StringShape,\n  BooleanShape: BooleanShape,\n  Base64Shape: Base64Shape\n};\n\nmodule.exports = Shape;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var Collection = require('./collection');\n\nvar util = require('../util');\n\nfunction property(obj, name, value) {\n  if (value !== null && value !== undefined) {\n    util.property.apply(this, arguments);\n  }\n}\n\nfunction memoizedProperty(obj, name) {\n  if (!obj.constructor.prototype[name]) {\n    util.memoizedProperty.apply(this, arguments);\n  }\n}\n\nfunction Shape(shape, options, memberName) {\n  options = options || {};\n\n  property(this, 'shape', shape.shape);\n  property(this, 'api', options.api, false);\n  property(this, 'type', shape.type);\n  property(this, 'enum', shape.enum);\n  property(this, 'min', shape.min);\n  property(this, 'max', shape.max);\n  property(this, 'pattern', shape.pattern);\n  property(this, 'location', shape.location || this.location || 'body');\n  property(this, 'name', this.name || shape.xmlName || shape.queryName ||\n    shape.locationName || memberName);\n  property(this, 'isStreaming', shape.streaming || this.isStreaming || false);\n  property(this, 'isComposite', shape.isComposite || false);\n  property(this, 'isShape', true, false);\n  property(this, 'isQueryName', Boolean(shape.queryName), false);\n  property(this, 'isLocationName', Boolean(shape.locationName), false);\n  property(this, 'isIdempotent', shape.idempotencyToken === true);\n  property(this, 'isJsonValue', shape.jsonvalue === true);\n  property(this, 'isSensitive', shape.sensitive === true || shape.prototype && shape.prototype.sensitive === true);\n  property(this, 'isEventStream', Boolean(shape.eventstream), false);\n  property(this, 'isEvent', Boolean(shape.event), false);\n  property(this, 'isEventPayload', Boolean(shape.eventpayload), false);\n  property(this, 'isEventHeader', Boolean(shape.eventheader), false);\n\n  if (options.documentation) {\n    property(this, 'documentation', shape.documentation);\n    property(this, 'documentationUrl', shape.documentationUrl);\n  }\n\n  if (shape.xmlAttribute) {\n    property(this, 'isXmlAttribute', shape.xmlAttribute || false);\n  }\n\n  // type conversion and parsing\n  property(this, 'defaultValue', null);\n  this.toWireFormat = function(value) {\n    if (value === null || value === undefined) return '';\n    return value;\n  };\n  this.toType = function(value) { return value; };\n}\n\n/**\n * @api private\n */\nShape.normalizedTypes = {\n  character: 'string',\n  double: 'float',\n  long: 'integer',\n  short: 'integer',\n  biginteger: 'integer',\n  bigdecimal: 'float',\n  blob: 'binary'\n};\n\n/**\n * @api private\n */\nShape.types = {\n  'structure': StructureShape,\n  'list': ListShape,\n  'map': MapShape,\n  'boolean': BooleanShape,\n  'timestamp': TimestampShape,\n  'float': FloatShape,\n  'integer': IntegerShape,\n  'string': StringShape,\n  'base64': Base64Shape,\n  'binary': BinaryShape\n};\n\nShape.resolve = function resolve(shape, options) {\n  if (shape.shape) {\n    var refShape = options.api.shapes[shape.shape];\n    if (!refShape) {\n      throw new Error('Cannot find shape reference: ' + shape.shape);\n    }\n\n    return refShape;\n  } else {\n    return null;\n  }\n};\n\nShape.create = function create(shape, options, memberName) {\n  if (shape.isShape) return shape;\n\n  var refShape = Shape.resolve(shape, options);\n  if (refShape) {\n    var filteredKeys = Object.keys(shape);\n    if (!options.documentation) {\n      filteredKeys = filteredKeys.filter(function(name) {\n        return !name.match(/documentation/);\n      });\n    }\n\n    // create an inline shape with extra members\n    var InlineShape = function() {\n      refShape.constructor.call(this, shape, options, memberName);\n    };\n    InlineShape.prototype = refShape;\n    return new InlineShape();\n  } else {\n    // set type if not set\n    if (!shape.type) {\n      if (shape.members) shape.type = 'structure';\n      else if (shape.member) shape.type = 'list';\n      else if (shape.key) shape.type = 'map';\n      else shape.type = 'string';\n    }\n\n    // normalize types\n    var origType = shape.type;\n    if (Shape.normalizedTypes[shape.type]) {\n      shape.type = Shape.normalizedTypes[shape.type];\n    }\n\n    if (Shape.types[shape.type]) {\n      return new Shape.types[shape.type](shape, options, memberName);\n    } else {\n      throw new Error('Unrecognized shape type: ' + origType);\n    }\n  }\n};\n\nfunction CompositeShape(shape) {\n  Shape.apply(this, arguments);\n  property(this, 'isComposite', true);\n\n  if (shape.flattened) {\n    property(this, 'flattened', shape.flattened || false);\n  }\n}\n\nfunction StructureShape(shape, options) {\n  var self = this;\n  var requiredMap = null, firstInit = !this.isShape;\n\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return {}; });\n    property(this, 'members', {});\n    property(this, 'memberNames', []);\n    property(this, 'required', []);\n    property(this, 'isRequired', function() { return false; });\n  }\n\n  if (shape.members) {\n    property(this, 'members', new Collection(shape.members, options, function(name, member) {\n      return Shape.create(member, options, name);\n    }));\n    memoizedProperty(this, 'memberNames', function() {\n      return shape.xmlOrder || Object.keys(shape.members);\n    });\n\n    if (shape.event) {\n      memoizedProperty(this, 'eventPayloadMemberName', function() {\n        var members = self.members;\n        var memberNames = self.memberNames;\n        // iterate over members to find ones that are event payloads\n        for (var i = 0, iLen = memberNames.length; i < iLen; i++) {\n          if (members[memberNames[i]].isEventPayload) {\n            return memberNames[i];\n          }\n        }\n      });\n\n      memoizedProperty(this, 'eventHeaderMemberNames', function() {\n        var members = self.members;\n        var memberNames = self.memberNames;\n        var eventHeaderMemberNames = [];\n        // iterate over members to find ones that are event headers\n        for (var i = 0, iLen = memberNames.length; i < iLen; i++) {\n          if (members[memberNames[i]].isEventHeader) {\n            eventHeaderMemberNames.push(memberNames[i]);\n          }\n        }\n        return eventHeaderMemberNames;\n      });\n    }\n  }\n\n  if (shape.required) {\n    property(this, 'required', shape.required);\n    property(this, 'isRequired', function(name) {\n      if (!requiredMap) {\n        requiredMap = {};\n        for (var i = 0; i < shape.required.length; i++) {\n          requiredMap[shape.required[i]] = true;\n        }\n      }\n\n      return requiredMap[name];\n    }, false, true);\n  }\n\n  property(this, 'resultWrapper', shape.resultWrapper || null);\n\n  if (shape.payload) {\n    property(this, 'payload', shape.payload);\n  }\n\n  if (typeof shape.xmlNamespace === 'string') {\n    property(this, 'xmlNamespaceUri', shape.xmlNamespace);\n  } else if (typeof shape.xmlNamespace === 'object') {\n    property(this, 'xmlNamespacePrefix', shape.xmlNamespace.prefix);\n    property(this, 'xmlNamespaceUri', shape.xmlNamespace.uri);\n  }\n}\n\nfunction ListShape(shape, options) {\n  var self = this, firstInit = !this.isShape;\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return []; });\n  }\n\n  if (shape.member) {\n    memoizedProperty(this, 'member', function() {\n      return Shape.create(shape.member, options);\n    });\n  }\n\n  if (this.flattened) {\n    var oldName = this.name;\n    memoizedProperty(this, 'name', function() {\n      return self.member.name || oldName;\n    });\n  }\n}\n\nfunction MapShape(shape, options) {\n  var firstInit = !this.isShape;\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return {}; });\n    property(this, 'key', Shape.create({type: 'string'}, options));\n    property(this, 'value', Shape.create({type: 'string'}, options));\n  }\n\n  if (shape.key) {\n    memoizedProperty(this, 'key', function() {\n      return Shape.create(shape.key, options);\n    });\n  }\n  if (shape.value) {\n    memoizedProperty(this, 'value', function() {\n      return Shape.create(shape.value, options);\n    });\n  }\n}\n\nfunction TimestampShape(shape) {\n  var self = this;\n  Shape.apply(this, arguments);\n\n  if (this.location === 'header') {\n    property(this, 'timestampFormat', 'rfc822');\n  } else if (shape.timestampFormat) {\n    property(this, 'timestampFormat', shape.timestampFormat);\n  } else if (!this.timestampFormat && this.api) {\n    if (this.api.timestampFormat) {\n      property(this, 'timestampFormat', this.api.timestampFormat);\n    } else {\n      switch (this.api.protocol) {\n        case 'json':\n        case 'rest-json':\n          property(this, 'timestampFormat', 'unixTimestamp');\n          break;\n        case 'rest-xml':\n        case 'query':\n        case 'ec2':\n          property(this, 'timestampFormat', 'iso8601');\n          break;\n      }\n    }\n  }\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    if (typeof value.toUTCString === 'function') return value;\n    return typeof value === 'string' || typeof value === 'number' ?\n           util.date.parseTimestamp(value) : null;\n  };\n\n  this.toWireFormat = function(value) {\n    return util.date.format(value, self.timestampFormat);\n  };\n}\n\nfunction StringShape() {\n  Shape.apply(this, arguments);\n\n  var nullLessProtocols = ['rest-xml', 'query', 'ec2'];\n  this.toType = function(value) {\n    value = this.api && nullLessProtocols.indexOf(this.api.protocol) > -1 ?\n      value || '' : value;\n    if (this.isJsonValue) {\n      return JSON.parse(value);\n    }\n\n    return value && typeof value.toString === 'function' ?\n      value.toString() : value;\n  };\n\n  this.toWireFormat = function(value) {\n    return this.isJsonValue ? JSON.stringify(value) : value;\n  };\n}\n\nfunction FloatShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    return parseFloat(value);\n  };\n  this.toWireFormat = this.toType;\n}\n\nfunction IntegerShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    return parseInt(value, 10);\n  };\n  this.toWireFormat = this.toType;\n}\n\nfunction BinaryShape() {\n  Shape.apply(this, arguments);\n  this.toType = util.base64.decode;\n  this.toWireFormat = util.base64.encode;\n}\n\nfunction Base64Shape() {\n  BinaryShape.apply(this, arguments);\n}\n\nfunction BooleanShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (typeof value === 'boolean') return value;\n    if (value === null || value === undefined) return null;\n    return value === 'true';\n  };\n}\n\n/**\n * @api private\n */\nShape.shapes = {\n  StructureShape: StructureShape,\n  ListShape: ListShape,\n  MapShape: MapShape,\n  StringShape: StringShape,\n  BooleanShape: BooleanShape,\n  Base64Shape: Base64Shape\n};\n\n/**\n * @api private\n */\nmodule.exports = Shape;\n","var util = require('../util');\n\nfunction populateMethod(req) {\n  req.httpRequest.method = req.service.api.operations[req.operation].httpMethod;\n}\n\nfunction generateURI(endpointPath, operationPath, input, params) {\n  var uri = [endpointPath, operationPath].join('/');\n  uri = uri.replace(/\\/+/g, '/');\n\n  var queryString = {}, queryStringSet = false;\n  util.each(input.members, function (name, member) {\n    var paramValue = params[name];\n    if (paramValue === null || paramValue === undefined) return;\n    if (member.location === 'uri') {\n      var regex = new RegExp('\\\\{' + member.name + '(\\\\+)?\\\\}');\n      uri = uri.replace(regex, function(_, plus) {\n        var fn = plus ? util.uriEscapePath : util.uriEscape;\n        return fn(String(paramValue));\n      });\n    } else if (member.location === 'querystring') {\n      queryStringSet = true;\n\n      if (member.type === 'list') {\n        queryString[member.name] = paramValue.map(function(val) {\n          return util.uriEscape(String(val));\n        });\n      } else if (member.type === 'map') {\n        util.each(paramValue, function(key, value) {\n          if (Array.isArray(value)) {\n            queryString[key] = value.map(function(val) {\n              return util.uriEscape(String(val));\n            });\n          } else {\n            queryString[key] = util.uriEscape(String(value));\n          }\n        });\n      } else {\n        queryString[member.name] = util.uriEscape(String(paramValue));\n      }\n    }\n  });\n\n  if (queryStringSet) {\n    uri += (uri.indexOf('?') >= 0 ? '&' : '?');\n    var parts = [];\n    util.arrayEach(Object.keys(queryString).sort(), function(key) {\n      if (!Array.isArray(queryString[key])) {\n        queryString[key] = [queryString[key]];\n      }\n      for (var i = 0; i < queryString[key].length; i++) {\n        parts.push(util.uriEscape(String(key)) + '=' + queryString[key][i]);\n      }\n    });\n    uri += parts.join('&');\n  }\n\n  return uri;\n}\n\nfunction populateURI(req) {\n  var operation = req.service.api.operations[req.operation];\n  var input = operation.input;\n\n  var uri = generateURI(req.httpRequest.endpoint.path, operation.httpPath, input, req.params);\n  req.httpRequest.path = uri;\n}\n\nfunction populateHeaders(req) {\n  var operation = req.service.api.operations[req.operation];\n  util.each(operation.input.members, function (name, member) {\n    var value = req.params[name];\n    if (value === null || value === undefined) return;\n\n    if (member.location === 'headers' && member.type === 'map') {\n      util.each(value, function(key, memberValue) {\n        req.httpRequest.headers[member.name + key] = memberValue;\n      });\n    } else if (member.location === 'header') {\n      value = member.toWireFormat(value).toString();\n      if (member.isJsonValue) {\n        value = util.base64.encode(value);\n      }\n      req.httpRequest.headers[member.name] = value;\n    }\n  });\n}\n\nfunction buildRequest(req) {\n  populateMethod(req);\n  populateURI(req);\n  populateHeaders(req);\n}\n\nfunction extractError() {\n}\n\nfunction extractData(resp) {\n  var req = resp.request;\n  var data = {};\n  var r = resp.httpResponse;\n  var operation = req.service.api.operations[req.operation];\n  var output = operation.output;\n\n  // normalize headers names to lower-cased keys for matching\n  var headers = {};\n  util.each(r.headers, function (k, v) {\n    headers[k.toLowerCase()] = v;\n  });\n\n  util.each(output.members, function(name, member) {\n    var header = (member.name || name).toLowerCase();\n    if (member.location === 'headers' && member.type === 'map') {\n      data[name] = {};\n      var location = member.isLocationName ? member.name : '';\n      var pattern = new RegExp('^' + location + '(.+)', 'i');\n      util.each(r.headers, function (k, v) {\n        var result = k.match(pattern);\n        if (result !== null) {\n          data[name][result[1]] = v;\n        }\n      });\n    } else if (member.location === 'header') {\n      if (headers[header] !== undefined) {\n        var value = member.isJsonValue ?\n          util.base64.decode(headers[header]) :\n          headers[header];\n        data[name] = member.toType(value);\n      }\n    } else if (member.location === 'statusCode') {\n      data[name] = parseInt(r.statusCode, 10);\n    }\n  });\n\n  resp.data = data;\n}\n\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData,\n  generateURI: generateURI\n};\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var Buffer = require('buffer/').Buffer;\n\n/**\n * This is a polyfill for the static method `isView` of `ArrayBuffer`, which is\n * e.g. missing in IE 10.\n *\n * @api private\n */\nif (\n    typeof ArrayBuffer !== 'undefined' &&\n    typeof ArrayBuffer.isView === 'undefined'\n) {\n    ArrayBuffer.isView = function(arg) {\n        return viewStrings.indexOf(Object.prototype.toString.call(arg)) > -1;\n    };\n}\n\n/**\n * @api private\n */\nvar viewStrings = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]',\n    '[object DataView]',\n];\n\n/**\n * @api private\n */\nfunction isEmptyData(data) {\n    if (typeof data === 'string') {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\n\n/**\n * @api private\n */\nfunction convertToBuffer(data) {\n    if (typeof data === 'string') {\n        data = new Buffer(data, 'utf8');\n    }\n\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n\n    return new Uint8Array(data);\n}\n\nmodule.exports = exports = {\n    isEmptyData: isEmptyData,\n    convertToBuffer: convertToBuffer,\n}\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['sts'] = {};\nAWS.STS = Service.defineService('sts', ['2011-06-15']);\nrequire('../lib/services/sts');\nObject.defineProperty(apiLoader.services['sts'], '2011-06-15', {\n  get: function get() {\n    var model = require('../apis/sts-2011-06-15.min.json');\n    model.paginators = require('../apis/sts-2011-06-15.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.STS;\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Platform = {\n    'userAgent': 'aws-amplify/0.1.x js',\n    'product': '',\n    'navigator': null,\n    'isReactNative': false\n};\nif (typeof navigator !== 'undefined' && navigator.product) {\n    Platform.product = navigator.product || '';\n    Platform.navigator = navigator || null;\n    switch (navigator.product) {\n        case 'ReactNative':\n            Platform.userAgent = 'aws-amplify/0.1.x react-native';\n            Platform.isReactNative = true;\n            break;\n        default:\n            Platform.userAgent = 'aws-amplify/0.1.x js';\n            Platform.isReactNative = false;\n            break;\n    }\n}\nexports.default = Platform;\n//# sourceMappingURL=index.js.map","var util = require('../util');\n\nfunction populateMethod(req) {\n  req.httpRequest.method = req.service.api.operations[req.operation].httpMethod;\n}\n\nfunction generateURI(endpointPath, operationPath, input, params) {\n  var uri = [endpointPath, operationPath].join('/');\n  uri = uri.replace(/\\/+/g, '/');\n\n  var queryString = {}, queryStringSet = false;\n  util.each(input.members, function (name, member) {\n    var paramValue = params[name];\n    if (paramValue === null || paramValue === undefined) return;\n    if (member.location === 'uri') {\n      var regex = new RegExp('\\\\{' + member.name + '(\\\\+)?\\\\}');\n      uri = uri.replace(regex, function(_, plus) {\n        var fn = plus ? util.uriEscapePath : util.uriEscape;\n        return fn(String(paramValue));\n      });\n    } else if (member.location === 'querystring') {\n      queryStringSet = true;\n\n      if (member.type === 'list') {\n        queryString[member.name] = paramValue.map(function(val) {\n          return util.uriEscape(String(val));\n        });\n      } else if (member.type === 'map') {\n        util.each(paramValue, function(key, value) {\n          if (Array.isArray(value)) {\n            queryString[key] = value.map(function(val) {\n              return util.uriEscape(String(val));\n            });\n          } else {\n            queryString[key] = util.uriEscape(String(value));\n          }\n        });\n      } else {\n        queryString[member.name] = util.uriEscape(String(paramValue));\n      }\n    }\n  });\n\n  if (queryStringSet) {\n    uri += (uri.indexOf('?') >= 0 ? '&' : '?');\n    var parts = [];\n    util.arrayEach(Object.keys(queryString).sort(), function(key) {\n      if (!Array.isArray(queryString[key])) {\n        queryString[key] = [queryString[key]];\n      }\n      for (var i = 0; i < queryString[key].length; i++) {\n        parts.push(util.uriEscape(String(key)) + '=' + queryString[key][i]);\n      }\n    });\n    uri += parts.join('&');\n  }\n\n  return uri;\n}\n\nfunction populateURI(req) {\n  var operation = req.service.api.operations[req.operation];\n  var input = operation.input;\n\n  var uri = generateURI(req.httpRequest.endpoint.path, operation.httpPath, input, req.params);\n  req.httpRequest.path = uri;\n}\n\nfunction populateHeaders(req) {\n  var operation = req.service.api.operations[req.operation];\n  util.each(operation.input.members, function (name, member) {\n    var value = req.params[name];\n    if (value === null || value === undefined) return;\n\n    if (member.location === 'headers' && member.type === 'map') {\n      util.each(value, function(key, memberValue) {\n        req.httpRequest.headers[member.name + key] = memberValue;\n      });\n    } else if (member.location === 'header') {\n      value = member.toWireFormat(value).toString();\n      if (member.isJsonValue) {\n        value = util.base64.encode(value);\n      }\n      req.httpRequest.headers[member.name] = value;\n    }\n  });\n}\n\nfunction buildRequest(req) {\n  populateMethod(req);\n  populateURI(req);\n  populateHeaders(req);\n}\n\nfunction extractError() {\n}\n\nfunction extractData(resp) {\n  var req = resp.request;\n  var data = {};\n  var r = resp.httpResponse;\n  var operation = req.service.api.operations[req.operation];\n  var output = operation.output;\n\n  // normalize headers names to lower-cased keys for matching\n  var headers = {};\n  util.each(r.headers, function (k, v) {\n    headers[k.toLowerCase()] = v;\n  });\n\n  util.each(output.members, function(name, member) {\n    var header = (member.name || name).toLowerCase();\n    if (member.location === 'headers' && member.type === 'map') {\n      data[name] = {};\n      var location = member.isLocationName ? member.name : '';\n      var pattern = new RegExp('^' + location + '(.+)', 'i');\n      util.each(r.headers, function (k, v) {\n        var result = k.match(pattern);\n        if (result !== null) {\n          data[name][result[1]] = v;\n        }\n      });\n    } else if (member.location === 'header') {\n      if (headers[header] !== undefined) {\n        var value = member.isJsonValue ?\n          util.base64.decode(headers[header]) :\n          headers[header];\n        data[name] = member.toType(value);\n      }\n    } else if (member.location === 'statusCode') {\n      data[name] = parseInt(r.statusCode, 10);\n    }\n  });\n\n  resp.data = data;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData,\n  generateURI: generateURI\n};\n","var Buffer = require('buffer/').Buffer;\n\n/**\n * This is a polyfill for the static method `isView` of `ArrayBuffer`, which is\n * e.g. missing in IE 10.\n *\n * @api private\n */\nif (\n    typeof ArrayBuffer !== 'undefined' &&\n    typeof ArrayBuffer.isView === 'undefined'\n) {\n    ArrayBuffer.isView = function(arg) {\n        return viewStrings.indexOf(Object.prototype.toString.call(arg)) > -1;\n    };\n}\n\n/**\n * @api private\n */\nvar viewStrings = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]',\n    '[object DataView]',\n];\n\n/**\n * @api private\n */\nfunction isEmptyData(data) {\n    if (typeof data === 'string') {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\n\n/**\n * @api private\n */\nfunction convertToBuffer(data) {\n    if (typeof data === 'string') {\n        data = new Buffer(data, 'utf8');\n    }\n\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n\n    return new Uint8Array(data);\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = {\n    isEmptyData: isEmptyData,\n    convertToBuffer: convertToBuffer,\n}\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['sts'] = {};\nAWS.STS = Service.defineService('sts', ['2011-06-15']);\nrequire('../lib/services/sts');\nObject.defineProperty(apiLoader.services['sts'], '2011-06-15', {\n  get: function get() {\n    var model = require('../apis/sts-2011-06-15.min.json');\n    model.paginators = require('../apis/sts-2011-06-15.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.STS;\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","var util = require('../util');\nvar JsonBuilder = require('../json/builder');\nvar JsonParser = require('../json/parser');\n\nfunction buildRequest(req) {\n  var httpRequest = req.httpRequest;\n  var api = req.service.api;\n  var target = api.targetPrefix + '.' + api.operations[req.operation].name;\n  var version = api.jsonVersion || '1.0';\n  var input = api.operations[req.operation].input;\n  var builder = new JsonBuilder();\n\n  if (version === 1) version = '1.0';\n  httpRequest.body = builder.build(req.params || {}, input);\n  httpRequest.headers['Content-Type'] = 'application/x-amz-json-' + version;\n  httpRequest.headers['X-Amz-Target'] = target;\n}\n\nfunction extractError(resp) {\n  var error = {};\n  var httpResponse = resp.httpResponse;\n\n  error.code = httpResponse.headers['x-amzn-errortype'] || 'UnknownError';\n  if (typeof error.code === 'string') {\n    error.code = error.code.split(':')[0];\n  }\n\n  if (httpResponse.body.length > 0) {\n    try {\n      var e = JSON.parse(httpResponse.body.toString());\n      if (e.__type || e.code) {\n        error.code = (e.__type || e.code).split('#').pop();\n      }\n      if (error.code === 'RequestEntityTooLarge') {\n        error.message = 'Request body must be less than 1 MB';\n      } else {\n        error.message = (e.message || e.Message || null);\n      }\n    } catch (e) {\n      error.statusCode = httpResponse.statusCode;\n      error.message = httpResponse.statusMessage;\n    }\n  } else {\n    error.statusCode = httpResponse.statusCode;\n    error.message = httpResponse.statusCode.toString();\n  }\n\n  resp.error = util.error(new Error(), error);\n}\n\nfunction extractData(resp) {\n  var body = resp.httpResponse.body.toString() || '{}';\n  if (resp.request.service.config.convertResponseTypes === false) {\n    resp.data = JSON.parse(body);\n  } else {\n    var operation = resp.request.service.api.operations[resp.request.operation];\n    var shape = operation.output || {};\n    var parser = new JsonParser();\n    resp.data = parser.parse(body, shape);\n  }\n}\n\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var util = require('../util');\n\nfunction JsonBuilder() { }\n\nJsonBuilder.prototype.build = function(value, shape) {\n  return JSON.stringify(translate(value, shape));\n};\n\nfunction translate(value, shape) {\n  if (!shape || value === undefined || value === null) return undefined;\n\n  switch (shape.type) {\n    case 'structure': return translateStructure(value, shape);\n    case 'map': return translateMap(value, shape);\n    case 'list': return translateList(value, shape);\n    default: return translateScalar(value, shape);\n  }\n}\n\nfunction translateStructure(structure, shape) {\n  var struct = {};\n  util.each(structure, function(name, value) {\n    var memberShape = shape.members[name];\n    if (memberShape) {\n      if (memberShape.location !== 'body') return;\n      var locationName = memberShape.isLocationName ? memberShape.name : name;\n      var result = translate(value, memberShape);\n      if (result !== undefined) struct[locationName] = result;\n    }\n  });\n  return struct;\n}\n\nfunction translateList(list, shape) {\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = translate(value, shape.member);\n    if (result !== undefined) out.push(result);\n  });\n  return out;\n}\n\nfunction translateMap(map, shape) {\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = translate(value, shape.value);\n    if (result !== undefined) out[key] = result;\n  });\n  return out;\n}\n\nfunction translateScalar(value, shape) {\n  return shape.toWireFormat(value);\n}\n\nmodule.exports = JsonBuilder;\n","var util = require('../util');\n\nfunction JsonParser() { }\n\nJsonParser.prototype.parse = function(value, shape) {\n  return translate(JSON.parse(value), shape);\n};\n\nfunction translate(value, shape) {\n  if (!shape || value === undefined) return undefined;\n\n  switch (shape.type) {\n    case 'structure': return translateStructure(value, shape);\n    case 'map': return translateMap(value, shape);\n    case 'list': return translateList(value, shape);\n    default: return translateScalar(value, shape);\n  }\n}\n\nfunction translateStructure(structure, shape) {\n  if (structure == null) return undefined;\n\n  var struct = {};\n  var shapeMembers = shape.members;\n  util.each(shapeMembers, function(name, memberShape) {\n    var locationName = memberShape.isLocationName ? memberShape.name : name;\n    if (Object.prototype.hasOwnProperty.call(structure, locationName)) {\n      var value = structure[locationName];\n      var result = translate(value, memberShape);\n      if (result !== undefined) struct[name] = result;\n    }\n  });\n  return struct;\n}\n\nfunction translateList(list, shape) {\n  if (list == null) return undefined;\n\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = translate(value, shape.member);\n    if (result === undefined) out.push(null);\n    else out.push(result);\n  });\n  return out;\n}\n\nfunction translateMap(map, shape) {\n  if (map == null) return undefined;\n\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = translate(value, shape.value);\n    if (result === undefined) out[key] = null;\n    else out[key] = result;\n  });\n  return out;\n}\n\nfunction translateScalar(value, shape) {\n  return shape.toType(value);\n}\n\nmodule.exports = JsonParser;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","var Buffer = require('buffer').Buffer;\nvar intSize = 4;\nvar zeroBuffer = new Buffer(intSize); zeroBuffer.fill(0);\nvar chrsz = 8;\n\nfunction toArray(buf, bigEndian) {\n  if ((buf.length % intSize) !== 0) {\n    var len = buf.length + (intSize - (buf.length % intSize));\n    buf = Buffer.concat([buf, zeroBuffer], len);\n  }\n\n  var arr = [];\n  var fn = bigEndian ? buf.readInt32BE : buf.readInt32LE;\n  for (var i = 0; i < buf.length; i += intSize) {\n    arr.push(fn.call(buf, i));\n  }\n  return arr;\n}\n\nfunction toBuffer(arr, size, bigEndian) {\n  var buf = new Buffer(size);\n  var fn = bigEndian ? buf.writeInt32BE : buf.writeInt32LE;\n  for (var i = 0; i < arr.length; i++) {\n    fn.call(buf, arr[i], i * 4, true);\n  }\n  return buf;\n}\n\nfunction hash(buf, fn, hashSize, bigEndian) {\n  if (!Buffer.isBuffer(buf)) buf = new Buffer(buf);\n  var arr = fn(toArray(buf, bigEndian), buf.length * chrsz);\n  return toBuffer(arr, hashSize, bigEndian);\n}\n\nmodule.exports = { hash: hash };\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BrowserStorageCache_1 = require(\"./BrowserStorageCache\");\nexports.BrowserStorageCache = BrowserStorageCache_1.default;\nvar InMemoryCache_1 = require(\"./InMemoryCache\");\nexports.InMemoryCache = InMemoryCache_1.default;\nexports.default = BrowserStorageCache_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./CacheUtils\"));\nvar CacheList_1 = require(\"./CacheList\");\nexports.CacheList = CacheList_1.default;\n//# sourceMappingURL=index.js.map","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","var util = require('./util');\n\n// browser specific modules\nutil.crypto.lib = require('./browserCryptoLib');\nutil.Buffer = require('buffer/').Buffer;\nutil.url = require('url/');\nutil.querystring = require('querystring/');\nutil.environment = 'js';\nutil.createEventStream = require('./event-stream/buffered-create-event-stream').createEventStream;\n\nvar AWS = require('./core');\n\n/**\n * @api private\n */\nmodule.exports = AWS;\n\nrequire('./credentials');\nrequire('./credentials/credential_provider_chain');\nrequire('./credentials/temporary_credentials');\nrequire('./credentials/web_identity_credentials');\nrequire('./credentials/cognito_identity_credentials');\nrequire('./credentials/saml_credentials');\n\n// Load the DOMParser XML parser\nAWS.XML.Parser = require('./xml/browser_parser');\n\n// Load the XHR HttpClient\nrequire('./http/xhr');\n\nif (typeof process === 'undefined') {\n  process = {\n    browser: true\n  };\n}\n","var util = require('../util');\nvar JsonBuilder = require('../json/builder');\nvar JsonParser = require('../json/parser');\n\nfunction buildRequest(req) {\n  var httpRequest = req.httpRequest;\n  var api = req.service.api;\n  var target = api.targetPrefix + '.' + api.operations[req.operation].name;\n  var version = api.jsonVersion || '1.0';\n  var input = api.operations[req.operation].input;\n  var builder = new JsonBuilder();\n\n  if (version === 1) version = '1.0';\n  httpRequest.body = builder.build(req.params || {}, input);\n  httpRequest.headers['Content-Type'] = 'application/x-amz-json-' + version;\n  httpRequest.headers['X-Amz-Target'] = target;\n}\n\nfunction extractError(resp) {\n  var error = {};\n  var httpResponse = resp.httpResponse;\n\n  error.code = httpResponse.headers['x-amzn-errortype'] || 'UnknownError';\n  if (typeof error.code === 'string') {\n    error.code = error.code.split(':')[0];\n  }\n\n  if (httpResponse.body.length > 0) {\n    try {\n      var e = JSON.parse(httpResponse.body.toString());\n      if (e.__type || e.code) {\n        error.code = (e.__type || e.code).split('#').pop();\n      }\n      if (error.code === 'RequestEntityTooLarge') {\n        error.message = 'Request body must be less than 1 MB';\n      } else {\n        error.message = (e.message || e.Message || null);\n      }\n    } catch (e) {\n      error.statusCode = httpResponse.statusCode;\n      error.message = httpResponse.statusMessage;\n    }\n  } else {\n    error.statusCode = httpResponse.statusCode;\n    error.message = httpResponse.statusCode.toString();\n  }\n\n  resp.error = util.error(new Error(), error);\n}\n\nfunction extractData(resp) {\n  var body = resp.httpResponse.body.toString() || '{}';\n  if (resp.request.service.config.convertResponseTypes === false) {\n    resp.data = JSON.parse(body);\n  } else {\n    var operation = resp.request.service.api.operations[resp.request.operation];\n    var shape = operation.output || {};\n    var parser = new JsonParser();\n    resp.data = parser.parse(body, shape);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var util = require('../util');\n\nfunction JsonBuilder() { }\n\nJsonBuilder.prototype.build = function(value, shape) {\n  return JSON.stringify(translate(value, shape));\n};\n\nfunction translate(value, shape) {\n  if (!shape || value === undefined || value === null) return undefined;\n\n  switch (shape.type) {\n    case 'structure': return translateStructure(value, shape);\n    case 'map': return translateMap(value, shape);\n    case 'list': return translateList(value, shape);\n    default: return translateScalar(value, shape);\n  }\n}\n\nfunction translateStructure(structure, shape) {\n  var struct = {};\n  util.each(structure, function(name, value) {\n    var memberShape = shape.members[name];\n    if (memberShape) {\n      if (memberShape.location !== 'body') return;\n      var locationName = memberShape.isLocationName ? memberShape.name : name;\n      var result = translate(value, memberShape);\n      if (result !== undefined) struct[locationName] = result;\n    }\n  });\n  return struct;\n}\n\nfunction translateList(list, shape) {\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = translate(value, shape.member);\n    if (result !== undefined) out.push(result);\n  });\n  return out;\n}\n\nfunction translateMap(map, shape) {\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = translate(value, shape.value);\n    if (result !== undefined) out[key] = result;\n  });\n  return out;\n}\n\nfunction translateScalar(value, shape) {\n  return shape.toWireFormat(value);\n}\n\n/**\n * @api private\n */\nmodule.exports = JsonBuilder;\n","var util = require('../util');\n\nfunction JsonParser() { }\n\nJsonParser.prototype.parse = function(value, shape) {\n  return translate(JSON.parse(value), shape);\n};\n\nfunction translate(value, shape) {\n  if (!shape || value === undefined) return undefined;\n\n  switch (shape.type) {\n    case 'structure': return translateStructure(value, shape);\n    case 'map': return translateMap(value, shape);\n    case 'list': return translateList(value, shape);\n    default: return translateScalar(value, shape);\n  }\n}\n\nfunction translateStructure(structure, shape) {\n  if (structure == null) return undefined;\n\n  var struct = {};\n  var shapeMembers = shape.members;\n  util.each(shapeMembers, function(name, memberShape) {\n    var locationName = memberShape.isLocationName ? memberShape.name : name;\n    if (Object.prototype.hasOwnProperty.call(structure, locationName)) {\n      var value = structure[locationName];\n      var result = translate(value, memberShape);\n      if (result !== undefined) struct[name] = result;\n    }\n  });\n  return struct;\n}\n\nfunction translateList(list, shape) {\n  if (list == null) return undefined;\n\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = translate(value, shape.member);\n    if (result === undefined) out.push(null);\n    else out.push(result);\n  });\n  return out;\n}\n\nfunction translateMap(map, shape) {\n  if (map == null) return undefined;\n\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = translate(value, shape.value);\n    if (result === undefined) out[key] = null;\n    else out[key] = result;\n  });\n  return out;\n}\n\nfunction translateScalar(value, shape) {\n  return shape.toType(value);\n}\n\n/**\n * @api private\n */\nmodule.exports = JsonParser;\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Analytics_1 = require(\"./Analytics\");\nexports.Analytics = Analytics_1.default;\nexports.AnalyticsClass = Analytics_1.AnalyticsClass;\nvar Auth_1 = require(\"./Auth\");\nexports.Auth = Auth_1.default;\nexports.AuthClass = Auth_1.AuthClass;\nvar Storage_1 = require(\"./Storage\");\nexports.Storage = Storage_1.default;\nexports.StorageClass = Storage_1.StorageClass;\nvar API_1 = require(\"./API\");\nexports.API = API_1.default;\nexports.APIClass = API_1.APIClass;\nvar PubSub_1 = require(\"./PubSub\");\nexports.PubSub = PubSub_1.default;\nvar I18n_1 = require(\"./I18n\");\nexports.I18n = I18n_1.default;\nvar Cache_1 = require(\"./Cache\");\nexports.Cache = Cache_1.default;\nvar Common_1 = require(\"./Common\");\nexports.Logger = Common_1.ConsoleLogger;\nexports.Hub = Common_1.Hub;\nexports.JS = Common_1.JS;\nexports.ClientDevice = Common_1.ClientDevice;\nexports.Signer = Common_1.Signer;\nvar logger = new Common_1.ConsoleLogger('Amplify');\nvar Amplify = /** @class */ (function () {\n    function Amplify() {\n    }\n    Amplify.configure = function (config) {\n        if (!config) {\n            return;\n        }\n        Auth_1.default.configure(config);\n        I18n_1.default.configure(config);\n        Analytics_1.default.configure(config);\n        API_1.default.configure(config);\n        Storage_1.default.configure(config);\n        Cache_1.default.configure(config);\n        PubSub_1.default.configure(config);\n        return config;\n    };\n    Amplify.addPluggable = function (pluggable) {\n        if (pluggable && pluggable['getCategory'] && typeof pluggable['getCategory'] === 'function') {\n            var category = pluggable.getCategory();\n            switch (category) {\n                case 'Analytics':\n                    Analytics_1.default.addPluggable(pluggable);\n                    break;\n                case 'Auth':\n                    break;\n                case 'API':\n                    break;\n                case 'Cache':\n                    break;\n                case 'Storage':\n                    break;\n                case 'PubSub':\n                    PubSub_1.default.addPluggable(pluggable);\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n    Amplify.Auth = null;\n    Amplify.Analytics = null;\n    Amplify.API = null;\n    Amplify.Storage = null;\n    Amplify.I18n = null;\n    Amplify.Cache = null;\n    Amplify.PubSub = null;\n    Amplify.Logger = null;\n    return Amplify;\n}());\nexports.default = Amplify;\nAmplify.Auth = Auth_1.default;\nAmplify.Analytics = Analytics_1.default;\nAmplify.API = API_1.default;\nAmplify.Storage = Storage_1.default;\nAmplify.I18n = I18n_1.default;\nAmplify.Cache = Cache_1.default;\nAmplify.PubSub = PubSub_1.default;\nAmplify.Logger = Common_1.ConsoleLogger;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// import * as AWS from 'aws-sdk/global';\nvar S3 = require(\"aws-sdk/clients/s3\");\nexports.S3 = S3;\nvar AWS = require(\"aws-sdk/global\");\nexports.AWS = AWS;\nvar Cognito = require(\"amazon-cognito-identity-js\");\nexports.Cognito = Cognito;\nvar Pinpoint = require(\"aws-sdk/clients/pinpoint\");\nexports.Pinpoint = Pinpoint;\nvar MobileAnalytics = require(\"aws-sdk/clients/mobileanalytics\");\nexports.MobileAnalytics = MobileAnalytics;\n//# sourceMappingURL=Facet.js.map","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmeidate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = self && self.setImmediate || global && global.setImmediate || this && this.setImmediate;\nexports.clearImmediate = self && self.clearImmediate || global && global.clearImmediate || this && this.clearImmediate;\n","var AWS = require('../core');\nvar util = require('../util');\nvar QueryParamSerializer = require('../query/query_param_serializer');\nvar Shape = require('../model/shape');\n\nfunction buildRequest(req) {\n  var operation = req.service.api.operations[req.operation];\n  var httpRequest = req.httpRequest;\n  httpRequest.headers['Content-Type'] =\n    'application/x-www-form-urlencoded; charset=utf-8';\n  httpRequest.params = {\n    Version: req.service.api.apiVersion,\n    Action: operation.name\n  };\n\n  // convert the request parameters into a list of query params,\n  // e.g. Deeply.NestedParam.0.Name=value\n  var builder = new QueryParamSerializer();\n  builder.serialize(req.params, operation.input, function(name, value) {\n    httpRequest.params[name] = value;\n  });\n  httpRequest.body = util.queryParamsToString(httpRequest.params);\n}\n\nfunction extractError(resp) {\n  var data, body = resp.httpResponse.body.toString();\n  if (body.match('<UnknownOperationException')) {\n    data = {\n      Code: 'UnknownOperation',\n      Message: 'Unknown operation ' + resp.request.operation\n    };\n  } else {\n    try {\n      data = new AWS.XML.Parser().parse(body);\n    } catch (e) {\n      data = {\n        Code: resp.httpResponse.statusCode,\n        Message: resp.httpResponse.statusMessage\n      };\n    }\n  }\n\n  if (data.requestId && !resp.requestId) resp.requestId = data.requestId;\n  if (data.Errors) data = data.Errors;\n  if (data.Error) data = data.Error;\n  if (data.Code) {\n    resp.error = util.error(new Error(), {\n      code: data.Code,\n      message: data.Message\n    });\n  } else {\n    resp.error = util.error(new Error(), {\n      code: resp.httpResponse.statusCode,\n      message: null\n    });\n  }\n}\n\nfunction extractData(resp) {\n  var req = resp.request;\n  var operation = req.service.api.operations[req.operation];\n  var shape = operation.output || {};\n  var origRules = shape;\n\n  if (origRules.resultWrapper) {\n    var tmp = Shape.create({type: 'structure'});\n    tmp.members[origRules.resultWrapper] = shape;\n    tmp.memberNames = [origRules.resultWrapper];\n    util.property(shape, 'name', shape.resultWrapper);\n    shape = tmp;\n  }\n\n  var parser = new AWS.XML.Parser();\n\n  // TODO: Refactor XML Parser to parse RequestId from response.\n  if (shape && shape.members && !shape.members._XAMZRequestId) {\n    var requestIdShape = Shape.create(\n      { type: 'string' },\n      { api: { protocol: 'query' } },\n      'requestId'\n    );\n    shape.members._XAMZRequestId = requestIdShape;\n  }\n\n  var data = parser.parse(resp.httpResponse.body.toString(), shape);\n  resp.requestId = data._XAMZRequestId || data.requestId;\n\n  if (data._XAMZRequestId) delete data._XAMZRequestId;\n\n  if (origRules.resultWrapper) {\n    if (data[origRules.resultWrapper]) {\n      util.update(data, data[origRules.resultWrapper]);\n      delete data[origRules.resultWrapper];\n    }\n  }\n\n  resp.data = data;\n}\n\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var memoizedProperty = require('../util').memoizedProperty;\n\nfunction memoize(name, value, fn, nameTr) {\n  memoizedProperty(this, nameTr(name), function() {\n    return fn(name, value);\n  });\n}\n\nfunction Collection(iterable, options, fn, nameTr) {\n  nameTr = nameTr || String;\n  var self = this;\n\n  for (var id in iterable) {\n    if (Object.prototype.hasOwnProperty.call(iterable, id)) {\n      memoize.call(self, id, iterable[id], fn, nameTr);\n    }\n  }\n}\n\nmodule.exports = Collection;\n","var util = require('../util');\nvar Rest = require('./rest');\nvar Json = require('./json');\nvar JsonBuilder = require('../json/builder');\nvar JsonParser = require('../json/parser');\n\nfunction populateBody(req) {\n  var builder = new JsonBuilder();\n  var input = req.service.api.operations[req.operation].input;\n\n  if (input.payload) {\n    var params = {};\n    var payloadShape = input.members[input.payload];\n    params = req.params[input.payload];\n    if (params === undefined) return;\n\n    if (payloadShape.type === 'structure') {\n      req.httpRequest.body = builder.build(params, payloadShape);\n      applyContentTypeHeader(req);\n    } else { // non-JSON payload\n      req.httpRequest.body = params;\n      if (payloadShape.type === 'binary' || payloadShape.isStreaming) {\n        applyContentTypeHeader(req, true);\n      }\n    }\n  } else {\n    req.httpRequest.body = builder.build(req.params, input);\n    applyContentTypeHeader(req);\n  }\n}\n\nfunction applyContentTypeHeader(req, isBinary) {\n  var operation = req.service.api.operations[req.operation];\n  var input = operation.input;\n\n  if (!req.httpRequest.headers['Content-Type']) {\n    var type = isBinary ? 'binary/octet-stream' : 'application/json';\n    req.httpRequest.headers['Content-Type'] = type;\n  }\n}\n\nfunction buildRequest(req) {\n  Rest.buildRequest(req);\n\n  // never send body payload on GET/HEAD/DELETE\n  if (['GET', 'HEAD', 'DELETE'].indexOf(req.httpRequest.method) < 0) {\n    populateBody(req);\n  }\n}\n\nfunction extractError(resp) {\n  Json.extractError(resp);\n}\n\nfunction extractData(resp) {\n  Rest.extractData(resp);\n\n  var req = resp.request;\n  var rules = req.service.api.operations[req.operation].output || {};\n  if (rules.payload) {\n    var payloadMember = rules.members[rules.payload];\n    var body = resp.httpResponse.body;\n    if (payloadMember.type === 'structure' || payloadMember.type === 'list') {\n      var parser = new JsonParser();\n      resp.data[rules.payload] = parser.parse(body, payloadMember);\n    } else if (payloadMember.type === 'binary' || payloadMember.isStreaming) {\n      resp.data[rules.payload] = body;\n    } else {\n      resp.data[rules.payload] = payloadMember.toType(body);\n    }\n  } else {\n    var data = resp.data;\n    Json.extractData(resp);\n    resp.data = util.merge(data, resp.data);\n  }\n}\n\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var AWS = require('../core');\nvar util = require('../util');\nvar Rest = require('./rest');\n\nfunction populateBody(req) {\n  var input = req.service.api.operations[req.operation].input;\n  var builder = new AWS.XML.Builder();\n  var params = req.params;\n\n  var payload = input.payload;\n  if (payload) {\n    var payloadMember = input.members[payload];\n    params = params[payload];\n    if (params === undefined) return;\n\n    if (payloadMember.type === 'structure') {\n      var rootElement = payloadMember.name;\n      req.httpRequest.body = builder.toXML(params, payloadMember, rootElement, true);\n    } else { // non-xml payload\n      req.httpRequest.body = params;\n    }\n  } else {\n    req.httpRequest.body = builder.toXML(params, input, input.name ||\n      input.shape || util.string.upperFirst(req.operation) + 'Request');\n  }\n}\n\nfunction buildRequest(req) {\n  Rest.buildRequest(req);\n\n  // never send body payload on GET/HEAD\n  if (['GET', 'HEAD'].indexOf(req.httpRequest.method) < 0) {\n    populateBody(req);\n  }\n}\n\nfunction extractError(resp) {\n  Rest.extractError(resp);\n\n  var data;\n  try {\n    data = new AWS.XML.Parser().parse(resp.httpResponse.body.toString());\n  } catch (e) {\n    data = {\n      Code: resp.httpResponse.statusCode,\n      Message: resp.httpResponse.statusMessage\n    };\n  }\n\n  if (data.Errors) data = data.Errors;\n  if (data.Error) data = data.Error;\n  if (data.Code) {\n    resp.error = util.error(new Error(), {\n      code: data.Code,\n      message: data.Message\n    });\n  } else {\n    resp.error = util.error(new Error(), {\n      code: resp.httpResponse.statusCode,\n      message: null\n    });\n  }\n}\n\nfunction extractData(resp) {\n  Rest.extractData(resp);\n\n  var parser;\n  var req = resp.request;\n  var body = resp.httpResponse.body;\n  var operation = req.service.api.operations[req.operation];\n  var output = operation.output;\n\n  var payload = output.payload;\n  if (payload) {\n    var payloadMember = output.members[payload];\n    if (payloadMember.type === 'structure') {\n      parser = new AWS.XML.Parser();\n      resp.data[payload] = parser.parse(body.toString(), payloadMember);\n    } else if (payloadMember.type === 'binary' || payloadMember.isStreaming) {\n      resp.data[payload] = body;\n    } else {\n      resp.data[payload] = payloadMember.toType(body);\n    }\n  } else if (body.length > 0) {\n    parser = new AWS.XML.Parser();\n    var data = parser.parse(body.toString(), output);\n    util.update(resp.data, data);\n  }\n}\n\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDeclaration, XMLNode, create, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/create');\n\n  isObject = require('lodash/isObject');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDeclaration = (function(superClass) {\n    extend(XMLDeclaration, superClass);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      this.version = this.stringify.xmlVersion(version);\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?xml';\n      r += ' version=\"' + this.version + '\"';\n      if (this.encoding != null) {\n        r += ' encoding=\"' + this.encoding + '\"';\n      }\n      if (this.standalone != null) {\n        r += ' standalone=\"' + this.standalone + '\"';\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLAttribute, XMLElement, XMLNode, XMLProcessingInstruction, create, every, isFunction, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/create');\n\n  isObject = require('lodash/isObject');\n\n  isFunction = require('lodash/isFunction');\n\n  every = require('lodash/every');\n\n  XMLNode = require('./XMLNode');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  module.exports = XMLElement = (function(superClass) {\n    extend(XMLElement, superClass);\n\n    function XMLElement(parent, name, attributes) {\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name\");\n      }\n      this.name = this.stringify.eleName(name);\n      this.children = [];\n      this.instructions = [];\n      this.attributes = {};\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n    }\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, i, len, pi, ref, ref1;\n      clonedSelf = create(XMLElement.prototype, this);\n      if (clonedSelf.isRoot) {\n        clonedSelf.documentObject = null;\n      }\n      clonedSelf.attributes = {};\n      ref = this.attributes;\n      for (attName in ref) {\n        if (!hasProp.call(ref, attName)) continue;\n        att = ref[attName];\n        clonedSelf.attributes[attName] = att.clone();\n      }\n      clonedSelf.instructions = [];\n      ref1 = this.instructions;\n      for (i = 0, len = ref1.length; i < len; i++) {\n        pi = ref1[i];\n        clonedSelf.instructions.push(pi.clone());\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (!this.options.skipNullAttributes || (value != null)) {\n          this.attributes[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, i, len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      name = name.valueOf();\n      if (Array.isArray(name)) {\n        for (i = 0, len = name.length; i < len; i++) {\n          attName = name[i];\n          delete this.attributes[attName];\n        }\n      } else {\n        delete this.attributes[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.instruction = function(target, value) {\n      var i, insTarget, insValue, instruction, len;\n      if (target != null) {\n        target = target.valueOf();\n      }\n      if (value != null) {\n        value = value.valueOf();\n      }\n      if (Array.isArray(target)) {\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.instructions.push(instruction);\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options, level) {\n      var att, child, i, indent, instruction, j, len, len1, name, newline, offset, pretty, r, ref, ref1, ref2, ref3, ref4, ref5, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      ref3 = this.instructions;\n      for (i = 0, len = ref3.length; i < len; i++) {\n        instruction = ref3[i];\n        r += instruction.toString(options, level);\n      }\n      if (pretty) {\n        r += space;\n      }\n      r += '<' + this.name;\n      ref4 = this.attributes;\n      for (name in ref4) {\n        if (!hasProp.call(ref4, name)) continue;\n        att = ref4[name];\n        r += att.toString(options);\n      }\n      if (this.children.length === 0 || every(this.children, function(e) {\n        return e.value === '';\n      })) {\n        r += '/>';\n        if (pretty) {\n          r += newline;\n        }\n      } else if (pretty && this.children.length === 1 && (this.children[0].value != null)) {\n        r += '>';\n        r += this.children[0].value;\n        r += '</' + this.name + '>';\n        r += newline;\n      } else {\n        r += '>';\n        if (pretty) {\n          r += newline;\n        }\n        ref5 = this.children;\n        for (j = 0, len1 = ref5.length; j < len1; j++) {\n          child = ref5[j];\n          r += child.toString(options, level + 1);\n        }\n        if (pretty) {\n          r += space;\n        }\n        r += '</' + this.name + '>';\n        if (pretty) {\n          r += newline;\n        }\n      }\n      return r;\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLProcessingInstruction, create;\n\n  create = require('lodash/create');\n\n  module.exports = XMLProcessingInstruction = (function() {\n    function XMLProcessingInstruction(parent, target, value) {\n      this.stringify = parent.stringify;\n      if (target == null) {\n        throw new Error(\"Missing instruction target\");\n      }\n      this.target = this.stringify.insTarget(target);\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return create(XMLProcessingInstruction.prototype, this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?';\n      r += this.target;\n      if (this.value) {\n        r += ' ' + this.value;\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLProcessingInstruction;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLCData, XMLNode, create,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCData = (function(superClass) {\n    extend(XMLCData, superClass);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text\");\n      }\n      this.text = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return create(XMLCData.prototype, this);\n    };\n\n    XMLCData.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<![CDATA[' + this.text + ']]>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLCData;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLComment, XMLNode, create,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLComment = (function(superClass) {\n    extend(XMLComment, superClass);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text\");\n      }\n      this.text = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return create(XMLComment.prototype, this);\n    };\n\n    XMLComment.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!-- ' + this.text + ' -->';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLComment;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLProcessingInstruction, create, isObject;\n\n  create = require('lodash/create');\n\n  isObject = require('lodash/isObject');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  module.exports = XMLDocType = (function() {\n    function XMLDocType(parent, pubID, sysID) {\n      var ref, ref1;\n      this.documentObject = parent;\n      this.stringify = this.documentObject.stringify;\n      this.children = [];\n      if (isObject(pubID)) {\n        ref = pubID, pubID = ref.pubID, sysID = ref.sysID;\n      }\n      if (sysID == null) {\n        ref1 = [pubID, sysID], sysID = ref1[0], pubID = ref1[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.instruction = function(target, value) {\n      var child;\n      child = new XMLProcessingInstruction(this, target, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.root = function() {\n      return this.documentObject.root();\n    };\n\n    XMLDocType.prototype.document = function() {\n      return this.documentObject;\n    };\n\n    XMLDocType.prototype.toString = function(options, level) {\n      var child, i, indent, len, newline, offset, pretty, r, ref, ref1, ref2, ref3, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!DOCTYPE ' + this.root().name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      if (this.children.length > 0) {\n        r += ' [';\n        if (pretty) {\n          r += newline;\n        }\n        ref3 = this.children;\n        for (i = 0, len = ref3.length; i < len; i++) {\n          child = ref3[i];\n          r += child.toString(options, level + 1);\n        }\n        r += ']';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocType.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocType.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root();\n    };\n\n    XMLDocType.prototype.doc = function() {\n      return this.document();\n    };\n\n    return XMLDocType;\n\n  })();\n\n}).call(this);\n","var Collection = require('./collection');\nvar Operation = require('./operation');\nvar Shape = require('./shape');\nvar Paginator = require('./paginator');\nvar ResourceWaiter = require('./resource_waiter');\n\nvar util = require('../util');\nvar property = util.property;\nvar memoizedProperty = util.memoizedProperty;\n\nfunction Api(api, options) {\n  api = api || {};\n  options = options || {};\n  options.api = this;\n\n  api.metadata = api.metadata || {};\n\n  property(this, 'isApi', true, false);\n  property(this, 'apiVersion', api.metadata.apiVersion);\n  property(this, 'endpointPrefix', api.metadata.endpointPrefix);\n  property(this, 'signingName', api.metadata.signingName);\n  property(this, 'globalEndpoint', api.metadata.globalEndpoint);\n  property(this, 'signatureVersion', api.metadata.signatureVersion);\n  property(this, 'jsonVersion', api.metadata.jsonVersion);\n  property(this, 'targetPrefix', api.metadata.targetPrefix);\n  property(this, 'protocol', api.metadata.protocol);\n  property(this, 'timestampFormat', api.metadata.timestampFormat);\n  property(this, 'xmlNamespaceUri', api.metadata.xmlNamespace);\n  property(this, 'abbreviation', api.metadata.serviceAbbreviation);\n  property(this, 'fullName', api.metadata.serviceFullName);\n\n  memoizedProperty(this, 'className', function() {\n    var name = api.metadata.serviceAbbreviation || api.metadata.serviceFullName;\n    if (!name) return null;\n\n    name = name.replace(/^Amazon|AWS\\s*|\\(.*|\\s+|\\W+/g, '');\n    if (name === 'ElasticLoadBalancing') name = 'ELB';\n    return name;\n  });\n\n  property(this, 'operations', new Collection(api.operations, options, function(name, operation) {\n    return new Operation(name, operation, options);\n  }, util.string.lowerFirst));\n\n  property(this, 'shapes', new Collection(api.shapes, options, function(name, shape) {\n    return Shape.create(shape, options);\n  }));\n\n  property(this, 'paginators', new Collection(api.paginators, options, function(name, paginator) {\n    return new Paginator(name, paginator, options);\n  }));\n\n  property(this, 'waiters', new Collection(api.waiters, options, function(name, waiter) {\n    return new ResourceWaiter(name, waiter, options);\n  }, util.string.lowerFirst));\n\n  if (options.documentation) {\n    property(this, 'documentation', api.documentation);\n    property(this, 'documentationUrl', api.documentationUrl);\n  }\n}\n\nmodule.exports = Api;\n","var Shape = require('./shape');\n\nvar util = require('../util');\nvar property = util.property;\nvar memoizedProperty = util.memoizedProperty;\n\nfunction Operation(name, operation, options) {\n  var self = this;\n  options = options || {};\n\n  property(this, 'name', operation.name || name);\n  property(this, 'api', options.api, false);\n\n  operation.http = operation.http || {};\n  property(this, 'httpMethod', operation.http.method || 'POST');\n  property(this, 'httpPath', operation.http.requestUri || '/');\n  property(this, 'authtype', operation.authtype || '');\n\n  memoizedProperty(this, 'input', function() {\n    if (!operation.input) {\n      return new Shape.create({type: 'structure'}, options);\n    }\n    return Shape.create(operation.input, options);\n  });\n\n  memoizedProperty(this, 'output', function() {\n    if (!operation.output) {\n      return new Shape.create({type: 'structure'}, options);\n    }\n    return Shape.create(operation.output, options);\n  });\n\n  memoizedProperty(this, 'errors', function() {\n    var list = [];\n    if (!operation.errors) return null;\n\n    for (var i = 0; i < operation.errors.length; i++) {\n      list.push(Shape.create(operation.errors[i], options));\n    }\n\n    return list;\n  });\n\n  memoizedProperty(this, 'paginator', function() {\n    return options.api.paginators[name];\n  });\n\n  if (options.documentation) {\n    property(this, 'documentation', operation.documentation);\n    property(this, 'documentationUrl', operation.documentationUrl);\n  }\n\n  // idempotentMembers only tracks top-level input shapes\n  memoizedProperty(this, 'idempotentMembers', function() {\n    var idempotentMembers = [];\n    var input = self.input;\n    var members = input.members;\n    if (!input.members) {\n      return idempotentMembers;\n    }\n    for (var name in members) {\n      if (!members.hasOwnProperty(name)) {\n        continue;\n      }\n      if (members[name].isIdempotent === true) {\n        idempotentMembers.push(name);\n      }\n    }\n    return idempotentMembers;\n  });\n\n}\n\nmodule.exports = Operation;\n","var property = require('../util').property;\n\nfunction Paginator(name, paginator) {\n  property(this, 'inputToken', paginator.input_token);\n  property(this, 'limitKey', paginator.limit_key);\n  property(this, 'moreResults', paginator.more_results);\n  property(this, 'outputToken', paginator.output_token);\n  property(this, 'resultKey', paginator.result_key);\n}\n\nmodule.exports = Paginator;\n","var util = require('../util');\nvar property = util.property;\n\nfunction ResourceWaiter(name, waiter, options) {\n  options = options || {};\n  property(this, 'name', name);\n  property(this, 'api', options.api, false);\n\n  if (waiter.operation) {\n    property(this, 'operation', util.string.lowerFirst(waiter.operation));\n  }\n\n  var self = this;\n  var keys = [\n    'type',\n    'description',\n    'delay',\n    'maxAttempts',\n    'acceptors'\n  ];\n\n  keys.forEach(function(key) {\n    var value = waiter[key];\n    if (value) {\n      property(self, key, value);\n    }\n  });\n}\n\nmodule.exports = ResourceWaiter;\n","var AWS = require('./core');\n\n/**\n * Represents your AWS security credentials, specifically the\n * {accessKeyId}, {secretAccessKey}, and optional {sessionToken}.\n * Creating a `Credentials` object allows you to pass around your\n * security information to configuration and service objects.\n *\n * Note that this class typically does not need to be constructed manually,\n * as the {AWS.Config} and {AWS.Service} classes both accept simple\n * options hashes with the three keys. These structures will be converted\n * into Credentials objects automatically.\n *\n * ## Expiring and Refreshing Credentials\n *\n * Occasionally credentials can expire in the middle of a long-running\n * application. In this case, the SDK will automatically attempt to\n * refresh the credentials from the storage location if the Credentials\n * class implements the {refresh} method.\n *\n * If you are implementing a credential storage location, you\n * will want to create a subclass of the `Credentials` class and\n * override the {refresh} method. This method allows credentials to be\n * retrieved from the backing store, be it a file system, database, or\n * some network storage. The method should reset the credential attributes\n * on the object.\n *\n * @!attribute expired\n *   @return [Boolean] whether the credentials have been expired and\n *     require a refresh. Used in conjunction with {expireTime}.\n * @!attribute expireTime\n *   @return [Date] a time when credentials should be considered expired. Used\n *     in conjunction with {expired}.\n * @!attribute accessKeyId\n *   @return [String] the AWS access key ID\n * @!attribute secretAccessKey\n *   @return [String] the AWS secret access key\n * @!attribute sessionToken\n *   @return [String] an optional AWS session token\n */\nAWS.Credentials = AWS.util.inherit({\n  /**\n   * A credentials object can be created using positional arguments or an options\n   * hash.\n   *\n   * @overload AWS.Credentials(accessKeyId, secretAccessKey, sessionToken=null)\n   *   Creates a Credentials object with a given set of credential information\n   *   as positional arguments.\n   *   @param accessKeyId [String] the AWS access key ID\n   *   @param secretAccessKey [String] the AWS secret access key\n   *   @param sessionToken [String] the optional AWS session token\n   *   @example Create a credentials object with AWS credentials\n   *     var creds = new AWS.Credentials('akid', 'secret', 'session');\n   * @overload AWS.Credentials(options)\n   *   Creates a Credentials object with a given set of credential information\n   *   as an options hash.\n   *   @option options accessKeyId [String] the AWS access key ID\n   *   @option options secretAccessKey [String] the AWS secret access key\n   *   @option options sessionToken [String] the optional AWS session token\n   *   @example Create a credentials object with AWS credentials\n   *     var creds = new AWS.Credentials({\n   *       accessKeyId: 'akid', secretAccessKey: 'secret', sessionToken: 'session'\n   *     });\n   */\n  constructor: function Credentials() {\n    // hide secretAccessKey from being displayed with util.inspect\n    AWS.util.hideProperties(this, ['secretAccessKey']);\n\n    this.expired = false;\n    this.expireTime = null;\n    if (arguments.length === 1 && typeof arguments[0] === 'object') {\n      var creds = arguments[0].credentials || arguments[0];\n      this.accessKeyId = creds.accessKeyId;\n      this.secretAccessKey = creds.secretAccessKey;\n      this.sessionToken = creds.sessionToken;\n    } else {\n      this.accessKeyId = arguments[0];\n      this.secretAccessKey = arguments[1];\n      this.sessionToken = arguments[2];\n    }\n  },\n\n  /**\n   * @return [Integer] the number of seconds before {expireTime} during which\n   *   the credentials will be considered expired.\n   */\n  expiryWindow: 15,\n\n  /**\n   * @return [Boolean] whether the credentials object should call {refresh}\n   * @note Subclasses should override this method to provide custom refresh\n   *   logic.\n   */\n  needsRefresh: function needsRefresh() {\n    var currentTime = AWS.util.date.getDate().getTime();\n    var adjustedTime = new Date(currentTime + this.expiryWindow * 1000);\n\n    if (this.expireTime && adjustedTime > this.expireTime) {\n      return true;\n    } else {\n      return this.expired || !this.accessKeyId || !this.secretAccessKey;\n    }\n  },\n\n  /**\n   * Gets the existing credentials, refreshing them if they are not yet loaded\n   * or have expired. Users should call this method before using {refresh},\n   * as this will not attempt to reload credentials when they are already\n   * loaded into the object.\n   *\n   * @callback callback function(err)\n   *   When this callback is called with no error, it means either credentials\n   *   do not need to be refreshed or refreshed credentials information has\n   *   been loaded into the object (as the `accessKeyId`, `secretAccessKey`,\n   *   and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   */\n  get: function get(callback) {\n    var self = this;\n    if (this.needsRefresh()) {\n      this.refresh(function(err) {\n        if (!err) self.expired = false; // reset expired flag\n        if (callback) callback(err);\n      });\n    } else if (callback) {\n      callback();\n    }\n  },\n\n  /**\n   * @!method  getPromise()\n   *   Returns a 'thenable' promise.\n   *   Gets the existing credentials, refreshing them if they are not yet loaded\n   *   or have expired. Users should call this method before using {refresh},\n   *   as this will not attempt to reload credentials when they are already\n   *   loaded into the object.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function()\n   *     Called if the promise is fulfilled. When this callback is called, it\n   *     means either credentials do not need to be refreshed or refreshed\n   *     credentials information has been loaded into the object (as the\n   *     `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] if an error occurred, this value will be filled\n   *   @return [Promise] A promise that represents the state of the `get` call.\n   *   @example Calling the `getPromise` method.\n   *     var promise = credProvider.getPromise();\n   *     promise.then(function() { ... }, function(err) { ... });\n   */\n\n  /**\n   * @!method  refreshPromise()\n   *   Returns a 'thenable' promise.\n   *   Refreshes the credentials. Users should call {get} before attempting\n   *   to forcibly refresh credentials.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function()\n   *     Called if the promise is fulfilled. When this callback is called, it\n   *     means refreshed credentials information has been loaded into the object\n   *     (as the `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] if an error occurred, this value will be filled\n   *   @return [Promise] A promise that represents the state of the `refresh` call.\n   *   @example Calling the `refreshPromise` method.\n   *     var promise = credProvider.refreshPromise();\n   *     promise.then(function() { ... }, function(err) { ... });\n   */\n\n  /**\n   * Refreshes the credentials. Users should call {get} before attempting\n   * to forcibly refresh credentials.\n   *\n   * @callback callback function(err)\n   *   When this callback is called with no error, it means refreshed\n   *   credentials information has been loaded into the object (as the\n   *   `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @note Subclasses should override this class to reset the\n   *   {accessKeyId}, {secretAccessKey} and optional {sessionToken}\n   *   on the credentials object and then call the callback with\n   *   any error information.\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    this.expired = false;\n    callback();\n  }\n});\n\n/**\n * @api private\n */\nAWS.Credentials.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.getPromise = AWS.util.promisifyMethod('get', PromiseDependency);\n  this.prototype.refreshPromise = AWS.util.promisifyMethod('refresh', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.Credentials.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.getPromise;\n  delete this.prototype.refreshPromise;\n};\n\nAWS.util.addPromises(AWS.Credentials);\n","var AWS = require('../core');\n\n/**\n * Creates a credential provider chain that searches for AWS credentials\n * in a list of credential providers specified by the {providers} property.\n *\n * By default, the chain will use the {defaultProviders} to resolve credentials.\n * These providers will look in the environment using the\n * {AWS.EnvironmentCredentials} class with the 'AWS' and 'AMAZON' prefixes.\n *\n * ## Setting Providers\n *\n * Each provider in the {providers} list should be a function that returns\n * a {AWS.Credentials} object, or a hardcoded credentials object. The function\n * form allows for delayed execution of the credential construction.\n *\n * ## Resolving Credentials from a Chain\n *\n * Call {resolve} to return the first valid credential object that can be\n * loaded by the provider chain.\n *\n * For example, to resolve a chain with a custom provider that checks a file\n * on disk after the set of {defaultProviders}:\n *\n * ```javascript\n * var diskProvider = new AWS.FileSystemCredentials('./creds.json');\n * var chain = new AWS.CredentialProviderChain();\n * chain.providers.push(diskProvider);\n * chain.resolve();\n * ```\n *\n * The above code will return the `diskProvider` object if the\n * file contains credentials and the `defaultProviders` do not contain\n * any credential settings.\n *\n * @!attribute providers\n *   @return [Array<AWS.Credentials, Function>]\n *     a list of credentials objects or functions that return credentials\n *     objects. If the provider is a function, the function will be\n *     executed lazily when the provider needs to be checked for valid\n *     credentials. By default, this object will be set to the\n *     {defaultProviders}.\n *   @see defaultProviders\n */\nAWS.CredentialProviderChain = AWS.util.inherit(AWS.Credentials, {\n\n  /**\n   * Creates a new CredentialProviderChain with a default set of providers\n   * specified by {defaultProviders}.\n   */\n  constructor: function CredentialProviderChain(providers) {\n    if (providers) {\n      this.providers = providers;\n    } else {\n      this.providers = AWS.CredentialProviderChain.defaultProviders.slice(0);\n    }\n  },\n\n  /**\n   * @!method  resolvePromise()\n   *   Returns a 'thenable' promise.\n   *   Resolves the provider chain by searching for the first set of\n   *   credentials in {providers}.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(credentials)\n   *     Called if the promise is fulfilled and the provider resolves the chain\n   *     to a credentials object\n   *     @param credentials [AWS.Credentials] the credentials object resolved\n   *       by the provider chain.\n   *   @callback rejectedCallback function(error)\n   *     Called if the promise is rejected.\n   *     @param err [Error] the error object returned if no credentials are found.\n   *   @return [Promise] A promise that represents the state of the `resolve` method call.\n   *   @example Calling the `resolvePromise` method.\n   *     var promise = chain.resolvePromise();\n   *     promise.then(function(credentials) { ... }, function(err) { ... });\n   */\n\n  /**\n   * Resolves the provider chain by searching for the first set of\n   * credentials in {providers}.\n   *\n   * @callback callback function(err, credentials)\n   *   Called when the provider resolves the chain to a credentials object\n   *   or null if no credentials can be found.\n   *\n   *   @param err [Error] the error object returned if no credentials are\n   *     found.\n   *   @param credentials [AWS.Credentials] the credentials object resolved\n   *     by the provider chain.\n   * @return [AWS.CredentialProviderChain] the provider, for chaining.\n   */\n  resolve: function resolve(callback) {\n    if (this.providers.length === 0) {\n      callback(new Error('No providers'));\n      return this;\n    }\n\n    var index = 0;\n    var providers = this.providers.slice(0);\n\n    function resolveNext(err, creds) {\n      if ((!err && creds) || index === providers.length) {\n        callback(err, creds);\n        return;\n      }\n\n      var provider = providers[index++];\n      if (typeof provider === 'function') {\n        creds = provider.call();\n      } else {\n        creds = provider;\n      }\n\n      if (creds.get) {\n        creds.get(function(getErr) {\n          resolveNext(getErr, getErr ? null : creds);\n        });\n      } else {\n        resolveNext(null, creds);\n      }\n    }\n\n    resolveNext();\n    return this;\n  }\n});\n\n/**\n * The default set of providers used by a vanilla CredentialProviderChain.\n *\n * In the browser:\n *\n * ```javascript\n * AWS.CredentialProviderChain.defaultProviders = []\n * ```\n *\n * In Node.js:\n *\n * ```javascript\n * AWS.CredentialProviderChain.defaultProviders = [\n *   function () { return new AWS.EnvironmentCredentials('AWS'); },\n *   function () { return new AWS.EnvironmentCredentials('AMAZON'); },\n *   function () { return new AWS.SharedIniFileCredentials(); },\n *   function () {\n *     // if AWS_CONTAINER_CREDENTIALS_RELATIVE_URI is set\n *       return new AWS.ECSCredentials();\n *     // else\n *       return new AWS.EC2MetadataCredentials();\n *   }\n * ]\n * ```\n */\nAWS.CredentialProviderChain.defaultProviders = [];\n\n/**\n * @api private\n */\nAWS.CredentialProviderChain.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.resolvePromise = AWS.util.promisifyMethod('resolve', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.CredentialProviderChain.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.resolvePromise;\n};\n\nAWS.util.addPromises(AWS.CredentialProviderChain);\n","var AWS = require('./core');\nvar inherit = AWS.util.inherit;\n\n/**\n * The endpoint that a service will talk to, for example,\n * `'https://ec2.ap-southeast-1.amazonaws.com'`. If\n * you need to override an endpoint for a service, you can\n * set the endpoint on a service by passing the endpoint\n * object with the `endpoint` option key:\n *\n * ```javascript\n * var ep = new AWS.Endpoint('awsproxy.example.com');\n * var s3 = new AWS.S3({endpoint: ep});\n * s3.service.endpoint.hostname == 'awsproxy.example.com'\n * ```\n *\n * Note that if you do not specify a protocol, the protocol will\n * be selected based on your current {AWS.config} configuration.\n *\n * @!attribute protocol\n *   @return [String] the protocol (http or https) of the endpoint\n *     URL\n * @!attribute hostname\n *   @return [String] the host portion of the endpoint, e.g.,\n *     example.com\n * @!attribute host\n *   @return [String] the host portion of the endpoint including\n *     the port, e.g., example.com:80\n * @!attribute port\n *   @return [Integer] the port of the endpoint\n * @!attribute href\n *   @return [String] the full URL of the endpoint\n */\nAWS.Endpoint = inherit({\n\n  /**\n   * @overload Endpoint(endpoint)\n   *   Constructs a new endpoint given an endpoint URL. If the\n   *   URL omits a protocol (http or https), the default protocol\n   *   set in the global {AWS.config} will be used.\n   *   @param endpoint [String] the URL to construct an endpoint from\n   */\n  constructor: function Endpoint(endpoint, config) {\n    AWS.util.hideProperties(this, ['slashes', 'auth', 'hash', 'search', 'query']);\n\n    if (typeof endpoint === 'undefined' || endpoint === null) {\n      throw new Error('Invalid endpoint: ' + endpoint);\n    } else if (typeof endpoint !== 'string') {\n      return AWS.util.copy(endpoint);\n    }\n\n    if (!endpoint.match(/^http/)) {\n      var useSSL = config && config.sslEnabled !== undefined ?\n        config.sslEnabled : AWS.config.sslEnabled;\n      endpoint = (useSSL ? 'https' : 'http') + '://' + endpoint;\n    }\n\n    AWS.util.update(this, AWS.util.urlParse(endpoint));\n\n    // Ensure the port property is set as an integer\n    if (this.port) {\n      this.port = parseInt(this.port, 10);\n    } else {\n      this.port = this.protocol === 'https:' ? 443 : 80;\n    }\n  }\n\n});\n\n/**\n * The low level HTTP request object, encapsulating all HTTP header\n * and body data sent by a service request.\n *\n * @!attribute method\n *   @return [String] the HTTP method of the request\n * @!attribute path\n *   @return [String] the path portion of the URI, e.g.,\n *     \"/list/?start=5&num=10\"\n * @!attribute headers\n *   @return [map<String,String>]\n *     a map of header keys and their respective values\n * @!attribute body\n *   @return [String] the request body payload\n * @!attribute endpoint\n *   @return [AWS.Endpoint] the endpoint for the request\n * @!attribute region\n *   @api private\n *   @return [String] the region, for signing purposes only.\n */\nAWS.HttpRequest = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function HttpRequest(endpoint, region) {\n    endpoint = new AWS.Endpoint(endpoint);\n    this.method = 'POST';\n    this.path = endpoint.path || '/';\n    this.headers = {};\n    this.body = '';\n    this.endpoint = endpoint;\n    this.region = region;\n    this._userAgent = '';\n    this.setUserAgent();\n  },\n\n  /**\n   * @api private\n   */\n  setUserAgent: function setUserAgent() {\n    this._userAgent = this.headers[this.getUserAgentHeaderName()] = AWS.util.userAgent();\n  },\n\n  getUserAgentHeaderName: function getUserAgentHeaderName() {\n    var prefix = AWS.util.isBrowser() ? 'X-Amz-' : '';\n    return prefix + 'User-Agent';\n  },\n\n  /**\n   * @api private\n   */\n  appendToUserAgent: function appendToUserAgent(agentPartial) {\n    if (typeof agentPartial === 'string' && agentPartial) {\n      this._userAgent += ' ' + agentPartial;\n    }\n    this.headers[this.getUserAgentHeaderName()] = this._userAgent;\n  },\n\n  /**\n   * @api private\n   */\n  getUserAgent: function getUserAgent() {\n    return this._userAgent;\n  },\n\n  /**\n   * @return [String] the part of the {path} excluding the\n   *   query string\n   */\n  pathname: function pathname() {\n    return this.path.split('?', 1)[0];\n  },\n\n  /**\n   * @return [String] the query string portion of the {path}\n   */\n  search: function search() {\n    var query = this.path.split('?', 2)[1];\n    if (query) {\n      query = AWS.util.queryStringParse(query);\n      return AWS.util.queryParamsToString(query);\n    }\n    return '';\n  }\n\n});\n\n/**\n * The low level HTTP response object, encapsulating all HTTP header\n * and body data returned from the request.\n *\n * @!attribute statusCode\n *   @return [Integer] the HTTP status code of the response (e.g., 200, 404)\n * @!attribute headers\n *   @return [map<String,String>]\n *      a map of response header keys and their respective values\n * @!attribute body\n *   @return [String] the response body payload\n * @!attribute [r] streaming\n *   @return [Boolean] whether this response is being streamed at a low-level.\n *     Defaults to `false` (buffered reads). Do not modify this manually, use\n *     {createUnbufferedStream} to convert the stream to unbuffered mode\n *     instead.\n */\nAWS.HttpResponse = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function HttpResponse() {\n    this.statusCode = undefined;\n    this.headers = {};\n    this.body = undefined;\n    this.streaming = false;\n    this.stream = null;\n  },\n\n  /**\n   * Disables buffering on the HTTP response and returns the stream for reading.\n   * @return [Stream, XMLHttpRequest, null] the underlying stream object.\n   *   Use this object to directly read data off of the stream.\n   * @note This object is only available after the {AWS.Request~httpHeaders}\n   *   event has fired. This method must be called prior to\n   *   {AWS.Request~httpData}.\n   * @example Taking control of a stream\n   *   request.on('httpHeaders', function(statusCode, headers) {\n   *     if (statusCode < 300) {\n   *       if (headers.etag === 'xyz') {\n   *         // pipe the stream, disabling buffering\n   *         var stream = this.response.httpResponse.createUnbufferedStream();\n   *         stream.pipe(process.stdout);\n   *       } else { // abort this request and set a better error message\n   *         this.abort();\n   *         this.response.error = new Error('Invalid ETag');\n   *       }\n   *     }\n   *   }).send(console.log);\n   */\n  createUnbufferedStream: function createUnbufferedStream() {\n    this.streaming = true;\n    return this.stream;\n  }\n});\n\n\nAWS.HttpClient = inherit({});\n\n/**\n * @api private\n */\nAWS.HttpClient.getInstance = function getInstance() {\n  if (this.singleton === undefined) {\n    this.singleton = new this();\n  }\n  return this.singleton;\n};\n","var AWS = require('./core');\n\n/**\n * @api private\n * @!method on(eventName, callback)\n *   Registers an event listener callback for the event given by `eventName`.\n *   Parameters passed to the callback function depend on the individual event\n *   being triggered. See the event documentation for those parameters.\n *\n *   @param eventName [String] the event name to register the listener for\n *   @param callback [Function] the listener callback function\n *   @return [AWS.SequentialExecutor] the same object for chaining\n */\nAWS.SequentialExecutor = AWS.util.inherit({\n\n  constructor: function SequentialExecutor() {\n    this._events = {};\n  },\n\n  /**\n   * @api private\n   */\n  listeners: function listeners(eventName) {\n    return this._events[eventName] ? this._events[eventName].slice(0) : [];\n  },\n\n  on: function on(eventName, listener) {\n    if (this._events[eventName]) {\n      this._events[eventName].push(listener);\n    } else {\n      this._events[eventName] = [listener];\n    }\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  onAsync: function onAsync(eventName, listener) {\n    listener._isAsync = true;\n    return this.on(eventName, listener);\n  },\n\n  removeListener: function removeListener(eventName, listener) {\n    var listeners = this._events[eventName];\n    if (listeners) {\n      var length = listeners.length;\n      var position = -1;\n      for (var i = 0; i < length; ++i) {\n        if (listeners[i] === listener) {\n          position = i;\n        }\n      }\n      if (position > -1) {\n        listeners.splice(position, 1);\n      }\n    }\n    return this;\n  },\n\n  removeAllListeners: function removeAllListeners(eventName) {\n    if (eventName) {\n      delete this._events[eventName];\n    } else {\n      this._events = {};\n    }\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  emit: function emit(eventName, eventArgs, doneCallback) {\n    if (!doneCallback) doneCallback = function() { };\n    var listeners = this.listeners(eventName);\n    var count = listeners.length;\n    this.callListeners(listeners, eventArgs, doneCallback);\n    return count > 0;\n  },\n\n  /**\n   * @api private\n   */\n  callListeners: function callListeners(listeners, args, doneCallback, prevError) {\n    var self = this;\n    var error = prevError || null;\n\n    function callNextListener(err) {\n      if (err) {\n        error = AWS.util.error(error || new Error(), err);\n        if (self._haltHandlersOnError) {\n          return doneCallback.call(self, error);\n        }\n      }\n      self.callListeners(listeners, args, doneCallback, error);\n    }\n\n    while (listeners.length > 0) {\n      var listener = listeners.shift();\n      if (listener._isAsync) { // asynchronous listener\n        listener.apply(self, args.concat([callNextListener]));\n        return; // stop here, callNextListener will continue\n      } else { // synchronous listener\n        try {\n          listener.apply(self, args);\n        } catch (err) {\n          error = AWS.util.error(error || new Error(), err);\n        }\n        if (error && self._haltHandlersOnError) {\n          doneCallback.call(self, error);\n          return;\n        }\n      }\n    }\n    doneCallback.call(self, error);\n  },\n\n  /**\n   * Adds or copies a set of listeners from another list of\n   * listeners or SequentialExecutor object.\n   *\n   * @param listeners [map<String,Array<Function>>, AWS.SequentialExecutor]\n   *   a list of events and callbacks, or an event emitter object\n   *   containing listeners to add to this emitter object.\n   * @return [AWS.SequentialExecutor] the emitter object, for chaining.\n   * @example Adding listeners from a map of listeners\n   *   emitter.addListeners({\n   *     event1: [function() { ... }, function() { ... }],\n   *     event2: [function() { ... }]\n   *   });\n   *   emitter.emit('event1'); // emitter has event1\n   *   emitter.emit('event2'); // emitter has event2\n   * @example Adding listeners from another emitter object\n   *   var emitter1 = new AWS.SequentialExecutor();\n   *   emitter1.on('event1', function() { ... });\n   *   emitter1.on('event2', function() { ... });\n   *   var emitter2 = new AWS.SequentialExecutor();\n   *   emitter2.addListeners(emitter1);\n   *   emitter2.emit('event1'); // emitter2 has event1\n   *   emitter2.emit('event2'); // emitter2 has event2\n   */\n  addListeners: function addListeners(listeners) {\n    var self = this;\n\n    // extract listeners if parameter is an SequentialExecutor object\n    if (listeners._events) listeners = listeners._events;\n\n    AWS.util.each(listeners, function(event, callbacks) {\n      if (typeof callbacks === 'function') callbacks = [callbacks];\n      AWS.util.arrayEach(callbacks, function(callback) {\n        self.on(event, callback);\n      });\n    });\n\n    return self;\n  },\n\n  /**\n   * Registers an event with {on} and saves the callback handle function\n   * as a property on the emitter object using a given `name`.\n   *\n   * @param name [String] the property name to set on this object containing\n   *   the callback function handle so that the listener can be removed in\n   *   the future.\n   * @param (see on)\n   * @return (see on)\n   * @example Adding a named listener DATA_CALLBACK\n   *   var listener = function() { doSomething(); };\n   *   emitter.addNamedListener('DATA_CALLBACK', 'data', listener);\n   *\n   *   // the following prints: true\n   *   console.log(emitter.DATA_CALLBACK == listener);\n   */\n  addNamedListener: function addNamedListener(name, eventName, callback) {\n    this[name] = callback;\n    this.addListener(eventName, callback);\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  addNamedAsyncListener: function addNamedAsyncListener(name, eventName, callback) {\n    callback._isAsync = true;\n    return this.addNamedListener(name, eventName, callback);\n  },\n\n  /**\n   * Helper method to add a set of named listeners using\n   * {addNamedListener}. The callback contains a parameter\n   * with a handle to the `addNamedListener` method.\n   *\n   * @callback callback function(add)\n   *   The callback function is called immediately in order to provide\n   *   the `add` function to the block. This simplifies the addition of\n   *   a large group of named listeners.\n   *   @param add [Function] the {addNamedListener} function to call\n   *     when registering listeners.\n   * @example Adding a set of named listeners\n   *   emitter.addNamedListeners(function(add) {\n   *     add('DATA_CALLBACK', 'data', function() { ... });\n   *     add('OTHER', 'otherEvent', function() { ... });\n   *     add('LAST', 'lastEvent', function() { ... });\n   *   });\n   *\n   *   // these properties are now set:\n   *   emitter.DATA_CALLBACK;\n   *   emitter.OTHER;\n   *   emitter.LAST;\n   */\n  addNamedListeners: function addNamedListeners(callback) {\n    var self = this;\n    callback(\n      function() {\n        self.addNamedListener.apply(self, arguments);\n      },\n      function() {\n        self.addNamedAsyncListener.apply(self, arguments);\n      }\n    );\n    return this;\n  }\n});\n\n/**\n * {on} is the prefered method.\n * @api private\n */\nAWS.SequentialExecutor.prototype.addListener = AWS.SequentialExecutor.prototype.on;\n\nmodule.exports = AWS.SequentialExecutor;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V3 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n\n    var datetime = AWS.util.date.rfc822(date);\n\n    this.request.headers['X-Amz-Date'] = datetime;\n\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    this.request.headers['X-Amzn-Authorization'] =\n      this.authorization(credentials, datetime);\n\n  },\n\n  authorization: function authorization(credentials) {\n    return 'AWS3 ' +\n      'AWSAccessKeyId=' + credentials.accessKeyId + ',' +\n      'Algorithm=HmacSHA256,' +\n      'SignedHeaders=' + this.signedHeaders() + ',' +\n      'Signature=' + this.signature(credentials);\n  },\n\n  signedHeaders: function signedHeaders() {\n    var headers = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      headers.push(h.toLowerCase());\n    });\n    return headers.sort().join(';');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = this.request.headers;\n    var parts = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      parts.push(h.toLowerCase().trim() + ':' + String(headers[h]).trim());\n    });\n    return parts.sort().join('\\n') + '\\n';\n  },\n\n  headersToSign: function headersToSign() {\n    var headers = [];\n    AWS.util.each(this.request.headers, function iterator(k) {\n      if (k === 'Host' || k === 'Content-Encoding' || k.match(/^X-Amz/i)) {\n        headers.push(k);\n      }\n    });\n    return headers;\n  },\n\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push('/');\n    parts.push('');\n    parts.push(this.canonicalHeaders());\n    parts.push(this.request.body);\n    return AWS.util.crypto.sha256(parts.join('\\n'));\n  }\n\n});\n\nmodule.exports = AWS.Signers.V3;\n","var AWS = require('../core');\n\n/**\n * @api private\n */\nvar cachedSecret = {};\n\n/**\n * @api private\n */\nvar cacheQueue = [];\n\n/**\n * @api private\n */\nvar maxCacheEntries = 50;\n\n/**\n * @api private\n */\nvar v4Identifier = 'aws4_request';\n\nmodule.exports = {\n  /**\n   * @api private\n   *\n   * @param date [String]\n   * @param region [String]\n   * @param serviceName [String]\n   * @return [String]\n   */\n  createScope: function createScope(date, region, serviceName) {\n    return [\n      date.substr(0, 8),\n      region,\n      serviceName,\n      v4Identifier\n    ].join('/');\n  },\n\n  /**\n   * @api private\n   *\n   * @param credentials [Credentials]\n   * @param date [String]\n   * @param region [String]\n   * @param service [String]\n   * @param shouldCache [Boolean]\n   * @return [String]\n   */\n  getSigningKey: function getSigningKey(\n    credentials,\n    date,\n    region,\n    service,\n    shouldCache\n  ) {\n    var credsIdentifier = AWS.util.crypto\n      .hmac(credentials.secretAccessKey, credentials.accessKeyId, 'base64');\n    var cacheKey = [credsIdentifier, date, region, service].join('_');\n    shouldCache = shouldCache !== false;\n    if (shouldCache && (cacheKey in cachedSecret)) {\n      return cachedSecret[cacheKey];\n    }\n\n    var kDate = AWS.util.crypto.hmac(\n      'AWS4' + credentials.secretAccessKey,\n      date,\n      'buffer'\n    );\n    var kRegion = AWS.util.crypto.hmac(kDate, region, 'buffer');\n    var kService = AWS.util.crypto.hmac(kRegion, service, 'buffer');\n\n    var signingKey = AWS.util.crypto.hmac(kService, v4Identifier, 'buffer');\n    if (shouldCache) {\n      cachedSecret[cacheKey] = signingKey;\n      cacheQueue.push(cacheKey);\n      if (cacheQueue.length > maxCacheEntries) {\n        // remove the oldest entry (not the least recently used)\n        delete cachedSecret[cacheQueue.shift()];\n      }\n    }\n\n    return signingKey;\n  },\n\n  /**\n   * @api private\n   *\n   * Empties the derived signing key cache. Made available for testing purposes\n   * only.\n   */\n  emptyCache: function emptyCache() {\n    cachedSecret = {};\n    cacheQueue = [];\n  }\n};\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","var Buffer = require('buffer').Buffer\nvar sha = require('./sha')\nvar sha256 = require('./sha256')\nvar rng = require('./rng')\nvar md5 = require('./md5')\n\nvar algorithms = {\n  sha1: sha,\n  sha256: sha256,\n  md5: md5\n}\n\nvar blocksize = 64\nvar zeroBuffer = new Buffer(blocksize); zeroBuffer.fill(0)\nfunction hmac(fn, key, data) {\n  if(!Buffer.isBuffer(key)) key = new Buffer(key)\n  if(!Buffer.isBuffer(data)) data = new Buffer(data)\n\n  if(key.length > blocksize) {\n    key = fn(key)\n  } else if(key.length < blocksize) {\n    key = Buffer.concat([key, zeroBuffer], blocksize)\n  }\n\n  var ipad = new Buffer(blocksize), opad = new Buffer(blocksize)\n  for(var i = 0; i < blocksize; i++) {\n    ipad[i] = key[i] ^ 0x36\n    opad[i] = key[i] ^ 0x5C\n  }\n\n  var hash = fn(Buffer.concat([ipad, data]))\n  return fn(Buffer.concat([opad, hash]))\n}\n\nfunction hash(alg, key) {\n  alg = alg || 'sha1'\n  var fn = algorithms[alg]\n  var bufs = []\n  var length = 0\n  if(!fn) error('algorithm:', alg, 'is not yet supported')\n  return {\n    update: function (data) {\n      if(!Buffer.isBuffer(data)) data = new Buffer(data)\n        \n      bufs.push(data)\n      length += data.length\n      return this\n    },\n    digest: function (enc) {\n      var buf = Buffer.concat(bufs)\n      var r = key ? hmac(fn, key, buf) : fn(buf)\n      bufs = null\n      return enc ? r.toString(enc) : r\n    }\n  }\n}\n\nfunction error () {\n  var m = [].slice.call(arguments).join(' ')\n  throw new Error([\n    m,\n    'we accept pull requests',\n    'http://github.com/dominictarr/crypto-browserify'\n    ].join('\\n'))\n}\n\nexports.createHash = function (alg) { return hash(alg) }\nexports.createHmac = function (alg, key) { return hash(alg, key) }\nexports.randomBytes = function(size, callback) {\n  if (callback && callback.call) {\n    try {\n      callback.call(this, undefined, new Buffer(rng(size)))\n    } catch (err) { callback(err) }\n  } else {\n    return new Buffer(rng(size))\n  }\n}\n\nfunction each(a, f) {\n  for(var i in a)\n    f(a[i], i)\n}\n\n// the least I can do is make error messages for the rest of the node.js/crypto api.\neach(['createCredentials'\n, 'createCipher'\n, 'createCipheriv'\n, 'createDecipher'\n, 'createDecipheriv'\n, 'createSign'\n, 'createVerify'\n, 'createDiffieHellman'\n, 'pbkdf2'], function (name) {\n  exports[name] = function () {\n    error('sorry,', name, 'is not implemented yet')\n  }\n})\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logger_1 = require(\"./Logger\");\nvar logger = new Logger_1.ConsoleLogger('Hub');\nvar HubClass = /** @class */ (function () {\n    function HubClass(name) {\n        this.bus = [];\n        this.listeners = {};\n        this.name = name;\n    }\n    HubClass.createHub = function (name) {\n        return new HubClass(name);\n    };\n    HubClass.prototype.dispatch = function (channel, payload, source) {\n        if (source === void 0) { source = ''; }\n        var capsule = {\n            'channel': channel,\n            'payload': Object.assign({}, payload),\n            'source': source\n        };\n        try {\n            this.bus.push(capsule);\n            this.toListeners(capsule);\n        }\n        catch (e) {\n            logger.warn('Hub dispatch error', e);\n        }\n    };\n    HubClass.prototype.listen = function (channel, listener, listenerName) {\n        if (listenerName === void 0) { listenerName = 'noname'; }\n        logger.debug(listenerName + ' listening ' + channel);\n        var holder = this.listeners[channel];\n        if (!holder) {\n            holder = [];\n            this.listeners[channel] = holder;\n        }\n        holder.push({\n            'name': listenerName,\n            'listener': listener\n        });\n    };\n    HubClass.prototype.toListeners = function (capsule) {\n        var channel = capsule.channel, payload = capsule.payload, source = capsule.source;\n        var holder = this.listeners[channel];\n        if (!holder) {\n            return;\n        }\n        holder.forEach(function (listener) {\n            try {\n                listener.listener.onHubCapsule(capsule);\n            }\n            catch (e) {\n                logger.warn('error dispatching ' + channel + ' event to ' + listener.name);\n            }\n        });\n        this.bus.pop();\n    };\n    return HubClass;\n}());\nexports.HubClass = HubClass;\nvar Hub = new HubClass('__default__');\nexports.default = Hub;\n//# sourceMappingURL=Hub.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Common_1 = require(\"../Common\");\nvar logger = new Common_1.ConsoleLogger('Signer'), url = require('url'), crypto = Common_1.AWS['util'].crypto;\nvar DEFAULT_ALGORITHM = 'AWS4-HMAC-SHA256';\nvar encrypt = function (key, src, encoding) {\n    return crypto.lib.createHmac('sha256', key).update(src, 'utf8').digest(encoding);\n};\nvar hash = function (src) {\n    var arg = src || '';\n    return crypto.createHash('sha256').update(arg, 'utf8').digest('hex');\n};\n/**\n* @private\n* Create canonical headers\n*\n<pre>\nCanonicalHeaders =\n    CanonicalHeadersEntry0 + CanonicalHeadersEntry1 + ... + CanonicalHeadersEntryN\nCanonicalHeadersEntry =\n    Lowercase(HeaderName) + ':' + Trimall(HeaderValue) + '\\n'\n</pre>\n*/\nvar canonical_headers = function (headers) {\n    if (!headers || Object.keys(headers).length === 0) {\n        return '';\n    }\n    return Object.keys(headers)\n        .map(function (key) {\n        return {\n            key: key.toLowerCase(),\n            value: headers[key] ? headers[key].trim().replace(/\\s+/g, ' ') : ''\n        };\n    })\n        .sort(function (a, b) {\n        return a.key < b.key ? -1 : 1;\n    })\n        .map(function (item) {\n        return item.key + ':' + item.value;\n    })\n        .join('\\n') + '\\n';\n};\n/**\n* List of header keys included in the canonical headers.\n* @access private\n*/\nvar signed_headers = function (headers) {\n    return Object.keys(headers)\n        .map(function (key) { return key.toLowerCase(); })\n        .sort()\n        .join(';');\n};\n/**\n* @private\n* Create canonical request\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html|Create a Canonical Request}\n*\n<pre>\nCanonicalRequest =\n    HTTPRequestMethod + '\\n' +\n    CanonicalURI + '\\n' +\n    CanonicalQueryString + '\\n' +\n    CanonicalHeaders + '\\n' +\n    SignedHeaders + '\\n' +\n    HexEncode(Hash(RequestPayload))\n</pre>\n*/\nvar canonical_request = function (request) {\n    var url_info = url.parse(request.url);\n    var sorted_query = url_info.query\n        ? url_info.query.split('&').sort(function (a, b) { return a < b ? -1 : 1; }).join('&')\n        : '';\n    return [\n        request.method || '/',\n        url_info.pathname,\n        sorted_query,\n        canonical_headers(request.headers),\n        signed_headers(request.headers),\n        hash(request.data)\n    ].join('\\n');\n};\nvar parse_service_info = function (request) {\n    var url_info = url.parse(request.url), host = url_info.host;\n    var matched = host.match(/([^\\.]+)\\.(?:([^\\.]*)\\.)?amazonaws\\.com$/);\n    var parsed = (matched || []).slice(1, 3);\n    if (parsed[1] === 'es') {\n        parsed = parsed.reverse();\n    }\n    return {\n        service: request.service || parsed[0],\n        region: request.region || parsed[1]\n    };\n};\nvar credential_scope = function (d_str, region, service) {\n    return [\n        d_str,\n        region,\n        service,\n        'aws4_request',\n    ].join('/');\n};\n/**\n* @private\n* Create a string to sign\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html|Create String to Sign}\n*\n<pre>\nStringToSign =\n    Algorithm + \\n +\n    RequestDateTime + \\n +\n    CredentialScope + \\n +\n    HashedCanonicalRequest\n</pre>\n*/\nvar string_to_sign = function (algorithm, canonical_request, dt_str, scope) {\n    return [\n        algorithm,\n        dt_str,\n        scope,\n        hash(canonical_request)\n    ].join('\\n');\n};\n/**\n* @private\n* Create signing key\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html|Calculate Signature}\n*\n<pre>\nkSecret = your secret access key\nkDate = HMAC(\"AWS4\" + kSecret, Date)\nkRegion = HMAC(kDate, Region)\nkService = HMAC(kRegion, Service)\nkSigning = HMAC(kService, \"aws4_request\")\n</pre>\n*/\nvar get_signing_key = function (secret_key, d_str, service_info) {\n    logger.debug(service_info);\n    var k = ('AWS4' + secret_key), k_date = encrypt(k, d_str), k_region = encrypt(k_date, service_info.region), k_service = encrypt(k_region, service_info.service), k_signing = encrypt(k_service, 'aws4_request');\n    return k_signing;\n};\nvar get_signature = function (signing_key, str_to_sign) {\n    return encrypt(signing_key, str_to_sign, 'hex');\n};\n/**\n* @private\n* Create authorization header\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html|Add the Signing Information}\n*/\nvar get_authorization_header = function (algorithm, access_key, scope, signed_headers, signature) {\n    return [\n        algorithm + ' ' + 'Credential=' + access_key + '/' + scope,\n        'SignedHeaders=' + signed_headers,\n        'Signature=' + signature\n    ].join(', ');\n};\n/**\n* Sign a HTTP request, add 'Authorization' header to request param\n* @method sign\n* @memberof Signer\n* @static\n*\n* @param {object} request - HTTP request object\n<pre>\nrequest: {\n    method: GET | POST | PUT ...\n    url: ...,\n    headers: {\n        header1: ...\n    },\n    data: data\n}\n</pre>\n* @param {object} access_info - AWS access credential info\n<pre>\naccess_info: {\n    access_key: ...,\n    secret_key: ...,\n    session_token: ...\n}\n</pre>\n* @param {object} [service_info] - AWS service type and region, optional,\n*                                  if not provided then parse out from url\n<pre>\nservice_info: {\n    service: ...,\n    region: ...\n}\n</pre>\n*\n* @returns {object} Signed HTTP request\n*/\nvar sign = function (request, access_info, service_info) {\n    if (service_info === void 0) { service_info = null; }\n    request.headers = request.headers || {};\n    // datetime string and date string\n    var dt = new Date(), dt_str = dt.toISOString().replace(/[:\\-]|\\.\\d{3}/g, ''), d_str = dt_str.substr(0, 8);\n    var url_info = url.parse(request.url);\n    request.headers['host'] = url_info.host;\n    request.headers['x-amz-date'] = dt_str;\n    if (access_info.session_token) {\n        request.headers['X-Amz-Security-Token'] = access_info.session_token;\n    }\n    // Task 1: Create a Canonical Request\n    var request_str = canonical_request(request);\n    logger.debug(request_str);\n    // Task 2: Create a String to Sign\n    var serviceInfo = service_info || parse_service_info(request), scope = credential_scope(d_str, serviceInfo.region, serviceInfo.service), str_to_sign = string_to_sign(DEFAULT_ALGORITHM, request_str, dt_str, scope);\n    // Task 3: Calculate the Signature\n    var signing_key = get_signing_key(access_info.secret_key, d_str, serviceInfo), signature = get_signature(signing_key, str_to_sign);\n    // Task 4: Adding the Signing information to the Request\n    var authorization_header = get_authorization_header(DEFAULT_ALGORITHM, access_info.access_key, scope, signed_headers(request.headers), signature);\n    request.headers['Authorization'] = authorization_header;\n    return request;\n};\nvar signUrl = function (urlToSign, accessInfo, serviceInfo, expiration) {\n    var now = new Date().toISOString().replace(/[:\\-]|\\.\\d{3}/g, '');\n    var today = now.substr(0, 8);\n    var parsedUrl = url.parse(urlToSign, true, true);\n    var host = parsedUrl.host;\n    var signedHeaders = { host: host };\n    var _a = serviceInfo || parse_service_info({ url: url.format(parsedUrl) }), region = _a.region, service = _a.service;\n    var credentialScope = credential_scope(today, region, service);\n    var queryParams = __assign({ 'X-Amz-Algorithm': DEFAULT_ALGORITHM, 'X-Amz-Credential': [accessInfo.access_key, credentialScope].join('/'), 'X-Amz-Date': now.substr(0, 16) }, (expiration && { 'X-Amz-Expires': \"\" + expiration }), { 'X-Amz-SignedHeaders': Object.keys(signedHeaders).join(',') });\n    var canonicalRequest = canonical_request({\n        method: 'GET',\n        url: url.format(__assign({}, parsedUrl, { query: __assign({}, parsedUrl.query, queryParams) })),\n        headers: signedHeaders,\n    });\n    var stringToSign = string_to_sign(DEFAULT_ALGORITHM, canonicalRequest, now, credentialScope);\n    var signing_key = get_signing_key(accessInfo.secret_key, today, { region: region, service: service });\n    var signature = get_signature(signing_key, stringToSign);\n    var additionalQueryParams = __assign({ 'X-Amz-Signature': signature }, (accessInfo.session_token && { 'X-Amz-Security-Token': accessInfo.session_token }));\n    var result = url.format({\n        protocol: parsedUrl.protocol,\n        slashes: true,\n        hostname: parsedUrl.hostname,\n        pathname: parsedUrl.pathname,\n        query: __assign({}, parsedUrl.query, queryParams, additionalQueryParams)\n    });\n    return result;\n};\n/**\n* AWS request signer.\n* Refer to {@link http://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html|Signature Version 4}\n*\n* @class Signer\n*/\nvar Signer = /** @class */ (function () {\n    function Signer() {\n    }\n    Signer.sign = sign;\n    Signer.signUrl = signUrl;\n    return Signer;\n}());\nexports.default = Signer;\n//# sourceMappingURL=Signer.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Utils_1 = require(\"./Utils\");\nvar Common_1 = require(\"../Common\");\nvar logger = new Common_1.ConsoleLogger('StorageCache');\n/**\n * Initialization of the cache\n *\n */\nvar StorageCache = /** @class */ (function () {\n    /**\n     * Initialize the cache\n     * @param config - the configuration of the cache\n     */\n    function StorageCache(config) {\n        this.config = Object.assign({}, config);\n        this.cacheCurSizeKey = this.config.keyPrefix + 'CurSize';\n        this.checkConfig();\n    }\n    StorageCache.prototype.checkConfig = function () {\n        // check configuration\n        if (!Utils_1.isInteger(this.config.capacityInBytes)) {\n            logger.error('Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default.');\n            this.config.capacityInBytes = Utils_1.defaultConfig.capacityInBytes;\n        }\n        if (!Utils_1.isInteger(this.config.itemMaxSize)) {\n            logger.error('Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default.');\n            this.config.itemMaxSize = Utils_1.defaultConfig.itemMaxSize;\n        }\n        if (!Utils_1.isInteger(this.config.defaultTTL)) {\n            logger.error('Invalid parameter: defaultTTL. It should be an Integer. Setting back to default.');\n            this.config.defaultTTL = Utils_1.defaultConfig.defaultTTL;\n        }\n        if (!Utils_1.isInteger(this.config.defaultPriority)) {\n            logger.error('Invalid parameter: defaultPriority. It should be an Integer. Setting back to default.');\n            this.config.defaultPriority = Utils_1.defaultConfig.defaultPriority;\n        }\n        if (this.config.itemMaxSize > this.config.capacityInBytes) {\n            logger.error('Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default.');\n            this.config.itemMaxSize = Utils_1.defaultConfig.itemMaxSize;\n        }\n        if (this.config.defaultPriority > 5 || this.config.defaultPriority < 1) {\n            logger.error('Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default.');\n            this.config.defaultPriority = Utils_1.defaultConfig.defaultPriority;\n        }\n        if (Number(this.config.warningThreshold) > 1 || Number(this.config.warningThreshold) < 0) {\n            logger.error('Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default.');\n            this.config.warningThreshold = Utils_1.defaultConfig.warningThreshold;\n        }\n        // set 5MB limit\n        var cacheLimit = 5 * 1024 * 1024;\n        if (this.config.capacityInBytes > cacheLimit) {\n            logger.error('Cache Capacity should be less than 5MB. Setting back to default. Setting back to default.');\n            this.config.capacityInBytes = Utils_1.defaultConfig.capacityInBytes;\n        }\n    };\n    /**\n    * produce a JSON object with meta-data and data value\n    * @param value - the value of the item\n    * @param options - optional, the specified meta-data\n    *\n    * @return - the item which has the meta-data and the value\n    */\n    StorageCache.prototype.fillCacheItem = function (key, value, options) {\n        var ret = {\n            key: key,\n            data: value,\n            timestamp: Utils_1.getCurrTime(),\n            visitedTime: Utils_1.getCurrTime(),\n            priority: options.priority,\n            expires: options.expires,\n            type: typeof value,\n            byteSize: 0\n        };\n        ret.byteSize = Utils_1.getByteLength(JSON.stringify(ret));\n        // for accurate size\n        ret.byteSize = Utils_1.getByteLength(JSON.stringify(ret));\n        return ret;\n    };\n    /**\n     * set cache with customized configuration\n     * @param config - customized configuration\n     *\n     * @return - the current configuration\n     */\n    StorageCache.prototype.configure = function (config) {\n        if (!config) {\n            return this.config;\n        }\n        if (config.keyPrefix) {\n            logger.warn(\"Don't try to configure keyPrefix!\");\n        }\n        this.config = Object.assign({}, this.config, config, config.Cache);\n        this.checkConfig();\n        return this.config;\n    };\n    return StorageCache;\n}());\nexports.default = StorageCache;\n//# sourceMappingURL=StorageCache.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Utils_1 = require(\"./Utils\");\nvar StorageCache_1 = require(\"./StorageCache\");\nvar Common_1 = require(\"../Common\");\nvar logger = new Common_1.ConsoleLogger('InMemoryCache');\n/**\n * provide an object as the in-memory cache\n */\nvar CacheObject = /** @class */ (function () {\n    function CacheObject() {\n        this.store = {};\n        logger.debug('Using InMemoryCache');\n    }\n    CacheObject.prototype.clear = function () {\n        this.store = {};\n    };\n    CacheObject.prototype.getItem = function (key) {\n        return this.store[key] || null;\n    };\n    CacheObject.prototype.setItem = function (key, value) {\n        if (key in this.store) {\n            this.removeItem(key);\n        }\n        this.store[key] = value;\n    };\n    CacheObject.prototype.removeItem = function (key) {\n        delete this.store[key];\n    };\n    CacheObject.prototype.showItems = function () {\n        var str = 'show items in mock cache: \\n';\n        for (var key in this.store) {\n            str += key + '\\n';\n        }\n        logger.info(str);\n    };\n    return CacheObject;\n}());\n/**\n * Customized in-memory cache with LRU implemented\n * @member cacheObj - object which store items\n * @member cacheList - list of keys in the cache with LRU\n * @member curSizeInBytes - current size of the cache\n * @member maxPriority - max of the priority\n * @member cacheSizeLimit - the limit of cache size\n */\nvar InMemoryCache = /** @class */ (function (_super) {\n    __extends(InMemoryCache, _super);\n    /**\n     * initialize the cache\n     *\n     * @param config - the configuration of the cache\n     */\n    function InMemoryCache(config) {\n        var _this = this;\n        var cacheConfig = config ? Object.assign({}, Utils_1.defaultConfig, config) : Utils_1.defaultConfig;\n        _this = _super.call(this, cacheConfig) || this;\n        logger.debug('now we start!');\n        _this.cacheObj = new CacheObject();\n        _this.cacheList = [];\n        _this.curSizeInBytes = 0;\n        _this.maxPriority = 5;\n        // initialize list for every priority\n        for (var i = 0; i < _this.maxPriority; i += 1) {\n            _this.cacheList[i] = new Utils_1.CacheList();\n        }\n        return _this;\n    }\n    /**\n     * decrease current size of the cache\n     *\n     * @param amount - the amount of the cache size which needs to be decreased\n     */\n    InMemoryCache.prototype._decreaseCurSizeInBytes = function (amount) {\n        this.curSizeInBytes -= amount;\n    };\n    /**\n     * increase current size of the cache\n     *\n     * @param amount - the amount of the cache szie which need to be increased\n     */\n    InMemoryCache.prototype._increaseCurSizeInBytes = function (amount) {\n        this.curSizeInBytes += amount;\n    };\n    /**\n     * check wether item is expired\n     *\n     * @param key - the key of the item\n     *\n     * @return true if the item is expired.\n     */\n    InMemoryCache.prototype._isExpired = function (key) {\n        var text = this.cacheObj.getItem(key);\n        var item = JSON.parse(text);\n        if (Utils_1.getCurrTime() >= item.expires) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * delete item from cache\n     *\n     * @param prefixedKey - the key of the item\n     * @param listIdx - indicates which cache list the key belongs to\n     */\n    InMemoryCache.prototype._removeItem = function (prefixedKey, listIdx) {\n        // delete the key from the list\n        this.cacheList[listIdx].removeItem(prefixedKey);\n        // decrease the current size of the cache\n        this._decreaseCurSizeInBytes(JSON.parse(this.cacheObj.getItem(prefixedKey)).byteSize);\n        // finally remove the item from memory\n        this.cacheObj.removeItem(prefixedKey);\n    };\n    /**\n     * put item into cache\n     *\n     * @param prefixedKey - the key of the item\n     * @param itemData - the value of the item\n     * @param itemSizeInBytes - the byte size of the item\n     * @param listIdx - indicates which cache list the key belongs to\n     */\n    InMemoryCache.prototype._setItem = function (prefixedKey, item, listIdx) {\n        // insert the key into the list\n        this.cacheList[listIdx].insertItem(prefixedKey);\n        // increase the current size of the cache\n        this._increaseCurSizeInBytes(item.byteSize);\n        // finally add the item into memory\n        this.cacheObj.setItem(prefixedKey, JSON.stringify(item));\n    };\n    /**\n     * see whether cache is full\n     *\n     * @param itemSize\n     *\n     * @return true if cache is full\n     */\n    InMemoryCache.prototype._isCacheFull = function (itemSize) {\n        return this.curSizeInBytes + itemSize > this.config.capacityInBytes;\n    };\n    /**\n     * check whether the cache contains the key\n     *\n     * @param key\n     */\n    InMemoryCache.prototype.containsKey = function (key) {\n        var prefixedKey = this.config.keyPrefix + key;\n        for (var i = 0; i < this.maxPriority; i += 1) {\n            if (this.cacheList[i].containsKey(prefixedKey)) {\n                return i + 1;\n            }\n        }\n        return -1;\n    };\n    /**\n     * * Set item into cache. You can put number, string, boolean or object.\n     * The cache will first check whether has the same key.\n     * If it has, it will delete the old item and then put the new item in\n     * The cache will pop out items if it is full\n     * You can specify the cache item options. The cache will abort and output a warning:\n     * If the key is invalid\n     * If the size of the item exceeds itemMaxSize.\n     * If the value is undefined\n     * If incorrect cache item configuration\n     * If error happened with browser storage\n     *\n     * @param key - the key of the item\n     * @param value - the value of the item\n     * @param options - optional, the specified meta-data\n     *\n     * @throws if the item is too big which exceeds the limit of single item size\n     * @throws if the key is invalid\n     */\n    InMemoryCache.prototype.setItem = function (key, value, options) {\n        var prefixedKey = this.config.keyPrefix + key;\n        // invalid keys\n        if (prefixedKey === this.config.keyPrefix || prefixedKey === this.cacheCurSizeKey) {\n            logger.warn(\"Invalid key: should not be empty or 'CurSize'\");\n            return;\n        }\n        if ((typeof value) === 'undefined') {\n            logger.warn(\"The value of item should not be undefined!\");\n            return;\n        }\n        var cacheItemOptions = {\n            priority: options && options.priority !== undefined ? options.priority : this.config.defaultPriority,\n            expires: options && options.expires !== undefined ?\n                options.expires : (this.config.defaultTTL + Utils_1.getCurrTime())\n        };\n        if (cacheItemOptions.priority < 1 || cacheItemOptions.priority > 5) {\n            logger.warn(\"Invalid parameter: priority due to out or range. It should be within 1 and 5.\");\n            return;\n        }\n        var item = this.fillCacheItem(prefixedKey, value, cacheItemOptions);\n        // check wether this item is too big;\n        if (item.byteSize > this.config.itemMaxSize) {\n            logger.warn(\"Item with key: \" + key + \" you are trying to put into is too big!\");\n            return;\n        }\n        // if key already in the cache, then delete it.\n        var presentKeyPrio = this.containsKey(key);\n        if (presentKeyPrio !== -1) {\n            this._removeItem(prefixedKey, presentKeyPrio - 1);\n        }\n        // pop out items in the cache when cache is full based on LRU\n        // first start from lowest priority cache list\n        var cacheListIdx = this.maxPriority - 1;\n        while (this._isCacheFull(item.byteSize) && cacheListIdx >= 0) {\n            if (!this.cacheList[cacheListIdx].isEmpty()) {\n                var popedItemKey = this.cacheList[cacheListIdx].getLastItem();\n                this._removeItem(popedItemKey, cacheListIdx);\n            }\n            else {\n                cacheListIdx -= 1;\n            }\n        }\n        this._setItem(prefixedKey, item, Number(item.priority) - 1);\n    };\n    /**\n     * Get item from cache. It will return null if item doesnt exist or it has been expired.\n     * If you specified callback function in the options,\n     * then the function will be executed if no such item in the cache\n     * and finally put the return value into cache.\n     * Please make sure the callback function will return the value you want to put into the cache.\n     * The cache will abort output a warning:\n     * If the key is invalid\n     *\n     * @param key - the key of the item\n     * @param options - the options of callback function\n     */\n    InMemoryCache.prototype.getItem = function (key, options) {\n        var ret = null;\n        var prefixedKey = this.config.keyPrefix + key;\n        if (prefixedKey === this.config.keyPrefix || prefixedKey === this.cacheCurSizeKey) {\n            logger.warn(\"Invalid key: should not be empty or 'CurSize'\");\n            return null;\n        }\n        // check whether it's in the cachelist\n        var presentKeyPrio = this.containsKey(key);\n        if (presentKeyPrio !== -1) {\n            if (this._isExpired(prefixedKey)) {\n                // if expired, remove that item and return null\n                this._removeItem(prefixedKey, presentKeyPrio - 1);\n            }\n            else {\n                // if not expired, great, return the value and refresh it\n                ret = this.cacheObj.getItem(prefixedKey);\n                var item = JSON.parse(ret);\n                this.cacheList[item.priority - 1].refresh(prefixedKey);\n                return item.data;\n            }\n        }\n        if (options && options.callback !== undefined) {\n            var val = options.callback();\n            if (val !== null) {\n                this.setItem(key, val, options);\n            }\n            return val;\n        }\n        return null;\n    };\n    /**\n     * remove item from the cache\n     *\n     * @param key - the key of the item\n     */\n    InMemoryCache.prototype.removeItem = function (key) {\n        var prefixedKey = this.config.keyPrefix + key;\n        // check if the key is in the cache\n        var presentKeyPrio = this.containsKey(key);\n        if (presentKeyPrio !== -1) {\n            this._removeItem(prefixedKey, presentKeyPrio - 1);\n        }\n    };\n    /**\n     * clear the entire cache\n     */\n    InMemoryCache.prototype.clear = function () {\n        for (var i = 0; i < this.maxPriority; i += 1) {\n            for (var _i = 0, _a = this.cacheList[i].getKeys(); _i < _a.length; _i++) {\n                var key = _a[_i];\n                this._removeItem(key, i);\n            }\n        }\n    };\n    /**\n     * Return all the keys in the cache.\n     */\n    InMemoryCache.prototype.getAllKeys = function () {\n        var keys = [];\n        for (var i = 0; i < this.maxPriority; i += 1) {\n            for (var _i = 0, _a = this.cacheList[i].getKeys(); _i < _a.length; _i++) {\n                var key = _a[_i];\n                keys.push(key.substring(this.config.keyPrefix.length));\n            }\n        }\n        return keys;\n    };\n    /**\n     * return the current size of the cache\n     *\n     * @return the current size of the cache\n     */\n    InMemoryCache.prototype.getCacheCurSize = function () {\n        return this.curSizeInBytes;\n    };\n    /**\n     * Return a new instance of cache with customized configuration.\n     * @param config - the customized configuration\n     */\n    InMemoryCache.prototype.createInstance = function (config) {\n        return new InMemoryCache(config);\n    };\n    return InMemoryCache;\n}(StorageCache_1.default));\nexports.InMemoryCache = InMemoryCache;\nvar instance = new InMemoryCache();\nexports.default = instance;\n//# sourceMappingURL=InMemoryCache.js.map","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","module.exports = require('./lib/Observable.js').Observable;\n","var AWS = require('../core');\nvar util = require('../util');\nvar QueryParamSerializer = require('../query/query_param_serializer');\nvar Shape = require('../model/shape');\n\nfunction buildRequest(req) {\n  var operation = req.service.api.operations[req.operation];\n  var httpRequest = req.httpRequest;\n  httpRequest.headers['Content-Type'] =\n    'application/x-www-form-urlencoded; charset=utf-8';\n  httpRequest.params = {\n    Version: req.service.api.apiVersion,\n    Action: operation.name\n  };\n\n  // convert the request parameters into a list of query params,\n  // e.g. Deeply.NestedParam.0.Name=value\n  var builder = new QueryParamSerializer();\n  builder.serialize(req.params, operation.input, function(name, value) {\n    httpRequest.params[name] = value;\n  });\n  httpRequest.body = util.queryParamsToString(httpRequest.params);\n}\n\nfunction extractError(resp) {\n  var data, body = resp.httpResponse.body.toString();\n  if (body.match('<UnknownOperationException')) {\n    data = {\n      Code: 'UnknownOperation',\n      Message: 'Unknown operation ' + resp.request.operation\n    };\n  } else {\n    try {\n      data = new AWS.XML.Parser().parse(body);\n    } catch (e) {\n      data = {\n        Code: resp.httpResponse.statusCode,\n        Message: resp.httpResponse.statusMessage\n      };\n    }\n  }\n\n  if (data.requestId && !resp.requestId) resp.requestId = data.requestId;\n  if (data.Errors) data = data.Errors;\n  if (data.Error) data = data.Error;\n  if (data.Code) {\n    resp.error = util.error(new Error(), {\n      code: data.Code,\n      message: data.Message\n    });\n  } else {\n    resp.error = util.error(new Error(), {\n      code: resp.httpResponse.statusCode,\n      message: null\n    });\n  }\n}\n\nfunction extractData(resp) {\n  var req = resp.request;\n  var operation = req.service.api.operations[req.operation];\n  var shape = operation.output || {};\n  var origRules = shape;\n\n  if (origRules.resultWrapper) {\n    var tmp = Shape.create({type: 'structure'});\n    tmp.members[origRules.resultWrapper] = shape;\n    tmp.memberNames = [origRules.resultWrapper];\n    util.property(shape, 'name', shape.resultWrapper);\n    shape = tmp;\n  }\n\n  var parser = new AWS.XML.Parser();\n\n  // TODO: Refactor XML Parser to parse RequestId from response.\n  if (shape && shape.members && !shape.members._XAMZRequestId) {\n    var requestIdShape = Shape.create(\n      { type: 'string' },\n      { api: { protocol: 'query' } },\n      'requestId'\n    );\n    shape.members._XAMZRequestId = requestIdShape;\n  }\n\n  var data = parser.parse(resp.httpResponse.body.toString(), shape);\n  resp.requestId = data._XAMZRequestId || data.requestId;\n\n  if (data._XAMZRequestId) delete data._XAMZRequestId;\n\n  if (origRules.resultWrapper) {\n    if (data[origRules.resultWrapper]) {\n      util.update(data, data[origRules.resultWrapper]);\n      delete data[origRules.resultWrapper];\n    }\n  }\n\n  resp.data = data;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var memoizedProperty = require('../util').memoizedProperty;\n\nfunction memoize(name, value, fn, nameTr) {\n  memoizedProperty(this, nameTr(name), function() {\n    return fn(name, value);\n  });\n}\n\nfunction Collection(iterable, options, fn, nameTr) {\n  nameTr = nameTr || String;\n  var self = this;\n\n  for (var id in iterable) {\n    if (Object.prototype.hasOwnProperty.call(iterable, id)) {\n      memoize.call(self, id, iterable[id], fn, nameTr);\n    }\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = Collection;\n","var util = require('../util');\nvar Rest = require('./rest');\nvar Json = require('./json');\nvar JsonBuilder = require('../json/builder');\nvar JsonParser = require('../json/parser');\n\nfunction populateBody(req) {\n  var builder = new JsonBuilder();\n  var input = req.service.api.operations[req.operation].input;\n\n  if (input.payload) {\n    var params = {};\n    var payloadShape = input.members[input.payload];\n    params = req.params[input.payload];\n    if (params === undefined) return;\n\n    if (payloadShape.type === 'structure') {\n      req.httpRequest.body = builder.build(params, payloadShape);\n      applyContentTypeHeader(req);\n    } else { // non-JSON payload\n      req.httpRequest.body = params;\n      if (payloadShape.type === 'binary' || payloadShape.isStreaming) {\n        applyContentTypeHeader(req, true);\n      }\n    }\n  } else {\n    req.httpRequest.body = builder.build(req.params, input);\n    applyContentTypeHeader(req);\n  }\n}\n\nfunction applyContentTypeHeader(req, isBinary) {\n  var operation = req.service.api.operations[req.operation];\n  var input = operation.input;\n\n  if (!req.httpRequest.headers['Content-Type']) {\n    var type = isBinary ? 'binary/octet-stream' : 'application/json';\n    req.httpRequest.headers['Content-Type'] = type;\n  }\n}\n\nfunction buildRequest(req) {\n  Rest.buildRequest(req);\n\n  // never send body payload on GET/HEAD/DELETE\n  if (['GET', 'HEAD', 'DELETE'].indexOf(req.httpRequest.method) < 0) {\n    populateBody(req);\n  }\n}\n\nfunction extractError(resp) {\n  Json.extractError(resp);\n}\n\nfunction extractData(resp) {\n  Rest.extractData(resp);\n\n  var req = resp.request;\n  var operation = req.service.api.operations[req.operation];\n  var rules = req.service.api.operations[req.operation].output || {};\n  var parser;\n  var hasEventOutput = operation.hasEventOutput;\n\n  if (rules.payload) {\n    var payloadMember = rules.members[rules.payload];\n    var body = resp.httpResponse.body;\n    if (payloadMember.isEventStream) {\n      parser = new JsonParser();\n      resp.data[payload] = util.createEventStream(\n        AWS.HttpClient.streamsApiVersion === 2 ? resp.httpResponse.stream : body,\n        parser,\n        payloadMember\n      );\n    } else if (payloadMember.type === 'structure' || payloadMember.type === 'list') {\n      var parser = new JsonParser();\n      resp.data[rules.payload] = parser.parse(body, payloadMember);\n    } else if (payloadMember.type === 'binary' || payloadMember.isStreaming) {\n      resp.data[rules.payload] = body;\n    } else {\n      resp.data[rules.payload] = payloadMember.toType(body);\n    }\n  } else {\n    var data = resp.data;\n    Json.extractData(resp);\n    resp.data = util.merge(data, resp.data);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var AWS = require('../core');\nvar util = require('../util');\nvar Rest = require('./rest');\n\nfunction populateBody(req) {\n  var input = req.service.api.operations[req.operation].input;\n  var builder = new AWS.XML.Builder();\n  var params = req.params;\n\n  var payload = input.payload;\n  if (payload) {\n    var payloadMember = input.members[payload];\n    params = params[payload];\n    if (params === undefined) return;\n\n    if (payloadMember.type === 'structure') {\n      var rootElement = payloadMember.name;\n      req.httpRequest.body = builder.toXML(params, payloadMember, rootElement, true);\n    } else { // non-xml payload\n      req.httpRequest.body = params;\n    }\n  } else {\n    req.httpRequest.body = builder.toXML(params, input, input.name ||\n      input.shape || util.string.upperFirst(req.operation) + 'Request');\n  }\n}\n\nfunction buildRequest(req) {\n  Rest.buildRequest(req);\n\n  // never send body payload on GET/HEAD\n  if (['GET', 'HEAD'].indexOf(req.httpRequest.method) < 0) {\n    populateBody(req);\n  }\n}\n\nfunction extractError(resp) {\n  Rest.extractError(resp);\n\n  var data;\n  try {\n    data = new AWS.XML.Parser().parse(resp.httpResponse.body.toString());\n  } catch (e) {\n    data = {\n      Code: resp.httpResponse.statusCode,\n      Message: resp.httpResponse.statusMessage\n    };\n  }\n\n  if (data.Errors) data = data.Errors;\n  if (data.Error) data = data.Error;\n  if (data.Code) {\n    resp.error = util.error(new Error(), {\n      code: data.Code,\n      message: data.Message\n    });\n  } else {\n    resp.error = util.error(new Error(), {\n      code: resp.httpResponse.statusCode,\n      message: null\n    });\n  }\n}\n\nfunction extractData(resp) {\n  Rest.extractData(resp);\n\n  var parser;\n  var req = resp.request;\n  var body = resp.httpResponse.body;\n  var operation = req.service.api.operations[req.operation];\n  var output = operation.output;\n\n  var hasEventOutput = operation.hasEventOutput;\n\n  var payload = output.payload;\n  if (payload) {\n    var payloadMember = output.members[payload];\n    if (payloadMember.isEventStream) {\n      parser = new AWS.XML.Parser();\n      resp.data[payload] = util.createEventStream(\n        AWS.HttpClient.streamsApiVersion === 2 ? resp.httpResponse.stream : resp.httpResponse.body,\n        parser,\n        payloadMember\n      );\n    } else if (payloadMember.type === 'structure') {\n      parser = new AWS.XML.Parser();\n      resp.data[payload] = parser.parse(body.toString(), payloadMember);\n    } else if (payloadMember.type === 'binary' || payloadMember.isStreaming) {\n      resp.data[payload] = body;\n    } else {\n      resp.data[payload] = payloadMember.toType(body);\n    }\n  } else if (body.length > 0) {\n    parser = new AWS.XML.Parser();\n    var data = parser.parse(body.toString(), output);\n    util.update(resp.data, data);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var Collection = require('./collection');\nvar Operation = require('./operation');\nvar Shape = require('./shape');\nvar Paginator = require('./paginator');\nvar ResourceWaiter = require('./resource_waiter');\n\nvar util = require('../util');\nvar property = util.property;\nvar memoizedProperty = util.memoizedProperty;\n\nfunction Api(api, options) {\n  api = api || {};\n  options = options || {};\n  options.api = this;\n\n  api.metadata = api.metadata || {};\n\n  property(this, 'isApi', true, false);\n  property(this, 'apiVersion', api.metadata.apiVersion);\n  property(this, 'endpointPrefix', api.metadata.endpointPrefix);\n  property(this, 'signingName', api.metadata.signingName);\n  property(this, 'globalEndpoint', api.metadata.globalEndpoint);\n  property(this, 'signatureVersion', api.metadata.signatureVersion);\n  property(this, 'jsonVersion', api.metadata.jsonVersion);\n  property(this, 'targetPrefix', api.metadata.targetPrefix);\n  property(this, 'protocol', api.metadata.protocol);\n  property(this, 'timestampFormat', api.metadata.timestampFormat);\n  property(this, 'xmlNamespaceUri', api.metadata.xmlNamespace);\n  property(this, 'abbreviation', api.metadata.serviceAbbreviation);\n  property(this, 'fullName', api.metadata.serviceFullName);\n\n  memoizedProperty(this, 'className', function() {\n    var name = api.metadata.serviceAbbreviation || api.metadata.serviceFullName;\n    if (!name) return null;\n\n    name = name.replace(/^Amazon|AWS\\s*|\\(.*|\\s+|\\W+/g, '');\n    if (name === 'ElasticLoadBalancing') name = 'ELB';\n    return name;\n  });\n\n  property(this, 'operations', new Collection(api.operations, options, function(name, operation) {\n    return new Operation(name, operation, options);\n  }, util.string.lowerFirst));\n\n  property(this, 'shapes', new Collection(api.shapes, options, function(name, shape) {\n    return Shape.create(shape, options);\n  }));\n\n  property(this, 'paginators', new Collection(api.paginators, options, function(name, paginator) {\n    return new Paginator(name, paginator, options);\n  }));\n\n  property(this, 'waiters', new Collection(api.waiters, options, function(name, waiter) {\n    return new ResourceWaiter(name, waiter, options);\n  }, util.string.lowerFirst));\n\n  if (options.documentation) {\n    property(this, 'documentation', api.documentation);\n    property(this, 'documentationUrl', api.documentationUrl);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = Api;\n","var Shape = require('./shape');\n\nvar util = require('../util');\nvar property = util.property;\nvar memoizedProperty = util.memoizedProperty;\n\nfunction Operation(name, operation, options) {\n  var self = this;\n  options = options || {};\n\n  property(this, 'name', operation.name || name);\n  property(this, 'api', options.api, false);\n\n  operation.http = operation.http || {};\n  property(this, 'httpMethod', operation.http.method || 'POST');\n  property(this, 'httpPath', operation.http.requestUri || '/');\n  property(this, 'authtype', operation.authtype || '');\n\n  memoizedProperty(this, 'input', function() {\n    if (!operation.input) {\n      return new Shape.create({type: 'structure'}, options);\n    }\n    return Shape.create(operation.input, options);\n  });\n\n  memoizedProperty(this, 'output', function() {\n    if (!operation.output) {\n      return new Shape.create({type: 'structure'}, options);\n    }\n    return Shape.create(operation.output, options);\n  });\n\n  memoizedProperty(this, 'errors', function() {\n    var list = [];\n    if (!operation.errors) return null;\n\n    for (var i = 0; i < operation.errors.length; i++) {\n      list.push(Shape.create(operation.errors[i], options));\n    }\n\n    return list;\n  });\n\n  memoizedProperty(this, 'paginator', function() {\n    return options.api.paginators[name];\n  });\n\n  if (options.documentation) {\n    property(this, 'documentation', operation.documentation);\n    property(this, 'documentationUrl', operation.documentationUrl);\n  }\n\n  // idempotentMembers only tracks top-level input shapes\n  memoizedProperty(this, 'idempotentMembers', function() {\n    var idempotentMembers = [];\n    var input = self.input;\n    var members = input.members;\n    if (!input.members) {\n      return idempotentMembers;\n    }\n    for (var name in members) {\n      if (!members.hasOwnProperty(name)) {\n        continue;\n      }\n      if (members[name].isIdempotent === true) {\n        idempotentMembers.push(name);\n      }\n    }\n    return idempotentMembers;\n  });\n\n  memoizedProperty(this, 'hasEventOutput', function() {\n    var output = self.output;\n    return hasEventStream(output);\n  });\n}\n\nfunction hasEventStream(topLevelShape) {\n  var members = topLevelShape.members;\n  var payload = topLevelShape.payload;\n\n  if (!topLevelShape.members) {\n    return false;\n  }\n\n  if (payload) {\n    var payloadMember = members[payload];\n    return payloadMember.isEventStream;\n  }\n\n  // check if any member is an event stream\n  for (var name in members) {\n    if (!members.hasOwnProperty(name)) {\n      if (members[name].isEventStream === true) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n/**\n * @api private\n */\nmodule.exports = Operation;\n","var property = require('../util').property;\n\nfunction Paginator(name, paginator) {\n  property(this, 'inputToken', paginator.input_token);\n  property(this, 'limitKey', paginator.limit_key);\n  property(this, 'moreResults', paginator.more_results);\n  property(this, 'outputToken', paginator.output_token);\n  property(this, 'resultKey', paginator.result_key);\n}\n\n/**\n * @api private\n */\nmodule.exports = Paginator;\n","var util = require('../util');\nvar property = util.property;\n\nfunction ResourceWaiter(name, waiter, options) {\n  options = options || {};\n  property(this, 'name', name);\n  property(this, 'api', options.api, false);\n\n  if (waiter.operation) {\n    property(this, 'operation', util.string.lowerFirst(waiter.operation));\n  }\n\n  var self = this;\n  var keys = [\n    'type',\n    'description',\n    'delay',\n    'maxAttempts',\n    'acceptors'\n  ];\n\n  keys.forEach(function(key) {\n    var value = waiter[key];\n    if (value) {\n      property(self, key, value);\n    }\n  });\n}\n\n/**\n * @api private\n */\nmodule.exports = ResourceWaiter;\n","var AWS = require('./core');\n\n/**\n * Represents your AWS security credentials, specifically the\n * {accessKeyId}, {secretAccessKey}, and optional {sessionToken}.\n * Creating a `Credentials` object allows you to pass around your\n * security information to configuration and service objects.\n *\n * Note that this class typically does not need to be constructed manually,\n * as the {AWS.Config} and {AWS.Service} classes both accept simple\n * options hashes with the three keys. These structures will be converted\n * into Credentials objects automatically.\n *\n * ## Expiring and Refreshing Credentials\n *\n * Occasionally credentials can expire in the middle of a long-running\n * application. In this case, the SDK will automatically attempt to\n * refresh the credentials from the storage location if the Credentials\n * class implements the {refresh} method.\n *\n * If you are implementing a credential storage location, you\n * will want to create a subclass of the `Credentials` class and\n * override the {refresh} method. This method allows credentials to be\n * retrieved from the backing store, be it a file system, database, or\n * some network storage. The method should reset the credential attributes\n * on the object.\n *\n * @!attribute expired\n *   @return [Boolean] whether the credentials have been expired and\n *     require a refresh. Used in conjunction with {expireTime}.\n * @!attribute expireTime\n *   @return [Date] a time when credentials should be considered expired. Used\n *     in conjunction with {expired}.\n * @!attribute accessKeyId\n *   @return [String] the AWS access key ID\n * @!attribute secretAccessKey\n *   @return [String] the AWS secret access key\n * @!attribute sessionToken\n *   @return [String] an optional AWS session token\n */\nAWS.Credentials = AWS.util.inherit({\n  /**\n   * A credentials object can be created using positional arguments or an options\n   * hash.\n   *\n   * @overload AWS.Credentials(accessKeyId, secretAccessKey, sessionToken=null)\n   *   Creates a Credentials object with a given set of credential information\n   *   as positional arguments.\n   *   @param accessKeyId [String] the AWS access key ID\n   *   @param secretAccessKey [String] the AWS secret access key\n   *   @param sessionToken [String] the optional AWS session token\n   *   @example Create a credentials object with AWS credentials\n   *     var creds = new AWS.Credentials('akid', 'secret', 'session');\n   * @overload AWS.Credentials(options)\n   *   Creates a Credentials object with a given set of credential information\n   *   as an options hash.\n   *   @option options accessKeyId [String] the AWS access key ID\n   *   @option options secretAccessKey [String] the AWS secret access key\n   *   @option options sessionToken [String] the optional AWS session token\n   *   @example Create a credentials object with AWS credentials\n   *     var creds = new AWS.Credentials({\n   *       accessKeyId: 'akid', secretAccessKey: 'secret', sessionToken: 'session'\n   *     });\n   */\n  constructor: function Credentials() {\n    // hide secretAccessKey from being displayed with util.inspect\n    AWS.util.hideProperties(this, ['secretAccessKey']);\n\n    this.expired = false;\n    this.expireTime = null;\n    if (arguments.length === 1 && typeof arguments[0] === 'object') {\n      var creds = arguments[0].credentials || arguments[0];\n      this.accessKeyId = creds.accessKeyId;\n      this.secretAccessKey = creds.secretAccessKey;\n      this.sessionToken = creds.sessionToken;\n    } else {\n      this.accessKeyId = arguments[0];\n      this.secretAccessKey = arguments[1];\n      this.sessionToken = arguments[2];\n    }\n  },\n\n  /**\n   * @return [Integer] the number of seconds before {expireTime} during which\n   *   the credentials will be considered expired.\n   */\n  expiryWindow: 15,\n\n  /**\n   * @return [Boolean] whether the credentials object should call {refresh}\n   * @note Subclasses should override this method to provide custom refresh\n   *   logic.\n   */\n  needsRefresh: function needsRefresh() {\n    var currentTime = AWS.util.date.getDate().getTime();\n    var adjustedTime = new Date(currentTime + this.expiryWindow * 1000);\n\n    if (this.expireTime && adjustedTime > this.expireTime) {\n      return true;\n    } else {\n      return this.expired || !this.accessKeyId || !this.secretAccessKey;\n    }\n  },\n\n  /**\n   * Gets the existing credentials, refreshing them if they are not yet loaded\n   * or have expired. Users should call this method before using {refresh},\n   * as this will not attempt to reload credentials when they are already\n   * loaded into the object.\n   *\n   * @callback callback function(err)\n   *   When this callback is called with no error, it means either credentials\n   *   do not need to be refreshed or refreshed credentials information has\n   *   been loaded into the object (as the `accessKeyId`, `secretAccessKey`,\n   *   and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   */\n  get: function get(callback) {\n    var self = this;\n    if (this.needsRefresh()) {\n      this.refresh(function(err) {\n        if (!err) self.expired = false; // reset expired flag\n        if (callback) callback(err);\n      });\n    } else if (callback) {\n      callback();\n    }\n  },\n\n  /**\n   * @!method  getPromise()\n   *   Returns a 'thenable' promise.\n   *   Gets the existing credentials, refreshing them if they are not yet loaded\n   *   or have expired. Users should call this method before using {refresh},\n   *   as this will not attempt to reload credentials when they are already\n   *   loaded into the object.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function()\n   *     Called if the promise is fulfilled. When this callback is called, it\n   *     means either credentials do not need to be refreshed or refreshed\n   *     credentials information has been loaded into the object (as the\n   *     `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] if an error occurred, this value will be filled\n   *   @return [Promise] A promise that represents the state of the `get` call.\n   *   @example Calling the `getPromise` method.\n   *     var promise = credProvider.getPromise();\n   *     promise.then(function() { ... }, function(err) { ... });\n   */\n\n  /**\n   * @!method  refreshPromise()\n   *   Returns a 'thenable' promise.\n   *   Refreshes the credentials. Users should call {get} before attempting\n   *   to forcibly refresh credentials.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function()\n   *     Called if the promise is fulfilled. When this callback is called, it\n   *     means refreshed credentials information has been loaded into the object\n   *     (as the `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] if an error occurred, this value will be filled\n   *   @return [Promise] A promise that represents the state of the `refresh` call.\n   *   @example Calling the `refreshPromise` method.\n   *     var promise = credProvider.refreshPromise();\n   *     promise.then(function() { ... }, function(err) { ... });\n   */\n\n  /**\n   * Refreshes the credentials. Users should call {get} before attempting\n   * to forcibly refresh credentials.\n   *\n   * @callback callback function(err)\n   *   When this callback is called with no error, it means refreshed\n   *   credentials information has been loaded into the object (as the\n   *   `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @note Subclasses should override this class to reset the\n   *   {accessKeyId}, {secretAccessKey} and optional {sessionToken}\n   *   on the credentials object and then call the callback with\n   *   any error information.\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    this.expired = false;\n    callback();\n  }\n});\n\n/**\n * @api private\n */\nAWS.Credentials.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.getPromise = AWS.util.promisifyMethod('get', PromiseDependency);\n  this.prototype.refreshPromise = AWS.util.promisifyMethod('refresh', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.Credentials.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.getPromise;\n  delete this.prototype.refreshPromise;\n};\n\nAWS.util.addPromises(AWS.Credentials);\n","var AWS = require('../core');\n\n/**\n * Creates a credential provider chain that searches for AWS credentials\n * in a list of credential providers specified by the {providers} property.\n *\n * By default, the chain will use the {defaultProviders} to resolve credentials.\n * These providers will look in the environment using the\n * {AWS.EnvironmentCredentials} class with the 'AWS' and 'AMAZON' prefixes.\n *\n * ## Setting Providers\n *\n * Each provider in the {providers} list should be a function that returns\n * a {AWS.Credentials} object, or a hardcoded credentials object. The function\n * form allows for delayed execution of the credential construction.\n *\n * ## Resolving Credentials from a Chain\n *\n * Call {resolve} to return the first valid credential object that can be\n * loaded by the provider chain.\n *\n * For example, to resolve a chain with a custom provider that checks a file\n * on disk after the set of {defaultProviders}:\n *\n * ```javascript\n * var diskProvider = new AWS.FileSystemCredentials('./creds.json');\n * var chain = new AWS.CredentialProviderChain();\n * chain.providers.push(diskProvider);\n * chain.resolve();\n * ```\n *\n * The above code will return the `diskProvider` object if the\n * file contains credentials and the `defaultProviders` do not contain\n * any credential settings.\n *\n * @!attribute providers\n *   @return [Array<AWS.Credentials, Function>]\n *     a list of credentials objects or functions that return credentials\n *     objects. If the provider is a function, the function will be\n *     executed lazily when the provider needs to be checked for valid\n *     credentials. By default, this object will be set to the\n *     {defaultProviders}.\n *   @see defaultProviders\n */\nAWS.CredentialProviderChain = AWS.util.inherit(AWS.Credentials, {\n\n  /**\n   * Creates a new CredentialProviderChain with a default set of providers\n   * specified by {defaultProviders}.\n   */\n  constructor: function CredentialProviderChain(providers) {\n    if (providers) {\n      this.providers = providers;\n    } else {\n      this.providers = AWS.CredentialProviderChain.defaultProviders.slice(0);\n    }\n  },\n\n  /**\n   * @!method  resolvePromise()\n   *   Returns a 'thenable' promise.\n   *   Resolves the provider chain by searching for the first set of\n   *   credentials in {providers}.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(credentials)\n   *     Called if the promise is fulfilled and the provider resolves the chain\n   *     to a credentials object\n   *     @param credentials [AWS.Credentials] the credentials object resolved\n   *       by the provider chain.\n   *   @callback rejectedCallback function(error)\n   *     Called if the promise is rejected.\n   *     @param err [Error] the error object returned if no credentials are found.\n   *   @return [Promise] A promise that represents the state of the `resolve` method call.\n   *   @example Calling the `resolvePromise` method.\n   *     var promise = chain.resolvePromise();\n   *     promise.then(function(credentials) { ... }, function(err) { ... });\n   */\n\n  /**\n   * Resolves the provider chain by searching for the first set of\n   * credentials in {providers}.\n   *\n   * @callback callback function(err, credentials)\n   *   Called when the provider resolves the chain to a credentials object\n   *   or null if no credentials can be found.\n   *\n   *   @param err [Error] the error object returned if no credentials are\n   *     found.\n   *   @param credentials [AWS.Credentials] the credentials object resolved\n   *     by the provider chain.\n   * @return [AWS.CredentialProviderChain] the provider, for chaining.\n   */\n  resolve: function resolve(callback) {\n    if (this.providers.length === 0) {\n      callback(new Error('No providers'));\n      return this;\n    }\n\n    var index = 0;\n    var providers = this.providers.slice(0);\n\n    function resolveNext(err, creds) {\n      if ((!err && creds) || index === providers.length) {\n        callback(err, creds);\n        return;\n      }\n\n      var provider = providers[index++];\n      if (typeof provider === 'function') {\n        creds = provider.call();\n      } else {\n        creds = provider;\n      }\n\n      if (creds.get) {\n        creds.get(function(getErr) {\n          resolveNext(getErr, getErr ? null : creds);\n        });\n      } else {\n        resolveNext(null, creds);\n      }\n    }\n\n    resolveNext();\n    return this;\n  }\n});\n\n/**\n * The default set of providers used by a vanilla CredentialProviderChain.\n *\n * In the browser:\n *\n * ```javascript\n * AWS.CredentialProviderChain.defaultProviders = []\n * ```\n *\n * In Node.js:\n *\n * ```javascript\n * AWS.CredentialProviderChain.defaultProviders = [\n *   function () { return new AWS.EnvironmentCredentials('AWS'); },\n *   function () { return new AWS.EnvironmentCredentials('AMAZON'); },\n *   function () { return new AWS.SharedIniFileCredentials(); },\n *   function () {\n *     // if AWS_CONTAINER_CREDENTIALS_RELATIVE_URI is set\n *       return new AWS.ECSCredentials();\n *     // else\n *       return new AWS.EC2MetadataCredentials();\n *   }\n * ]\n * ```\n */\nAWS.CredentialProviderChain.defaultProviders = [];\n\n/**\n * @api private\n */\nAWS.CredentialProviderChain.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.resolvePromise = AWS.util.promisifyMethod('resolve', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.CredentialProviderChain.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.resolvePromise;\n};\n\nAWS.util.addPromises(AWS.CredentialProviderChain);\n","var AWS = require('./core');\nvar inherit = AWS.util.inherit;\n\n/**\n * The endpoint that a service will talk to, for example,\n * `'https://ec2.ap-southeast-1.amazonaws.com'`. If\n * you need to override an endpoint for a service, you can\n * set the endpoint on a service by passing the endpoint\n * object with the `endpoint` option key:\n *\n * ```javascript\n * var ep = new AWS.Endpoint('awsproxy.example.com');\n * var s3 = new AWS.S3({endpoint: ep});\n * s3.service.endpoint.hostname == 'awsproxy.example.com'\n * ```\n *\n * Note that if you do not specify a protocol, the protocol will\n * be selected based on your current {AWS.config} configuration.\n *\n * @!attribute protocol\n *   @return [String] the protocol (http or https) of the endpoint\n *     URL\n * @!attribute hostname\n *   @return [String] the host portion of the endpoint, e.g.,\n *     example.com\n * @!attribute host\n *   @return [String] the host portion of the endpoint including\n *     the port, e.g., example.com:80\n * @!attribute port\n *   @return [Integer] the port of the endpoint\n * @!attribute href\n *   @return [String] the full URL of the endpoint\n */\nAWS.Endpoint = inherit({\n\n  /**\n   * @overload Endpoint(endpoint)\n   *   Constructs a new endpoint given an endpoint URL. If the\n   *   URL omits a protocol (http or https), the default protocol\n   *   set in the global {AWS.config} will be used.\n   *   @param endpoint [String] the URL to construct an endpoint from\n   */\n  constructor: function Endpoint(endpoint, config) {\n    AWS.util.hideProperties(this, ['slashes', 'auth', 'hash', 'search', 'query']);\n\n    if (typeof endpoint === 'undefined' || endpoint === null) {\n      throw new Error('Invalid endpoint: ' + endpoint);\n    } else if (typeof endpoint !== 'string') {\n      return AWS.util.copy(endpoint);\n    }\n\n    if (!endpoint.match(/^http/)) {\n      var useSSL = config && config.sslEnabled !== undefined ?\n        config.sslEnabled : AWS.config.sslEnabled;\n      endpoint = (useSSL ? 'https' : 'http') + '://' + endpoint;\n    }\n\n    AWS.util.update(this, AWS.util.urlParse(endpoint));\n\n    // Ensure the port property is set as an integer\n    if (this.port) {\n      this.port = parseInt(this.port, 10);\n    } else {\n      this.port = this.protocol === 'https:' ? 443 : 80;\n    }\n  }\n\n});\n\n/**\n * The low level HTTP request object, encapsulating all HTTP header\n * and body data sent by a service request.\n *\n * @!attribute method\n *   @return [String] the HTTP method of the request\n * @!attribute path\n *   @return [String] the path portion of the URI, e.g.,\n *     \"/list/?start=5&num=10\"\n * @!attribute headers\n *   @return [map<String,String>]\n *     a map of header keys and their respective values\n * @!attribute body\n *   @return [String] the request body payload\n * @!attribute endpoint\n *   @return [AWS.Endpoint] the endpoint for the request\n * @!attribute region\n *   @api private\n *   @return [String] the region, for signing purposes only.\n */\nAWS.HttpRequest = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function HttpRequest(endpoint, region) {\n    endpoint = new AWS.Endpoint(endpoint);\n    this.method = 'POST';\n    this.path = endpoint.path || '/';\n    this.headers = {};\n    this.body = '';\n    this.endpoint = endpoint;\n    this.region = region;\n    this._userAgent = '';\n    this.setUserAgent();\n  },\n\n  /**\n   * @api private\n   */\n  setUserAgent: function setUserAgent() {\n    this._userAgent = this.headers[this.getUserAgentHeaderName()] = AWS.util.userAgent();\n  },\n\n  getUserAgentHeaderName: function getUserAgentHeaderName() {\n    var prefix = AWS.util.isBrowser() ? 'X-Amz-' : '';\n    return prefix + 'User-Agent';\n  },\n\n  /**\n   * @api private\n   */\n  appendToUserAgent: function appendToUserAgent(agentPartial) {\n    if (typeof agentPartial === 'string' && agentPartial) {\n      this._userAgent += ' ' + agentPartial;\n    }\n    this.headers[this.getUserAgentHeaderName()] = this._userAgent;\n  },\n\n  /**\n   * @api private\n   */\n  getUserAgent: function getUserAgent() {\n    return this._userAgent;\n  },\n\n  /**\n   * @return [String] the part of the {path} excluding the\n   *   query string\n   */\n  pathname: function pathname() {\n    return this.path.split('?', 1)[0];\n  },\n\n  /**\n   * @return [String] the query string portion of the {path}\n   */\n  search: function search() {\n    var query = this.path.split('?', 2)[1];\n    if (query) {\n      query = AWS.util.queryStringParse(query);\n      return AWS.util.queryParamsToString(query);\n    }\n    return '';\n  }\n\n});\n\n/**\n * The low level HTTP response object, encapsulating all HTTP header\n * and body data returned from the request.\n *\n * @!attribute statusCode\n *   @return [Integer] the HTTP status code of the response (e.g., 200, 404)\n * @!attribute headers\n *   @return [map<String,String>]\n *      a map of response header keys and their respective values\n * @!attribute body\n *   @return [String] the response body payload\n * @!attribute [r] streaming\n *   @return [Boolean] whether this response is being streamed at a low-level.\n *     Defaults to `false` (buffered reads). Do not modify this manually, use\n *     {createUnbufferedStream} to convert the stream to unbuffered mode\n *     instead.\n */\nAWS.HttpResponse = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function HttpResponse() {\n    this.statusCode = undefined;\n    this.headers = {};\n    this.body = undefined;\n    this.streaming = false;\n    this.stream = null;\n  },\n\n  /**\n   * Disables buffering on the HTTP response and returns the stream for reading.\n   * @return [Stream, XMLHttpRequest, null] the underlying stream object.\n   *   Use this object to directly read data off of the stream.\n   * @note This object is only available after the {AWS.Request~httpHeaders}\n   *   event has fired. This method must be called prior to\n   *   {AWS.Request~httpData}.\n   * @example Taking control of a stream\n   *   request.on('httpHeaders', function(statusCode, headers) {\n   *     if (statusCode < 300) {\n   *       if (headers.etag === 'xyz') {\n   *         // pipe the stream, disabling buffering\n   *         var stream = this.response.httpResponse.createUnbufferedStream();\n   *         stream.pipe(process.stdout);\n   *       } else { // abort this request and set a better error message\n   *         this.abort();\n   *         this.response.error = new Error('Invalid ETag');\n   *       }\n   *     }\n   *   }).send(console.log);\n   */\n  createUnbufferedStream: function createUnbufferedStream() {\n    this.streaming = true;\n    return this.stream;\n  }\n});\n\n\nAWS.HttpClient = inherit({});\n\n/**\n * @api private\n */\nAWS.HttpClient.getInstance = function getInstance() {\n  if (this.singleton === undefined) {\n    this.singleton = new this();\n  }\n  return this.singleton;\n};\n","var AWS = require('./core');\n\n/**\n * @api private\n * @!method on(eventName, callback)\n *   Registers an event listener callback for the event given by `eventName`.\n *   Parameters passed to the callback function depend on the individual event\n *   being triggered. See the event documentation for those parameters.\n *\n *   @param eventName [String] the event name to register the listener for\n *   @param callback [Function] the listener callback function\n *   @return [AWS.SequentialExecutor] the same object for chaining\n */\nAWS.SequentialExecutor = AWS.util.inherit({\n\n  constructor: function SequentialExecutor() {\n    this._events = {};\n  },\n\n  /**\n   * @api private\n   */\n  listeners: function listeners(eventName) {\n    return this._events[eventName] ? this._events[eventName].slice(0) : [];\n  },\n\n  on: function on(eventName, listener) {\n    if (this._events[eventName]) {\n      this._events[eventName].push(listener);\n    } else {\n      this._events[eventName] = [listener];\n    }\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  onAsync: function onAsync(eventName, listener) {\n    listener._isAsync = true;\n    return this.on(eventName, listener);\n  },\n\n  removeListener: function removeListener(eventName, listener) {\n    var listeners = this._events[eventName];\n    if (listeners) {\n      var length = listeners.length;\n      var position = -1;\n      for (var i = 0; i < length; ++i) {\n        if (listeners[i] === listener) {\n          position = i;\n        }\n      }\n      if (position > -1) {\n        listeners.splice(position, 1);\n      }\n    }\n    return this;\n  },\n\n  removeAllListeners: function removeAllListeners(eventName) {\n    if (eventName) {\n      delete this._events[eventName];\n    } else {\n      this._events = {};\n    }\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  emit: function emit(eventName, eventArgs, doneCallback) {\n    if (!doneCallback) doneCallback = function() { };\n    var listeners = this.listeners(eventName);\n    var count = listeners.length;\n    this.callListeners(listeners, eventArgs, doneCallback);\n    return count > 0;\n  },\n\n  /**\n   * @api private\n   */\n  callListeners: function callListeners(listeners, args, doneCallback, prevError) {\n    var self = this;\n    var error = prevError || null;\n\n    function callNextListener(err) {\n      if (err) {\n        error = AWS.util.error(error || new Error(), err);\n        if (self._haltHandlersOnError) {\n          return doneCallback.call(self, error);\n        }\n      }\n      self.callListeners(listeners, args, doneCallback, error);\n    }\n\n    while (listeners.length > 0) {\n      var listener = listeners.shift();\n      if (listener._isAsync) { // asynchronous listener\n        listener.apply(self, args.concat([callNextListener]));\n        return; // stop here, callNextListener will continue\n      } else { // synchronous listener\n        try {\n          listener.apply(self, args);\n        } catch (err) {\n          error = AWS.util.error(error || new Error(), err);\n        }\n        if (error && self._haltHandlersOnError) {\n          doneCallback.call(self, error);\n          return;\n        }\n      }\n    }\n    doneCallback.call(self, error);\n  },\n\n  /**\n   * Adds or copies a set of listeners from another list of\n   * listeners or SequentialExecutor object.\n   *\n   * @param listeners [map<String,Array<Function>>, AWS.SequentialExecutor]\n   *   a list of events and callbacks, or an event emitter object\n   *   containing listeners to add to this emitter object.\n   * @return [AWS.SequentialExecutor] the emitter object, for chaining.\n   * @example Adding listeners from a map of listeners\n   *   emitter.addListeners({\n   *     event1: [function() { ... }, function() { ... }],\n   *     event2: [function() { ... }]\n   *   });\n   *   emitter.emit('event1'); // emitter has event1\n   *   emitter.emit('event2'); // emitter has event2\n   * @example Adding listeners from another emitter object\n   *   var emitter1 = new AWS.SequentialExecutor();\n   *   emitter1.on('event1', function() { ... });\n   *   emitter1.on('event2', function() { ... });\n   *   var emitter2 = new AWS.SequentialExecutor();\n   *   emitter2.addListeners(emitter1);\n   *   emitter2.emit('event1'); // emitter2 has event1\n   *   emitter2.emit('event2'); // emitter2 has event2\n   */\n  addListeners: function addListeners(listeners) {\n    var self = this;\n\n    // extract listeners if parameter is an SequentialExecutor object\n    if (listeners._events) listeners = listeners._events;\n\n    AWS.util.each(listeners, function(event, callbacks) {\n      if (typeof callbacks === 'function') callbacks = [callbacks];\n      AWS.util.arrayEach(callbacks, function(callback) {\n        self.on(event, callback);\n      });\n    });\n\n    return self;\n  },\n\n  /**\n   * Registers an event with {on} and saves the callback handle function\n   * as a property on the emitter object using a given `name`.\n   *\n   * @param name [String] the property name to set on this object containing\n   *   the callback function handle so that the listener can be removed in\n   *   the future.\n   * @param (see on)\n   * @return (see on)\n   * @example Adding a named listener DATA_CALLBACK\n   *   var listener = function() { doSomething(); };\n   *   emitter.addNamedListener('DATA_CALLBACK', 'data', listener);\n   *\n   *   // the following prints: true\n   *   console.log(emitter.DATA_CALLBACK == listener);\n   */\n  addNamedListener: function addNamedListener(name, eventName, callback) {\n    this[name] = callback;\n    this.addListener(eventName, callback);\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  addNamedAsyncListener: function addNamedAsyncListener(name, eventName, callback) {\n    callback._isAsync = true;\n    return this.addNamedListener(name, eventName, callback);\n  },\n\n  /**\n   * Helper method to add a set of named listeners using\n   * {addNamedListener}. The callback contains a parameter\n   * with a handle to the `addNamedListener` method.\n   *\n   * @callback callback function(add)\n   *   The callback function is called immediately in order to provide\n   *   the `add` function to the block. This simplifies the addition of\n   *   a large group of named listeners.\n   *   @param add [Function] the {addNamedListener} function to call\n   *     when registering listeners.\n   * @example Adding a set of named listeners\n   *   emitter.addNamedListeners(function(add) {\n   *     add('DATA_CALLBACK', 'data', function() { ... });\n   *     add('OTHER', 'otherEvent', function() { ... });\n   *     add('LAST', 'lastEvent', function() { ... });\n   *   });\n   *\n   *   // these properties are now set:\n   *   emitter.DATA_CALLBACK;\n   *   emitter.OTHER;\n   *   emitter.LAST;\n   */\n  addNamedListeners: function addNamedListeners(callback) {\n    var self = this;\n    callback(\n      function() {\n        self.addNamedListener.apply(self, arguments);\n      },\n      function() {\n        self.addNamedAsyncListener.apply(self, arguments);\n      }\n    );\n    return this;\n  }\n});\n\n/**\n * {on} is the prefered method.\n * @api private\n */\nAWS.SequentialExecutor.prototype.addListener = AWS.SequentialExecutor.prototype.on;\n\n/**\n * @api private\n */\nmodule.exports = AWS.SequentialExecutor;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V3 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n\n    var datetime = AWS.util.date.rfc822(date);\n\n    this.request.headers['X-Amz-Date'] = datetime;\n\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    this.request.headers['X-Amzn-Authorization'] =\n      this.authorization(credentials, datetime);\n\n  },\n\n  authorization: function authorization(credentials) {\n    return 'AWS3 ' +\n      'AWSAccessKeyId=' + credentials.accessKeyId + ',' +\n      'Algorithm=HmacSHA256,' +\n      'SignedHeaders=' + this.signedHeaders() + ',' +\n      'Signature=' + this.signature(credentials);\n  },\n\n  signedHeaders: function signedHeaders() {\n    var headers = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      headers.push(h.toLowerCase());\n    });\n    return headers.sort().join(';');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = this.request.headers;\n    var parts = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      parts.push(h.toLowerCase().trim() + ':' + String(headers[h]).trim());\n    });\n    return parts.sort().join('\\n') + '\\n';\n  },\n\n  headersToSign: function headersToSign() {\n    var headers = [];\n    AWS.util.each(this.request.headers, function iterator(k) {\n      if (k === 'Host' || k === 'Content-Encoding' || k.match(/^X-Amz/i)) {\n        headers.push(k);\n      }\n    });\n    return headers;\n  },\n\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push('/');\n    parts.push('');\n    parts.push(this.canonicalHeaders());\n    parts.push(this.request.body);\n    return AWS.util.crypto.sha256(parts.join('\\n'));\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V3;\n","var AWS = require('../core');\n\n/**\n * @api private\n */\nvar cachedSecret = {};\n\n/**\n * @api private\n */\nvar cacheQueue = [];\n\n/**\n * @api private\n */\nvar maxCacheEntries = 50;\n\n/**\n * @api private\n */\nvar v4Identifier = 'aws4_request';\n\n/**\n * @api private\n */\nmodule.exports = {\n  /**\n   * @api private\n   *\n   * @param date [String]\n   * @param region [String]\n   * @param serviceName [String]\n   * @return [String]\n   */\n  createScope: function createScope(date, region, serviceName) {\n    return [\n      date.substr(0, 8),\n      region,\n      serviceName,\n      v4Identifier\n    ].join('/');\n  },\n\n  /**\n   * @api private\n   *\n   * @param credentials [Credentials]\n   * @param date [String]\n   * @param region [String]\n   * @param service [String]\n   * @param shouldCache [Boolean]\n   * @return [String]\n   */\n  getSigningKey: function getSigningKey(\n    credentials,\n    date,\n    region,\n    service,\n    shouldCache\n  ) {\n    var credsIdentifier = AWS.util.crypto\n      .hmac(credentials.secretAccessKey, credentials.accessKeyId, 'base64');\n    var cacheKey = [credsIdentifier, date, region, service].join('_');\n    shouldCache = shouldCache !== false;\n    if (shouldCache && (cacheKey in cachedSecret)) {\n      return cachedSecret[cacheKey];\n    }\n\n    var kDate = AWS.util.crypto.hmac(\n      'AWS4' + credentials.secretAccessKey,\n      date,\n      'buffer'\n    );\n    var kRegion = AWS.util.crypto.hmac(kDate, region, 'buffer');\n    var kService = AWS.util.crypto.hmac(kRegion, service, 'buffer');\n\n    var signingKey = AWS.util.crypto.hmac(kService, v4Identifier, 'buffer');\n    if (shouldCache) {\n      cachedSecret[cacheKey] = signingKey;\n      cacheQueue.push(cacheKey);\n      if (cacheQueue.length > maxCacheEntries) {\n        // remove the oldest entry (not the least recently used)\n        delete cachedSecret[cacheQueue.shift()];\n      }\n    }\n\n    return signingKey;\n  },\n\n  /**\n   * @api private\n   *\n   * Empties the derived signing key cache. Made available for testing purposes\n   * only.\n   */\n  emptyCache: function emptyCache() {\n    cachedSecret = {};\n    cacheQueue = [];\n  }\n};\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","var Buffer = require('../util').Buffer;\n/**\n * Converts data into Buffer.\n * @param {ArrayBuffer|string|number[]|Buffer} data Data to convert to a Buffer\n * @param {string} [encoding] String encoding\n * @returns {Buffer}\n */\nfunction toBuffer(data, encoding) {\n    return (typeof Buffer.from === 'function' && Buffer.from !== Uint8Array.from) ?\n        Buffer.from(data, encoding) : new Buffer(data, encoding);\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    toBuffer: toBuffer\n};","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Analytics_1 = require(\"./Analytics\");\nexports.AnalyticsClass = Analytics_1.default;\nvar Common_1 = require(\"../Common\");\nvar Platform_1 = require(\"../Common/Platform\");\nvar logger = new Common_1.ConsoleLogger('Analytics');\nvar startsessionRecorded = false;\nvar _instance = null;\nif (!_instance) {\n    logger.debug('Create Analytics Instance');\n    _instance = new Analytics_1.default();\n}\nvar Analytics = _instance;\nexports.default = Analytics;\n// listen on app state change\nvar dispatchAppStateEvent = function (event, data) {\n    Common_1.Hub.dispatch('appState', { event: event, data: data }, 'AppState');\n};\nif (Platform_1.default.isReactNative) {\n    Common_1.AppState.addEventListener('change', function (nextAppState) {\n        switch (nextAppState) {\n            case 'active':\n                dispatchAppStateEvent('active', {});\n        }\n    });\n}\nAnalytics.onHubCapsule = function (capsule) {\n    var channel = capsule.channel, payload = capsule.payload, source = capsule.source;\n    logger.debug('on hub capsule ' + channel, payload);\n    switch (channel) {\n        case 'auth':\n            authEvent(payload);\n            break;\n        case 'storage':\n            storageEvent(payload);\n            break;\n        case 'analytics':\n            analyticsEvent(payload);\n            break;\n        default:\n            break;\n    }\n};\nvar storageEvent = function (payload) {\n    var attrs = payload.attrs, metrics = payload.metrics;\n    if (!attrs)\n        return;\n    Analytics.record('Storage', attrs, metrics);\n};\nvar authEvent = function (payload) {\n    var event = payload.event;\n    if (!event) {\n        return;\n    }\n    switch (event) {\n        case 'signIn':\n            Analytics.record('_userauth.sign_in');\n            break;\n        case 'signUp':\n            Analytics.record('_userauth.sign_up');\n            break;\n        case 'signOut':\n            break;\n        case 'signIn_failure':\n            Analytics.record('_userauth.auth_fail');\n            break;\n        case 'configured':\n            if (!startsessionRecorded) {\n                startsessionRecorded = true;\n                Common_1.Hub.dispatch('analytics', { eventType: 'session_start' }, 'Analytics');\n            }\n            break;\n    }\n};\nvar analyticsEvent = function (payload) {\n    var eventType = payload.eventType;\n    if (!eventType)\n        return;\n    switch (eventType) {\n        case 'session_start':\n            Analytics.startSession();\n            break;\n    }\n};\nCommon_1.Hub.listen('auth', Analytics);\nCommon_1.Hub.listen('storage', Analytics);\nCommon_1.Hub.listen('analytics', Analytics);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Common_1 = require(\"../Common\");\nvar AWSAnalyticsProvider_1 = require(\"./Providers/AWSAnalyticsProvider\");\nvar Auth_1 = require(\"../Auth\");\nvar logger = new Common_1.ConsoleLogger('AnalyticsClass');\n// events buffer\nvar BUFFER_SIZE = 1000;\nvar MAX_SIZE_PER_FLUSH = BUFFER_SIZE * 0.1;\nvar interval = 5 * 1000; // 5s\n/**\n* Provide mobile analytics client functions\n*/\nvar AnalyticsClass = /** @class */ (function () {\n    /**\n     * Initialize Analtyics\n     * @param config - Configuration of the Analytics\n     */\n    function AnalyticsClass() {\n        var _this = this;\n        this._buffer = [];\n        this._config = {};\n        this._pluggables = [];\n        this._disabled = false;\n        // default one\n        // events batch\n        var that = this;\n        // flush event buffer\n        setInterval(function () {\n            var size = _this._buffer.length < MAX_SIZE_PER_FLUSH ? _this._buffer.length : MAX_SIZE_PER_FLUSH;\n            for (var i = 0; i < size; i += 1) {\n                var params = _this._buffer.shift();\n                that._sendFromBuffer(params);\n            }\n        }, interval);\n    }\n    /**\n     * configure Analytics\n     * @param {Object} config - Configuration of the Analytics\n     */\n    AnalyticsClass.prototype.configure = function (config) {\n        logger.debug('configure Analytics');\n        var amplifyConfig = Common_1.Parser.parseMobilehubConfig(config);\n        var conf = Object.assign({}, this._config, amplifyConfig.Analytics);\n        var clientInfo = Common_1.ClientDevice.clientInfo();\n        conf['clientInfo'] = conf['client_info'] ? conf['client_info'] : clientInfo;\n        this._config = conf;\n        if (conf['disabled']) {\n            this._disabled = true;\n        }\n        this._pluggables.map(function (pluggable) {\n            pluggable.configure(conf);\n        });\n        if (this._pluggables.length === 0) {\n            this.addPluggable(new AWSAnalyticsProvider_1.default());\n        }\n        return conf;\n    };\n    /**\n     * add plugin into Analytics category\n     * @param {Object} pluggable - an instance of the plugin\n     */\n    AnalyticsClass.prototype.addPluggable = function (pluggable) {\n        return __awaiter(this, void 0, void 0, function () {\n            var ensureCredentails, config;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._getCredentials()];\n                    case 1:\n                        ensureCredentails = _a.sent();\n                        if (!ensureCredentails)\n                            return [2 /*return*/, Promise.resolve(false)];\n                        if (pluggable) {\n                            this._pluggables.push(pluggable);\n                            config = pluggable.configure(this._config);\n                            return [2 /*return*/, Promise.resolve(config)];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * stop sending events\n     */\n    AnalyticsClass.prototype.disable = function () {\n        this._disabled = true;\n    };\n    /**\n     * start sending events\n     */\n    AnalyticsClass.prototype.enable = function () {\n        this._disabled = false;\n    };\n    /**\n     * Record Session start\n     * @return - A promise which resolves if buffer doesn't overflow\n     */\n    AnalyticsClass.prototype.startSession = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var ensureCredentails, timestamp, params;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._getCredentials()];\n                    case 1:\n                        ensureCredentails = _a.sent();\n                        if (!ensureCredentails)\n                            return [2 /*return*/, Promise.resolve(false)];\n                        timestamp = new Date().getTime();\n                        params = { eventName: '_session_start', timestamp: timestamp, config: this._config };\n                        return [2 /*return*/, this._putToBuffer(params)];\n                }\n            });\n        });\n    };\n    /**\n    * Receive a capsule from Hub\n    * @param {any} capsuak - The message from hub\n    */\n    AnalyticsClass.prototype.onHubCapsule = function (capsule) { };\n    /**\n     * Record Session stop\n     * @return - A promise which resolves if buffer doesn't overflow\n     */\n    AnalyticsClass.prototype.stopSession = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var ensureCredentails, timestamp, params;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._getCredentials()];\n                    case 1:\n                        ensureCredentails = _a.sent();\n                        if (!ensureCredentails)\n                            return [2 /*return*/, Promise.resolve(false)];\n                        timestamp = new Date().getTime();\n                        params = { eventName: '_session_stop', timestamp: timestamp, config: this._config };\n                        return [2 /*return*/, this._putToBuffer(params)];\n                }\n            });\n        });\n    };\n    /**\n     * Record one analytic event and send it to Pinpoint\n     * @param {String} name - The name of the event\n     * @param {Object} [attributs] - Attributes of the event\n     * @param {Object} [metrics] - Event metrics\n     * @return - A promise which resolves if buffer doesn't overflow\n     */\n    AnalyticsClass.prototype.record = function (eventName, attributes, metrics) {\n        return __awaiter(this, void 0, void 0, function () {\n            var ensureCredentails, timestamp, params;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._getCredentials()];\n                    case 1:\n                        ensureCredentails = _a.sent();\n                        if (!ensureCredentails)\n                            return [2 /*return*/, Promise.resolve(false)];\n                        timestamp = new Date().getTime();\n                        params = { eventName: eventName, attributes: attributes, metrics: metrics, timestamp: timestamp, config: this._config };\n                        return [2 /*return*/, this._putToBuffer(params)];\n                }\n            });\n        });\n    };\n    AnalyticsClass.prototype.updateEndpoint = function (config) {\n        return __awaiter(this, void 0, void 0, function () {\n            var ensureCredentails, timestamp, conf, params;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._getCredentials()];\n                    case 1:\n                        ensureCredentails = _a.sent();\n                        if (!ensureCredentails)\n                            return [2 /*return*/, Promise.resolve(false)];\n                        timestamp = new Date().getTime();\n                        conf = Object.assign(this._config, config);\n                        params = { eventName: '_update_endpoint', timestamp: timestamp, config: conf };\n                        return [2 /*return*/, this._putToBuffer(params)];\n                }\n            });\n        });\n    };\n    /**\n     * @private\n     * @param {Object} params - params for the event recording\n     * Send events from buffer\n     */\n    AnalyticsClass.prototype._sendFromBuffer = function (params) {\n        var that = this;\n        this._pluggables.map(function (pluggable) {\n            pluggable.record(params)\n                .then(function (success) {\n                if (!success) {\n                    that._putToBuffer(params);\n                }\n            });\n        });\n    };\n    /**\n     * @private\n     * @param params - params for the event recording\n     * Put events into buffer\n     */\n    AnalyticsClass.prototype._putToBuffer = function (params) {\n        if (this._disabled) {\n            logger.debug('Analytics has been disabled');\n            return Promise.resolve();\n        }\n        if (this._buffer.length < BUFFER_SIZE) {\n            this._buffer.push(params);\n            return Promise.resolve();\n        }\n        else\n            return Promise.reject('exceed buffer size');\n    };\n    /**\n     * @private\n     * check if current credentials exists\n     */\n    AnalyticsClass.prototype._getCredentials = function () {\n        var that = this;\n        return Auth_1.default.currentCredentials()\n            .then(function (credentials) {\n            if (!credentials)\n                return false;\n            var cred = Auth_1.default.essentialCredentials(credentials);\n            that._config.credentials = cred;\n            // that._config.endpointId = cred.identityId;\n            // logger.debug('set endpointId for analytics', that._config.endpointId);\n            logger.debug('set credentials for analytics', that._config.credentials);\n            return true;\n        })\n            .catch(function (err) {\n            logger.debug('ensure credentials error', err);\n            return false;\n        });\n    };\n    return AnalyticsClass;\n}());\nexports.default = AnalyticsClass;\n//# sourceMappingURL=Analytics.js.map","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['s3'] = {};\nAWS.S3 = Service.defineService('s3', ['2006-03-01']);\nrequire('../lib/services/s3');\nObject.defineProperty(apiLoader.services['s3'], '2006-03-01', {\n  get: function get() {\n    var model = require('../apis/s3-2006-03-01.min.json');\n    model.paginators = require('../apis/s3-2006-03-01.paginators.json').pagination;\n    model.waiters = require('../apis/s3-2006-03-01.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.S3;\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var util = require('../util');\n\nfunction QueryParamSerializer() {\n}\n\nQueryParamSerializer.prototype.serialize = function(params, shape, fn) {\n  serializeStructure('', params, shape, fn);\n};\n\nfunction ucfirst(shape) {\n  if (shape.isQueryName || shape.api.protocol !== 'ec2') {\n    return shape.name;\n  } else {\n    return shape.name[0].toUpperCase() + shape.name.substr(1);\n  }\n}\n\nfunction serializeStructure(prefix, struct, rules, fn) {\n  util.each(rules.members, function(name, member) {\n    var value = struct[name];\n    if (value === null || value === undefined) return;\n\n    var memberName = ucfirst(member);\n    memberName = prefix ? prefix + '.' + memberName : memberName;\n    serializeMember(memberName, value, member, fn);\n  });\n}\n\nfunction serializeMap(name, map, rules, fn) {\n  var i = 1;\n  util.each(map, function (key, value) {\n    var prefix = rules.flattened ? '.' : '.entry.';\n    var position = prefix + (i++) + '.';\n    var keyName = position + (rules.key.name || 'key');\n    var valueName = position + (rules.value.name || 'value');\n    serializeMember(name + keyName, key, rules.key, fn);\n    serializeMember(name + valueName, value, rules.value, fn);\n  });\n}\n\nfunction serializeList(name, list, rules, fn) {\n  var memberRules = rules.member || {};\n\n  if (list.length === 0) {\n    fn.call(this, name, null);\n    return;\n  }\n\n  util.arrayEach(list, function (v, n) {\n    var suffix = '.' + (n + 1);\n    if (rules.api.protocol === 'ec2') {\n      // Do nothing for EC2\n      suffix = suffix + ''; // make linter happy\n    } else if (rules.flattened) {\n      if (memberRules.name) {\n        var parts = name.split('.');\n        parts.pop();\n        parts.push(ucfirst(memberRules));\n        name = parts.join('.');\n      }\n    } else {\n      suffix = '.' + (memberRules.name ? memberRules.name : 'member') + suffix;\n    }\n    serializeMember(name + suffix, v, memberRules, fn);\n  });\n}\n\nfunction serializeMember(name, value, rules, fn) {\n  if (value === null || value === undefined) return;\n  if (rules.type === 'structure') {\n    serializeStructure(name, value, rules, fn);\n  } else if (rules.type === 'list') {\n    serializeList(name, value, rules, fn);\n  } else if (rules.type === 'map') {\n    serializeMap(name, value, rules, fn);\n  } else {\n    fn(name, rules.toWireFormat(value).toString());\n  }\n}\n\nmodule.exports = QueryParamSerializer;\n","var util = require('../util');\nvar builder = require('xmlbuilder');\n\nfunction XmlBuilder() { }\n\nXmlBuilder.prototype.toXML = function(params, shape, rootElement, noEmpty) {\n  var xml = builder.create(rootElement);\n  applyNamespaces(xml, shape);\n  serialize(xml, params, shape);\n  return xml.children.length > 0 || noEmpty ? xml.root().toString() : '';\n};\n\nfunction serialize(xml, value, shape) {\n  switch (shape.type) {\n    case 'structure': return serializeStructure(xml, value, shape);\n    case 'map': return serializeMap(xml, value, shape);\n    case 'list': return serializeList(xml, value, shape);\n    default: return serializeScalar(xml, value, shape);\n  }\n}\n\nfunction serializeStructure(xml, params, shape) {\n  util.arrayEach(shape.memberNames, function(memberName) {\n    var memberShape = shape.members[memberName];\n    if (memberShape.location !== 'body') return;\n\n    var value = params[memberName];\n    var name = memberShape.name;\n    if (value !== undefined && value !== null) {\n      if (memberShape.isXmlAttribute) {\n        xml.att(name, value);\n      } else if (memberShape.flattened) {\n        serialize(xml, value, memberShape);\n      } else {\n        var element = xml.ele(name);\n        applyNamespaces(element, memberShape);\n        serialize(element, value, memberShape);\n      }\n    }\n  });\n}\n\nfunction serializeMap(xml, map, shape) {\n  var xmlKey = shape.key.name || 'key';\n  var xmlValue = shape.value.name || 'value';\n\n  util.each(map, function(key, value) {\n    var entry = xml.ele(shape.flattened ? shape.name : 'entry');\n    serialize(entry.ele(xmlKey), key, shape.key);\n    serialize(entry.ele(xmlValue), value, shape.value);\n  });\n}\n\nfunction serializeList(xml, list, shape) {\n  if (shape.flattened) {\n    util.arrayEach(list, function(value) {\n      var name = shape.member.name || shape.name;\n      var element = xml.ele(name);\n      serialize(element, value, shape.member);\n    });\n  } else {\n    util.arrayEach(list, function(value) {\n      var name = shape.member.name || 'member';\n      var element = xml.ele(name);\n      serialize(element, value, shape.member);\n    });\n  }\n}\n\nfunction serializeScalar(xml, value, shape) {\n  xml.txt(shape.toWireFormat(value));\n}\n\nfunction applyNamespaces(xml, shape) {\n  var uri, prefix = 'xmlns';\n  if (shape.xmlNamespaceUri) {\n    uri = shape.xmlNamespaceUri;\n    if (shape.xmlNamespacePrefix) prefix += ':' + shape.xmlNamespacePrefix;\n  } else if (xml.isRoot && shape.api.xmlNamespaceUri) {\n    uri = shape.api.xmlNamespaceUri;\n  }\n\n  if (uri) xml.att(prefix, uri);\n}\n\nmodule.exports = XmlBuilder;\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLBuilder, assign;\n\n  assign = require('lodash/assign');\n\n  XMLBuilder = require('./XMLBuilder');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    options = assign({}, xmldec, doctype, options);\n    return new XMLBuilder(name, options).root();\n  };\n\n}).call(this);\n","var assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLBuilder, XMLDeclaration, XMLDocType, XMLElement, XMLStringifier;\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLElement = require('./XMLElement');\n\n  module.exports = XMLBuilder = (function() {\n    function XMLBuilder(name, options) {\n      var root, temp;\n      if (name == null) {\n        throw new Error(\"Root element needs a name\");\n      }\n      if (options == null) {\n        options = {};\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n      temp = new XMLElement(this, 'doc');\n      root = temp.element(name);\n      root.isRoot = true;\n      root.documentObject = this;\n      this.rootObject = root;\n      if (!options.headless) {\n        root.declaration(options);\n        if ((options.pubID != null) || (options.sysID != null)) {\n          root.doctype(options);\n        }\n      }\n    }\n\n    XMLBuilder.prototype.root = function() {\n      return this.rootObject;\n    };\n\n    XMLBuilder.prototype.end = function(options) {\n      return this.toString(options);\n    };\n\n    XMLBuilder.prototype.toString = function(options) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      r = '';\n      if (this.xmldec != null) {\n        r += this.xmldec.toString(options);\n      }\n      if (this.doctype != null) {\n        r += this.doctype.toString(options);\n      }\n      r += this.rootObject.toString(options);\n      if (pretty && r.slice(-newline.length) === newline) {\n        r = r.slice(0, -newline.length);\n      }\n      return r;\n    };\n\n    return XMLBuilder;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLStringifier,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalChar = bind(this.assertLegalChar, this);\n      var key, ref, value;\n      this.allowSurrogateChars = options != null ? options.allowSurrogateChars : void 0;\n      this.noDoubleEncoding = options != null ? options.noDoubleEncoding : void 0;\n      ref = (options != null ? options.stringify : void 0) || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.eleName = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.eleText = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(this.elEscape(val));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      val = '' + val || '';\n      if (val.match(/]]>/)) {\n        throw new Error(\"Invalid CDATA text: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attName = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      val = '' + val || '';\n      return this.attEscape(val);\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      val = '' + val || '';\n      if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (val != null) {\n        return '' + val || '';\n      } else {\n        return val;\n      }\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var chars, chr;\n      if (this.allowSurrogateChars) {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uFFFE-\\uFFFF]/;\n      } else {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uD800-\\uDFFF\\uFFFE-\\uFFFF]/;\n      }\n      chr = str.match(chars);\n      if (chr) {\n        throw new Error(\"Invalid character (\" + chr + \") in string: \" + str + \" at index \" + chr.index);\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.elEscape = function(str) {\n      var ampregex;\n      ampregex = this.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      var ampregex;\n      ampregex = this.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var arrayEvery = require('./_arrayEvery'),\n    baseEvery = require('./_baseEvery'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Checks if `predicate` returns truthy for **all** elements of `collection`.\n * Iteration is stopped once `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * **Note:** This method returns `true` for\n * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n * elements of empty collections.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n * @example\n *\n * _.every([true, 1, null, 'yes'], Boolean);\n * // => false\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.every(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.every(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.every(users, 'active');\n * // => false\n */\nfunction every(collection, predicate, guard) {\n  var func = isArray(collection) ? arrayEvery : baseEvery;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = every;\n","/**\n * A specialized version of `_.every` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n */\nfunction arrayEvery(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (!predicate(array[index], index, array)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = arrayEvery;\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.every` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`\n */\nfunction baseEvery(collection, predicate) {\n  var result = true;\n  baseEach(collection, function(value, index, collection) {\n    result = !!predicate(value, index, collection);\n    return result;\n  });\n  return result;\n}\n\nmodule.exports = baseEvery;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLAttribute, create;\n\n  create = require('lodash/create');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing attribute name of element \" + parent.name);\n      }\n      if (value == null) {\n        throw new Error(\"Missing attribute value for attribute \" + name + \" of element \" + parent.name);\n      }\n      this.name = this.stringify.attName(name);\n      this.value = this.stringify.attValue(value);\n    }\n\n    XMLAttribute.prototype.clone = function() {\n      return create(XMLAttribute.prototype, this);\n    };\n\n    XMLAttribute.prototype.toString = function(options, level) {\n      return ' ' + this.name + '=\"' + this.value + '\"';\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDTDAttList, create;\n\n  create = require('lodash/create');\n\n  module.exports = XMLDTDAttList = (function() {\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      this.stringify = parent.stringify;\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name\");\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type\");\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default\");\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT\");\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT\");\n      }\n      this.elementName = this.stringify.eleName(elementName);\n      this.attributeName = this.stringify.attName(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ATTLIST ' + this.elementName + ' ' + this.attributeName + ' ' + this.attributeType;\n      if (this.defaultValueType !== '#DEFAULT') {\n        r += ' ' + this.defaultValueType;\n      }\n      if (this.defaultValue) {\n        r += ' \"' + this.defaultValue + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDAttList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDTDEntity, create, isObject;\n\n  create = require('lodash/create');\n\n  isObject = require('lodash/isObject');\n\n  module.exports = XMLDTDEntity = (function() {\n    function XMLDTDEntity(parent, pe, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing entity name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing entity value\");\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.eleName(name);\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity\");\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity\");\n        }\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity\");\n        }\n      }\n    }\n\n    XMLDTDEntity.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ENTITY';\n      if (this.pe) {\n        r += ' %';\n      }\n      r += ' ' + this.name;\n      if (this.value) {\n        r += ' \"' + this.value + '\"';\n      } else {\n        if (this.pubID && this.sysID) {\n          r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n        } else if (this.sysID) {\n          r += ' SYSTEM \"' + this.sysID + '\"';\n        }\n        if (this.nData) {\n          r += ' NDATA ' + this.nData;\n        }\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDEntity;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDTDElement, create;\n\n  create = require('lodash/create');\n\n  module.exports = XMLDTDElement = (function() {\n    function XMLDTDElement(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (Array.isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.eleName(name);\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ELEMENT ' + this.name + ' ' + this.value + '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDElement;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDTDNotation, create;\n\n  create = require('lodash/create');\n\n  module.exports = XMLDTDNotation = (function() {\n    function XMLDTDNotation(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing notation name\");\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity\");\n      }\n      this.name = this.stringify.eleName(name);\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    XMLDTDNotation.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!NOTATION ' + this.name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.pubID) {\n        r += ' PUBLIC \"' + this.pubID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDNotation;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLNode, XMLRaw, create,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(superClass) {\n    extend(XMLRaw, superClass);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text\");\n      }\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return create(XMLRaw.prototype, this);\n    };\n\n    XMLRaw.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLNode, XMLText, create,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLText = (function(superClass) {\n    extend(XMLText, superClass);\n\n    function XMLText(parent, text) {\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text\");\n      }\n      this.value = this.stringify.eleText(text);\n    }\n\n    XMLText.prototype.clone = function() {\n      return create(XMLText.prototype, this);\n    };\n\n    XMLText.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLText;\n\n  })(XMLNode);\n\n}).call(this);\n","function apiLoader(svc, version) {\n  if (!apiLoader.services.hasOwnProperty(svc)) {\n    throw new Error('InvalidService: Failed to load api for ' + svc);\n  }\n  return apiLoader.services[svc][version];\n}\n\n/**\n * @api private\n *\n * This member of AWS.apiLoader is private, but changing it will necessitate a\n * change to ../scripts/services-table-generator.ts\n */\napiLoader.services = {};\nmodule.exports = apiLoader;\n","var AWS = require('./core');\nvar Api = require('./model/api');\nvar regionConfig = require('./region_config');\nvar inherit = AWS.util.inherit;\nvar clientCount = 0;\n\n/**\n * The service class representing an AWS service.\n *\n * @abstract\n *\n * @!attribute apiVersions\n *   @return [Array<String>] the list of API versions supported by this service.\n *   @readonly\n */\nAWS.Service = inherit({\n  /**\n   * Create a new service object with a configuration object\n   *\n   * @param config [map] a map of configuration options\n   */\n  constructor: function Service(config) {\n    if (!this.loadServiceClass) {\n      throw AWS.util.error(new Error(),\n        'Service must be constructed with `new\\' operator');\n    }\n    var ServiceClass = this.loadServiceClass(config || {});\n    if (ServiceClass) {\n      var originalConfig = AWS.util.copy(config);\n      var svc = new ServiceClass(config);\n      Object.defineProperty(svc, '_originalConfig', {\n        get: function() { return originalConfig; },\n        enumerable: false,\n        configurable: true\n      });\n      svc._clientId = ++clientCount;\n      return svc;\n    }\n    this.initialize(config);\n  },\n\n  /**\n   * @api private\n   */\n  initialize: function initialize(config) {\n    var svcConfig = AWS.config[this.serviceIdentifier];\n\n    this.config = new AWS.Config(AWS.config);\n    if (svcConfig) this.config.update(svcConfig, true);\n    if (config) this.config.update(config, true);\n\n    this.validateService();\n    if (!this.config.endpoint) regionConfig(this);\n\n    this.config.endpoint = this.endpointFromTemplate(this.config.endpoint);\n    this.setEndpoint(this.config.endpoint);\n  },\n\n  /**\n   * @api private\n   */\n  validateService: function validateService() {\n  },\n\n  /**\n   * @api private\n   */\n  loadServiceClass: function loadServiceClass(serviceConfig) {\n    var config = serviceConfig;\n    if (!AWS.util.isEmpty(this.api)) {\n      return null;\n    } else if (config.apiConfig) {\n      return AWS.Service.defineServiceApi(this.constructor, config.apiConfig);\n    } else if (!this.constructor.services) {\n      return null;\n    } else {\n      config = new AWS.Config(AWS.config);\n      config.update(serviceConfig, true);\n      var version = config.apiVersions[this.constructor.serviceIdentifier];\n      version = version || config.apiVersion;\n      return this.getLatestServiceClass(version);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getLatestServiceClass: function getLatestServiceClass(version) {\n    version = this.getLatestServiceVersion(version);\n    if (this.constructor.services[version] === null) {\n      AWS.Service.defineServiceApi(this.constructor, version);\n    }\n\n    return this.constructor.services[version];\n  },\n\n  /**\n   * @api private\n   */\n  getLatestServiceVersion: function getLatestServiceVersion(version) {\n    if (!this.constructor.services || this.constructor.services.length === 0) {\n      throw new Error('No services defined on ' +\n                      this.constructor.serviceIdentifier);\n    }\n\n    if (!version) {\n      version = 'latest';\n    } else if (AWS.util.isType(version, Date)) {\n      version = AWS.util.date.iso8601(version).split('T')[0];\n    }\n\n    if (Object.hasOwnProperty(this.constructor.services, version)) {\n      return version;\n    }\n\n    var keys = Object.keys(this.constructor.services).sort();\n    var selectedVersion = null;\n    for (var i = keys.length - 1; i >= 0; i--) {\n      // versions that end in \"*\" are not available on disk and can be\n      // skipped, so do not choose these as selectedVersions\n      if (keys[i][keys[i].length - 1] !== '*') {\n        selectedVersion = keys[i];\n      }\n      if (keys[i].substr(0, 10) <= version) {\n        return selectedVersion;\n      }\n    }\n\n    throw new Error('Could not find ' + this.constructor.serviceIdentifier +\n                    ' API to satisfy version constraint `' + version + '\\'');\n  },\n\n  /**\n   * @api private\n   */\n  api: {},\n\n  /**\n   * @api private\n   */\n  defaultRetryCount: 3,\n\n  /**\n   * @api private\n   */\n  customizeRequests: function customizeRequests(callback) {\n    if (!callback) {\n      this.customRequestHandler = null;\n    } else if (typeof callback === 'function') {\n      this.customRequestHandler = callback;\n    } else {\n      throw new Error('Invalid callback type \\'' + typeof callback + '\\' provided in customizeRequests');\n    }\n  },\n\n  /**\n   * Calls an operation on a service with the given input parameters.\n   *\n   * @param operation [String] the name of the operation to call on the service.\n   * @param params [map] a map of input options for the operation\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  makeRequest: function makeRequest(operation, params, callback) {\n    if (typeof params === 'function') {\n      callback = params;\n      params = null;\n    }\n\n    params = params || {};\n    if (this.config.params) { // copy only toplevel bound params\n      var rules = this.api.operations[operation];\n      if (rules) {\n        params = AWS.util.copy(params);\n        AWS.util.each(this.config.params, function(key, value) {\n          if (rules.input.members[key]) {\n            if (params[key] === undefined || params[key] === null) {\n              params[key] = value;\n            }\n          }\n        });\n      }\n    }\n\n    var request = new AWS.Request(this, operation, params);\n    this.addAllRequestListeners(request);\n\n    if (callback) request.send(callback);\n    return request;\n  },\n\n  /**\n   * Calls an operation on a service with the given input parameters, without\n   * any authentication data. This method is useful for \"public\" API operations.\n   *\n   * @param operation [String] the name of the operation to call on the service.\n   * @param params [map] a map of input options for the operation\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  makeUnauthenticatedRequest: function makeUnauthenticatedRequest(operation, params, callback) {\n    if (typeof params === 'function') {\n      callback = params;\n      params = {};\n    }\n\n    var request = this.makeRequest(operation, params).toUnauthenticated();\n    return callback ? request.send(callback) : request;\n  },\n\n  /**\n   * Waits for a given state\n   *\n   * @param state [String] the state on the service to wait for\n   * @param params [map] a map of parameters to pass with each request\n   * @option params $waiter [map] a map of configuration options for the waiter\n   * @option params $waiter.delay [Number] The number of seconds to wait between\n   *                                       requests\n   * @option params $waiter.maxAttempts [Number] The maximum number of requests\n   *                                             to send while waiting\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  waitFor: function waitFor(state, params, callback) {\n    var waiter = new AWS.ResourceWaiter(this, state);\n    return waiter.wait(params, callback);\n  },\n\n  /**\n   * @api private\n   */\n  addAllRequestListeners: function addAllRequestListeners(request) {\n    var list = [AWS.events, AWS.EventListeners.Core, this.serviceInterface(),\n                AWS.EventListeners.CorePost];\n    for (var i = 0; i < list.length; i++) {\n      if (list[i]) request.addListeners(list[i]);\n    }\n\n    // disable parameter validation\n    if (!this.config.paramValidation) {\n      request.removeListener('validate',\n        AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n    }\n\n    if (this.config.logger) { // add logging events\n      request.addListeners(AWS.EventListeners.Logger);\n    }\n\n    this.setupRequestListeners(request);\n    // call prototype's customRequestHandler\n    if (typeof this.constructor.prototype.customRequestHandler === 'function') {\n      this.constructor.prototype.customRequestHandler(request);\n    }\n    // call instance's customRequestHandler\n    if (Object.prototype.hasOwnProperty.call(this, 'customRequestHandler') && typeof this.customRequestHandler === 'function') {\n      this.customRequestHandler(request);\n    }\n  },\n\n  /**\n   * Override this method to setup any custom request listeners for each\n   * new request to the service.\n   *\n   * @abstract\n   */\n  setupRequestListeners: function setupRequestListeners() {\n  },\n\n  /**\n   * Gets the signer class for a given request\n   * @api private\n   */\n  getSignerClass: function getSignerClass(request) {\n    var version;\n    // get operation authtype if present\n    var operation = null;\n    var authtype = '';\n    if (request) {\n      var operations = request.service.api.operations || {};\n      operation = operations[request.operation] || null;\n      authtype = operation ? operation.authtype : '';\n    }\n    if (this.config.signatureVersion) {\n      version = this.config.signatureVersion;\n    } else if (authtype === 'v4' || authtype === 'v4-unsigned-body') {\n      version = 'v4';\n    } else {\n      version = this.api.signatureVersion;\n    }\n    return AWS.Signers.RequestSigner.getVersion(version);\n  },\n\n  /**\n   * @api private\n   */\n  serviceInterface: function serviceInterface() {\n    switch (this.api.protocol) {\n      case 'ec2': return AWS.EventListeners.Query;\n      case 'query': return AWS.EventListeners.Query;\n      case 'json': return AWS.EventListeners.Json;\n      case 'rest-json': return AWS.EventListeners.RestJson;\n      case 'rest-xml': return AWS.EventListeners.RestXml;\n    }\n    if (this.api.protocol) {\n      throw new Error('Invalid service `protocol\\' ' +\n        this.api.protocol + ' in API config');\n    }\n  },\n\n  /**\n   * @api private\n   */\n  successfulResponse: function successfulResponse(resp) {\n    return resp.httpResponse.statusCode < 300;\n  },\n\n  /**\n   * How many times a failed request should be retried before giving up.\n   * the defaultRetryCount can be overriden by service classes.\n   *\n   * @api private\n   */\n  numRetries: function numRetries() {\n    if (this.config.maxRetries !== undefined) {\n      return this.config.maxRetries;\n    } else {\n      return this.defaultRetryCount;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  retryDelays: function retryDelays(retryCount) {\n    return AWS.util.calculateRetryDelay(retryCount, this.config.retryDelayOptions);\n  },\n\n  /**\n   * @api private\n   */\n  retryableError: function retryableError(error) {\n    if (this.timeoutError(error)) return true;\n    if (this.networkingError(error)) return true;\n    if (this.expiredCredentialsError(error)) return true;\n    if (this.throttledError(error)) return true;\n    if (error.statusCode >= 500) return true;\n    return false;\n  },\n\n  /**\n   * @api private\n   */\n  networkingError: function networkingError(error) {\n    return error.code === 'NetworkingError';\n  },\n\n  /**\n   * @api private\n   */\n  timeoutError: function timeoutError(error) {\n    return error.code === 'TimeoutError';\n  },\n\n  /**\n   * @api private\n   */\n  expiredCredentialsError: function expiredCredentialsError(error) {\n    // TODO : this only handles *one* of the expired credential codes\n    return (error.code === 'ExpiredTokenException');\n  },\n\n  /**\n   * @api private\n   */\n  clockSkewError: function clockSkewError(error) {\n    switch (error.code) {\n      case 'RequestTimeTooSkewed':\n      case 'RequestExpired':\n      case 'InvalidSignatureException':\n      case 'SignatureDoesNotMatch':\n      case 'AuthFailure':\n      case 'RequestInTheFuture':\n        return true;\n      default: return false;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getSkewCorrectedDate: function getSkewCorrectedDate() {\n    return new Date(Date.now() + this.config.systemClockOffset);\n  },\n\n  /**\n   * @api private\n   */\n  applyClockOffset: function applyClockOffset(newServerTime) {\n    if (newServerTime) {\n      this.config.systemClockOffset = newServerTime - Date.now();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  isClockSkewed: function isClockSkewed(newServerTime) {\n    if (newServerTime) {\n      return Math.abs(this.getSkewCorrectedDate().getTime() - newServerTime) >= 30000;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  throttledError: function throttledError(error) {\n    // this logic varies between services\n    switch (error.code) {\n      case 'ProvisionedThroughputExceededException':\n      case 'Throttling':\n      case 'ThrottlingException':\n      case 'RequestLimitExceeded':\n      case 'RequestThrottled':\n        return true;\n      default:\n        return false;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  endpointFromTemplate: function endpointFromTemplate(endpoint) {\n    if (typeof endpoint !== 'string') return endpoint;\n\n    var e = endpoint;\n    e = e.replace(/\\{service\\}/g, this.api.endpointPrefix);\n    e = e.replace(/\\{region\\}/g, this.config.region);\n    e = e.replace(/\\{scheme\\}/g, this.config.sslEnabled ? 'https' : 'http');\n    return e;\n  },\n\n  /**\n   * @api private\n   */\n  setEndpoint: function setEndpoint(endpoint) {\n    this.endpoint = new AWS.Endpoint(endpoint, this.config);\n  },\n\n  /**\n   * @api private\n   */\n  paginationConfig: function paginationConfig(operation, throwException) {\n    var paginator = this.api.operations[operation].paginator;\n    if (!paginator) {\n      if (throwException) {\n        var e = new Error();\n        throw AWS.util.error(e, 'No pagination configuration for ' + operation);\n      }\n      return null;\n    }\n\n    return paginator;\n  }\n});\n\nAWS.util.update(AWS.Service, {\n\n  /**\n   * Adds one method for each operation described in the api configuration\n   *\n   * @api private\n   */\n  defineMethods: function defineMethods(svc) {\n    AWS.util.each(svc.prototype.api.operations, function iterator(method) {\n      if (svc.prototype[method]) return;\n      var operation = svc.prototype.api.operations[method];\n      if (operation.authtype === 'none') {\n        svc.prototype[method] = function (params, callback) {\n          return this.makeUnauthenticatedRequest(method, params, callback);\n        };\n      } else {\n        svc.prototype[method] = function (params, callback) {\n          return this.makeRequest(method, params, callback);\n        };\n      }\n    });\n  },\n\n  /**\n   * Defines a new Service class using a service identifier and list of versions\n   * including an optional set of features (functions) to apply to the class\n   * prototype.\n   *\n   * @param serviceIdentifier [String] the identifier for the service\n   * @param versions [Array<String>] a list of versions that work with this\n   *   service\n   * @param features [Object] an object to attach to the prototype\n   * @return [Class<Service>] the service class defined by this function.\n   */\n  defineService: function defineService(serviceIdentifier, versions, features) {\n    AWS.Service._serviceMap[serviceIdentifier] = true;\n    if (!Array.isArray(versions)) {\n      features = versions;\n      versions = [];\n    }\n\n    var svc = inherit(AWS.Service, features || {});\n\n    if (typeof serviceIdentifier === 'string') {\n      AWS.Service.addVersions(svc, versions);\n\n      var identifier = svc.serviceIdentifier || serviceIdentifier;\n      svc.serviceIdentifier = identifier;\n    } else { // defineService called with an API\n      svc.prototype.api = serviceIdentifier;\n      AWS.Service.defineMethods(svc);\n    }\n\n    return svc;\n  },\n\n  /**\n   * @api private\n   */\n  addVersions: function addVersions(svc, versions) {\n    if (!Array.isArray(versions)) versions = [versions];\n\n    svc.services = svc.services || {};\n    for (var i = 0; i < versions.length; i++) {\n      if (svc.services[versions[i]] === undefined) {\n        svc.services[versions[i]] = null;\n      }\n    }\n\n    svc.apiVersions = Object.keys(svc.services).sort();\n  },\n\n  /**\n   * @api private\n   */\n  defineServiceApi: function defineServiceApi(superclass, version, apiConfig) {\n    var svc = inherit(superclass, {\n      serviceIdentifier: superclass.serviceIdentifier\n    });\n\n    function setApi(api) {\n      if (api.isApi) {\n        svc.prototype.api = api;\n      } else {\n        svc.prototype.api = new Api(api);\n      }\n    }\n\n    if (typeof version === 'string') {\n      if (apiConfig) {\n        setApi(apiConfig);\n      } else {\n        try {\n          setApi(AWS.apiLoader(superclass.serviceIdentifier, version));\n        } catch (err) {\n          throw AWS.util.error(err, {\n            message: 'Could not find API configuration ' +\n              superclass.serviceIdentifier + '-' + version\n          });\n        }\n      }\n      if (!Object.prototype.hasOwnProperty.call(superclass.services, version)) {\n        superclass.apiVersions = superclass.apiVersions.concat(version).sort();\n      }\n      superclass.services[version] = svc;\n    } else {\n      setApi(version);\n    }\n\n    AWS.Service.defineMethods(svc);\n    return svc;\n  },\n\n  /**\n   * @api private\n   */\n  hasService: function(identifier) {\n    return Object.prototype.hasOwnProperty.call(AWS.Service._serviceMap, identifier);\n  },\n\n  /**\n   * @api private\n   */\n  _serviceMap: {}\n});\n\nmodule.exports = AWS.Service;\n","var util = require('./util');\nvar regionConfig = require('./region_config_data.json');\n\nfunction generateRegionPrefix(region) {\n  if (!region) return null;\n\n  var parts = region.split('-');\n  if (parts.length < 3) return null;\n  return parts.slice(0, parts.length - 2).join('-') + '-*';\n}\n\nfunction derivedKeys(service) {\n  var region = service.config.region;\n  var regionPrefix = generateRegionPrefix(region);\n  var endpointPrefix = service.api.endpointPrefix;\n\n  return [\n    [region, endpointPrefix],\n    [regionPrefix, endpointPrefix],\n    [region, '*'],\n    [regionPrefix, '*'],\n    ['*', endpointPrefix],\n    ['*', '*']\n  ].map(function(item) {\n    return item[0] && item[1] ? item.join('/') : null;\n  });\n}\n\nfunction applyConfig(service, config) {\n  util.each(config, function(key, value) {\n    if (key === 'globalEndpoint') return;\n    if (service.config[key] === undefined || service.config[key] === null) {\n      service.config[key] = value;\n    }\n  });\n}\n\nfunction configureEndpoint(service) {\n  var keys = derivedKeys(service);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!key) continue;\n\n    if (Object.prototype.hasOwnProperty.call(regionConfig.rules, key)) {\n      var config = regionConfig.rules[key];\n      if (typeof config === 'string') {\n        config = regionConfig.patterns[config];\n      }\n\n      // set dualstack endpoint\n      if (service.config.useDualstack && util.isDualstackAvailable(service)) {\n        config = util.copy(config);\n        config.endpoint = '{service}.dualstack.{region}.amazonaws.com';\n      }\n\n      // set global endpoint\n      service.isGlobalEndpoint = !!config.globalEndpoint;\n\n      // signature version\n      if (!config.signatureVersion) config.signatureVersion = 'v4';\n\n      // merge config\n      applyConfig(service, config);\n      return;\n    }\n  }\n}\n\nmodule.exports = configureEndpoint;\n","var AWS = require('./core');\nrequire('./credentials');\nrequire('./credentials/credential_provider_chain');\nvar PromisesDependency;\n\n/**\n * The main configuration class used by all service objects to set\n * the region, credentials, and other options for requests.\n *\n * By default, credentials and region settings are left unconfigured.\n * This should be configured by the application before using any\n * AWS service APIs.\n *\n * In order to set global configuration options, properties should\n * be assigned to the global {AWS.config} object.\n *\n * @see AWS.config\n *\n * @!group General Configuration Options\n *\n * @!attribute credentials\n *   @return [AWS.Credentials] the AWS credentials to sign requests with.\n *\n * @!attribute region\n *   @example Set the global region setting to us-west-2\n *     AWS.config.update({region: 'us-west-2'});\n *   @return [AWS.Credentials] The region to send service requests to.\n *   @see http://docs.amazonwebservices.com/general/latest/gr/rande.html\n *     A list of available endpoints for each AWS service\n *\n * @!attribute maxRetries\n *   @return [Integer] the maximum amount of retries to perform for a\n *     service request. By default this value is calculated by the specific\n *     service object that the request is being made to.\n *\n * @!attribute maxRedirects\n *   @return [Integer] the maximum amount of redirects to follow for a\n *     service request. Defaults to 10.\n *\n * @!attribute paramValidation\n *   @return [Boolean|map] whether input parameters should be validated against\n *     the operation description before sending the request. Defaults to true.\n *     Pass a map to enable any of the following specific validation features:\n *\n *     * **min** [Boolean] &mdash; Validates that a value meets the min\n *       constraint. This is enabled by default when paramValidation is set\n *       to `true`.\n *     * **max** [Boolean] &mdash; Validates that a value meets the max\n *       constraint.\n *     * **pattern** [Boolean] &mdash; Validates that a string value matches a\n *       regular expression.\n *     * **enum** [Boolean] &mdash; Validates that a string value matches one\n *       of the allowable enum values.\n *\n * @!attribute computeChecksums\n *   @return [Boolean] whether to compute checksums for payload bodies when\n *     the service accepts it (currently supported in S3 only).\n *\n * @!attribute convertResponseTypes\n *   @return [Boolean] whether types are converted when parsing response data.\n *     Currently only supported for JSON based services. Turning this off may\n *     improve performance on large response payloads. Defaults to `true`.\n *\n * @!attribute correctClockSkew\n *   @return [Boolean] whether to apply a clock skew correction and retry\n *     requests that fail because of an skewed client clock. Defaults to\n *     `false`.\n *\n * @!attribute sslEnabled\n *   @return [Boolean] whether SSL is enabled for requests\n *\n * @!attribute s3ForcePathStyle\n *   @return [Boolean] whether to force path style URLs for S3 objects\n *\n * @!attribute s3BucketEndpoint\n *   @note Setting this configuration option requires an `endpoint` to be\n *     provided explicitly to the service constructor.\n *   @return [Boolean] whether the provided endpoint addresses an individual\n *     bucket (false if it addresses the root API endpoint).\n *\n * @!attribute s3DisableBodySigning\n *   @return [Boolean] whether to disable S3 body signing when using signature version `v4`.\n *     Body signing can only be disabled when using https. Defaults to `true`.\n *\n * @!attribute useAccelerateEndpoint\n *   @note This configuration option is only compatible with S3 while accessing\n *     dns-compatible buckets.\n *   @return [Boolean] Whether to use the Accelerate endpoint with the S3 service.\n *     Defaults to `false`.\n *\n * @!attribute retryDelayOptions\n *   @example Set the base retry delay for all services to 300 ms\n *     AWS.config.update({retryDelayOptions: {base: 300}});\n *     // Delays with maxRetries = 3: 300, 600, 1200\n *   @example Set a custom backoff function to provide delay values on retries\n *     AWS.config.update({retryDelayOptions: {customBackoff: function(retryCount) {\n *       // returns delay in ms\n *     }}});\n *   @return [map] A set of options to configure the retry delay on retryable errors.\n *     Currently supported options are:\n *\n *     * **base** [Integer] &mdash; The base number of milliseconds to use in the\n *       exponential backoff for operation retries. Defaults to 100 ms for all services except\n *       DynamoDB, where it defaults to 50ms.\n *     * **customBackoff ** [function] &mdash; A custom function that accepts a retry count\n *       and returns the amount of time to delay in milliseconds. The `base` option will be\n *       ignored if this option is supplied.\n *\n * @!attribute httpOptions\n *   @return [map] A set of options to pass to the low-level HTTP request.\n *     Currently supported options are:\n *\n *     * **proxy** [String] &mdash; the URL to proxy requests through\n *     * **agent** [http.Agent, https.Agent] &mdash; the Agent object to perform\n *       HTTP requests with. Used for connection pooling. Defaults to the global\n *       agent (`http.globalAgent`) for non-SSL connections. Note that for\n *       SSL connections, a special Agent object is used in order to enable\n *       peer certificate verification. This feature is only supported in the\n *       Node.js environment.\n *     * **connectTimeout** [Integer] &mdash; Sets the socket to timeout after\n *       failing to establish a connection with the server after\n *       `connectTimeout` milliseconds. This timeout has no effect once a socket\n *       connection has been established.\n *     * **timeout** [Integer] &mdash; Sets the socket to timeout after timeout\n *       milliseconds of inactivity on the socket. Defaults to two minutes\n *       (120000)\n *     * **xhrAsync** [Boolean] &mdash; Whether the SDK will send asynchronous\n *       HTTP requests. Used in the browser environment only. Set to false to\n *       send requests synchronously. Defaults to true (async on).\n *     * **xhrWithCredentials** [Boolean] &mdash; Sets the \"withCredentials\"\n *       property of an XMLHttpRequest object. Used in the browser environment\n *       only. Defaults to false.\n * @!attribute logger\n *   @return [#write,#log] an object that responds to .write() (like a stream)\n *     or .log() (like the console object) in order to log information about\n *     requests\n *\n * @!attribute systemClockOffset\n *   @return [Number] an offset value in milliseconds to apply to all signing\n *     times. Use this to compensate for clock skew when your system may be\n *     out of sync with the service time. Note that this configuration option\n *     can only be applied to the global `AWS.config` object and cannot be\n *     overridden in service-specific configuration. Defaults to 0 milliseconds.\n *\n * @!attribute signatureVersion\n *   @return [String] the signature version to sign requests with (overriding\n *     the API configuration). Possible values are: 'v2', 'v3', 'v4'.\n *\n * @!attribute signatureCache\n *   @return [Boolean] whether the signature to sign requests with (overriding\n *     the API configuration) is cached. Only applies to the signature version 'v4'.\n *     Defaults to `true`.\n */\nAWS.Config = AWS.util.inherit({\n  /**\n   * @!endgroup\n   */\n\n  /**\n   * Creates a new configuration object. This is the object that passes\n   * option data along to service requests, including credentials, security,\n   * region information, and some service specific settings.\n   *\n   * @example Creating a new configuration object with credentials and region\n   *   var config = new AWS.Config({\n   *     accessKeyId: 'AKID', secretAccessKey: 'SECRET', region: 'us-west-2'\n   *   });\n   * @option options accessKeyId [String] your AWS access key ID.\n   * @option options secretAccessKey [String] your AWS secret access key.\n   * @option options sessionToken [AWS.Credentials] the optional AWS\n   *   session token to sign requests with.\n   * @option options credentials [AWS.Credentials] the AWS credentials\n   *   to sign requests with. You can either specify this object, or\n   *   specify the accessKeyId and secretAccessKey options directly.\n   * @option options credentialProvider [AWS.CredentialProviderChain] the\n   *   provider chain used to resolve credentials if no static `credentials`\n   *   property is set.\n   * @option options region [String] the region to send service requests to.\n   *   See {region} for more information.\n   * @option options maxRetries [Integer] the maximum amount of retries to\n   *   attempt with a request. See {maxRetries} for more information.\n   * @option options maxRedirects [Integer] the maximum amount of redirects to\n   *   follow with a request. See {maxRedirects} for more information.\n   * @option options sslEnabled [Boolean] whether to enable SSL for\n   *   requests.\n   * @option options paramValidation [Boolean|map] whether input parameters\n   *   should be validated against the operation description before sending\n   *   the request. Defaults to true. Pass a map to enable any of the\n   *   following specific validation features:\n   *\n   *   * **min** [Boolean] &mdash; Validates that a value meets the min\n   *     constraint. This is enabled by default when paramValidation is set\n   *     to `true`.\n   *   * **max** [Boolean] &mdash; Validates that a value meets the max\n   *     constraint.\n   *   * **pattern** [Boolean] &mdash; Validates that a string value matches a\n   *     regular expression.\n   *   * **enum** [Boolean] &mdash; Validates that a string value matches one\n   *     of the allowable enum values.\n   * @option options computeChecksums [Boolean] whether to compute checksums\n   *   for payload bodies when the service accepts it (currently supported\n   *   in S3 only)\n   * @option options convertResponseTypes [Boolean] whether types are converted\n   *     when parsing response data. Currently only supported for JSON based\n   *     services. Turning this off may improve performance on large response\n   *     payloads. Defaults to `true`.\n   * @option options correctClockSkew [Boolean] whether to apply a clock skew\n   *     correction and retry requests that fail because of an skewed client\n   *     clock. Defaults to `false`.\n   * @option options s3ForcePathStyle [Boolean] whether to force path\n   *   style URLs for S3 objects.\n   * @option options s3BucketEndpoint [Boolean] whether the provided endpoint\n   *   addresses an individual bucket (false if it addresses the root API\n   *   endpoint). Note that setting this configuration option requires an\n   *   `endpoint` to be provided explicitly to the service constructor.\n   * @option options s3DisableBodySigning [Boolean] whether S3 body signing\n   *   should be disabled when using signature version `v4`. Body signing\n   *   can only be disabled when using https. Defaults to `true`.\n   *\n   * @option options retryDelayOptions [map] A set of options to configure\n   *   the retry delay on retryable errors. Currently supported options are:\n   *\n   *   * **base** [Integer] &mdash; The base number of milliseconds to use in the\n   *     exponential backoff for operation retries. Defaults to 100 ms for all\n   *     services except DynamoDB, where it defaults to 50ms.\n   *   * **customBackoff ** [function] &mdash; A custom function that accepts a retry count\n   *     and returns the amount of time to delay in milliseconds. The `base` option will be\n   *     ignored if this option is supplied.\n   * @option options httpOptions [map] A set of options to pass to the low-level\n   *   HTTP request. Currently supported options are:\n   *\n   *   * **proxy** [String] &mdash; the URL to proxy requests through\n   *   * **agent** [http.Agent, https.Agent] &mdash; the Agent object to perform\n   *     HTTP requests with. Used for connection pooling. Defaults to the global\n   *     agent (`http.globalAgent`) for non-SSL connections. Note that for\n   *     SSL connections, a special Agent object is used in order to enable\n   *     peer certificate verification. This feature is only available in the\n   *     Node.js environment.\n   *   * **connectTimeout** [Integer] &mdash; Sets the socket to timeout after\n   *     failing to establish a connection with the server after\n   *     `connectTimeout` milliseconds. This timeout has no effect once a socket\n   *     connection has been established.\n   *   * **timeout** [Integer] &mdash; Sets the socket to timeout after timeout\n   *     milliseconds of inactivity on the socket. Defaults to two minutes\n   *     (120000).\n   *   * **xhrAsync** [Boolean] &mdash; Whether the SDK will send asynchronous\n   *     HTTP requests. Used in the browser environment only. Set to false to\n   *     send requests synchronously. Defaults to true (async on).\n   *   * **xhrWithCredentials** [Boolean] &mdash; Sets the \"withCredentials\"\n   *     property of an XMLHttpRequest object. Used in the browser environment\n   *     only. Defaults to false.\n   * @option options apiVersion [String, Date] a String in YYYY-MM-DD format\n   *   (or a date) that represents the latest possible API version that can be\n   *   used in all services (unless overridden by `apiVersions`). Specify\n   *   'latest' to use the latest possible version.\n   * @option options apiVersions [map<String, String|Date>] a map of service\n   *   identifiers (the lowercase service class name) with the API version to\n   *   use when instantiating a service. Specify 'latest' for each individual\n   *   that can use the latest available version.\n   * @option options logger [#write,#log] an object that responds to .write()\n   *   (like a stream) or .log() (like the console object) in order to log\n   *   information about requests\n   * @option options systemClockOffset [Number] an offset value in milliseconds\n   *   to apply to all signing times. Use this to compensate for clock skew\n   *   when your system may be out of sync with the service time. Note that\n   *   this configuration option can only be applied to the global `AWS.config`\n   *   object and cannot be overridden in service-specific configuration.\n   *   Defaults to 0 milliseconds.\n   * @option options signatureVersion [String] the signature version to sign\n   *   requests with (overriding the API configuration). Possible values are:\n   *   'v2', 'v3', 'v4'.\n   * @option options signatureCache [Boolean] whether the signature to sign\n   *   requests with (overriding the API configuration) is cached. Only applies\n   *   to the signature version 'v4'. Defaults to `true`.\n   * @option options dynamoDbCrc32 [Boolean] whether to validate the CRC32\n   *   checksum of HTTP response bodies returned by DynamoDB. Default: `true`.\n   */\n  constructor: function Config(options) {\n    if (options === undefined) options = {};\n    options = this.extractCredentials(options);\n\n    AWS.util.each.call(this, this.keys, function (key, value) {\n      this.set(key, options[key], value);\n    });\n  },\n\n  /**\n   * @!group Managing Credentials\n   */\n\n  /**\n   * Loads credentials from the configuration object. This is used internally\n   * by the SDK to ensure that refreshable {Credentials} objects are properly\n   * refreshed and loaded when sending a request. If you want to ensure that\n   * your credentials are loaded prior to a request, you can use this method\n   * directly to provide accurate credential data stored in the object.\n   *\n   * @note If you configure the SDK with static or environment credentials,\n   *   the credential data should already be present in {credentials} attribute.\n   *   This method is primarily necessary to load credentials from asynchronous\n   *   sources, or sources that can refresh credentials periodically.\n   * @example Getting your access key\n   *   AWS.config.getCredentials(function(err) {\n   *     if (err) console.log(err.stack); // credentials not loaded\n   *     else console.log(\"Access Key:\", AWS.config.credentials.accessKeyId);\n   *   })\n   * @callback callback function(err)\n   *   Called when the {credentials} have been properly set on the configuration\n   *   object.\n   *\n   *   @param err [Error] if this is set, credentials were not successfully\n   *     loaded and this error provides information why.\n   * @see credentials\n   * @see Credentials\n   */\n  getCredentials: function getCredentials(callback) {\n    var self = this;\n\n    function finish(err) {\n      callback(err, err ? null : self.credentials);\n    }\n\n    function credError(msg, err) {\n      return new AWS.util.error(err || new Error(), {\n        code: 'CredentialsError',\n        message: msg,\n        name: 'CredentialsError'\n      });\n    }\n\n    function getAsyncCredentials() {\n      self.credentials.get(function(err) {\n        if (err) {\n          var msg = 'Could not load credentials from ' +\n            self.credentials.constructor.name;\n          err = credError(msg, err);\n        }\n        finish(err);\n      });\n    }\n\n    function getStaticCredentials() {\n      var err = null;\n      if (!self.credentials.accessKeyId || !self.credentials.secretAccessKey) {\n        err = credError('Missing credentials');\n      }\n      finish(err);\n    }\n\n    if (self.credentials) {\n      if (typeof self.credentials.get === 'function') {\n        getAsyncCredentials();\n      } else { // static credentials\n        getStaticCredentials();\n      }\n    } else if (self.credentialProvider) {\n      self.credentialProvider.resolve(function(err, creds) {\n        if (err) {\n          err = credError('Could not load credentials from any providers', err);\n        }\n        self.credentials = creds;\n        finish(err);\n      });\n    } else {\n      finish(credError('No credentials to load'));\n    }\n  },\n\n  /**\n   * @!group Loading and Setting Configuration Options\n   */\n\n  /**\n   * @overload update(options, allowUnknownKeys = false)\n   *   Updates the current configuration object with new options.\n   *\n   *   @example Update maxRetries property of a configuration object\n   *     config.update({maxRetries: 10});\n   *   @param [Object] options a map of option keys and values.\n   *   @param [Boolean] allowUnknownKeys whether unknown keys can be set on\n   *     the configuration object. Defaults to `false`.\n   *   @see constructor\n   */\n  update: function update(options, allowUnknownKeys) {\n    allowUnknownKeys = allowUnknownKeys || false;\n    options = this.extractCredentials(options);\n    AWS.util.each.call(this, options, function (key, value) {\n      if (allowUnknownKeys || Object.prototype.hasOwnProperty.call(this.keys, key) ||\n          AWS.Service.hasService(key)) {\n        this.set(key, value);\n      }\n    });\n  },\n\n  /**\n   * Loads configuration data from a JSON file into this config object.\n   * @note Loading configuration will reset all existing configuration\n   *   on the object.\n   * @!macro nobrowser\n   * @param path [String] the path relative to your process's current\n   *    working directory to load configuration from.\n   * @return [AWS.Config] the same configuration object\n   */\n  loadFromPath: function loadFromPath(path) {\n    this.clear();\n\n    var options = JSON.parse(AWS.util.readFileSync(path));\n    var fileSystemCreds = new AWS.FileSystemCredentials(path);\n    var chain = new AWS.CredentialProviderChain();\n    chain.providers.unshift(fileSystemCreds);\n    chain.resolve(function (err, creds) {\n      if (err) throw err;\n      else options.credentials = creds;\n    });\n\n    this.constructor(options);\n\n    return this;\n  },\n\n  /**\n   * Clears configuration data on this object\n   *\n   * @api private\n   */\n  clear: function clear() {\n    /*jshint forin:false */\n    AWS.util.each.call(this, this.keys, function (key) {\n      delete this[key];\n    });\n\n    // reset credential provider\n    this.set('credentials', undefined);\n    this.set('credentialProvider', undefined);\n  },\n\n  /**\n   * Sets a property on the configuration object, allowing for a\n   * default value\n   * @api private\n   */\n  set: function set(property, value, defaultValue) {\n    if (value === undefined) {\n      if (defaultValue === undefined) {\n        defaultValue = this.keys[property];\n      }\n      if (typeof defaultValue === 'function') {\n        this[property] = defaultValue.call(this);\n      } else {\n        this[property] = defaultValue;\n      }\n    } else if (property === 'httpOptions' && this[property]) {\n      // deep merge httpOptions\n      this[property] = AWS.util.merge(this[property], value);\n    } else {\n      this[property] = value;\n    }\n  },\n\n  /**\n   * All of the keys with their default values.\n   *\n   * @constant\n   * @api private\n   */\n  keys: {\n    credentials: null,\n    credentialProvider: null,\n    region: null,\n    logger: null,\n    apiVersions: {},\n    apiVersion: null,\n    endpoint: undefined,\n    httpOptions: {\n      timeout: 120000\n    },\n    maxRetries: undefined,\n    maxRedirects: 10,\n    paramValidation: true,\n    sslEnabled: true,\n    s3ForcePathStyle: false,\n    s3BucketEndpoint: false,\n    s3DisableBodySigning: true,\n    computeChecksums: true,\n    convertResponseTypes: true,\n    correctClockSkew: false,\n    customUserAgent: null,\n    dynamoDbCrc32: true,\n    systemClockOffset: 0,\n    signatureVersion: null,\n    signatureCache: true,\n    retryDelayOptions: {},\n    useAccelerateEndpoint: false\n  },\n\n  /**\n   * Extracts accessKeyId, secretAccessKey and sessionToken\n   * from a configuration hash.\n   *\n   * @api private\n   */\n  extractCredentials: function extractCredentials(options) {\n    if (options.accessKeyId && options.secretAccessKey) {\n      options = AWS.util.copy(options);\n      options.credentials = new AWS.Credentials(options);\n    }\n    return options;\n  },\n\n  /**\n   * Sets the promise dependency the SDK will use wherever Promises are returned.\n   * Passing `null` will force the SDK to use native Promises if they are available.\n   * If native Promises are not available, passing `null` will have no effect.\n   * @param [Constructor] dep A reference to a Promise constructor\n   */\n  setPromisesDependency: function setPromisesDependency(dep) {\n    PromisesDependency = dep;\n    // if null was passed in, we should try to use native promises\n    if (dep === null && typeof Promise === 'function') {\n      PromisesDependency = Promise;\n    }\n    var constructors = [AWS.Request, AWS.Credentials, AWS.CredentialProviderChain];\n    if (AWS.S3 && AWS.S3.ManagedUpload) constructors.push(AWS.S3.ManagedUpload);\n    AWS.util.addPromises(constructors, PromisesDependency);\n  },\n\n  /**\n   * Gets the promise dependency set by `AWS.config.setPromisesDependency`.\n   */\n  getPromisesDependency: function getPromisesDependency() {\n    return PromisesDependency;\n  }\n});\n\n/**\n * @return [AWS.Config] The global configuration object singleton instance\n * @readonly\n * @see AWS.Config\n */\nAWS.config = new AWS.Config();\n","var AWS = require('./core');\nvar SequentialExecutor = require('./sequential_executor');\n/**\n * The namespace used to register global event listeners for request building\n * and sending.\n */\nAWS.EventListeners = {\n  /**\n   * @!attribute VALIDATE_CREDENTIALS\n   *   A request listener that validates whether the request is being\n   *   sent with credentials.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating credentials\n   *     var listener = AWS.EventListeners.Core.VALIDATE_CREDENTIALS;\n   *     request.removeListener('validate', listener);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute VALIDATE_REGION\n   *   A request listener that validates whether the region is set\n   *   for a request.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating region configuration\n   *     var listener = AWS.EventListeners.Core.VALIDATE_REGION;\n   *     request.removeListener('validate', listener);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute VALIDATE_PARAMETERS\n   *   A request listener that validates input parameters in a request.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating parameters\n   *     var listener = AWS.EventListeners.Core.VALIDATE_PARAMETERS;\n   *     request.removeListener('validate', listener);\n   *   @example Disable parameter validation globally\n   *     AWS.EventListeners.Core.removeListener('validate',\n   *       AWS.EventListeners.Core.VALIDATE_REGION);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute SEND\n   *   A request listener that initiates the HTTP connection for a\n   *   request being sent. Handles the {AWS.Request~send 'send' Request event}\n   *   @example Replacing the HTTP handler\n   *     var listener = AWS.EventListeners.Core.SEND;\n   *     request.removeListener('send', listener);\n   *     request.on('send', function(response) {\n   *       customHandler.send(response);\n   *     });\n   *   @return [Function]\n   *   @readonly\n   * @!attribute HTTP_DATA\n   *   A request listener that reads data from the HTTP connection in order\n   *   to build the response data.\n   *   Handles the {AWS.Request~httpData 'httpData' Request event}.\n   *   Remove this handler if you are overriding the 'httpData' event and\n   *   do not want extra data processing and buffering overhead.\n   *   @example Disabling default data processing\n   *     var listener = AWS.EventListeners.Core.HTTP_DATA;\n   *     request.removeListener('httpData', listener);\n   *   @return [Function]\n   *   @readonly\n   */\n  Core: {} /* doc hack */\n};\n\n/**\n * @api private\n */\nfunction getOperationAuthtype(req) {\n  if (!req.service.api.operations) {\n    return '';\n  }\n  var operation = req.service.api.operations[req.operation];\n  return operation ? operation.authtype : '';\n}\n\nAWS.EventListeners = {\n  Core: new SequentialExecutor().addNamedListeners(function(add, addAsync) {\n    addAsync('VALIDATE_CREDENTIALS', 'validate',\n        function VALIDATE_CREDENTIALS(req, done) {\n      if (!req.service.api.signatureVersion) return done(); // none\n      req.service.config.getCredentials(function(err) {\n        if (err) {\n          req.response.error = AWS.util.error(err,\n            {code: 'CredentialsError', message: 'Missing credentials in config'});\n        }\n        done();\n      });\n    });\n\n    add('VALIDATE_REGION', 'validate', function VALIDATE_REGION(req) {\n      if (!req.service.config.region && !req.service.isGlobalEndpoint) {\n        req.response.error = AWS.util.error(new Error(),\n          {code: 'ConfigError', message: 'Missing region in config'});\n      }\n    });\n\n    add('BUILD_IDEMPOTENCY_TOKENS', 'validate', function BUILD_IDEMPOTENCY_TOKENS(req) {\n      if (!req.service.api.operations) {\n        return;\n      }\n      var operation = req.service.api.operations[req.operation];\n      if (!operation) {\n        return;\n      }\n      var idempotentMembers = operation.idempotentMembers;\n      if (!idempotentMembers.length) {\n        return;\n      }\n      // creates a copy of params so user's param object isn't mutated\n      var params = AWS.util.copy(req.params);\n      for (var i = 0, iLen = idempotentMembers.length; i < iLen; i++) {\n        if (!params[idempotentMembers[i]]) {\n          // add the member\n          params[idempotentMembers[i]] = AWS.util.uuid.v4();\n        }\n      }\n      req.params = params;\n    });\n\n    add('VALIDATE_PARAMETERS', 'validate', function VALIDATE_PARAMETERS(req) {\n      if (!req.service.api.operations) {\n        return;\n      }\n      var rules = req.service.api.operations[req.operation].input;\n      var validation = req.service.config.paramValidation;\n      new AWS.ParamValidator(validation).validate(rules, req.params);\n    });\n\n    addAsync('COMPUTE_SHA256', 'afterBuild', function COMPUTE_SHA256(req, done) {\n      req.haltHandlersOnError();\n      if (!req.service.api.operations) {\n        return;\n      }\n      var operation = req.service.api.operations[req.operation];\n      var authtype = operation ? operation.authtype : '';\n      if (!req.service.api.signatureVersion && !authtype) return done(); // none\n      if (req.service.getSignerClass(req) === AWS.Signers.V4) {\n        var body = req.httpRequest.body || '';\n        if (authtype.indexOf('unsigned-body') >= 0) {\n          req.httpRequest.headers['X-Amz-Content-Sha256'] = 'UNSIGNED-PAYLOAD';\n          return done();\n        }\n        AWS.util.computeSha256(body, function(err, sha) {\n          if (err) {\n            done(err);\n          }\n          else {\n            req.httpRequest.headers['X-Amz-Content-Sha256'] = sha;\n            done();\n          }\n        });\n      } else {\n        done();\n      }\n    });\n\n    add('SET_CONTENT_LENGTH', 'afterBuild', function SET_CONTENT_LENGTH(req) {\n      var authtype = getOperationAuthtype(req);\n      if (req.httpRequest.headers['Content-Length'] === undefined\n          && authtype.indexOf('unsigned-body') === -1) {\n        var length = AWS.util.string.byteLength(req.httpRequest.body);\n        req.httpRequest.headers['Content-Length'] = length;\n      }\n    });\n\n    add('SET_HTTP_HOST', 'afterBuild', function SET_HTTP_HOST(req) {\n      req.httpRequest.headers['Host'] = req.httpRequest.endpoint.host;\n    });\n\n    add('RESTART', 'restart', function RESTART() {\n      var err = this.response.error;\n      if (!err || !err.retryable) return;\n\n      this.httpRequest = new AWS.HttpRequest(\n        this.service.endpoint,\n        this.service.region\n      );\n\n      if (this.response.retryCount < this.service.config.maxRetries) {\n        this.response.retryCount++;\n      } else {\n        this.response.error = null;\n      }\n    });\n\n    addAsync('SIGN', 'sign', function SIGN(req, done) {\n      var service = req.service;\n      var operations = req.service.api.operations || {};\n      var operation = operations[req.operation];\n      var authtype = operation ? operation.authtype : '';\n      if (!service.api.signatureVersion && !authtype) return done(); // none\n\n      service.config.getCredentials(function (err, credentials) {\n        if (err) {\n          req.response.error = err;\n          return done();\n        }\n\n        try {\n          var date = service.getSkewCorrectedDate();\n          var SignerClass = service.getSignerClass(req);\n          var signer = new SignerClass(req.httpRequest,\n            service.api.signingName || service.api.endpointPrefix,\n            {\n              signatureCache: service.config.signatureCache,\n              operation: operation\n            });\n          signer.setServiceClientId(service._clientId);\n\n          // clear old authorization headers\n          delete req.httpRequest.headers['Authorization'];\n          delete req.httpRequest.headers['Date'];\n          delete req.httpRequest.headers['X-Amz-Date'];\n\n          // add new authorization\n          signer.addAuthorization(credentials, date);\n          req.signedAt = date;\n        } catch (e) {\n          req.response.error = e;\n        }\n        done();\n      });\n    });\n\n    add('VALIDATE_RESPONSE', 'validateResponse', function VALIDATE_RESPONSE(resp) {\n      if (this.service.successfulResponse(resp, this)) {\n        resp.data = {};\n        resp.error = null;\n      } else {\n        resp.data = null;\n        resp.error = AWS.util.error(new Error(),\n          {code: 'UnknownError', message: 'An unknown error occurred.'});\n      }\n    });\n\n    addAsync('SEND', 'send', function SEND(resp, done) {\n      resp.httpResponse._abortCallback = done;\n      resp.error = null;\n      resp.data = null;\n\n      function callback(httpResp) {\n        resp.httpResponse.stream = httpResp;\n        var stream = resp.request.httpRequest.stream;\n\n        httpResp.on('headers', function onHeaders(statusCode, headers, statusMessage) {\n          resp.request.emit(\n            'httpHeaders',\n            [statusCode, headers, resp, statusMessage]\n          );\n\n          if (!resp.httpResponse.streaming) {\n            if (AWS.HttpClient.streamsApiVersion === 2) { // streams2 API check\n              httpResp.on('readable', function onReadable() {\n                var data = httpResp.read();\n                if (data !== null) {\n                  resp.request.emit('httpData', [data, resp]);\n                }\n              });\n            } else { // legacy streams API\n              httpResp.on('data', function onData(data) {\n                resp.request.emit('httpData', [data, resp]);\n              });\n            }\n          }\n        });\n\n        httpResp.on('end', function onEnd() {\n          if (!stream || !stream.didCallback) {\n            resp.request.emit('httpDone');\n            done();\n          }\n        });\n      }\n\n      function progress(httpResp) {\n        httpResp.on('sendProgress', function onSendProgress(value) {\n          resp.request.emit('httpUploadProgress', [value, resp]);\n        });\n\n        httpResp.on('receiveProgress', function onReceiveProgress(value) {\n          resp.request.emit('httpDownloadProgress', [value, resp]);\n        });\n      }\n\n      function error(err) {\n        if (err.code !== 'RequestAbortedError') {\n          var errCode = err.code === 'TimeoutError' ? err.code : 'NetworkingError';\n          err = AWS.util.error(err, {\n            code: errCode,\n            region: resp.request.httpRequest.region,\n            hostname: resp.request.httpRequest.endpoint.hostname,\n            retryable: true\n          });\n        }\n        resp.error = err;\n        resp.request.emit('httpError', [resp.error, resp], function() {\n          done();\n        });\n      }\n\n      function executeSend() {\n        var http = AWS.HttpClient.getInstance();\n        var httpOptions = resp.request.service.config.httpOptions || {};\n        try {\n          var stream = http.handleRequest(resp.request.httpRequest, httpOptions,\n                                          callback, error);\n          progress(stream);\n        } catch (err) {\n          error(err);\n        }\n      }\n      var timeDiff = (resp.request.service.getSkewCorrectedDate() - this.signedAt) / 1000;\n      if (timeDiff >= 60 * 10) { // if we signed 10min ago, re-sign\n        this.emit('sign', [this], function(err) {\n          if (err) done(err);\n          else executeSend();\n        });\n      } else {\n        executeSend();\n      }\n    });\n\n    add('HTTP_HEADERS', 'httpHeaders',\n        function HTTP_HEADERS(statusCode, headers, resp, statusMessage) {\n      resp.httpResponse.statusCode = statusCode;\n      resp.httpResponse.statusMessage = statusMessage;\n      resp.httpResponse.headers = headers;\n      resp.httpResponse.body = new AWS.util.Buffer('');\n      resp.httpResponse.buffers = [];\n      resp.httpResponse.numBytes = 0;\n      var dateHeader = headers.date || headers.Date;\n      var service = resp.request.service;\n      if (dateHeader) {\n        var serverTime = Date.parse(dateHeader);\n        if (service.config.correctClockSkew\n            && service.isClockSkewed(serverTime)) {\n          service.applyClockOffset(serverTime);\n        }\n      }\n    });\n\n    add('HTTP_DATA', 'httpData', function HTTP_DATA(chunk, resp) {\n      if (chunk) {\n        if (AWS.util.isNode()) {\n          resp.httpResponse.numBytes += chunk.length;\n\n          var total = resp.httpResponse.headers['content-length'];\n          var progress = { loaded: resp.httpResponse.numBytes, total: total };\n          resp.request.emit('httpDownloadProgress', [progress, resp]);\n        }\n\n        resp.httpResponse.buffers.push(new AWS.util.Buffer(chunk));\n      }\n    });\n\n    add('HTTP_DONE', 'httpDone', function HTTP_DONE(resp) {\n      // convert buffers array into single buffer\n      if (resp.httpResponse.buffers && resp.httpResponse.buffers.length > 0) {\n        var body = AWS.util.buffer.concat(resp.httpResponse.buffers);\n        resp.httpResponse.body = body;\n      }\n      delete resp.httpResponse.numBytes;\n      delete resp.httpResponse.buffers;\n    });\n\n    add('FINALIZE_ERROR', 'retry', function FINALIZE_ERROR(resp) {\n      if (resp.httpResponse.statusCode) {\n        resp.error.statusCode = resp.httpResponse.statusCode;\n        if (resp.error.retryable === undefined) {\n          resp.error.retryable = this.service.retryableError(resp.error, this);\n        }\n      }\n    });\n\n    add('INVALIDATE_CREDENTIALS', 'retry', function INVALIDATE_CREDENTIALS(resp) {\n      if (!resp.error) return;\n      switch (resp.error.code) {\n        case 'RequestExpired': // EC2 only\n        case 'ExpiredTokenException':\n        case 'ExpiredToken':\n          resp.error.retryable = true;\n          resp.request.service.config.credentials.expired = true;\n      }\n    });\n\n    add('EXPIRED_SIGNATURE', 'retry', function EXPIRED_SIGNATURE(resp) {\n      var err = resp.error;\n      if (!err) return;\n      if (typeof err.code === 'string' && typeof err.message === 'string') {\n        if (err.code.match(/Signature/) && err.message.match(/expired/)) {\n          resp.error.retryable = true;\n        }\n      }\n    });\n\n    add('CLOCK_SKEWED', 'retry', function CLOCK_SKEWED(resp) {\n      if (!resp.error) return;\n      if (this.service.clockSkewError(resp.error)\n          && this.service.config.correctClockSkew) {\n        resp.error.retryable = true;\n      }\n    });\n\n    add('REDIRECT', 'retry', function REDIRECT(resp) {\n      if (resp.error && resp.error.statusCode >= 300 &&\n          resp.error.statusCode < 400 && resp.httpResponse.headers['location']) {\n        this.httpRequest.endpoint =\n          new AWS.Endpoint(resp.httpResponse.headers['location']);\n        this.httpRequest.headers['Host'] = this.httpRequest.endpoint.host;\n        resp.error.redirect = true;\n        resp.error.retryable = true;\n      }\n    });\n\n    add('RETRY_CHECK', 'retry', function RETRY_CHECK(resp) {\n      if (resp.error) {\n        if (resp.error.redirect && resp.redirectCount < resp.maxRedirects) {\n          resp.error.retryDelay = 0;\n        } else if (resp.retryCount < resp.maxRetries) {\n          resp.error.retryDelay = this.service.retryDelays(resp.retryCount) || 0;\n        }\n      }\n    });\n\n    addAsync('RESET_RETRY_STATE', 'afterRetry', function RESET_RETRY_STATE(resp, done) {\n      var delay, willRetry = false;\n\n      if (resp.error) {\n        delay = resp.error.retryDelay || 0;\n        if (resp.error.retryable && resp.retryCount < resp.maxRetries) {\n          resp.retryCount++;\n          willRetry = true;\n        } else if (resp.error.redirect && resp.redirectCount < resp.maxRedirects) {\n          resp.redirectCount++;\n          willRetry = true;\n        }\n      }\n\n      if (willRetry) {\n        resp.error = null;\n        setTimeout(done, delay);\n      } else {\n        done();\n      }\n    });\n  }),\n\n  CorePost: new SequentialExecutor().addNamedListeners(function(add) {\n    add('EXTRACT_REQUEST_ID', 'extractData', AWS.util.extractRequestId);\n    add('EXTRACT_REQUEST_ID', 'extractError', AWS.util.extractRequestId);\n\n    add('ENOTFOUND_ERROR', 'httpError', function ENOTFOUND_ERROR(err) {\n      if (err.code === 'NetworkingError' && err.errno === 'ENOTFOUND') {\n        var message = 'Inaccessible host: `' + err.hostname +\n          '\\'. This service may not be available in the `' + err.region +\n          '\\' region.';\n        this.response.error = AWS.util.error(new Error(message), {\n          code: 'UnknownEndpoint',\n          region: err.region,\n          hostname: err.hostname,\n          retryable: true,\n          originalError: err\n        });\n      }\n    });\n  }),\n\n  Logger: new SequentialExecutor().addNamedListeners(function(add) {\n    add('LOG_REQUEST', 'complete', function LOG_REQUEST(resp) {\n      var req = resp.request;\n      var logger = req.service.config.logger;\n      if (!logger) return;\n      function filterSensitiveLog(inputShape, shape) {\n        if (!shape) {\n          return shape;\n        }\n        switch (inputShape.type) {\n          case 'structure':\n            var struct = {};\n            AWS.util.each(shape, function(subShapeName, subShape) {\n              if (Object.prototype.hasOwnProperty.call(inputShape.members, subShapeName)) {\n                struct[subShapeName] = filterSensitiveLog(inputShape.members[subShapeName], subShape);\n              } else {\n                struct[subShapeName] = subShape;\n              }\n            })\n            return struct\n          case 'list':\n            var list = [];\n            AWS.util.arrayEach(shape, function(subShape, index) {\n              list.push(filterSensitiveLog(inputShape.member, subShape));\n            })\n            return list;\n          case 'map':\n            var map = {};\n            AWS.util.each(shape, function(key, value) {\n              map[key] = filterSensitiveLog(inputShape.value, value);\n            })\n            return map;\n          default:\n            if (inputShape.isSensitive) {\n              return '***SensitiveInformation***'\n            } else {\n              return shape;\n            }\n        }\n      }\n\n      function buildMessage() {\n        var time = resp.request.service.getSkewCorrectedDate().getTime();\n        var delta = (time - req.startTime.getTime()) / 1000;\n        var ansi = logger.isTTY ? true : false;\n        var status = resp.httpResponse.statusCode;\n        var censoredParams = req.params;\n        if (\n          req.service.api.operations &&\n              req.service.api.operations[req.operation] &&\n              req.service.api.operations[req.operation].input\n        ) {\n          var inputShape = req.service.api.operations[req.operation].input;\n          censoredParams = filterSensitiveLog(inputShape, req.params);\n        }\n        var params = require('util').inspect(censoredParams, true, null);\n        var message = '';\n        if (ansi) message += '\\x1B[33m';\n        message += '[AWS ' + req.service.serviceIdentifier + ' ' + status;\n        message += ' ' + delta.toString() + 's ' + resp.retryCount + ' retries]';\n        if (ansi) message += '\\x1B[0;1m';\n        message += ' ' + AWS.util.string.lowerFirst(req.operation);\n        message += '(' + params + ')';\n        if (ansi) message += '\\x1B[0m';\n        return message;\n      }\n\n      var line = buildMessage();\n      if (typeof logger.log === 'function') {\n        logger.log(line);\n      } else if (typeof logger.write === 'function') {\n        logger.write(line + '\\n');\n      }\n    });\n  }),\n\n  Json: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/json');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  Rest: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  RestJson: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest_json');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  RestXml: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest_xml');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  Query: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/query');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  })\n};\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","var AWS = require('./core');\nvar AcceptorStateMachine = require('./state_machine');\nvar inherit = AWS.util.inherit;\nvar domain = AWS.util.domain;\nvar jmespath = require('jmespath');\n\n/**\n * @api private\n */\nvar hardErrorStates = {success: 1, error: 1, complete: 1};\n\nfunction isTerminalState(machine) {\n  return Object.prototype.hasOwnProperty.call(hardErrorStates, machine._asm.currentState);\n}\n\nvar fsm = new AcceptorStateMachine();\nfsm.setupStates = function() {\n  var transition = function(_, done) {\n    var self = this;\n    self._haltHandlersOnError = false;\n\n    self.emit(self._asm.currentState, function(err) {\n      if (err) {\n        if (isTerminalState(self)) {\n          if (domain && self.domain instanceof domain.Domain) {\n            err.domainEmitter = self;\n            err.domain = self.domain;\n            err.domainThrown = false;\n            self.domain.emit('error', err);\n          } else {\n            throw err;\n          }\n        } else {\n          self.response.error = err;\n          done(err);\n        }\n      } else {\n        done(self.response.error);\n      }\n    });\n\n  };\n\n  this.addState('validate', 'build', 'error', transition);\n  this.addState('build', 'afterBuild', 'restart', transition);\n  this.addState('afterBuild', 'sign', 'restart', transition);\n  this.addState('sign', 'send', 'retry', transition);\n  this.addState('retry', 'afterRetry', 'afterRetry', transition);\n  this.addState('afterRetry', 'sign', 'error', transition);\n  this.addState('send', 'validateResponse', 'retry', transition);\n  this.addState('validateResponse', 'extractData', 'extractError', transition);\n  this.addState('extractError', 'extractData', 'retry', transition);\n  this.addState('extractData', 'success', 'retry', transition);\n  this.addState('restart', 'build', 'error', transition);\n  this.addState('success', 'complete', 'complete', transition);\n  this.addState('error', 'complete', 'complete', transition);\n  this.addState('complete', null, null, transition);\n};\nfsm.setupStates();\n\n/**\n * ## Asynchronous Requests\n *\n * All requests made through the SDK are asynchronous and use a\n * callback interface. Each service method that kicks off a request\n * returns an `AWS.Request` object that you can use to register\n * callbacks.\n *\n * For example, the following service method returns the request\n * object as \"request\", which can be used to register callbacks:\n *\n * ```javascript\n * // request is an AWS.Request object\n * var request = ec2.describeInstances();\n *\n * // register callbacks on request to retrieve response data\n * request.on('success', function(response) {\n *   console.log(response.data);\n * });\n * ```\n *\n * When a request is ready to be sent, the {send} method should\n * be called:\n *\n * ```javascript\n * request.send();\n * ```\n *\n * Since registered callbacks may or may not be idempotent, requests should only\n * be sent once. To perform the same operation multiple times, you will need to\n * create multiple request objects, each with its own registered callbacks.\n *\n * ## Removing Default Listeners for Events\n *\n * Request objects are built with default listeners for the various events,\n * depending on the service type. In some cases, you may want to remove\n * some built-in listeners to customize behaviour. Doing this requires\n * access to the built-in listener functions, which are exposed through\n * the {AWS.EventListeners.Core} namespace. For instance, you may\n * want to customize the HTTP handler used when sending a request. In this\n * case, you can remove the built-in listener associated with the 'send'\n * event, the {AWS.EventListeners.Core.SEND} listener and add your own.\n *\n * ## Multiple Callbacks and Chaining\n *\n * You can register multiple callbacks on any request object. The\n * callbacks can be registered for different events, or all for the\n * same event. In addition, you can chain callback registration, for\n * example:\n *\n * ```javascript\n * request.\n *   on('success', function(response) {\n *     console.log(\"Success!\");\n *   }).\n *   on('error', function(response) {\n *     console.log(\"Error!\");\n *   }).\n *   on('complete', function(response) {\n *     console.log(\"Always!\");\n *   }).\n *   send();\n * ```\n *\n * The above example will print either \"Success! Always!\", or \"Error! Always!\",\n * depending on whether the request succeeded or not.\n *\n * @!attribute httpRequest\n *   @readonly\n *   @!group HTTP Properties\n *   @return [AWS.HttpRequest] the raw HTTP request object\n *     containing request headers and body information\n *     sent by the service.\n *\n * @!attribute startTime\n *   @readonly\n *   @!group Operation Properties\n *   @return [Date] the time that the request started\n *\n * @!group Request Building Events\n *\n * @!event validate(request)\n *   Triggered when a request is being validated. Listeners\n *   should throw an error if the request should not be sent.\n *   @param request [Request] the request object being sent\n *   @see AWS.EventListeners.Core.VALIDATE_CREDENTIALS\n *   @see AWS.EventListeners.Core.VALIDATE_REGION\n *   @example Ensuring that a certain parameter is set before sending a request\n *     var req = s3.putObject(params);\n *     req.on('validate', function() {\n *       if (!req.params.Body.match(/^Hello\\s/)) {\n *         throw new Error('Body must start with \"Hello \"');\n *       }\n *     });\n *     req.send(function(err, data) { ... });\n *\n * @!event build(request)\n *   Triggered when the request payload is being built. Listeners\n *   should fill the necessary information to send the request\n *   over HTTP.\n *   @param (see AWS.Request~validate)\n *   @example Add a custom HTTP header to a request\n *     var req = s3.putObject(params);\n *     req.on('build', function() {\n *       req.httpRequest.headers['Custom-Header'] = 'value';\n *     });\n *     req.send(function(err, data) { ... });\n *\n * @!event sign(request)\n *   Triggered when the request is being signed. Listeners should\n *   add the correct authentication headers and/or adjust the body,\n *   depending on the authentication mechanism being used.\n *   @param (see AWS.Request~validate)\n *\n * @!group Request Sending Events\n *\n * @!event send(response)\n *   Triggered when the request is ready to be sent. Listeners\n *   should call the underlying transport layer to initiate\n *   the sending of the request.\n *   @param response [Response] the response object\n *   @context [Request] the request object that was sent\n *   @see AWS.EventListeners.Core.SEND\n *\n * @!event retry(response)\n *   Triggered when a request failed and might need to be retried or redirected.\n *   If the response is retryable, the listener should set the\n *   `response.error.retryable` property to `true`, and optionally set\n *   `response.error.retryDelay` to the millisecond delay for the next attempt.\n *   In the case of a redirect, `response.error.redirect` should be set to\n *   `true` with `retryDelay` set to an optional delay on the next request.\n *\n *   If a listener decides that a request should not be retried,\n *   it should set both `retryable` and `redirect` to false.\n *\n *   Note that a retryable error will be retried at most\n *   {AWS.Config.maxRetries} times (based on the service object's config).\n *   Similarly, a request that is redirected will only redirect at most\n *   {AWS.Config.maxRedirects} times.\n *\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @example Adding a custom retry for a 404 response\n *     request.on('retry', function(response) {\n *       // this resource is not yet available, wait 10 seconds to get it again\n *       if (response.httpResponse.statusCode === 404 && response.error) {\n *         response.error.retryable = true;   // retry this error\n *         response.error.retryDelay = 10000; // wait 10 seconds\n *       }\n *     });\n *\n * @!group Data Parsing Events\n *\n * @!event extractError(response)\n *   Triggered on all non-2xx requests so that listeners can extract\n *   error details from the response body. Listeners to this event\n *   should set the `response.error` property.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event extractData(response)\n *   Triggered in successful requests to allow listeners to\n *   de-serialize the response body into `response.data`.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!group Completion Events\n *\n * @!event success(response)\n *   Triggered when the request completed successfully.\n *   `response.data` will contain the response data and\n *   `response.error` will be null.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event error(error, response)\n *   Triggered when an error occurs at any point during the\n *   request. `response.error` will contain details about the error\n *   that occurred. `response.data` will be null.\n *   @param error [Error] the error object containing details about\n *     the error that occurred.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event complete(response)\n *   Triggered whenever a request cycle completes. `response.error`\n *   should be checked, since the request may have failed.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!group HTTP Events\n *\n * @!event httpHeaders(statusCode, headers, response, statusMessage)\n *   Triggered when headers are sent by the remote server\n *   @param statusCode [Integer] the HTTP response code\n *   @param headers [map<String,String>] the response headers\n *   @param (see AWS.Request~send)\n *   @param statusMessage [String] A status message corresponding to the HTTP\n *                                 response code\n *   @context (see AWS.Request~send)\n *\n * @!event httpData(chunk, response)\n *   Triggered when data is sent by the remote server\n *   @param chunk [Buffer] the buffer data containing the next data chunk\n *     from the server\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @see AWS.EventListeners.Core.HTTP_DATA\n *\n * @!event httpUploadProgress(progress, response)\n *   Triggered when the HTTP request has uploaded more data\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @note This event will not be emitted in Node.js 0.8.x.\n *\n * @!event httpDownloadProgress(progress, response)\n *   Triggered when the HTTP request has downloaded more data\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @note This event will not be emitted in Node.js 0.8.x.\n *\n * @!event httpError(error, response)\n *   Triggered when the HTTP request failed\n *   @param error [Error] the error object that was thrown\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event httpDone(response)\n *   Triggered when the server is finished sending data\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @see AWS.Response\n */\nAWS.Request = inherit({\n\n  /**\n   * Creates a request for an operation on a given service with\n   * a set of input parameters.\n   *\n   * @param service [AWS.Service] the service to perform the operation on\n   * @param operation [String] the operation to perform on the service\n   * @param params [Object] parameters to send to the operation.\n   *   See the operation's documentation for the format of the\n   *   parameters.\n   */\n  constructor: function Request(service, operation, params) {\n    var endpoint = service.endpoint;\n    var region = service.config.region;\n    var customUserAgent = service.config.customUserAgent;\n\n    // global endpoints sign as us-east-1\n    if (service.isGlobalEndpoint) region = 'us-east-1';\n\n    this.domain = domain && domain.active;\n    this.service = service;\n    this.operation = operation;\n    this.params = params || {};\n    this.httpRequest = new AWS.HttpRequest(endpoint, region);\n    this.httpRequest.appendToUserAgent(customUserAgent);\n    this.startTime = service.getSkewCorrectedDate();\n\n    this.response = new AWS.Response(this);\n    this._asm = new AcceptorStateMachine(fsm.states, 'validate');\n    this._haltHandlersOnError = false;\n\n    AWS.SequentialExecutor.call(this);\n    this.emit = this.emitEvent;\n  },\n\n  /**\n   * @!group Sending a Request\n   */\n\n  /**\n   * @overload send(callback = null)\n   *   Sends the request object.\n   *\n   *   @callback callback function(err, data)\n   *     If a callback is supplied, it is called when a response is returned\n   *     from the service.\n   *     @context [AWS.Request] the request object being sent.\n   *     @param err [Error] the error object returned from the request.\n   *       Set to `null` if the request is successful.\n   *     @param data [Object] the de-serialized data returned from\n   *       the request. Set to `null` if a request error occurs.\n   *   @example Sending a request with a callback\n   *     request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     request.send(function(err, data) { console.log(err, data); });\n   *   @example Sending a request with no callback (using event handlers)\n   *     request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     request.on('complete', function(response) { ... }); // register a callback\n   *     request.send();\n   */\n  send: function send(callback) {\n    if (callback) {\n      // append to user agent\n      this.httpRequest.appendToUserAgent('callback');\n      this.on('complete', function (resp) {\n        callback.call(resp, resp.error, resp.data);\n      });\n    }\n    this.runTo();\n\n    return this.response;\n  },\n\n  /**\n   * @!method  promise()\n   *   Sends the request and returns a 'thenable' promise.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(data)\n   *     Called if the promise is fulfilled.\n   *     @param data [Object] the de-serialized data returned from the request.\n   *   @callback rejectedCallback function(error)\n   *     Called if the promise is rejected.\n   *     @param error [Error] the error object returned from the request.\n   *   @return [Promise] A promise that represents the state of the request.\n   *   @example Sending a request using promises.\n   *     var request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     var result = request.promise();\n   *     result.then(function(data) { ... }, function(error) { ... });\n   */\n\n  /**\n   * @api private\n   */\n  build: function build(callback) {\n    return this.runTo('send', callback);\n  },\n\n  /**\n   * @api private\n   */\n  runTo: function runTo(state, done) {\n    this._asm.runTo(state, done, this);\n    return this;\n  },\n\n  /**\n   * Aborts a request, emitting the error and complete events.\n   *\n   * @!macro nobrowser\n   * @example Aborting a request after sending\n   *   var params = {\n   *     Bucket: 'bucket', Key: 'key',\n   *     Body: new Buffer(1024 * 1024 * 5) // 5MB payload\n   *   };\n   *   var request = s3.putObject(params);\n   *   request.send(function (err, data) {\n   *     if (err) console.log(\"Error:\", err.code, err.message);\n   *     else console.log(data);\n   *   });\n   *\n   *   // abort request in 1 second\n   *   setTimeout(request.abort.bind(request), 1000);\n   *\n   *   // prints \"Error: RequestAbortedError Request aborted by user\"\n   * @return [AWS.Request] the same request object, for chaining.\n   * @since v1.4.0\n   */\n  abort: function abort() {\n    this.removeAllListeners('validateResponse');\n    this.removeAllListeners('extractError');\n    this.on('validateResponse', function addAbortedError(resp) {\n      resp.error = AWS.util.error(new Error('Request aborted by user'), {\n         code: 'RequestAbortedError', retryable: false\n      });\n    });\n\n    if (this.httpRequest.stream && !this.httpRequest.stream.didCallback) { // abort HTTP stream\n      this.httpRequest.stream.abort();\n      if (this.httpRequest._abortCallback) {\n         this.httpRequest._abortCallback();\n      } else {\n        this.removeAllListeners('send'); // haven't sent yet, so let's not\n      }\n    }\n\n    return this;\n  },\n\n  /**\n   * Iterates over each page of results given a pageable request, calling\n   * the provided callback with each page of data. After all pages have been\n   * retrieved, the callback is called with `null` data.\n   *\n   * @note This operation can generate multiple requests to a service.\n   * @example Iterating over multiple pages of objects in an S3 bucket\n   *   var pages = 1;\n   *   s3.listObjects().eachPage(function(err, data) {\n   *     if (err) return;\n   *     console.log(\"Page\", pages++);\n   *     console.log(data);\n   *   });\n   * @example Iterating over multiple pages with an asynchronous callback\n   *   s3.listObjects(params).eachPage(function(err, data, done) {\n   *     doSomethingAsyncAndOrExpensive(function() {\n   *       // The next page of results isn't fetched until done is called\n   *       done();\n   *     });\n   *   });\n   * @callback callback function(err, data, [doneCallback])\n   *   Called with each page of resulting data from the request. If the\n   *   optional `doneCallback` is provided in the function, it must be called\n   *   when the callback is complete.\n   *\n   *   @param err [Error] an error object, if an error occurred.\n   *   @param data [Object] a single page of response data. If there is no\n   *     more data, this object will be `null`.\n   *   @param doneCallback [Function] an optional done callback. If this\n   *     argument is defined in the function declaration, it should be called\n   *     when the next page is ready to be retrieved. This is useful for\n   *     controlling serial pagination across asynchronous operations.\n   *   @return [Boolean] if the callback returns `false`, pagination will\n   *     stop.\n   *\n   * @see AWS.Request.eachItem\n   * @see AWS.Response.nextPage\n   * @since v1.4.0\n   */\n  eachPage: function eachPage(callback) {\n    // Make all callbacks async-ish\n    callback = AWS.util.fn.makeAsync(callback, 3);\n\n    function wrappedCallback(response) {\n      callback.call(response, response.error, response.data, function (result) {\n        if (result === false) return;\n\n        if (response.hasNextPage()) {\n          response.nextPage().on('complete', wrappedCallback).send();\n        } else {\n          callback.call(response, null, null, AWS.util.fn.noop);\n        }\n      });\n    }\n\n    this.on('complete', wrappedCallback).send();\n  },\n\n  /**\n   * Enumerates over individual items of a request, paging the responses if\n   * necessary.\n   *\n   * @api experimental\n   * @since v1.4.0\n   */\n  eachItem: function eachItem(callback) {\n    var self = this;\n    function wrappedCallback(err, data) {\n      if (err) return callback(err, null);\n      if (data === null) return callback(null, null);\n\n      var config = self.service.paginationConfig(self.operation);\n      var resultKey = config.resultKey;\n      if (Array.isArray(resultKey)) resultKey = resultKey[0];\n      var items = jmespath.search(data, resultKey);\n      var continueIteration = true;\n      AWS.util.arrayEach(items, function(item) {\n        continueIteration = callback(null, item);\n        if (continueIteration === false) {\n          return AWS.util.abort;\n        }\n      });\n      return continueIteration;\n    }\n\n    this.eachPage(wrappedCallback);\n  },\n\n  /**\n   * @return [Boolean] whether the operation can return multiple pages of\n   *   response data.\n   * @see AWS.Response.eachPage\n   * @since v1.4.0\n   */\n  isPageable: function isPageable() {\n    return this.service.paginationConfig(this.operation) ? true : false;\n  },\n\n  /**\n   * Sends the request and converts the request object into a readable stream\n   * that can be read from or piped into a writable stream.\n   *\n   * @note The data read from a readable stream contains only\n   *   the raw HTTP body contents.\n   * @example Manually reading from a stream\n   *   request.createReadStream().on('data', function(data) {\n   *     console.log(\"Got data:\", data.toString());\n   *   });\n   * @example Piping a request body into a file\n   *   var out = fs.createWriteStream('/path/to/outfile.jpg');\n   *   s3.service.getObject(params).createReadStream().pipe(out);\n   * @return [Stream] the readable stream object that can be piped\n   *   or read from (by registering 'data' event listeners).\n   * @!macro nobrowser\n   */\n  createReadStream: function createReadStream() {\n    var streams = AWS.util.stream;\n    var req = this;\n    var stream = null;\n\n    if (AWS.HttpClient.streamsApiVersion === 2) {\n      stream = new streams.PassThrough();\n      process.nextTick(function() { req.send(); });\n    } else {\n      stream = new streams.Stream();\n      stream.readable = true;\n\n      stream.sent = false;\n      stream.on('newListener', function(event) {\n        if (!stream.sent && event === 'data') {\n          stream.sent = true;\n          process.nextTick(function() { req.send(); });\n        }\n      });\n    }\n\n    this.on('error', function(err) {\n      stream.emit('error', err);\n    });\n\n    this.on('httpHeaders', function streamHeaders(statusCode, headers, resp) {\n      if (statusCode < 300) {\n        req.removeListener('httpData', AWS.EventListeners.Core.HTTP_DATA);\n        req.removeListener('httpError', AWS.EventListeners.Core.HTTP_ERROR);\n        req.on('httpError', function streamHttpError(error) {\n          resp.error = error;\n          resp.error.retryable = false;\n        });\n\n        var shouldCheckContentLength = false;\n        var expectedLen;\n        if (req.httpRequest.method !== 'HEAD') {\n          expectedLen = parseInt(headers['content-length'], 10);\n        }\n        if (expectedLen !== undefined && !isNaN(expectedLen) && expectedLen >= 0) {\n          shouldCheckContentLength = true;\n          var receivedLen = 0;\n        }\n\n        var checkContentLengthAndEmit = function checkContentLengthAndEmit() {\n          if (shouldCheckContentLength && receivedLen !== expectedLen) {\n            stream.emit('error', AWS.util.error(\n              new Error('Stream content length mismatch. Received ' +\n                receivedLen + ' of ' + expectedLen + ' bytes.'),\n              { code: 'StreamContentLengthMismatch' }\n            ));\n          } else if (AWS.HttpClient.streamsApiVersion === 2) {\n            stream.end();\n          } else {\n            stream.emit('end');\n          }\n        };\n\n        var httpStream = resp.httpResponse.createUnbufferedStream();\n\n        if (AWS.HttpClient.streamsApiVersion === 2) {\n          if (shouldCheckContentLength) {\n            var lengthAccumulator = new streams.PassThrough();\n            lengthAccumulator._write = function(chunk) {\n              if (chunk && chunk.length) {\n                receivedLen += chunk.length;\n              }\n              return streams.PassThrough.prototype._write.apply(this, arguments);\n            };\n\n            lengthAccumulator.on('end', checkContentLengthAndEmit);\n            stream.on('error', function(err) {\n              shouldCheckContentLength = false;\n              httpStream.unpipe(lengthAccumulator);\n              lengthAccumulator.emit('end');\n              lengthAccumulator.end();\n            });\n            httpStream.pipe(lengthAccumulator).pipe(stream, { end: false });\n          } else {\n            httpStream.pipe(stream);\n          }\n        } else {\n\n          if (shouldCheckContentLength) {\n            httpStream.on('data', function(arg) {\n              if (arg && arg.length) {\n                receivedLen += arg.length;\n              }\n            });\n          }\n\n          httpStream.on('data', function(arg) {\n            stream.emit('data', arg);\n          });\n          httpStream.on('end', checkContentLengthAndEmit);\n        }\n\n        httpStream.on('error', function(err) {\n          shouldCheckContentLength = false;\n          stream.emit('error', err);\n        });\n      }\n    });\n\n    return stream;\n  },\n\n  /**\n   * @param [Array,Response] args This should be the response object,\n   *   or an array of args to send to the event.\n   * @api private\n   */\n  emitEvent: function emit(eventName, args, done) {\n    if (typeof args === 'function') { done = args; args = null; }\n    if (!done) done = function() { };\n    if (!args) args = this.eventParameters(eventName, this.response);\n\n    var origEmit = AWS.SequentialExecutor.prototype.emit;\n    origEmit.call(this, eventName, args, function (err) {\n      if (err) this.response.error = err;\n      done.call(this, err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  eventParameters: function eventParameters(eventName) {\n    switch (eventName) {\n      case 'restart':\n      case 'validate':\n      case 'sign':\n      case 'build':\n      case 'afterValidate':\n      case 'afterBuild':\n        return [this];\n      case 'error':\n        return [this.response.error, this.response];\n      default:\n        return [this.response];\n    }\n  },\n\n  /**\n   * @api private\n   */\n  presign: function presign(expires, callback) {\n    if (!callback && typeof expires === 'function') {\n      callback = expires;\n      expires = null;\n    }\n    return new AWS.Signers.Presign().sign(this.toGet(), expires, callback);\n  },\n\n  /**\n   * @api private\n   */\n  isPresigned: function isPresigned() {\n    return Object.prototype.hasOwnProperty.call(this.httpRequest.headers, 'presigned-expires');\n  },\n\n  /**\n   * @api private\n   */\n  toUnauthenticated: function toUnauthenticated() {\n    this.removeListener('validate', AWS.EventListeners.Core.VALIDATE_CREDENTIALS);\n    this.removeListener('sign', AWS.EventListeners.Core.SIGN);\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  toGet: function toGet() {\n    if (this.service.api.protocol === 'query' ||\n        this.service.api.protocol === 'ec2') {\n      this.removeListener('build', this.buildAsGet);\n      this.addListener('build', this.buildAsGet);\n    }\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  buildAsGet: function buildAsGet(request) {\n    request.httpRequest.method = 'GET';\n    request.httpRequest.path = request.service.endpoint.path +\n                               '?' + request.httpRequest.body;\n    request.httpRequest.body = '';\n\n    // don't need these headers on a GET request\n    delete request.httpRequest.headers['Content-Length'];\n    delete request.httpRequest.headers['Content-Type'];\n  },\n\n  /**\n   * @api private\n   */\n  haltHandlersOnError: function haltHandlersOnError() {\n    this._haltHandlersOnError = true;\n  }\n});\n\n/**\n * @api private\n */\nAWS.Request.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.promise = function promise() {\n    var self = this;\n    // append to user agent\n    this.httpRequest.appendToUserAgent('promise');\n    return new PromiseDependency(function(resolve, reject) {\n      self.on('complete', function(resp) {\n        if (resp.error) {\n          reject(resp.error);\n        } else {\n          // define $response property so that it is not enumberable\n          // this prevents circular reference errors when stringifying the JSON object\n          resolve(Object.defineProperty(\n            resp.data || {},\n            '$response',\n            {value: resp}\n          ));\n        }\n      });\n      self.runTo();\n    });\n  };\n};\n\n/**\n * @api private\n */\nAWS.Request.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.promise;\n};\n\nAWS.util.addPromises(AWS.Request);\n\nAWS.util.mixin(AWS.Request, AWS.SequentialExecutor);\n","function AcceptorStateMachine(states, state) {\n  this.currentState = state || null;\n  this.states = states || {};\n}\n\nAcceptorStateMachine.prototype.runTo = function runTo(finalState, done, bindObject, inputError) {\n  if (typeof finalState === 'function') {\n    inputError = bindObject; bindObject = done;\n    done = finalState; finalState = null;\n  }\n\n  var self = this;\n  var state = self.states[self.currentState];\n  state.fn.call(bindObject || self, inputError, function(err) {\n    if (err) {\n      if (state.fail) self.currentState = state.fail;\n      else return done ? done.call(bindObject, err) : null;\n    } else {\n      if (state.accept) self.currentState = state.accept;\n      else return done ? done.call(bindObject) : null;\n    }\n    if (self.currentState === finalState) {\n      return done ? done.call(bindObject, err) : null;\n    }\n\n    self.runTo(finalState, done, bindObject, err);\n  });\n};\n\nAcceptorStateMachine.prototype.addState = function addState(name, acceptState, failState, fn) {\n  if (typeof acceptState === 'function') {\n    fn = acceptState; acceptState = null; failState = null;\n  } else if (typeof failState === 'function') {\n    fn = failState; failState = null;\n  }\n\n  if (!this.currentState) this.currentState = name;\n  this.states[name] = { accept: acceptState, fail: failState, fn: fn };\n  return this;\n};\n\nmodule.exports = AcceptorStateMachine;\n","var AWS = require('./core');\nvar inherit = AWS.util.inherit;\nvar jmespath = require('jmespath');\n\n/**\n * This class encapsulates the response information\n * from a service request operation sent through {AWS.Request}.\n * The response object has two main properties for getting information\n * back from a request:\n *\n * ## The `data` property\n *\n * The `response.data` property contains the serialized object data\n * retrieved from the service request. For instance, for an\n * Amazon DynamoDB `listTables` method call, the response data might\n * look like:\n *\n * ```\n * > resp.data\n * { TableNames:\n *    [ 'table1', 'table2', ... ] }\n * ```\n *\n * The `data` property can be null if an error occurs (see below).\n *\n * ## The `error` property\n *\n * In the event of a service error (or transfer error), the\n * `response.error` property will be filled with the given\n * error data in the form:\n *\n * ```\n * { code: 'SHORT_UNIQUE_ERROR_CODE',\n *   message: 'Some human readable error message' }\n * ```\n *\n * In the case of an error, the `data` property will be `null`.\n * Note that if you handle events that can be in a failure state,\n * you should always check whether `response.error` is set\n * before attempting to access the `response.data` property.\n *\n * @!attribute data\n *   @readonly\n *   @!group Data Properties\n *   @note Inside of a {AWS.Request~httpData} event, this\n *     property contains a single raw packet instead of the\n *     full de-serialized service response.\n *   @return [Object] the de-serialized response data\n *     from the service.\n *\n * @!attribute error\n *   An structure containing information about a service\n *   or networking error.\n *   @readonly\n *   @!group Data Properties\n *   @note This attribute is only filled if a service or\n *     networking error occurs.\n *   @return [Error]\n *     * code [String] a unique short code representing the\n *       error that was emitted.\n *     * message [String] a longer human readable error message\n *     * retryable [Boolean] whether the error message is\n *       retryable.\n *     * statusCode [Numeric] in the case of a request that reached the service,\n *       this value contains the response status code.\n *     * time [Date] the date time object when the error occurred.\n *     * hostname [String] set when a networking error occurs to easily\n *       identify the endpoint of the request.\n *     * region [String] set when a networking error occurs to easily\n *       identify the region of the request.\n *\n * @!attribute requestId\n *   @readonly\n *   @!group Data Properties\n *   @return [String] the unique request ID associated with the response.\n *     Log this value when debugging requests for AWS support.\n *\n * @!attribute retryCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of retries that were\n *     attempted before the request was completed.\n *\n * @!attribute redirectCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of redirects that were\n *     followed before the request was completed.\n *\n * @!attribute httpResponse\n *   @readonly\n *   @!group HTTP Properties\n *   @return [AWS.HttpResponse] the raw HTTP response object\n *     containing the response headers and body information\n *     from the server.\n *\n * @see AWS.Request\n */\nAWS.Response = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function Response(request) {\n    this.request = request;\n    this.data = null;\n    this.error = null;\n    this.retryCount = 0;\n    this.redirectCount = 0;\n    this.httpResponse = new AWS.HttpResponse();\n    if (request) {\n      this.maxRetries = request.service.numRetries();\n      this.maxRedirects = request.service.config.maxRedirects;\n    }\n  },\n\n  /**\n   * Creates a new request for the next page of response data, calling the\n   * callback with the page data if a callback is provided.\n   *\n   * @callback callback function(err, data)\n   *   Called when a page of data is returned from the next request.\n   *\n   *   @param err [Error] an error object, if an error occurred in the request\n   *   @param data [Object] the next page of data, or null, if there are no\n   *     more pages left.\n   * @return [AWS.Request] the request object for the next page of data\n   * @return [null] if no callback is provided and there are no pages left\n   *   to retrieve.\n   * @since v1.4.0\n   */\n  nextPage: function nextPage(callback) {\n    var config;\n    var service = this.request.service;\n    var operation = this.request.operation;\n    try {\n      config = service.paginationConfig(operation, true);\n    } catch (e) { this.error = e; }\n\n    if (!this.hasNextPage()) {\n      if (callback) callback(this.error, null);\n      else if (this.error) throw this.error;\n      return null;\n    }\n\n    var params = AWS.util.copy(this.request.params);\n    if (!this.nextPageTokens) {\n      return callback ? callback(null, null) : null;\n    } else {\n      var inputTokens = config.inputToken;\n      if (typeof inputTokens === 'string') inputTokens = [inputTokens];\n      for (var i = 0; i < inputTokens.length; i++) {\n        params[inputTokens[i]] = this.nextPageTokens[i];\n      }\n      return service.makeRequest(this.request.operation, params, callback);\n    }\n  },\n\n  /**\n   * @return [Boolean] whether more pages of data can be returned by further\n   *   requests\n   * @since v1.4.0\n   */\n  hasNextPage: function hasNextPage() {\n    this.cacheNextPageTokens();\n    if (this.nextPageTokens) return true;\n    if (this.nextPageTokens === undefined) return undefined;\n    else return false;\n  },\n\n  /**\n   * @api private\n   */\n  cacheNextPageTokens: function cacheNextPageTokens() {\n    if (Object.prototype.hasOwnProperty.call(this, 'nextPageTokens')) return this.nextPageTokens;\n    this.nextPageTokens = undefined;\n\n    var config = this.request.service.paginationConfig(this.request.operation);\n    if (!config) return this.nextPageTokens;\n\n    this.nextPageTokens = null;\n    if (config.moreResults) {\n      if (!jmespath.search(this.data, config.moreResults)) {\n        return this.nextPageTokens;\n      }\n    }\n\n    var exprs = config.outputToken;\n    if (typeof exprs === 'string') exprs = [exprs];\n    AWS.util.arrayEach.call(this, exprs, function (expr) {\n      var output = jmespath.search(this.data, expr);\n      if (output) {\n        this.nextPageTokens = this.nextPageTokens || [];\n        this.nextPageTokens.push(output);\n      }\n    });\n\n    return this.nextPageTokens;\n  }\n\n});\n","/**\n * Copyright 2012-2013 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You\n * may not use this file except in compliance with the License. A copy of\n * the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n */\n\nvar AWS = require('./core');\nvar inherit = AWS.util.inherit;\nvar jmespath = require('jmespath');\n\n/**\n * @api private\n */\nfunction CHECK_ACCEPTORS(resp) {\n  var waiter = resp.request._waiter;\n  var acceptors = waiter.config.acceptors;\n  var acceptorMatched = false;\n  var state = 'retry';\n\n  acceptors.forEach(function(acceptor) {\n    if (!acceptorMatched) {\n      var matcher = waiter.matchers[acceptor.matcher];\n      if (matcher && matcher(resp, acceptor.expected, acceptor.argument)) {\n        acceptorMatched = true;\n        state = acceptor.state;\n      }\n    }\n  });\n\n  if (!acceptorMatched && resp.error) state = 'failure';\n\n  if (state === 'success') {\n    waiter.setSuccess(resp);\n  } else {\n    waiter.setError(resp, state === 'retry');\n  }\n}\n\n/**\n * @api private\n */\nAWS.ResourceWaiter = inherit({\n  /**\n   * Waits for a given state on a service object\n   * @param service [Service] the service object to wait on\n   * @param state [String] the state (defined in waiter configuration) to wait\n   *   for.\n   * @example Create a waiter for running EC2 instances\n   *   var ec2 = new AWS.EC2;\n   *   var waiter = new AWS.ResourceWaiter(ec2, 'instanceRunning');\n   */\n  constructor: function constructor(service, state) {\n    this.service = service;\n    this.state = state;\n    this.loadWaiterConfig(this.state);\n  },\n\n  service: null,\n\n  state: null,\n\n  config: null,\n\n  matchers: {\n    path: function(resp, expected, argument) {\n      try {\n        var result = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      return jmespath.strictDeepEqual(result,expected);\n    },\n\n    pathAll: function(resp, expected, argument) {\n      try {\n        var results = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      if (!Array.isArray(results)) results = [results];\n      var numResults = results.length;\n      if (!numResults) return false;\n      for (var ind = 0 ; ind < numResults; ind++) {\n        if (!jmespath.strictDeepEqual(results[ind], expected)) {\n          return false;\n        }\n      }\n      return true;\n    },\n\n    pathAny: function(resp, expected, argument) {\n      try {\n        var results = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      if (!Array.isArray(results)) results = [results];\n      var numResults = results.length;\n      for (var ind = 0 ; ind < numResults; ind++) {\n        if (jmespath.strictDeepEqual(results[ind], expected)) {\n          return true;\n        }\n      }\n      return false;\n    },\n\n    status: function(resp, expected) {\n      var statusCode = resp.httpResponse.statusCode;\n      return (typeof statusCode === 'number') && (statusCode === expected);\n    },\n\n    error: function(resp, expected) {\n      if (typeof expected === 'string' && resp.error) {\n        return expected === resp.error.code;\n      }\n      // if expected is not string, can be boolean indicating presence of error\n      return expected === !!resp.error;\n    }\n  },\n\n  listeners: new AWS.SequentialExecutor().addNamedListeners(function(add) {\n    add('RETRY_CHECK', 'retry', function(resp) {\n      var waiter = resp.request._waiter;\n      if (resp.error && resp.error.code === 'ResourceNotReady') {\n        resp.error.retryDelay = (waiter.config.delay || 0) * 1000;\n      }\n    });\n\n    add('CHECK_OUTPUT', 'extractData', CHECK_ACCEPTORS);\n\n    add('CHECK_ERROR', 'extractError', CHECK_ACCEPTORS);\n  }),\n\n  /**\n   * @return [AWS.Request]\n   */\n  wait: function wait(params, callback) {\n    if (typeof params === 'function') {\n      callback = params; params = undefined;\n    }\n\n    if (params && params.$waiter) {\n      params = AWS.util.copy(params);\n      if (typeof params.$waiter.delay === 'number') {\n        this.config.delay = params.$waiter.delay;\n      }\n      if (typeof params.$waiter.maxAttempts === 'number') {\n        this.config.maxAttempts = params.$waiter.maxAttempts;\n      }\n      delete params.$waiter;\n    }\n\n    var request = this.service.makeRequest(this.config.operation, params);\n    request._waiter = this;\n    request.response.maxRetries = this.config.maxAttempts;\n    request.addListeners(this.listeners);\n\n    if (callback) request.send(callback);\n    return request;\n  },\n\n  setSuccess: function setSuccess(resp) {\n    resp.error = null;\n    resp.data = resp.data || {};\n    resp.request.removeAllListeners('extractData');\n  },\n\n  setError: function setError(resp, retryable) {\n    resp.data = null;\n    resp.error = AWS.util.error(resp.error || new Error(), {\n      code: 'ResourceNotReady',\n      message: 'Resource is not in the state ' + this.state,\n      retryable: retryable\n    });\n  },\n\n  /**\n   * Loads waiter configuration from API configuration\n   *\n   * @api private\n   */\n  loadWaiterConfig: function loadWaiterConfig(state) {\n    if (!this.service.api.waiters[state]) {\n      throw new AWS.util.error(new Error(), {\n        code: 'StateNotFoundError',\n        message: 'State ' + state + ' not found.'\n      });\n    }\n\n    this.config = AWS.util.copy(this.service.api.waiters[state]);\n  }\n});\n","var AWS = require('../core');\n\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.RequestSigner = inherit({\n  constructor: function RequestSigner(request) {\n    this.request = request;\n  },\n\n  setServiceClientId: function setServiceClientId(id) {\n    this.serviceClientId = id;\n  },\n\n  getServiceClientId: function getServiceClientId() {\n    return this.serviceClientId;\n  }\n});\n\nAWS.Signers.RequestSigner.getVersion = function getVersion(version) {\n  switch (version) {\n    case 'v2': return AWS.Signers.V2;\n    case 'v3': return AWS.Signers.V3;\n    case 'v4': return AWS.Signers.V4;\n    case 's3': return AWS.Signers.S3;\n    case 'v3https': return AWS.Signers.V3Https;\n  }\n  throw new Error('Unknown signing version ' + version);\n};\n\nrequire('./v2');\nrequire('./v3');\nrequire('./v3https');\nrequire('./v4');\nrequire('./s3');\nrequire('./presign');\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V2 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n\n    if (!date) date = AWS.util.date.getDate();\n\n    var r = this.request;\n\n    r.params.Timestamp = AWS.util.date.iso8601(date);\n    r.params.SignatureVersion = '2';\n    r.params.SignatureMethod = 'HmacSHA256';\n    r.params.AWSAccessKeyId = credentials.accessKeyId;\n\n    if (credentials.sessionToken) {\n      r.params.SecurityToken = credentials.sessionToken;\n    }\n\n    delete r.params.Signature; // delete old Signature for re-signing\n    r.params.Signature = this.signature(credentials);\n\n    r.body = AWS.util.queryParamsToString(r.params);\n    r.headers['Content-Length'] = r.body.length;\n  },\n\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push(this.request.endpoint.host.toLowerCase());\n    parts.push(this.request.pathname());\n    parts.push(AWS.util.queryParamsToString(this.request.params));\n    return parts.join('\\n');\n  }\n\n});\n\nmodule.exports = AWS.Signers.V2;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\nrequire('./v3');\n\n/**\n * @api private\n */\nAWS.Signers.V3Https = inherit(AWS.Signers.V3, {\n  authorization: function authorization(credentials) {\n    return 'AWS3-HTTPS ' +\n      'AWSAccessKeyId=' + credentials.accessKeyId + ',' +\n      'Algorithm=HmacSHA256,' +\n      'Signature=' + this.signature(credentials);\n  },\n\n  stringToSign: function stringToSign() {\n    return this.request.headers['X-Amz-Date'];\n  }\n});\n\nmodule.exports = AWS.Signers.V3Https;\n","var AWS = require('../core');\nvar v4Credentials = require('./v4_credentials');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nvar expiresHeader = 'presigned-expires';\n\n/**\n * @api private\n */\nAWS.Signers.V4 = inherit(AWS.Signers.RequestSigner, {\n  constructor: function V4(request, serviceName, options) {\n    AWS.Signers.RequestSigner.call(this, request);\n    this.serviceName = serviceName;\n    options = options || {};\n    this.signatureCache = typeof options.signatureCache === 'boolean' ? options.signatureCache : true;\n    this.operation = options.operation;\n  },\n\n  algorithm: 'AWS4-HMAC-SHA256',\n\n  addAuthorization: function addAuthorization(credentials, date) {\n    var datetime = AWS.util.date.iso8601(date).replace(/[:\\-]|\\.\\d{3}/g, '');\n\n    if (this.isPresigned()) {\n      this.updateForPresigned(credentials, datetime);\n    } else {\n      this.addHeaders(credentials, datetime);\n    }\n\n    this.request.headers['Authorization'] =\n      this.authorization(credentials, datetime);\n  },\n\n  addHeaders: function addHeaders(credentials, datetime) {\n    this.request.headers['X-Amz-Date'] = datetime;\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n  },\n\n  updateForPresigned: function updateForPresigned(credentials, datetime) {\n    var credString = this.credentialString(datetime);\n    var qs = {\n      'X-Amz-Date': datetime,\n      'X-Amz-Algorithm': this.algorithm,\n      'X-Amz-Credential': credentials.accessKeyId + '/' + credString,\n      'X-Amz-Expires': this.request.headers[expiresHeader],\n      'X-Amz-SignedHeaders': this.signedHeaders()\n    };\n\n    if (credentials.sessionToken) {\n      qs['X-Amz-Security-Token'] = credentials.sessionToken;\n    }\n\n    if (this.request.headers['Content-Type']) {\n      qs['Content-Type'] = this.request.headers['Content-Type'];\n    }\n    if (this.request.headers['Content-MD5']) {\n      qs['Content-MD5'] = this.request.headers['Content-MD5'];\n    }\n    if (this.request.headers['Cache-Control']) {\n      qs['Cache-Control'] = this.request.headers['Cache-Control'];\n    }\n\n    // need to pull in any other X-Amz-* headers\n    AWS.util.each.call(this, this.request.headers, function(key, value) {\n      if (key === expiresHeader) return;\n      if (this.isSignableHeader(key)) {\n        var lowerKey = key.toLowerCase();\n        // Metadata should be normalized\n        if (lowerKey.indexOf('x-amz-meta-') === 0) {\n          qs[lowerKey] = value;\n        } else if (lowerKey.indexOf('x-amz-') === 0) {\n          qs[key] = value;\n        }\n      }\n    });\n\n    var sep = this.request.path.indexOf('?') >= 0 ? '&' : '?';\n    this.request.path += sep + AWS.util.queryParamsToString(qs);\n  },\n\n  authorization: function authorization(credentials, datetime) {\n    var parts = [];\n    var credString = this.credentialString(datetime);\n    parts.push(this.algorithm + ' Credential=' +\n      credentials.accessKeyId + '/' + credString);\n    parts.push('SignedHeaders=' + this.signedHeaders());\n    parts.push('Signature=' + this.signature(credentials, datetime));\n    return parts.join(', ');\n  },\n\n  signature: function signature(credentials, datetime) {\n    var signingKey = v4Credentials.getSigningKey(\n      credentials,\n      datetime.substr(0, 8),\n      this.request.region,\n      this.serviceName,\n      this.signatureCache\n    );\n    return AWS.util.crypto.hmac(signingKey, this.stringToSign(datetime), 'hex');\n  },\n\n  stringToSign: function stringToSign(datetime) {\n    var parts = [];\n    parts.push('AWS4-HMAC-SHA256');\n    parts.push(datetime);\n    parts.push(this.credentialString(datetime));\n    parts.push(this.hexEncodedHash(this.canonicalString()));\n    return parts.join('\\n');\n  },\n\n  canonicalString: function canonicalString() {\n    var parts = [], pathname = this.request.pathname();\n    if (this.serviceName !== 's3') pathname = AWS.util.uriEscapePath(pathname);\n\n    parts.push(this.request.method);\n    parts.push(pathname);\n    parts.push(this.request.search());\n    parts.push(this.canonicalHeaders() + '\\n');\n    parts.push(this.signedHeaders());\n    parts.push(this.hexEncodedBodyHash());\n    return parts.join('\\n');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = [];\n    AWS.util.each.call(this, this.request.headers, function (key, item) {\n      headers.push([key, item]);\n    });\n    headers.sort(function (a, b) {\n      return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : 1;\n    });\n    var parts = [];\n    AWS.util.arrayEach.call(this, headers, function (item) {\n      var key = item[0].toLowerCase();\n      if (this.isSignableHeader(key)) {\n        var value = item[1];\n        if (typeof value === 'undefined' || value === null || typeof value.toString !== 'function') {\n          throw AWS.util.error(new Error('Header ' + key + ' contains invalid value'), {\n            code: 'InvalidHeader'\n          });\n        }\n        parts.push(key + ':' +\n          this.canonicalHeaderValues(value.toString()));\n      }\n    });\n    return parts.join('\\n');\n  },\n\n  canonicalHeaderValues: function canonicalHeaderValues(values) {\n    return values.replace(/\\s+/g, ' ').replace(/^\\s+|\\s+$/g, '');\n  },\n\n  signedHeaders: function signedHeaders() {\n    var keys = [];\n    AWS.util.each.call(this, this.request.headers, function (key) {\n      key = key.toLowerCase();\n      if (this.isSignableHeader(key)) keys.push(key);\n    });\n    return keys.sort().join(';');\n  },\n\n  credentialString: function credentialString(datetime) {\n    return v4Credentials.createScope(\n      datetime.substr(0, 8),\n      this.request.region,\n      this.serviceName\n    );\n  },\n\n  hexEncodedHash: function hash(string) {\n    return AWS.util.crypto.sha256(string, 'hex');\n  },\n\n  hexEncodedBodyHash: function hexEncodedBodyHash() {\n    var request = this.request;\n    if (this.isPresigned() && this.serviceName === 's3' && !request.body) {\n      return 'UNSIGNED-PAYLOAD';\n    } else if (request.headers['X-Amz-Content-Sha256']) {\n      return request.headers['X-Amz-Content-Sha256'];\n    } else {\n      return this.hexEncodedHash(this.request.body || '');\n    }\n  },\n\n  unsignableHeaders: [\n    'authorization',\n    'content-type',\n    'content-length',\n    'user-agent',\n    expiresHeader,\n    'expect',\n    'x-amzn-trace-id'\n  ],\n\n  isSignableHeader: function isSignableHeader(key) {\n    if (key.toLowerCase().indexOf('x-amz-') === 0) return true;\n    return this.unsignableHeaders.indexOf(key) < 0;\n  },\n\n  isPresigned: function isPresigned() {\n    return this.request.headers[expiresHeader] ? true : false;\n  }\n\n});\n\nmodule.exports = AWS.Signers.V4;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.S3 = inherit(AWS.Signers.RequestSigner, {\n  /**\n   * When building the stringToSign, these sub resource params should be\n   * part of the canonical resource string with their NON-decoded values\n   */\n  subResources: {\n    'acl': 1,\n    'accelerate': 1,\n    'analytics': 1,\n    'cors': 1,\n    'lifecycle': 1,\n    'delete': 1,\n    'inventory': 1,\n    'location': 1,\n    'logging': 1,\n    'metrics': 1,\n    'notification': 1,\n    'partNumber': 1,\n    'policy': 1,\n    'requestPayment': 1,\n    'replication': 1,\n    'restore': 1,\n    'tagging': 1,\n    'torrent': 1,\n    'uploadId': 1,\n    'uploads': 1,\n    'versionId': 1,\n    'versioning': 1,\n    'versions': 1,\n    'website': 1\n  },\n\n  // when building the stringToSign, these querystring params should be\n  // part of the canonical resource string with their NON-encoded values\n  responseHeaders: {\n    'response-content-type': 1,\n    'response-content-language': 1,\n    'response-expires': 1,\n    'response-cache-control': 1,\n    'response-content-disposition': 1,\n    'response-content-encoding': 1\n  },\n\n  addAuthorization: function addAuthorization(credentials, date) {\n    if (!this.request.headers['presigned-expires']) {\n      this.request.headers['X-Amz-Date'] = AWS.util.date.rfc822(date);\n    }\n\n    if (credentials.sessionToken) {\n      // presigned URLs require this header to be lowercased\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    var signature = this.sign(credentials.secretAccessKey, this.stringToSign());\n    var auth = 'AWS ' + credentials.accessKeyId + ':' + signature;\n\n    this.request.headers['Authorization'] = auth;\n  },\n\n  stringToSign: function stringToSign() {\n    var r = this.request;\n\n    var parts = [];\n    parts.push(r.method);\n    parts.push(r.headers['Content-MD5'] || '');\n    parts.push(r.headers['Content-Type'] || '');\n\n    // This is the \"Date\" header, but we use X-Amz-Date.\n    // The S3 signing mechanism requires us to pass an empty\n    // string for this Date header regardless.\n    parts.push(r.headers['presigned-expires'] || '');\n\n    var headers = this.canonicalizedAmzHeaders();\n    if (headers) parts.push(headers);\n    parts.push(this.canonicalizedResource());\n\n    return parts.join('\\n');\n\n  },\n\n  canonicalizedAmzHeaders: function canonicalizedAmzHeaders() {\n\n    var amzHeaders = [];\n\n    AWS.util.each(this.request.headers, function (name) {\n      if (name.match(/^x-amz-/i))\n        amzHeaders.push(name);\n    });\n\n    amzHeaders.sort(function (a, b) {\n      return a.toLowerCase() < b.toLowerCase() ? -1 : 1;\n    });\n\n    var parts = [];\n    AWS.util.arrayEach.call(this, amzHeaders, function (name) {\n      parts.push(name.toLowerCase() + ':' + String(this.request.headers[name]));\n    });\n\n    return parts.join('\\n');\n\n  },\n\n  canonicalizedResource: function canonicalizedResource() {\n\n    var r = this.request;\n\n    var parts = r.path.split('?');\n    var path = parts[0];\n    var querystring = parts[1];\n\n    var resource = '';\n\n    if (r.virtualHostedBucket)\n      resource += '/' + r.virtualHostedBucket;\n\n    resource += path;\n\n    if (querystring) {\n\n      // collect a list of sub resources and query params that need to be signed\n      var resources = [];\n\n      AWS.util.arrayEach.call(this, querystring.split('&'), function (param) {\n        var name = param.split('=')[0];\n        var value = param.split('=')[1];\n        if (this.subResources[name] || this.responseHeaders[name]) {\n          var subresource = { name: name };\n          if (value !== undefined) {\n            if (this.subResources[name]) {\n              subresource.value = value;\n            } else {\n              subresource.value = decodeURIComponent(value);\n            }\n          }\n          resources.push(subresource);\n        }\n      });\n\n      resources.sort(function (a, b) { return a.name < b.name ? -1 : 1; });\n\n      if (resources.length) {\n\n        querystring = [];\n        AWS.util.arrayEach(resources, function (res) {\n          if (res.value === undefined) {\n            querystring.push(res.name);\n          } else {\n            querystring.push(res.name + '=' + res.value);\n          }\n        });\n\n        resource += '?' + querystring.join('&');\n      }\n\n    }\n\n    return resource;\n\n  },\n\n  sign: function sign(secret, string) {\n    return AWS.util.crypto.hmac(secret, string, 'base64', 'sha1');\n  }\n});\n\nmodule.exports = AWS.Signers.S3;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nvar expiresHeader = 'presigned-expires';\n\n/**\n * @api private\n */\nfunction signedUrlBuilder(request) {\n  var expires = request.httpRequest.headers[expiresHeader];\n  var signerClass = request.service.getSignerClass(request);\n\n  delete request.httpRequest.headers['User-Agent'];\n  delete request.httpRequest.headers['X-Amz-User-Agent'];\n\n  if (signerClass === AWS.Signers.V4) {\n    if (expires > 604800) { // one week expiry is invalid\n      var message = 'Presigning does not support expiry time greater ' +\n                    'than a week with SigV4 signing.';\n      throw AWS.util.error(new Error(), {\n        code: 'InvalidExpiryTime', message: message, retryable: false\n      });\n    }\n    request.httpRequest.headers[expiresHeader] = expires;\n  } else if (signerClass === AWS.Signers.S3) {\n    var now = request.service ? request.service.getSkewCorrectedDate() : AWS.util.date.getDate();\n    request.httpRequest.headers[expiresHeader] = parseInt(\n      AWS.util.date.unixTimestamp(now) + expires, 10).toString();\n  } else {\n    throw AWS.util.error(new Error(), {\n      message: 'Presigning only supports S3 or SigV4 signing.',\n      code: 'UnsupportedSigner', retryable: false\n    });\n  }\n}\n\n/**\n * @api private\n */\nfunction signedUrlSigner(request) {\n  var endpoint = request.httpRequest.endpoint;\n  var parsedUrl = AWS.util.urlParse(request.httpRequest.path);\n  var queryParams = {};\n\n  if (parsedUrl.search) {\n    queryParams = AWS.util.queryStringParse(parsedUrl.search.substr(1));\n  }\n\n  var auth = request.httpRequest.headers['Authorization'].split(' ');\n  if (auth[0] === 'AWS') {\n    auth = auth[1].split(':');\n    queryParams['AWSAccessKeyId'] = auth[0];\n    queryParams['Signature'] = auth[1];\n\n    AWS.util.each(request.httpRequest.headers, function (key, value) {\n      if (key === expiresHeader) key = 'Expires';\n      if (key.indexOf('x-amz-meta-') === 0) {\n        // Delete existing, potentially not normalized key\n        delete queryParams[key];\n        key = key.toLowerCase();\n      }\n      queryParams[key] = value;\n    });\n    delete request.httpRequest.headers[expiresHeader];\n    delete queryParams['Authorization'];\n    delete queryParams['Host'];\n  } else if (auth[0] === 'AWS4-HMAC-SHA256') { // SigV4 signing\n    auth.shift();\n    var rest = auth.join(' ');\n    var signature = rest.match(/Signature=(.*?)(?:,|\\s|\\r?\\n|$)/)[1];\n    queryParams['X-Amz-Signature'] = signature;\n    delete queryParams['Expires'];\n  }\n\n  // build URL\n  endpoint.pathname = parsedUrl.pathname;\n  endpoint.search = AWS.util.queryParamsToString(queryParams);\n}\n\n/**\n * @api private\n */\nAWS.Signers.Presign = inherit({\n  /**\n   * @api private\n   */\n  sign: function sign(request, expireTime, callback) {\n    request.httpRequest.headers[expiresHeader] = expireTime || 3600;\n    request.on('build', signedUrlBuilder);\n    request.on('sign', signedUrlSigner);\n    request.removeListener('afterBuild',\n      AWS.EventListeners.Core.SET_CONTENT_LENGTH);\n    request.removeListener('afterBuild',\n      AWS.EventListeners.Core.COMPUTE_SHA256);\n\n    request.emit('beforePresign', [request]);\n\n    if (callback) {\n      request.build(function() {\n        if (this.response.error) callback(this.response.error);\n        else {\n          callback(null, AWS.util.urlFormat(request.httpRequest.endpoint));\n        }\n      });\n    } else {\n      request.build();\n      if (request.response.error) throw request.response.error;\n      return AWS.util.urlFormat(request.httpRequest.endpoint);\n    }\n  }\n});\n\nmodule.exports = AWS.Signers.Presign;\n","var AWS = require('./core');\n\n/**\n * @api private\n */\nAWS.ParamValidator = AWS.util.inherit({\n  /**\n   * Create a new validator object.\n   *\n   * @param validation [Boolean|map] whether input parameters should be\n   *     validated against the operation description before sending the\n   *     request. Pass a map to enable any of the following specific\n   *     validation features:\n   *\n   *     * **min** [Boolean] &mdash; Validates that a value meets the min\n   *       constraint. This is enabled by default when paramValidation is set\n   *       to `true`.\n   *     * **max** [Boolean] &mdash; Validates that a value meets the max\n   *       constraint.\n   *     * **pattern** [Boolean] &mdash; Validates that a string value matches a\n   *       regular expression.\n   *     * **enum** [Boolean] &mdash; Validates that a string value matches one\n   *       of the allowable enum values.\n   */\n  constructor: function ParamValidator(validation) {\n    if (validation === true || validation === undefined) {\n      validation = {'min': true};\n    }\n    this.validation = validation;\n  },\n\n  validate: function validate(shape, params, context) {\n    this.errors = [];\n    this.validateMember(shape, params || {}, context || 'params');\n\n    if (this.errors.length > 1) {\n      var msg = this.errors.join('\\n* ');\n      msg = 'There were ' + this.errors.length +\n        ' validation errors:\\n* ' + msg;\n      throw AWS.util.error(new Error(msg),\n        {code: 'MultipleValidationErrors', errors: this.errors});\n    } else if (this.errors.length === 1) {\n      throw this.errors[0];\n    } else {\n      return true;\n    }\n  },\n\n  fail: function fail(code, message) {\n    this.errors.push(AWS.util.error(new Error(message), {code: code}));\n  },\n\n  validateStructure: function validateStructure(shape, params, context) {\n    this.validateType(params, context, ['object'], 'structure');\n\n    var paramName;\n    for (var i = 0; shape.required && i < shape.required.length; i++) {\n      paramName = shape.required[i];\n      var value = params[paramName];\n      if (value === undefined || value === null) {\n        this.fail('MissingRequiredParameter',\n          'Missing required key \\'' + paramName + '\\' in ' + context);\n      }\n    }\n\n    // validate hash members\n    for (paramName in params) {\n      if (!Object.prototype.hasOwnProperty.call(params, paramName)) continue;\n\n      var paramValue = params[paramName],\n          memberShape = shape.members[paramName];\n\n      if (memberShape !== undefined) {\n        var memberContext = [context, paramName].join('.');\n        this.validateMember(memberShape, paramValue, memberContext);\n      } else {\n        this.fail('UnexpectedParameter',\n          'Unexpected key \\'' + paramName + '\\' found in ' + context);\n      }\n    }\n\n    return true;\n  },\n\n  validateMember: function validateMember(shape, param, context) {\n    switch (shape.type) {\n      case 'structure':\n        return this.validateStructure(shape, param, context);\n      case 'list':\n        return this.validateList(shape, param, context);\n      case 'map':\n        return this.validateMap(shape, param, context);\n      default:\n        return this.validateScalar(shape, param, context);\n    }\n  },\n\n  validateList: function validateList(shape, params, context) {\n    if (this.validateType(params, context, [Array])) {\n      this.validateRange(shape, params.length, context, 'list member count');\n      // validate array members\n      for (var i = 0; i < params.length; i++) {\n        this.validateMember(shape.member, params[i], context + '[' + i + ']');\n      }\n    }\n  },\n\n  validateMap: function validateMap(shape, params, context) {\n    if (this.validateType(params, context, ['object'], 'map')) {\n      // Build up a count of map members to validate range traits.\n      var mapCount = 0;\n      for (var param in params) {\n        if (!Object.prototype.hasOwnProperty.call(params, param)) continue;\n        // Validate any map key trait constraints\n        this.validateMember(shape.key, param,\n                            context + '[key=\\'' + param + '\\']')\n        this.validateMember(shape.value, params[param],\n                            context + '[\\'' + param + '\\']');\n        mapCount++;\n      }\n      this.validateRange(shape, mapCount, context, 'map member count');\n    }\n  },\n\n  validateScalar: function validateScalar(shape, value, context) {\n    switch (shape.type) {\n      case null:\n      case undefined:\n      case 'string':\n        return this.validateString(shape, value, context);\n      case 'base64':\n      case 'binary':\n        return this.validatePayload(value, context);\n      case 'integer':\n      case 'float':\n        return this.validateNumber(shape, value, context);\n      case 'boolean':\n        return this.validateType(value, context, ['boolean']);\n      case 'timestamp':\n        return this.validateType(value, context, [Date,\n          /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/, 'number'],\n          'Date object, ISO-8601 string, or a UNIX timestamp');\n      default:\n        return this.fail('UnkownType', 'Unhandled type ' +\n                         shape.type + ' for ' + context);\n    }\n  },\n\n  validateString: function validateString(shape, value, context) {\n    var validTypes = ['string'];\n    if (shape.isJsonValue) {\n      validTypes = validTypes.concat(['number', 'object', 'boolean']);\n    }\n    if (value !== null && this.validateType(value, context, validTypes)) {\n      this.validateEnum(shape, value, context);\n      this.validateRange(shape, value.length, context, 'string length');\n      this.validatePattern(shape, value, context);\n    }\n  },\n\n  validatePattern: function validatePattern(shape, value, context) {\n    if (this.validation['pattern'] && shape['pattern'] !== undefined) {\n      if (!(new RegExp(shape['pattern'])).test(value)) {\n        this.fail('PatternMatchError', 'Provided value \"' + value + '\" '\n          + 'does not match regex pattern /' + shape['pattern'] + '/ for '\n          + context);\n      }\n    }\n  },\n\n  validateRange: function validateRange(shape, value, context, descriptor) {\n    if (this.validation['min']) {\n      if (shape['min'] !== undefined && value < shape['min']) {\n        this.fail('MinRangeError', 'Expected ' + descriptor + ' >= '\n          + shape['min'] + ', but found ' + value + ' for ' + context);\n      }\n    }\n    if (this.validation['max']) {\n      if (shape['max'] !== undefined && value > shape['max']) {\n        this.fail('MaxRangeError', 'Expected ' + descriptor + ' <= '\n          + shape['max'] + ', but found ' + value + ' for ' + context);\n      }\n    }\n  },\n\n  validateEnum: function validateRange(shape, value, context) {\n    if (this.validation['enum'] && shape['enum'] !== undefined) {\n      // Fail if the string value is not present in the enum list\n      if (shape['enum'].indexOf(value) === -1) {\n        this.fail('EnumError', 'Found string value of ' + value + ', but '\n          + 'expected ' + shape['enum'].join('|') + ' for ' + context);\n      }\n    }\n  },\n\n  validateType: function validateType(value, context, acceptedTypes, type) {\n    // We will not log an error for null or undefined, but we will return\n    // false so that callers know that the expected type was not strictly met.\n    if (value === null || value === undefined) return false;\n\n    var foundInvalidType = false;\n    for (var i = 0; i < acceptedTypes.length; i++) {\n      if (typeof acceptedTypes[i] === 'string') {\n        if (typeof value === acceptedTypes[i]) return true;\n      } else if (acceptedTypes[i] instanceof RegExp) {\n        if ((value || '').toString().match(acceptedTypes[i])) return true;\n      } else {\n        if (value instanceof acceptedTypes[i]) return true;\n        if (AWS.util.isType(value, acceptedTypes[i])) return true;\n        if (!type && !foundInvalidType) acceptedTypes = acceptedTypes.slice();\n        acceptedTypes[i] = AWS.util.typeName(acceptedTypes[i]);\n      }\n      foundInvalidType = true;\n    }\n\n    var acceptedType = type;\n    if (!acceptedType) {\n      acceptedType = acceptedTypes.join(', ').replace(/,([^,]+)$/, ', or$1');\n    }\n\n    var vowel = acceptedType.match(/^[aeiou]/i) ? 'n' : '';\n    this.fail('InvalidParameterType', 'Expected ' + context + ' to be a' +\n              vowel + ' ' + acceptedType);\n    return false;\n  },\n\n  validateNumber: function validateNumber(shape, value, context) {\n    if (value === null || value === undefined) return;\n    if (typeof value === 'string') {\n      var castedValue = parseFloat(value);\n      if (castedValue.toString() === value) value = castedValue;\n    }\n    if (this.validateType(value, context, ['number'])) {\n      this.validateRange(shape, value, context, 'numeric value');\n    }\n  },\n\n  validatePayload: function validatePayload(value, context) {\n    if (value === null || value === undefined) return;\n    if (typeof value === 'string') return;\n    if (value && typeof value.byteLength === 'number') return; // typed arrays\n    if (AWS.util.isNode()) { // special check for buffer/stream in Node.js\n      var Stream = AWS.util.stream.Stream;\n      if (AWS.util.Buffer.isBuffer(value) || value instanceof Stream) return;\n    }\n\n    var types = ['Buffer', 'Stream', 'File', 'Blob', 'ArrayBuffer', 'DataView'];\n    if (value) {\n      for (var i = 0; i < types.length; i++) {\n        if (AWS.util.isType(value, types[i])) return;\n        if (AWS.util.typeName(value.constructor) === types[i]) return;\n      }\n    }\n\n    this.fail('InvalidParameterType', 'Expected ' + context + ' to be a ' +\n      'string, Buffer, Stream, Blob, or typed array object');\n  }\n});\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var Hmac = require('./browserHmac');\nvar Md5 = require('./browserMd5');\nvar Sha1 = require('./browserSha1');\nvar Sha256 = require('./browserSha256');\n\nmodule.exports = exports = {\n    createHash: function createHash(alg) {\n      alg = alg.toLowerCase();\n      if (alg === 'md5') {\n        return new Md5();\n      } else if (alg === 'sha256') {\n        return new Sha256();\n      } else if (alg === 'sha1') {\n        return new Sha1();\n      }\n\n      throw new Error('Hash algorithm ' + alg + ' is not supported in the browser SDK');\n    },\n    createHmac: function createHmac(alg, key) {\n      alg = alg.toLowerCase();\n      if (alg === 'md5') {\n        return new Hmac(Md5, key);\n      } else if (alg === 'sha256') {\n        return new Hmac(Sha256, key);\n      } else if (alg === 'sha1') {\n        return new Hmac(Sha1, key);\n      }\n\n      throw new Error('HMAC algorithm ' + alg + ' is not supported in the browser SDK');\n    },\n    createSign: function() {\n      throw new Error('createSign is not implemented in the browser');\n    }\n  }\n","var hashUtils = require('./browserHashUtils');\n\n/**\n * @api private\n */\nfunction Hmac(hashCtor, secret) {\n    this.hash = new hashCtor();\n    this.outer = new hashCtor();\n\n    var inner = bufferFromSecret(hashCtor, secret);\n    var outer = new Uint8Array(hashCtor.BLOCK_SIZE);\n    outer.set(inner);\n\n    for (var i = 0; i < hashCtor.BLOCK_SIZE; i++) {\n        inner[i] ^= 0x36;\n        outer[i] ^= 0x5c;\n    }\n\n    this.hash.update(inner);\n    this.outer.update(outer);\n\n    // Zero out the copied key buffer.\n    for (var i = 0; i < inner.byteLength; i++) {\n        inner[i] = 0;\n    }\n}\n\nmodule.exports = exports = Hmac;\n\nHmac.prototype.update = function (toHash) {\n    if (hashUtils.isEmptyData(toHash) || this.error) {\n        return this;\n    }\n\n    try {\n        this.hash.update(hashUtils.convertToBuffer(toHash));\n    } catch (e) {\n        this.error = e;\n    }\n\n    return this;\n};\n\nHmac.prototype.digest = function (encoding) {\n    if (!this.outer.finished) {\n        this.outer.update(this.hash.digest());\n    }\n\n    return this.outer.digest(encoding);\n}\n\nfunction bufferFromSecret(hashCtor, secret) {\n    var input = hashUtils.convertToBuffer(secret);\n    if (input.byteLength > hashCtor.BLOCK_SIZE) {\n        var bufferHash = new hashCtor;\n        bufferHash.update(input);\n        input = bufferHash.digest();\n    }\n    var buffer = new Uint8Array(hashCtor.BLOCK_SIZE);\n    buffer.set(input);\n    return buffer;\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","var hashUtils = require('./browserHashUtils');\nvar Buffer = require('buffer/').Buffer;\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 16;\n\nvar INIT = [\n    0x67452301,\n    0xefcdab89,\n    0x98badcfe,\n    0x10325476,\n];\n\n/**\n * @api private\n */\nfunction Md5() {\n    this.state = [\n        0x67452301,\n        0xefcdab89,\n        0x98badcfe,\n        0x10325476,\n    ];\n    this.buffer = new DataView(new ArrayBuffer(BLOCK_SIZE));\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    this.finished = false;\n}\n\nmodule.exports = exports = Md5;\n\nMd5.BLOCK_SIZE = BLOCK_SIZE;\n\nMd5.prototype.update = function (sourceData) {\n    if (hashUtils.isEmptyData(sourceData)) {\n        return this;\n    } else if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    var data = hashUtils.convertToBuffer(sourceData);\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n    while (byteLength > 0) {\n        this.buffer.setUint8(this.bufferLength++, data[position++]);\n        byteLength--;\n        if (this.bufferLength === BLOCK_SIZE) {\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n    }\n\n    return this;\n};\n\nMd5.prototype.digest = function (encoding) {\n    if (!this.finished) {\n        var _a = this, buffer = _a.buffer, undecoratedLength = _a.bufferLength, bytesHashed = _a.bytesHashed;\n        var bitsHashed = bytesHashed * 8;\n        buffer.setUint8(this.bufferLength++, 128);\n        // Ensure the final block has enough room for the hashed length\n        if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n            for (var i = this.bufferLength; i < BLOCK_SIZE; i++) {\n                buffer.setUint8(i, 0);\n            }\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n        for (var i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n            buffer.setUint8(i, 0);\n        }\n        buffer.setUint32(BLOCK_SIZE - 8, bitsHashed >>> 0, true);\n        buffer.setUint32(BLOCK_SIZE - 4, Math.floor(bitsHashed / 0x100000000), true);\n        this.hashBuffer();\n        this.finished = true;\n    }\n    var out = new DataView(new ArrayBuffer(DIGEST_LENGTH));\n    for (var i = 0; i < 4; i++) {\n        out.setUint32(i * 4, this.state[i], true);\n    }\n    var buff = new Buffer(out.buffer, out.byteOffset, out.byteLength);\n    return encoding ? buff.toString(encoding) : buff;\n};\n\nMd5.prototype.hashBuffer = function () {\n    var _a = this, buffer = _a.buffer, state = _a.state;\n    var a = state[0], b = state[1], c = state[2], d = state[3];\n    a = ff(a, b, c, d, buffer.getUint32(0, true), 7, 0xd76aa478);\n    d = ff(d, a, b, c, buffer.getUint32(4, true), 12, 0xe8c7b756);\n    c = ff(c, d, a, b, buffer.getUint32(8, true), 17, 0x242070db);\n    b = ff(b, c, d, a, buffer.getUint32(12, true), 22, 0xc1bdceee);\n    a = ff(a, b, c, d, buffer.getUint32(16, true), 7, 0xf57c0faf);\n    d = ff(d, a, b, c, buffer.getUint32(20, true), 12, 0x4787c62a);\n    c = ff(c, d, a, b, buffer.getUint32(24, true), 17, 0xa8304613);\n    b = ff(b, c, d, a, buffer.getUint32(28, true), 22, 0xfd469501);\n    a = ff(a, b, c, d, buffer.getUint32(32, true), 7, 0x698098d8);\n    d = ff(d, a, b, c, buffer.getUint32(36, true), 12, 0x8b44f7af);\n    c = ff(c, d, a, b, buffer.getUint32(40, true), 17, 0xffff5bb1);\n    b = ff(b, c, d, a, buffer.getUint32(44, true), 22, 0x895cd7be);\n    a = ff(a, b, c, d, buffer.getUint32(48, true), 7, 0x6b901122);\n    d = ff(d, a, b, c, buffer.getUint32(52, true), 12, 0xfd987193);\n    c = ff(c, d, a, b, buffer.getUint32(56, true), 17, 0xa679438e);\n    b = ff(b, c, d, a, buffer.getUint32(60, true), 22, 0x49b40821);\n    a = gg(a, b, c, d, buffer.getUint32(4, true), 5, 0xf61e2562);\n    d = gg(d, a, b, c, buffer.getUint32(24, true), 9, 0xc040b340);\n    c = gg(c, d, a, b, buffer.getUint32(44, true), 14, 0x265e5a51);\n    b = gg(b, c, d, a, buffer.getUint32(0, true), 20, 0xe9b6c7aa);\n    a = gg(a, b, c, d, buffer.getUint32(20, true), 5, 0xd62f105d);\n    d = gg(d, a, b, c, buffer.getUint32(40, true), 9, 0x02441453);\n    c = gg(c, d, a, b, buffer.getUint32(60, true), 14, 0xd8a1e681);\n    b = gg(b, c, d, a, buffer.getUint32(16, true), 20, 0xe7d3fbc8);\n    a = gg(a, b, c, d, buffer.getUint32(36, true), 5, 0x21e1cde6);\n    d = gg(d, a, b, c, buffer.getUint32(56, true), 9, 0xc33707d6);\n    c = gg(c, d, a, b, buffer.getUint32(12, true), 14, 0xf4d50d87);\n    b = gg(b, c, d, a, buffer.getUint32(32, true), 20, 0x455a14ed);\n    a = gg(a, b, c, d, buffer.getUint32(52, true), 5, 0xa9e3e905);\n    d = gg(d, a, b, c, buffer.getUint32(8, true), 9, 0xfcefa3f8);\n    c = gg(c, d, a, b, buffer.getUint32(28, true), 14, 0x676f02d9);\n    b = gg(b, c, d, a, buffer.getUint32(48, true), 20, 0x8d2a4c8a);\n    a = hh(a, b, c, d, buffer.getUint32(20, true), 4, 0xfffa3942);\n    d = hh(d, a, b, c, buffer.getUint32(32, true), 11, 0x8771f681);\n    c = hh(c, d, a, b, buffer.getUint32(44, true), 16, 0x6d9d6122);\n    b = hh(b, c, d, a, buffer.getUint32(56, true), 23, 0xfde5380c);\n    a = hh(a, b, c, d, buffer.getUint32(4, true), 4, 0xa4beea44);\n    d = hh(d, a, b, c, buffer.getUint32(16, true), 11, 0x4bdecfa9);\n    c = hh(c, d, a, b, buffer.getUint32(28, true), 16, 0xf6bb4b60);\n    b = hh(b, c, d, a, buffer.getUint32(40, true), 23, 0xbebfbc70);\n    a = hh(a, b, c, d, buffer.getUint32(52, true), 4, 0x289b7ec6);\n    d = hh(d, a, b, c, buffer.getUint32(0, true), 11, 0xeaa127fa);\n    c = hh(c, d, a, b, buffer.getUint32(12, true), 16, 0xd4ef3085);\n    b = hh(b, c, d, a, buffer.getUint32(24, true), 23, 0x04881d05);\n    a = hh(a, b, c, d, buffer.getUint32(36, true), 4, 0xd9d4d039);\n    d = hh(d, a, b, c, buffer.getUint32(48, true), 11, 0xe6db99e5);\n    c = hh(c, d, a, b, buffer.getUint32(60, true), 16, 0x1fa27cf8);\n    b = hh(b, c, d, a, buffer.getUint32(8, true), 23, 0xc4ac5665);\n    a = ii(a, b, c, d, buffer.getUint32(0, true), 6, 0xf4292244);\n    d = ii(d, a, b, c, buffer.getUint32(28, true), 10, 0x432aff97);\n    c = ii(c, d, a, b, buffer.getUint32(56, true), 15, 0xab9423a7);\n    b = ii(b, c, d, a, buffer.getUint32(20, true), 21, 0xfc93a039);\n    a = ii(a, b, c, d, buffer.getUint32(48, true), 6, 0x655b59c3);\n    d = ii(d, a, b, c, buffer.getUint32(12, true), 10, 0x8f0ccc92);\n    c = ii(c, d, a, b, buffer.getUint32(40, true), 15, 0xffeff47d);\n    b = ii(b, c, d, a, buffer.getUint32(4, true), 21, 0x85845dd1);\n    a = ii(a, b, c, d, buffer.getUint32(32, true), 6, 0x6fa87e4f);\n    d = ii(d, a, b, c, buffer.getUint32(60, true), 10, 0xfe2ce6e0);\n    c = ii(c, d, a, b, buffer.getUint32(24, true), 15, 0xa3014314);\n    b = ii(b, c, d, a, buffer.getUint32(52, true), 21, 0x4e0811a1);\n    a = ii(a, b, c, d, buffer.getUint32(16, true), 6, 0xf7537e82);\n    d = ii(d, a, b, c, buffer.getUint32(44, true), 10, 0xbd3af235);\n    c = ii(c, d, a, b, buffer.getUint32(8, true), 15, 0x2ad7d2bb);\n    b = ii(b, c, d, a, buffer.getUint32(36, true), 21, 0xeb86d391);\n    state[0] = (a + state[0]) & 0xFFFFFFFF;\n    state[1] = (b + state[1]) & 0xFFFFFFFF;\n    state[2] = (c + state[2]) & 0xFFFFFFFF;\n    state[3] = (d + state[3]) & 0xFFFFFFFF;\n};\n\nfunction cmn(q, a, b, x, s, t) {\n    a = (((a + q) & 0xFFFFFFFF) + ((x + t) & 0xFFFFFFFF)) & 0xFFFFFFFF;\n    return (((a << s) | (a >>> (32 - s))) + b) & 0xFFFFFFFF;\n}\n\nfunction ff(a, b, c, d, x, s, t) {\n    return cmn((b & c) | ((~b) & d), a, b, x, s, t);\n}\n\nfunction gg(a, b, c, d, x, s, t) {\n    return cmn((b & d) | (c & (~d)), a, b, x, s, t);\n}\n\nfunction hh(a, b, c, d, x, s, t) {\n    return cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction ii(a, b, c, d, x, s, t) {\n    return cmn(c ^ (b | (~d)), a, b, x, s, t);\n}\n","var Buffer = require('buffer/').Buffer;\nvar hashUtils = require('./browserHashUtils');\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 20;\n\nvar KEY = new Uint32Array([\n    0x5a827999,\n    0x6ed9eba1,\n    0x8f1bbcdc | 0,\n    0xca62c1d6 | 0\n]);\n\nvar INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19,\n];\n\nvar MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n\n/**\n * @api private\n */\nfunction Sha1() {\n    this.h0 = 0x67452301;\n    this.h1 = 0xEFCDAB89;\n    this.h2 = 0x98BADCFE;\n    this.h3 = 0x10325476;\n    this.h4 = 0xC3D2E1F0;\n    // The first 64 bytes (16 words) is the data chunk\n    this.block = new Uint32Array(80);\n    this.offset = 0;\n    this.shift = 24;\n    this.totalLength = 0;\n}\n\nmodule.exports = exports = Sha1;\n\nSha1.BLOCK_SIZE = BLOCK_SIZE;\n\nSha1.prototype.update = function (data) {\n    if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    if (hashUtils.isEmptyData(data)) {\n        return this;\n    }\n\n    data = hashUtils.convertToBuffer(data);\n\n    var length = data.length;\n    this.totalLength += length * 8;\n    for (var i = 0; i < length; i++) {\n        this.write(data[i]);\n    }\n\n    return this;\n};\n\nSha1.prototype.write = function write(byte) {\n    this.block[this.offset] |= (byte & 0xff) << this.shift;\n    if (this.shift) {\n        this.shift -= 8;\n    } else {\n        this.offset++;\n        this.shift = 24;\n    }\n\n    if (this.offset === 16) this.processBlock();\n};\n\nSha1.prototype.digest = function (encoding) {\n    // Pad\n    this.write(0x80);\n    if (this.offset > 14 || (this.offset === 14 && this.shift < 24)) {\n      this.processBlock();\n    }\n    this.offset = 14;\n    this.shift = 24;\n\n    // 64-bit length big-endian\n    this.write(0x00); // numbers this big aren't accurate in javascript anyway\n    this.write(0x00); // ..So just hard-code to zero.\n    this.write(this.totalLength > 0xffffffffff ? this.totalLength / 0x10000000000 : 0x00);\n    this.write(this.totalLength > 0xffffffff ? this.totalLength / 0x100000000 : 0x00);\n    for (var s = 24; s >= 0; s -= 8) {\n        this.write(this.totalLength >> s);\n    }\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    var out = new Buffer(DIGEST_LENGTH);\n    var outView = new DataView(out.buffer);\n    outView.setUint32(0, this.h0, false);\n    outView.setUint32(4, this.h1, false);\n    outView.setUint32(8, this.h2, false);\n    outView.setUint32(12, this.h3, false);\n    outView.setUint32(16, this.h4, false);\n\n    return encoding ? out.toString(encoding) : out;\n};\n\nSha1.prototype.processBlock = function processBlock() {\n    // Extend the sixteen 32-bit words into eighty 32-bit words:\n    for (var i = 16; i < 80; i++) {\n      var w = this.block[i - 3] ^ this.block[i - 8] ^ this.block[i - 14] ^ this.block[i - 16];\n      this.block[i] = (w << 1) | (w >>> 31);\n    }\n\n    // Initialize hash value for this chunk:\n    var a = this.h0;\n    var b = this.h1;\n    var c = this.h2;\n    var d = this.h3;\n    var e = this.h4;\n    var f, k;\n\n    // Main loop:\n    for (i = 0; i < 80; i++) {\n      if (i < 20) {\n        f = d ^ (b & (c ^ d));\n        k = 0x5A827999;\n      }\n      else if (i < 40) {\n        f = b ^ c ^ d;\n        k = 0x6ED9EBA1;\n      }\n      else if (i < 60) {\n        f = (b & c) | (d & (b | c));\n        k = 0x8F1BBCDC;\n      }\n      else {\n        f = b ^ c ^ d;\n        k = 0xCA62C1D6;\n      }\n      var temp = (a << 5 | a >>> 27) + f + e + k + (this.block[i]|0);\n      e = d;\n      d = c;\n      c = (b << 30 | b >>> 2);\n      b = a;\n      a = temp;\n    }\n\n    // Add this chunk's hash to result so far:\n    this.h0 = (this.h0 + a) | 0;\n    this.h1 = (this.h1 + b) | 0;\n    this.h2 = (this.h2 + c) | 0;\n    this.h3 = (this.h3 + d) | 0;\n    this.h4 = (this.h4 + e) | 0;\n\n    // The block is now reusable.\n    this.offset = 0;\n    for (i = 0; i < 16; i++) {\n        this.block[i] = 0;\n    }\n}\n","var Buffer = require('buffer/').Buffer;\nvar hashUtils = require('./browserHashUtils');\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 32;\n\nvar KEY = new Uint32Array([\n    0x428a2f98,\n    0x71374491,\n    0xb5c0fbcf,\n    0xe9b5dba5,\n    0x3956c25b,\n    0x59f111f1,\n    0x923f82a4,\n    0xab1c5ed5,\n    0xd807aa98,\n    0x12835b01,\n    0x243185be,\n    0x550c7dc3,\n    0x72be5d74,\n    0x80deb1fe,\n    0x9bdc06a7,\n    0xc19bf174,\n    0xe49b69c1,\n    0xefbe4786,\n    0x0fc19dc6,\n    0x240ca1cc,\n    0x2de92c6f,\n    0x4a7484aa,\n    0x5cb0a9dc,\n    0x76f988da,\n    0x983e5152,\n    0xa831c66d,\n    0xb00327c8,\n    0xbf597fc7,\n    0xc6e00bf3,\n    0xd5a79147,\n    0x06ca6351,\n    0x14292967,\n    0x27b70a85,\n    0x2e1b2138,\n    0x4d2c6dfc,\n    0x53380d13,\n    0x650a7354,\n    0x766a0abb,\n    0x81c2c92e,\n    0x92722c85,\n    0xa2bfe8a1,\n    0xa81a664b,\n    0xc24b8b70,\n    0xc76c51a3,\n    0xd192e819,\n    0xd6990624,\n    0xf40e3585,\n    0x106aa070,\n    0x19a4c116,\n    0x1e376c08,\n    0x2748774c,\n    0x34b0bcb5,\n    0x391c0cb3,\n    0x4ed8aa4a,\n    0x5b9cca4f,\n    0x682e6ff3,\n    0x748f82ee,\n    0x78a5636f,\n    0x84c87814,\n    0x8cc70208,\n    0x90befffa,\n    0xa4506ceb,\n    0xbef9a3f7,\n    0xc67178f2\n]);\n\nvar INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19,\n];\n\nvar MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n\n/**\n * @private\n */\nfunction Sha256() {\n    this.state = [\n        0x6a09e667,\n        0xbb67ae85,\n        0x3c6ef372,\n        0xa54ff53a,\n        0x510e527f,\n        0x9b05688c,\n        0x1f83d9ab,\n        0x5be0cd19,\n    ];\n    this.temp = new Int32Array(64);\n    this.buffer = new Uint8Array(64);\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    /**\n     * @private\n     */\n    this.finished = false;\n}\n\nmodule.exports = exports = Sha256;\n\nSha256.BLOCK_SIZE = BLOCK_SIZE;\n\nSha256.prototype.update = function (data) {\n    if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    if (hashUtils.isEmptyData(data)) {\n        return this;\n    }\n\n    data = hashUtils.convertToBuffer(data);\n\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n    if (this.bytesHashed * 8 > MAX_HASHABLE_LENGTH) {\n        throw new Error('Cannot hash more than 2^53 - 1 bits');\n    }\n\n    while (byteLength > 0) {\n        this.buffer[this.bufferLength++] = data[position++];\n        byteLength--;\n        if (this.bufferLength === BLOCK_SIZE) {\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n    }\n\n    return this;\n};\n\nSha256.prototype.digest = function (encoding) {\n    if (!this.finished) {\n        var bitsHashed = this.bytesHashed * 8;\n        var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n        var undecoratedLength = this.bufferLength;\n        bufferView.setUint8(this.bufferLength++, 0x80);\n        // Ensure the final block has enough room for the hashed length\n        if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n            for (var i = this.bufferLength; i < BLOCK_SIZE; i++) {\n                bufferView.setUint8(i, 0);\n            }\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n        for (var i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n            bufferView.setUint8(i, 0);\n        }\n        bufferView.setUint32(BLOCK_SIZE - 8, Math.floor(bitsHashed / 0x100000000), true);\n        bufferView.setUint32(BLOCK_SIZE - 4, bitsHashed);\n        this.hashBuffer();\n        this.finished = true;\n    }\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    var out = new Buffer(DIGEST_LENGTH);\n    for (var i = 0; i < 8; i++) {\n        out[i * 4] = (this.state[i] >>> 24) & 0xff;\n        out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n        out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n        out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n    }\n    return encoding ? out.toString(encoding) : out;\n};\n\nSha256.prototype.hashBuffer = function () {\n    var _a = this,\n        buffer = _a.buffer,\n        state = _a.state;\n    var state0 = state[0],\n        state1 = state[1],\n        state2 = state[2],\n        state3 = state[3],\n        state4 = state[4],\n        state5 = state[5],\n        state6 = state[6],\n        state7 = state[7];\n    for (var i = 0; i < BLOCK_SIZE; i++) {\n        if (i < 16) {\n            this.temp[i] = (((buffer[i * 4] & 0xff) << 24) |\n                ((buffer[(i * 4) + 1] & 0xff) << 16) |\n                ((buffer[(i * 4) + 2] & 0xff) << 8) |\n                (buffer[(i * 4) + 3] & 0xff));\n        }\n        else {\n            var u = this.temp[i - 2];\n            var t1_1 = (u >>> 17 | u << 15) ^\n                (u >>> 19 | u << 13) ^\n                (u >>> 10);\n            u = this.temp[i - 15];\n            var t2_1 = (u >>> 7 | u << 25) ^\n                (u >>> 18 | u << 14) ^\n                (u >>> 3);\n            this.temp[i] = (t1_1 + this.temp[i - 7] | 0) +\n                (t2_1 + this.temp[i - 16] | 0);\n        }\n        var t1 = (((((state4 >>> 6 | state4 << 26) ^\n            (state4 >>> 11 | state4 << 21) ^\n            (state4 >>> 25 | state4 << 7))\n            + ((state4 & state5) ^ (~state4 & state6))) | 0)\n            + ((state7 + ((KEY[i] + this.temp[i]) | 0)) | 0)) | 0;\n        var t2 = (((state0 >>> 2 | state0 << 30) ^\n            (state0 >>> 13 | state0 << 19) ^\n            (state0 >>> 22 | state0 << 10)) + ((state0 & state1) ^ (state0 & state2) ^ (state1 & state2))) | 0;\n        state7 = state6;\n        state6 = state5;\n        state5 = state4;\n        state4 = (state3 + t1) | 0;\n        state3 = state2;\n        state2 = state1;\n        state1 = state0;\n        state0 = (t1 + t2) | 0;\n    }\n    state[0] += state0;\n    state[1] += state1;\n    state[2] += state2;\n    state[3] += state3;\n    state[4] += state4;\n    state[5] += state5;\n    state[6] += state6;\n    state[7] += state7;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents temporary credentials retrieved from {AWS.STS}. Without any\n * extra parameters, credentials will be fetched from the\n * {AWS.STS.getSessionToken} operation. If an IAM role is provided, the\n * {AWS.STS.assumeRole} operation will be used to fetch credentials for the\n * role instead.\n *\n * To setup temporary credentials, configure a set of master credentials\n * using the standard credentials providers (environment, EC2 instance metadata,\n * or from the filesystem), then set the global credentials to a new\n * temporary credentials object:\n *\n * ```javascript\n * // Note that environment credentials are loaded by default,\n * // the following line is shown for clarity:\n * AWS.config.credentials = new AWS.EnvironmentCredentials('AWS');\n *\n * // Now set temporary credentials seeded from the master credentials\n * AWS.config.credentials = new AWS.TemporaryCredentials();\n *\n * // subsequent requests will now use temporary credentials from AWS STS.\n * new AWS.S3().listBucket(function(err, data) { ... });\n * ```\n *\n * @!attribute masterCredentials\n *   @return [AWS.Credentials] the master (non-temporary) credentials used to\n *     get and refresh temporary credentials from AWS STS.\n * @note (see constructor)\n */\nAWS.TemporaryCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new temporary credentials object.\n   *\n   * @note In order to create temporary credentials, you first need to have\n   *   \"master\" credentials configured in {AWS.Config.credentials}. These\n   *   master credentials are necessary to retrieve the temporary credentials,\n   *   as well as refresh the credentials when they expire.\n   * @param params [map] a map of options that are passed to the\n   *   {AWS.STS.assumeRole} or {AWS.STS.getSessionToken} operations.\n   *   If a `RoleArn` parameter is passed in, credentials will be based on the\n   *   IAM role.\n   * @param masterCredentials [AWS.Credentials] the master (non-temporary) credentials\n   *  used to get and refresh temporary credentials from AWS STS.\n   * @example Creating a new credentials object for generic temporary credentials\n   *   AWS.config.credentials = new AWS.TemporaryCredentials();\n   * @example Creating a new credentials object for an IAM role\n   *   AWS.config.credentials = new AWS.TemporaryCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/TemporaryCredentials',\n   *   });\n   * @see AWS.STS.assumeRole\n   * @see AWS.STS.getSessionToken\n   */\n  constructor: function TemporaryCredentials(params, masterCredentials) {\n    AWS.Credentials.call(this);\n    this.loadMasterCredentials(masterCredentials);\n    this.expired = true;\n\n    this.params = params || {};\n    if (this.params.RoleArn) {\n      this.params.RoleSessionName =\n        this.params.RoleSessionName || 'temporary-credentials';\n    }\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRole} or\n   * {AWS.STS.getSessionToken}, depending on whether an IAM role ARN was passed\n   * to the credentials {constructor}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    var self = this;\n    self.createClients();\n    if (!callback) callback = function(err) { if (err) throw err; };\n\n    self.masterCredentials.get(function() {\n      self.service.config.credentials = self.masterCredentials;\n      var operation = self.params.RoleArn ?\n        self.service.assumeRole : self.service.getSessionToken;\n      operation.call(self.service, function (err, data) {\n        if (!err) {\n          self.service.credentialsFrom(data, self);\n        }\n        callback(err);\n      });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  loadMasterCredentials: function loadMasterCredentials(masterCredentials) {\n    this.masterCredentials = masterCredentials || AWS.config.credentials;\n    while (this.masterCredentials.masterCredentials) {\n      this.masterCredentials = this.masterCredentials.masterCredentials;\n    }\n\n    if (typeof this.masterCredentials.get !== 'function') {\n      this.masterCredentials = new AWS.Credentials(this.masterCredentials);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    this.service = this.service || new STS({params: this.params});\n  }\n\n});\n","var AWS = require('../core');\n\nAWS.util.update(AWS.STS.prototype, {\n  /**\n   * @overload credentialsFrom(data, credentials = null)\n   *   Creates a credentials object from STS response data containing\n   *   credentials information. Useful for quickly setting AWS credentials.\n   *\n   *   @note This is a low-level utility function. If you want to load temporary\n   *     credentials into your process for subsequent requests to AWS resources,\n   *     you should use {AWS.TemporaryCredentials} instead.\n   *   @param data [map] data retrieved from a call to {getFederatedToken},\n   *     {getSessionToken}, {assumeRole}, or {assumeRoleWithWebIdentity}.\n   *   @param credentials [AWS.Credentials] an optional credentials object to\n   *     fill instead of creating a new object. Useful when modifying an\n   *     existing credentials object from a refresh call.\n   *   @return [AWS.TemporaryCredentials] the set of temporary credentials\n   *     loaded from a raw STS operation response.\n   *   @example Using credentialsFrom to load global AWS credentials\n   *     var sts = new AWS.STS();\n   *     sts.getSessionToken(function (err, data) {\n   *       if (err) console.log(\"Error getting credentials\");\n   *       else {\n   *         AWS.config.credentials = sts.credentialsFrom(data);\n   *       }\n   *     });\n   *   @see AWS.TemporaryCredentials\n   */\n  credentialsFrom: function credentialsFrom(data, credentials) {\n    if (!data) return null;\n    if (!credentials) credentials = new AWS.TemporaryCredentials();\n    credentials.expired = false;\n    credentials.accessKeyId = data.Credentials.AccessKeyId;\n    credentials.secretAccessKey = data.Credentials.SecretAccessKey;\n    credentials.sessionToken = data.Credentials.SessionToken;\n    credentials.expireTime = data.Credentials.Expiration;\n    return credentials;\n  },\n\n  assumeRoleWithWebIdentity: function assumeRoleWithWebIdentity(params, callback) {\n    return this.makeUnauthenticatedRequest('assumeRoleWithWebIdentity', params, callback);\n  },\n\n  assumeRoleWithSAML: function assumeRoleWithSAML(params, callback) {\n    return this.makeUnauthenticatedRequest('assumeRoleWithSAML', params, callback);\n  }\n});\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS Web Identity Federation support.\n *\n * By default this provider gets credentials using the\n * {AWS.STS.assumeRoleWithWebIdentity} service operation. This operation\n * requires a `RoleArn` containing the ARN of the IAM trust policy for the\n * application for which credentials will be given. In addition, the\n * `WebIdentityToken` must be set to the token provided by the identity\n * provider. See {constructor} for an example on creating a credentials\n * object with proper `RoleArn` and `WebIdentityToken` values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the WebIdentityToken, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.WebIdentityToken = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.STS.assumeRoleWithWebIdentity}. To update the token, set the\n *     `params.WebIdentityToken` property.\n * @!attribute data\n *   @return [map] the raw data response from the call to\n *     {AWS.STS.assumeRoleWithWebIdentity}. Use this if you want to get\n *     access to other properties from the response.\n */\nAWS.WebIdentityCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new credentials object.\n   * @param (see AWS.STS.assumeRoleWithWebIdentity)\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.WebIdentityCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/WebIdentity',\n   *     WebIdentityToken: 'ABCDEFGHIJKLMNOP', // token from identity service\n   *     RoleSessionName: 'web' // optional name, defaults to web-identity\n   *   }, {\n   *     // optionally provide configuration to apply to the underlying AWS.STS service client\n   *     // if configuration is not provided, then configuration will be pulled from AWS.config\n   *\n   *     // specify timeout options\n   *     httpOptions: {\n   *       timeout: 100\n   *     }\n   *   });\n   * @see AWS.STS.assumeRoleWithWebIdentity\n   * @see AWS.Config\n   */\n  constructor: function WebIdentityCredentials(params, clientConfig) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n    this.params.RoleSessionName = this.params.RoleSessionName || 'web-identity';\n    this.data = null;\n    this._clientConfig = AWS.util.copy(clientConfig || {});\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRoleWithWebIdentity}\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    var self = this;\n    self.createClients();\n    if (!callback) callback = function(err) { if (err) throw err; };\n\n    self.service.assumeRoleWithWebIdentity(function (err, data) {\n      self.data = null;\n      if (!err) {\n        self.data = data;\n        self.service.credentialsFrom(data, self);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    if (!this.service) {\n      var stsConfig = AWS.util.merge({}, this._clientConfig);\n      stsConfig.params = this.params;\n      this.service = new STS(stsConfig);\n    }\n  }\n\n});\n","var AWS = require('../core');\nvar CognitoIdentity = require('../../clients/cognitoidentity');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS Web Identity Federation using\n * the Amazon Cognito Identity service.\n *\n * By default this provider gets credentials using the\n * {AWS.CognitoIdentity.getCredentialsForIdentity} service operation, which\n * requires either an `IdentityId` or an `IdentityPoolId` (Amazon Cognito\n * Identity Pool ID), which is used to call {AWS.CognitoIdentity.getId} to\n * obtain an `IdentityId`. If the identity or identity pool is not configured in\n * the Amazon Cognito Console to use IAM roles with the appropriate permissions,\n * then additionally a `RoleArn` is required containing the ARN of the IAM trust\n * policy for the Amazon Cognito role that the user will log into. If a `RoleArn`\n * is provided, then this provider gets credentials using the\n * {AWS.STS.assumeRoleWithWebIdentity} service operation, after first getting an\n * Open ID token from {AWS.CognitoIdentity.getOpenIdToken}.\n *\n * In addition, if this credential provider is used to provide authenticated\n * login, the `Logins` map may be set to the tokens provided by the respective\n * identity providers. See {constructor} for an example on creating a credentials\n * object with proper property values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the WebIdentityToken, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.Logins['graph.facebook.com'] = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.CognitoIdentity.getId},\n *     {AWS.CognitoIdentity.getOpenIdToken}, and\n *     {AWS.STS.assumeRoleWithWebIdentity}. To update the token, set the\n *     `params.WebIdentityToken` property.\n * @!attribute data\n *   @return [map] the raw data response from the call to\n *     {AWS.CognitoIdentity.getCredentialsForIdentity}, or\n *     {AWS.STS.assumeRoleWithWebIdentity}. Use this if you want to get\n *     access to other properties from the response.\n * @!attribute identityId\n *   @return [String] the Cognito ID returned by the last call to\n *     {AWS.CognitoIdentity.getOpenIdToken}. This ID represents the actual\n *     final resolved identity ID from Amazon Cognito.\n */\nAWS.CognitoIdentityCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * @api private\n   */\n  localStorageKey: {\n    id: 'aws.cognito.identity-id.',\n    providers: 'aws.cognito.identity-providers.'\n  },\n\n  /**\n   * Creates a new credentials object.\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n   *\n   *     // either IdentityPoolId or IdentityId is required\n   *     // See the IdentityPoolId param for AWS.CognitoIdentity.getID (linked below)\n   *     // See the IdentityId param for AWS.CognitoIdentity.getCredentialsForIdentity\n   *     // or AWS.CognitoIdentity.getOpenIdToken (linked below)\n   *     IdentityPoolId: 'us-east-1:1699ebc0-7900-4099-b910-2df94f52a030',\n   *     IdentityId: 'us-east-1:128d0a74-c82f-4553-916d-90053e4a8b0f'\n   *\n   *     // optional, only necessary when the identity pool is not configured\n   *     // to use IAM roles in the Amazon Cognito Console\n   *     // See the RoleArn param for AWS.STS.assumeRoleWithWebIdentity (linked below)\n   *     RoleArn: 'arn:aws:iam::1234567890:role/MYAPP-CognitoIdentity',\n   *\n   *     // optional tokens, used for authenticated login\n   *     // See the Logins param for AWS.CognitoIdentity.getID (linked below)\n   *     Logins: {\n   *       'graph.facebook.com': 'FBTOKEN',\n   *       'www.amazon.com': 'AMAZONTOKEN',\n   *       'accounts.google.com': 'GOOGLETOKEN',\n   *       'api.twitter.com': 'TWITTERTOKEN',\n   *       'www.digits.com': 'DIGITSTOKEN'\n   *     },\n   *\n   *     // optional name, defaults to web-identity\n   *     // See the RoleSessionName param for AWS.STS.assumeRoleWithWebIdentity (linked below)\n   *     RoleSessionName: 'web',\n   *\n   *     // optional, only necessary when application runs in a browser\n   *     // and multiple users are signed in at once, used for caching\n   *     LoginId: 'example@gmail.com'\n   *\n   *   }, {\n   *      // optionally provide configuration to apply to the underlying service clients\n   *      // if configuration is not provided, then configuration will be pulled from AWS.config\n   *\n   *      // region should match the region your identity pool is located in\n   *      region: 'us-east-1',\n   *\n   *      // specify timeout options\n   *      httpOptions: {\n   *        timeout: 100\n   *      }\n   *   });\n   * @see AWS.CognitoIdentity.getId\n   * @see AWS.CognitoIdentity.getCredentialsForIdentity\n   * @see AWS.STS.assumeRoleWithWebIdentity\n   * @see AWS.CognitoIdentity.getOpenIdToken\n   * @see AWS.Config\n   * @note If a region is not provided in the global AWS.config, or\n   *   specified in the `clientConfig` to the CognitoIdentityCredentials\n   *   constructor, you may encounter a 'Missing credentials in config' error\n   *   when calling making a service call.\n   */\n  constructor: function CognitoIdentityCredentials(params, clientConfig) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n    this.data = null;\n    this._identityId = null;\n    this._clientConfig = AWS.util.copy(clientConfig || {});\n    this.loadCachedId();\n    var self = this;\n    Object.defineProperty(this, 'identityId', {\n      get: function() {\n        self.loadCachedId();\n        return self._identityId || self.params.IdentityId;\n      },\n      set: function(identityId) {\n        self._identityId = identityId;\n      }\n    });\n  },\n\n  /**\n   * Refreshes credentials using {AWS.CognitoIdentity.getCredentialsForIdentity},\n   * or {AWS.STS.assumeRoleWithWebIdentity}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see AWS.Credentials.get\n   */\n  refresh: function refresh(callback) {\n    var self = this;\n    self.createClients();\n    self.data = null;\n    self._identityId = null;\n    self.getId(function(err) {\n      if (!err) {\n        if (!self.params.RoleArn) {\n          self.getCredentialsForIdentity(callback);\n        } else {\n          self.getCredentialsFromSTS(callback);\n        }\n      } else {\n        self.clearIdOnNotAuthorized(err);\n        callback(err);\n      }\n    });\n  },\n\n  /**\n   * Clears the cached Cognito ID associated with the currently configured\n   * identity pool ID. Use this to manually invalidate your cache if\n   * the identity pool ID was deleted.\n   */\n  clearCachedId: function clearCache() {\n    this._identityId = null;\n    delete this.params.IdentityId;\n\n    var poolId = this.params.IdentityPoolId;\n    var loginId = this.params.LoginId || '';\n    delete this.storage[this.localStorageKey.id + poolId + loginId];\n    delete this.storage[this.localStorageKey.providers + poolId + loginId];\n  },\n\n  /**\n   * @api private\n   */\n  clearIdOnNotAuthorized: function clearIdOnNotAuthorized(err) {\n    var self = this;\n    if (err.code == 'NotAuthorizedException') {\n      self.clearCachedId();\n    }\n  },\n\n  /**\n   * Retrieves a Cognito ID, loading from cache if it was already retrieved\n   * on this device.\n   *\n   * @callback callback function(err, identityId)\n   *   @param err [Error, null] an error object if the call failed or null if\n   *     it succeeded.\n   *   @param identityId [String, null] if successful, the callback will return\n   *     the Cognito ID.\n   * @note If not loaded explicitly, the Cognito ID is loaded and stored in\n   *   localStorage in the browser environment of a device.\n   * @api private\n   */\n  getId: function getId(callback) {\n    var self = this;\n    if (typeof self.params.IdentityId === 'string') {\n      return callback(null, self.params.IdentityId);\n    }\n\n    self.cognito.getId(function(err, data) {\n      if (!err && data.IdentityId) {\n        self.params.IdentityId = data.IdentityId;\n        callback(null, data.IdentityId);\n      } else {\n        callback(err);\n      }\n    });\n  },\n\n\n  /**\n   * @api private\n   */\n  loadCredentials: function loadCredentials(data, credentials) {\n    if (!data || !credentials) return;\n    credentials.expired = false;\n    credentials.accessKeyId = data.Credentials.AccessKeyId;\n    credentials.secretAccessKey = data.Credentials.SecretKey;\n    credentials.sessionToken = data.Credentials.SessionToken;\n    credentials.expireTime = data.Credentials.Expiration;\n  },\n\n  /**\n   * @api private\n   */\n  getCredentialsForIdentity: function getCredentialsForIdentity(callback) {\n    var self = this;\n    self.cognito.getCredentialsForIdentity(function(err, data) {\n      if (!err) {\n        self.cacheId(data);\n        self.data = data;\n        self.loadCredentials(self.data, self);\n      } else {\n        self.clearIdOnNotAuthorized(err);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  getCredentialsFromSTS: function getCredentialsFromSTS(callback) {\n    var self = this;\n    self.cognito.getOpenIdToken(function(err, data) {\n      if (!err) {\n        self.cacheId(data);\n        self.params.WebIdentityToken = data.Token;\n        self.webIdentityCredentials.refresh(function(webErr) {\n          if (!webErr) {\n            self.data = self.webIdentityCredentials.data;\n            self.sts.credentialsFrom(self.data, self);\n          }\n          callback(webErr);\n        });\n      } else {\n        self.clearIdOnNotAuthorized(err);\n        callback(err);\n      }\n    });\n  },\n\n  /**\n   * @api private\n   */\n  loadCachedId: function loadCachedId() {\n    var self = this;\n\n    // in the browser we source default IdentityId from localStorage\n    if (AWS.util.isBrowser() && !self.params.IdentityId) {\n      var id = self.getStorage('id');\n      if (id && self.params.Logins) {\n        var actualProviders = Object.keys(self.params.Logins);\n        var cachedProviders =\n          (self.getStorage('providers') || '').split(',');\n\n        // only load ID if at least one provider used this ID before\n        var intersect = cachedProviders.filter(function(n) {\n          return actualProviders.indexOf(n) !== -1;\n        });\n        if (intersect.length !== 0) {\n          self.params.IdentityId = id;\n        }\n      } else if (id) {\n        self.params.IdentityId = id;\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    var clientConfig = this._clientConfig;\n    this.webIdentityCredentials = this.webIdentityCredentials ||\n      new AWS.WebIdentityCredentials(this.params, clientConfig);\n    if (!this.cognito) {\n      var cognitoConfig = AWS.util.merge({}, clientConfig);\n      cognitoConfig.params = this.params;\n      this.cognito = new CognitoIdentity(cognitoConfig);\n    }\n    this.sts = this.sts || new STS(clientConfig);\n  },\n\n  /**\n   * @api private\n   */\n  cacheId: function cacheId(data) {\n    this._identityId = data.IdentityId;\n    this.params.IdentityId = this._identityId;\n\n    // cache this IdentityId in browser localStorage if possible\n    if (AWS.util.isBrowser()) {\n      this.setStorage('id', data.IdentityId);\n\n      if (this.params.Logins) {\n        this.setStorage('providers', Object.keys(this.params.Logins).join(','));\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getStorage: function getStorage(key) {\n    return this.storage[this.localStorageKey[key] + this.params.IdentityPoolId + (this.params.LoginId || '')];\n  },\n\n  /**\n   * @api private\n   */\n  setStorage: function setStorage(key, val) {\n    try {\n      this.storage[this.localStorageKey[key] + this.params.IdentityPoolId + (this.params.LoginId || '')] = val;\n    } catch (_) {}\n  },\n\n  /**\n   * @api private\n   */\n  storage: (function() {\n    try {\n      var storage = AWS.util.isBrowser() && window.localStorage !== null && typeof window.localStorage === 'object' ?\n          window.localStorage : {};\n\n      // Test set/remove which would throw an error in Safari's private browsing\n      storage['aws.test-storage'] = 'foobar';\n      delete storage['aws.test-storage'];\n\n      return storage;\n    } catch (_) {\n      return {};\n    }\n  })()\n});\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cognitoidentity'] = {};\nAWS.CognitoIdentity = Service.defineService('cognitoidentity', ['2014-06-30']);\nrequire('../lib/services/cognitoidentity');\nObject.defineProperty(apiLoader.services['cognitoidentity'], '2014-06-30', {\n  get: function get() {\n    var model = require('../apis/cognito-identity-2014-06-30.min.json');\n    model.paginators = require('../apis/cognito-identity-2014-06-30.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CognitoIdentity;\n","var AWS = require('../core');\n\nAWS.util.update(AWS.CognitoIdentity.prototype, {\n  getOpenIdToken: function getOpenIdToken(params, callback) {\n    return this.makeUnauthenticatedRequest('getOpenIdToken', params, callback);\n  },\n\n  getId: function getId(params, callback) {\n    return this.makeUnauthenticatedRequest('getId', params, callback);\n  },\n\n  getCredentialsForIdentity: function getCredentialsForIdentity(params, callback) {\n    return this.makeUnauthenticatedRequest('getCredentialsForIdentity', params, callback);\n  }\n});\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS SAML support.\n *\n * By default this provider gets credentials using the\n * {AWS.STS.assumeRoleWithSAML} service operation. This operation\n * requires a `RoleArn` containing the ARN of the IAM trust policy for the\n * application for which credentials will be given, as well as a `PrincipalArn`\n * representing the ARN for the SAML identity provider. In addition, the\n * `SAMLAssertion` must be set to the token provided by the identity\n * provider. See {constructor} for an example on creating a credentials\n * object with proper `RoleArn`, `PrincipalArn`, and `SAMLAssertion` values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the SAMLAssertion, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.SAMLAssertion = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.STS.assumeRoleWithSAML}. To update the token, set the\n *     `params.SAMLAssertion` property.\n */\nAWS.SAMLCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new credentials object.\n   * @param (see AWS.STS.assumeRoleWithSAML)\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.SAMLCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/SAMLRole',\n   *     PrincipalArn: 'arn:aws:iam::1234567890:role/SAMLPrincipal',\n   *     SAMLAssertion: 'base64-token', // base64-encoded token from IdP\n   *   });\n   * @see AWS.STS.assumeRoleWithSAML\n   */\n  constructor: function SAMLCredentials(params) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRoleWithSAML}\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    var self = this;\n    self.createClients();\n    if (!callback) callback = function(err) { if (err) throw err; };\n\n    self.service.assumeRoleWithSAML(function (err, data) {\n      if (!err) {\n        self.service.credentialsFrom(data, self);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    this.service = this.service || new STS({params: this.params});\n  }\n\n});\n","var util = require('../util');\nvar Shape = require('../model/shape');\n\nfunction DomXmlParser() { }\n\nDomXmlParser.prototype.parse = function(xml, shape) {\n  if (xml.replace(/^\\s+/, '') === '') return {};\n\n  var result, error;\n  try {\n    if (window.DOMParser) {\n      try {\n        var parser = new DOMParser();\n        result = parser.parseFromString(xml, 'text/xml');\n      } catch (syntaxError) {\n        throw util.error(new Error('Parse error in document'),\n          {\n            originalError: syntaxError,\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n\n      if (result.documentElement === null) {\n        throw util.error(new Error('Cannot parse empty document.'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n\n      var isError = result.getElementsByTagName('parsererror')[0];\n      if (isError && (isError.parentNode === result ||\n          isError.parentNode.nodeName === 'body' ||\n          isError.parentNode.parentNode === result ||\n          isError.parentNode.parentNode.nodeName === 'body')) {\n        var errorElement = isError.getElementsByTagName('div')[0] || isError;\n        throw util.error(new Error(errorElement.textContent || 'Parser error in document'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n    } else if (window.ActiveXObject) {\n      result = new window.ActiveXObject('Microsoft.XMLDOM');\n      result.async = false;\n\n      if (!result.loadXML(xml)) {\n        throw util.error(new Error('Parse error in document'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n    } else {\n      throw new Error('Cannot load XML parser');\n    }\n  } catch (e) {\n    error = e;\n  }\n\n  if (result && result.documentElement && !error) {\n    var data = parseXml(result.documentElement, shape);\n    var metadata = result.getElementsByTagName('ResponseMetadata')[0];\n    if (metadata) {\n      data.ResponseMetadata = parseXml(metadata, {});\n    }\n    return data;\n  } else if (error) {\n    throw util.error(error || new Error(), {code: 'XMLParserError', retryable: true});\n  } else { // empty xml document\n    return {};\n  }\n};\n\nfunction parseXml(xml, shape) {\n  if (!shape) shape = {};\n  switch (shape.type) {\n    case 'structure': return parseStructure(xml, shape);\n    case 'map': return parseMap(xml, shape);\n    case 'list': return parseList(xml, shape);\n    case undefined: case null: return parseUnknown(xml);\n    default: return parseScalar(xml, shape);\n  }\n}\n\nfunction parseStructure(xml, shape) {\n  var data = {};\n  if (xml === null) return data;\n\n  util.each(shape.members, function(memberName, memberShape) {\n    if (memberShape.isXmlAttribute) {\n      if (Object.prototype.hasOwnProperty.call(xml.attributes, memberShape.name)) {\n        var value = xml.attributes[memberShape.name].value;\n        data[memberName] = parseXml({textContent: value}, memberShape);\n      }\n    } else {\n      var xmlChild = memberShape.flattened ? xml :\n        xml.getElementsByTagName(memberShape.name)[0];\n      if (xmlChild) {\n        data[memberName] = parseXml(xmlChild, memberShape);\n      } else if (!memberShape.flattened && memberShape.type === 'list') {\n        data[memberName] = memberShape.defaultValue;\n      }\n    }\n  });\n\n  return data;\n}\n\nfunction parseMap(xml, shape) {\n  var data = {};\n  var xmlKey = shape.key.name || 'key';\n  var xmlValue = shape.value.name || 'value';\n  var tagName = shape.flattened ? shape.name : 'entry';\n\n  var child = xml.firstElementChild;\n  while (child) {\n    if (child.nodeName === tagName) {\n      var key = child.getElementsByTagName(xmlKey)[0].textContent;\n      var value = child.getElementsByTagName(xmlValue)[0];\n      data[key] = parseXml(value, shape.value);\n    }\n    child = child.nextElementSibling;\n  }\n  return data;\n}\n\nfunction parseList(xml, shape) {\n  var data = [];\n  var tagName = shape.flattened ? shape.name : (shape.member.name || 'member');\n\n  var child = xml.firstElementChild;\n  while (child) {\n    if (child.nodeName === tagName) {\n      data.push(parseXml(child, shape.member));\n    }\n    child = child.nextElementSibling;\n  }\n  return data;\n}\n\nfunction parseScalar(xml, shape) {\n  if (xml.getAttribute) {\n    var encoding = xml.getAttribute('encoding');\n    if (encoding === 'base64') {\n      shape = new Shape.create({type: encoding});\n    }\n  }\n\n  var text = xml.textContent;\n  if (text === '') text = null;\n  if (typeof shape.toType === 'function') {\n    return shape.toType(text);\n  } else {\n    return text;\n  }\n}\n\nfunction parseUnknown(xml) {\n  if (xml === undefined || xml === null) return '';\n\n  // empty object\n  if (!xml.firstElementChild) {\n    if (xml.parentNode.parentNode === null) return {};\n    if (xml.childNodes.length === 0) return '';\n    else return xml.textContent;\n  }\n\n  // object, parse as structure\n  var shape = {type: 'structure', members: {}};\n  var child = xml.firstElementChild;\n  while (child) {\n    var tag = child.nodeName;\n    if (Object.prototype.hasOwnProperty.call(shape.members, tag)) {\n      // multiple tags of the same name makes it a list\n      shape.members[tag].type = 'list';\n    } else {\n      shape.members[tag] = {name: tag};\n    }\n    child = child.nextElementSibling;\n  }\n  return parseStructure(xml, shape);\n}\n\nmodule.exports = DomXmlParser;\n","var AWS = require('../core');\nvar EventEmitter = require('events').EventEmitter;\nrequire('../http');\n\n/**\n * @api private\n */\nAWS.XHRClient = AWS.util.inherit({\n  handleRequest: function handleRequest(httpRequest, httpOptions, callback, errCallback) {\n    var self = this;\n    var endpoint = httpRequest.endpoint;\n    var emitter = new EventEmitter();\n    var href = endpoint.protocol + '//' + endpoint.hostname;\n    if (endpoint.port !== 80 && endpoint.port !== 443) {\n      href += ':' + endpoint.port;\n    }\n    href += httpRequest.path;\n\n    var xhr = new XMLHttpRequest(), headersEmitted = false;\n    httpRequest.stream = xhr;\n\n    xhr.addEventListener('readystatechange', function() {\n      try {\n        if (xhr.status === 0) return; // 0 code is invalid\n      } catch (e) { return; }\n\n      if (this.readyState >= this.HEADERS_RECEIVED && !headersEmitted) {\n        emitter.statusCode = xhr.status;\n        emitter.headers = self.parseHeaders(xhr.getAllResponseHeaders());\n        emitter.emit(\n          'headers',\n          emitter.statusCode,\n          emitter.headers,\n          xhr.statusText\n        );\n        headersEmitted = true;\n      }\n      if (this.readyState === this.DONE) {\n        self.finishRequest(xhr, emitter);\n      }\n    }, false);\n    xhr.upload.addEventListener('progress', function (evt) {\n      emitter.emit('sendProgress', evt);\n    });\n    xhr.addEventListener('progress', function (evt) {\n      emitter.emit('receiveProgress', evt);\n    }, false);\n    xhr.addEventListener('timeout', function () {\n      errCallback(AWS.util.error(new Error('Timeout'), {code: 'TimeoutError'}));\n    }, false);\n    xhr.addEventListener('error', function () {\n      errCallback(AWS.util.error(new Error('Network Failure'), {\n        code: 'NetworkingError'\n      }));\n    }, false);\n    xhr.addEventListener('abort', function () {\n      errCallback(AWS.util.error(new Error('Request aborted'), {\n        code: 'RequestAbortedError'\n      }));\n    }, false);\n\n    callback(emitter);\n    xhr.open(httpRequest.method, href, httpOptions.xhrAsync !== false);\n    AWS.util.each(httpRequest.headers, function (key, value) {\n      if (key !== 'Content-Length' && key !== 'User-Agent' && key !== 'Host') {\n        xhr.setRequestHeader(key, value);\n      }\n    });\n\n    if (httpOptions.timeout && httpOptions.xhrAsync !== false) {\n      xhr.timeout = httpOptions.timeout;\n    }\n\n    if (httpOptions.xhrWithCredentials) {\n      xhr.withCredentials = true;\n    }\n    try { xhr.responseType = 'arraybuffer'; } catch (e) {}\n\n    try {\n      if (httpRequest.body) {\n        xhr.send(httpRequest.body);\n      } else {\n        xhr.send();\n      }\n    } catch (err) {\n      if (httpRequest.body && typeof httpRequest.body.buffer === 'object') {\n        xhr.send(httpRequest.body.buffer); // send ArrayBuffer directly\n      } else {\n        throw err;\n      }\n    }\n\n    return emitter;\n  },\n\n  parseHeaders: function parseHeaders(rawHeaders) {\n    var headers = {};\n    AWS.util.arrayEach(rawHeaders.split(/\\r?\\n/), function (line) {\n      var key = line.split(':', 1)[0];\n      var value = line.substring(key.length + 2);\n      if (key.length > 0) headers[key.toLowerCase()] = value;\n    });\n    return headers;\n  },\n\n  finishRequest: function finishRequest(xhr, emitter) {\n    var buffer;\n    if (xhr.responseType === 'arraybuffer' && xhr.response) {\n      var ab = xhr.response;\n      buffer = new AWS.util.Buffer(ab.byteLength);\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < buffer.length; ++i) {\n        buffer[i] = view[i];\n      }\n    }\n\n    try {\n      if (!buffer && typeof xhr.responseText === 'string') {\n        buffer = new AWS.util.Buffer(xhr.responseText);\n      }\n    } catch (e) {}\n\n    if (buffer) emitter.emit('data', buffer);\n    emitter.emit('end');\n  }\n});\n\n/**\n * @api private\n */\nAWS.HttpClient.prototype = AWS.XHRClient.prototype;\n\n/**\n * @api private\n */\nAWS.HttpClient.streamsApiVersion = 1;\n","var AWS = require('../core');\nvar v4Credentials = require('../signers/v4_credentials');\n\n// Pull in managed upload extension\nrequire('../s3/managed_upload');\n\n/**\n * @api private\n */\nvar operationsWith200StatusCodeError = {\n  'completeMultipartUpload': true,\n  'copyObject': true,\n  'uploadPartCopy': true\n};\n\n/**\n * @api private\n */\n var regionRedirectErrorCodes = [\n  'AuthorizationHeaderMalformed', // non-head operations on virtual-hosted global bucket endpoints\n  'BadRequest', // head operations on virtual-hosted global bucket endpoints\n  'PermanentRedirect', // non-head operations on path-style or regional endpoints\n  301 // head operations on path-style or regional endpoints\n ];\n\nAWS.util.update(AWS.S3.prototype, {\n  /**\n   * @api private\n   */\n  getSignatureVersion: function getSignatureVersion(request) {\n    var defaultApiVersion = this.api.signatureVersion;\n    var userDefinedVersion = this._originalConfig ? this._originalConfig.signatureVersion : null;\n    var regionDefinedVersion = this.config.signatureVersion;\n    var isPresigned = request ? request.isPresigned() : false;\n    /*\n      1) User defined version specified:\n        a) always return user defined version\n      2) No user defined version specified:\n        a) default to lowest version the region supports\n        b) If using presigned urls, default to lowest version the region supports\n    */\n    if (userDefinedVersion) {\n      userDefinedVersion = userDefinedVersion === 'v2' ? 's3' : userDefinedVersion;\n      return userDefinedVersion;\n    }\n    if (isPresigned !== true) {\n      defaultApiVersion = 'v4';\n    } else if (regionDefinedVersion) {\n      defaultApiVersion = regionDefinedVersion;\n    }\n    return defaultApiVersion;\n  },\n\n  /**\n   * @api private\n   */\n  getSignerClass: function getSignerClass(request) {\n    var signatureVersion = this.getSignatureVersion(request);\n    return AWS.Signers.RequestSigner.getVersion(signatureVersion);\n  },\n\n  /**\n   * @api private\n   */\n  validateService: function validateService() {\n    var msg;\n    var messages = [];\n\n    // default to us-east-1 when no region is provided\n    if (!this.config.region) this.config.region = 'us-east-1';\n\n    if (!this.config.endpoint && this.config.s3BucketEndpoint) {\n      messages.push('An endpoint must be provided when configuring ' +\n                    '`s3BucketEndpoint` to true.');\n    }\n    if (messages.length === 1) {\n      msg = messages[0];\n    } else if (messages.length > 1) {\n      msg = 'Multiple configuration errors:\\n' + messages.join('\\n');\n    }\n    if (msg) {\n      throw AWS.util.error(new Error(),\n        {name: 'InvalidEndpoint', message: msg});\n    }\n  },\n\n  /**\n   * @api private\n   */\n  shouldDisableBodySigning: function shouldDisableBodySigning(request) {\n    var signerClass = this.getSignerClass();\n    if (this.config.s3DisableBodySigning === true && signerClass === AWS.Signers.V4\n        && request.httpRequest.endpoint.protocol === 'https:') {\n      return true;\n    }\n    return false;\n  },\n\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    request.addListener('validate', this.validateScheme);\n    request.addListener('validate', this.validateBucketEndpoint);\n    request.addListener('validate', this.correctBucketRegionFromCache);\n    request.addListener('validate', this.validateBucketName);\n    request.addListener('build', this.addContentType);\n    request.addListener('build', this.populateURI);\n    request.addListener('build', this.computeContentMd5);\n    request.addListener('build', this.computeSseCustomerKeyMd5);\n    request.addListener('afterBuild', this.addExpect100Continue);\n    request.removeListener('validate',\n      AWS.EventListeners.Core.VALIDATE_REGION);\n    request.addListener('extractError', this.extractError);\n    request.onAsync('extractError', this.requestBucketRegion);\n    request.addListener('extractData', this.extractData);\n    request.addListener('extractData', AWS.util.hoistPayloadMember);\n    request.addListener('beforePresign', this.prepareSignedUrl);\n    if (AWS.util.isBrowser()) {\n      request.onAsync('retry', this.reqRegionForNetworkingError);\n    }\n    if (this.shouldDisableBodySigning(request))  {\n      request.removeListener('afterBuild', AWS.EventListeners.Core.COMPUTE_SHA256);\n      request.addListener('afterBuild', this.disableBodySigning);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateScheme: function(req) {\n    var params = req.params,\n        scheme = req.httpRequest.endpoint.protocol,\n        sensitive = params.SSECustomerKey || params.CopySourceSSECustomerKey;\n    if (sensitive && scheme !== 'https:') {\n      var msg = 'Cannot send SSE keys over HTTP. Set \\'sslEnabled\\'' +\n        'to \\'true\\' in your configuration';\n      throw AWS.util.error(new Error(),\n        { code: 'ConfigError', message: msg });\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateBucketEndpoint: function(req) {\n    if (!req.params.Bucket && req.service.config.s3BucketEndpoint) {\n      var msg = 'Cannot send requests to root API with `s3BucketEndpoint` set.';\n      throw AWS.util.error(new Error(),\n        { code: 'ConfigError', message: msg });\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateBucketName: function validateBucketName(req) {\n    var service = req.service;\n    var signatureVersion = service.getSignatureVersion(req);\n    // Only validate buckets when using sigv4\n    if (signatureVersion !== 'v4') {\n      return;\n    }\n    var bucket = req.params && req.params.Bucket;\n    var key = req.params && req.params.Key;\n    var slashIndex = bucket && bucket.indexOf('/');\n    if (bucket && slashIndex >= 0) {\n      if (typeof key === 'string') {\n        req.params = AWS.util.copy(req.params);\n        // Need to include trailing slash to match sigv2 behavior\n        var prefix = bucket.substr(slashIndex + 1) || '';\n        req.params.Key = prefix + '/' + key;\n        req.params.Bucket = bucket.substr(0, slashIndex);\n      } else {\n        var msg = 'Bucket names cannot contain forward slashes. Bucket: ' + bucket;\n        throw AWS.util.error(new Error(),\n          { code: 'InvalidBucket', message: msg });\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  isValidAccelerateOperation: function isValidAccelerateOperation(operation) {\n    var invalidOperations = [\n      'createBucket',\n      'deleteBucket',\n      'listBuckets'\n    ];\n    return invalidOperations.indexOf(operation) === -1;\n  },\n\n\n  /**\n   * S3 prefers dns-compatible bucket names to be moved from the uri path\n   * to the hostname as a sub-domain.  This is not possible, even for dns-compat\n   * buckets when using SSL and the bucket name contains a dot ('.').  The\n   * ssl wildcard certificate is only 1-level deep.\n   *\n   * @api private\n   */\n  populateURI: function populateURI(req) {\n    var httpRequest = req.httpRequest;\n    var b = req.params.Bucket;\n    var service = req.service;\n    var endpoint = httpRequest.endpoint;\n    if (b) {\n      if (!service.pathStyleBucketName(b)) {\n        if (service.config.useAccelerateEndpoint && service.isValidAccelerateOperation(req.operation)) {\n          if (service.config.useDualstack) {\n            endpoint.hostname = b + '.s3-accelerate.dualstack.amazonaws.com';\n          } else {\n            endpoint.hostname = b + '.s3-accelerate.amazonaws.com';\n          }\n        } else if (!service.config.s3BucketEndpoint) {\n          endpoint.hostname =\n            b + '.' + endpoint.hostname;\n        }\n\n        var port = endpoint.port;\n        if (port !== 80 && port !== 443) {\n          endpoint.host = endpoint.hostname + ':' +\n            endpoint.port;\n        } else {\n          endpoint.host = endpoint.hostname;\n        }\n\n        httpRequest.virtualHostedBucket = b; // needed for signing the request\n        service.removeVirtualHostedBucketFromPath(req);\n      }\n    }\n  },\n\n  /**\n   * Takes the bucket name out of the path if bucket is virtual-hosted\n   *\n   * @api private\n   */\n  removeVirtualHostedBucketFromPath: function removeVirtualHostedBucketFromPath(req) {\n    var httpRequest = req.httpRequest;\n    var bucket = httpRequest.virtualHostedBucket;\n    if (bucket && httpRequest.path) {\n      httpRequest.path = httpRequest.path.replace(new RegExp('/' + bucket), '');\n      if (httpRequest.path[0] !== '/') {\n        httpRequest.path = '/' + httpRequest.path;\n      }\n    }\n  },\n\n  /**\n   * Adds Expect: 100-continue header if payload is greater-or-equal 1MB\n   * @api private\n   */\n  addExpect100Continue: function addExpect100Continue(req) {\n    var len = req.httpRequest.headers['Content-Length'];\n    if (AWS.util.isNode() && len >= 1024 * 1024) {\n      req.httpRequest.headers['Expect'] = '100-continue';\n    }\n  },\n\n  /**\n   * Adds a default content type if none is supplied.\n   *\n   * @api private\n   */\n  addContentType: function addContentType(req) {\n    var httpRequest = req.httpRequest;\n    if (httpRequest.method === 'GET' || httpRequest.method === 'HEAD') {\n      // Content-Type is not set in GET/HEAD requests\n      delete httpRequest.headers['Content-Type'];\n      return;\n    }\n\n    if (!httpRequest.headers['Content-Type']) { // always have a Content-Type\n      httpRequest.headers['Content-Type'] = 'application/octet-stream';\n    }\n\n    var contentType = httpRequest.headers['Content-Type'];\n    if (AWS.util.isBrowser()) {\n      if (typeof httpRequest.body === 'string' && !contentType.match(/;\\s*charset=/)) {\n        var charset = '; charset=UTF-8';\n        httpRequest.headers['Content-Type'] += charset;\n      } else {\n        var replaceFn = function(_, prefix, charsetName) {\n          return prefix + charsetName.toUpperCase();\n        };\n\n        httpRequest.headers['Content-Type'] =\n          contentType.replace(/(;\\s*charset=)(.+)$/, replaceFn);\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  computableChecksumOperations: {\n    putBucketCors: true,\n    putBucketLifecycle: true,\n    putBucketLifecycleConfiguration: true,\n    putBucketTagging: true,\n    deleteObjects: true,\n    putBucketReplication: true\n  },\n\n  /**\n   * Checks whether checksums should be computed for the request.\n   * If the request requires checksums to be computed, this will always\n   * return true, otherwise it depends on whether {AWS.Config.computeChecksums}\n   * is set.\n   *\n   * @param req [AWS.Request] the request to check against\n   * @return [Boolean] whether to compute checksums for a request.\n   * @api private\n   */\n  willComputeChecksums: function willComputeChecksums(req) {\n    if (this.computableChecksumOperations[req.operation]) return true;\n    if (!this.config.computeChecksums) return false;\n\n    // TODO: compute checksums for Stream objects\n    if (!AWS.util.Buffer.isBuffer(req.httpRequest.body) &&\n        typeof req.httpRequest.body !== 'string') {\n      return false;\n    }\n\n    var rules = req.service.api.operations[req.operation].input.members;\n\n    // Sha256 signing disabled, and not a presigned url\n    if (req.service.shouldDisableBodySigning(req) && !Object.prototype.hasOwnProperty.call(req.httpRequest.headers, 'presigned-expires')) {\n      if (rules.ContentMD5 && !req.params.ContentMD5) {\n        return true;\n      }\n    }\n\n    // V4 signer uses SHA256 signatures so only compute MD5 if it is required\n    if (req.service.getSignerClass(req) === AWS.Signers.V4) {\n      if (rules.ContentMD5 && !rules.ContentMD5.required) return false;\n    }\n\n    if (rules.ContentMD5 && !req.params.ContentMD5) return true;\n  },\n\n  /**\n   * A listener that computes the Content-MD5 and sets it in the header.\n   * @see AWS.S3.willComputeChecksums\n   * @api private\n   */\n  computeContentMd5: function computeContentMd5(req) {\n    if (req.service.willComputeChecksums(req)) {\n      var md5 = AWS.util.crypto.md5(req.httpRequest.body, 'base64');\n      req.httpRequest.headers['Content-MD5'] = md5;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  computeSseCustomerKeyMd5: function computeSseCustomerKeyMd5(req) {\n    var keys = {\n      SSECustomerKey: 'x-amz-server-side-encryption-customer-key-MD5',\n      CopySourceSSECustomerKey: 'x-amz-copy-source-server-side-encryption-customer-key-MD5'\n    };\n    AWS.util.each(keys, function(key, header) {\n      if (req.params[key]) {\n        var value = AWS.util.crypto.md5(req.params[key], 'base64');\n        req.httpRequest.headers[header] = value;\n      }\n    });\n  },\n\n  /**\n   * Returns true if the bucket name should be left in the URI path for\n   * a request to S3.  This function takes into account the current\n   * endpoint protocol (e.g. http or https).\n   *\n   * @api private\n   */\n  pathStyleBucketName: function pathStyleBucketName(bucketName) {\n    // user can force path style requests via the configuration\n    if (this.config.s3ForcePathStyle) return true;\n    if (this.config.s3BucketEndpoint) return false;\n\n    if (this.dnsCompatibleBucketName(bucketName)) {\n      return (this.config.sslEnabled && bucketName.match(/\\./)) ? true : false;\n    } else {\n      return true; // not dns compatible names must always use path style\n    }\n  },\n\n  /**\n   * Returns true if the bucket name is DNS compatible.  Buckets created\n   * outside of the classic region MUST be DNS compatible.\n   *\n   * @api private\n   */\n  dnsCompatibleBucketName: function dnsCompatibleBucketName(bucketName) {\n    var b = bucketName;\n    var domain = new RegExp(/^[a-z0-9][a-z0-9\\.\\-]{1,61}[a-z0-9]$/);\n    var ipAddress = new RegExp(/(\\d+\\.){3}\\d+/);\n    var dots = new RegExp(/\\.\\./);\n    return (b.match(domain) && !b.match(ipAddress) && !b.match(dots)) ? true : false;\n  },\n\n  /**\n   * @return [Boolean] whether response contains an error\n   * @api private\n   */\n  successfulResponse: function successfulResponse(resp) {\n    var req = resp.request;\n    var httpResponse = resp.httpResponse;\n    if (operationsWith200StatusCodeError[req.operation] &&\n        httpResponse.body.toString().match('<Error>')) {\n      return false;\n    } else {\n      return httpResponse.statusCode < 300;\n    }\n  },\n\n  /**\n   * @return [Boolean] whether the error can be retried\n   * @api private\n   */\n  retryableError: function retryableError(error, request) {\n    if (operationsWith200StatusCodeError[request.operation] &&\n        error.statusCode === 200) {\n      return true;\n    } else if (request._requestRegionForBucket &&\n        request.service.bucketRegionCache[request._requestRegionForBucket]) {\n      return false;\n    } else if (error && error.code === 'RequestTimeout') {\n      return true;\n    } else if (error &&\n        regionRedirectErrorCodes.indexOf(error.code) != -1 &&\n        error.region && error.region != request.httpRequest.region) {\n      request.httpRequest.region = error.region;\n      if (error.statusCode === 301) {\n        request.service.updateReqBucketRegion(request);\n      }\n      return true;\n    } else {\n      var _super = AWS.Service.prototype.retryableError;\n      return _super.call(this, error, request);\n    }\n  },\n\n  /**\n   * Updates httpRequest with region. If region is not provided, then\n   * the httpRequest will be updated based on httpRequest.region\n   *\n   * @api private\n   */\n  updateReqBucketRegion: function updateReqBucketRegion(request, region) {\n    var httpRequest = request.httpRequest;\n    if (typeof region === 'string' && region.length) {\n      httpRequest.region = region;\n    }\n    if (!httpRequest.endpoint.host.match(/s3(?!-accelerate).*\\.amazonaws\\.com$/)) {\n      return;\n    }\n    var service = request.service;\n    var s3Config = service.config;\n    var s3BucketEndpoint = s3Config.s3BucketEndpoint;\n    if (s3BucketEndpoint) {\n      delete s3Config.s3BucketEndpoint;\n    }\n    var newConfig = AWS.util.copy(s3Config);\n    delete newConfig.endpoint;\n    newConfig.region = httpRequest.region;\n\n    httpRequest.endpoint = (new AWS.S3(newConfig)).endpoint;\n    service.populateURI(request);\n    s3Config.s3BucketEndpoint = s3BucketEndpoint;\n    httpRequest.headers.Host = httpRequest.endpoint.host;\n\n    if (request._asm.currentState === 'validate') {\n      request.removeListener('build', service.populateURI);\n      request.addListener('build', service.removeVirtualHostedBucketFromPath);\n    }\n  },\n\n  /**\n   * Provides a specialized parser for getBucketLocation -- all other\n   * operations are parsed by the super class.\n   *\n   * @api private\n   */\n  extractData: function extractData(resp) {\n    var req = resp.request;\n    if (req.operation === 'getBucketLocation') {\n      var match = resp.httpResponse.body.toString().match(/>(.+)<\\/Location/);\n      delete resp.data['_'];\n      if (match) {\n        resp.data.LocationConstraint = match[1];\n      } else {\n        resp.data.LocationConstraint = '';\n      }\n    }\n    var bucket = req.params.Bucket || null;\n    if (req.operation === 'deleteBucket' && typeof bucket === 'string' && !resp.error) {\n      req.service.clearBucketRegionCache(bucket);\n    } else {\n      var headers = resp.httpResponse.headers || {};\n      var region = headers['x-amz-bucket-region'] || null;\n      if (!region && req.operation === 'createBucket' && !resp.error) {\n        var createBucketConfiguration = req.params.CreateBucketConfiguration;\n        if (!createBucketConfiguration) {\n          region = 'us-east-1';\n        } else if (createBucketConfiguration.LocationConstraint === 'EU') {\n          region = 'eu-west-1';\n        } else {\n          region = createBucketConfiguration.LocationConstraint;\n        }\n      }\n      if (region) {\n          if (bucket && region !== req.service.bucketRegionCache[bucket]) {\n            req.service.bucketRegionCache[bucket] = region;\n          }\n      }\n    }\n    req.service.extractRequestIds(resp);\n  },\n\n  /**\n   * Extracts an error object from the http response.\n   *\n   * @api private\n   */\n  extractError: function extractError(resp) {\n    var codes = {\n      304: 'NotModified',\n      403: 'Forbidden',\n      400: 'BadRequest',\n      404: 'NotFound'\n    };\n\n    var req = resp.request;\n    var code = resp.httpResponse.statusCode;\n    var body = resp.httpResponse.body || '';\n\n    var headers = resp.httpResponse.headers || {};\n    var region = headers['x-amz-bucket-region'] || null;\n    var bucket = req.params.Bucket || null;\n    var bucketRegionCache = req.service.bucketRegionCache;\n    if (region && bucket && region !== bucketRegionCache[bucket]) {\n      bucketRegionCache[bucket] = region;\n    }\n\n    var cachedRegion;\n    if (codes[code] && body.length === 0) {\n      if (bucket && !region) {\n        cachedRegion = bucketRegionCache[bucket] || null;\n        if (cachedRegion !== req.httpRequest.region) {\n          region = cachedRegion;\n        }\n      }\n      resp.error = AWS.util.error(new Error(), {\n        code: codes[code],\n        message: null,\n        region: region\n      });\n    } else {\n      var data = new AWS.XML.Parser().parse(body.toString());\n\n      if (data.Region && !region) {\n        region = data.Region;\n        if (bucket && region !== bucketRegionCache[bucket]) {\n          bucketRegionCache[bucket] = region;\n        }\n      } else if (bucket && !region && !data.Region) {\n        cachedRegion = bucketRegionCache[bucket] || null;\n        if (cachedRegion !== req.httpRequest.region) {\n          region = cachedRegion;\n        }\n      }\n\n      resp.error = AWS.util.error(new Error(), {\n        code: data.Code || code,\n        message: data.Message || null,\n        region: region\n      });\n    }\n    req.service.extractRequestIds(resp);\n  },\n\n  /**\n   * If region was not obtained synchronously, then send async request\n   * to get bucket region for errors resulting from wrong region.\n   *\n   * @api private\n   */\n  requestBucketRegion: function requestBucketRegion(resp, done) {\n    var error = resp.error;\n    var req = resp.request;\n    var bucket = req.params.Bucket || null;\n\n    if (!error || !bucket || error.region || req.operation === 'listObjects' ||\n        (AWS.util.isNode() && req.operation === 'headBucket') ||\n        (error.statusCode === 400 && req.operation !== 'headObject') ||\n        regionRedirectErrorCodes.indexOf(error.code) === -1) {\n      return done();\n    }\n    var reqOperation = AWS.util.isNode() ? 'headBucket' : 'listObjects';\n    var reqParams = {Bucket: bucket};\n    if (reqOperation === 'listObjects') reqParams.MaxKeys = 0;\n    var regionReq = req.service[reqOperation](reqParams);\n    regionReq._requestRegionForBucket = bucket;\n    regionReq.send(function() {\n      var region = req.service.bucketRegionCache[bucket] || null;\n      error.region = region;\n      done();\n    });\n  },\n\n   /**\n   * For browser only. If NetworkingError received, will attempt to obtain\n   * the bucket region.\n   *\n   * @api private\n   */\n   reqRegionForNetworkingError: function reqRegionForNetworkingError(resp, done) {\n    if (!AWS.util.isBrowser()) {\n      return done();\n    }\n    var error = resp.error;\n    var request = resp.request;\n    var bucket = request.params.Bucket;\n    if (!error || error.code !== 'NetworkingError' || !bucket ||\n        request.httpRequest.region === 'us-east-1') {\n      return done();\n    }\n    var service = request.service;\n    var bucketRegionCache = service.bucketRegionCache;\n    var cachedRegion = bucketRegionCache[bucket] || null;\n\n    if (cachedRegion && cachedRegion !== request.httpRequest.region) {\n      service.updateReqBucketRegion(request, cachedRegion);\n      done();\n    } else if (!service.dnsCompatibleBucketName(bucket)) {\n      service.updateReqBucketRegion(request, 'us-east-1');\n      if (bucketRegionCache[bucket] !== 'us-east-1') {\n        bucketRegionCache[bucket] = 'us-east-1';\n      }\n      done();\n    } else if (request.httpRequest.virtualHostedBucket) {\n      var getRegionReq = service.listObjects({Bucket: bucket, MaxKeys: 0});\n      service.updateReqBucketRegion(getRegionReq, 'us-east-1');\n      getRegionReq._requestRegionForBucket = bucket;\n\n      getRegionReq.send(function() {\n        var region = service.bucketRegionCache[bucket] || null;\n        if (region && region !== request.httpRequest.region) {\n          service.updateReqBucketRegion(request, region);\n        }\n        done();\n      });\n    } else {\n      // DNS-compatible path-style\n      // (s3ForcePathStyle or bucket name with dot over https)\n      // Cannot obtain region information for this case\n      done();\n    }\n   },\n\n  /**\n   * Cache for bucket region.\n   *\n   * @api private\n   */\n   bucketRegionCache: {},\n\n  /**\n   * Clears bucket region cache.\n   *\n   * @api private\n   */\n   clearBucketRegionCache: function(buckets) {\n    var bucketRegionCache = this.bucketRegionCache;\n    if (!buckets) {\n      buckets = Object.keys(bucketRegionCache);\n    } else if (typeof buckets === 'string') {\n      buckets = [buckets];\n    }\n    for (var i = 0; i < buckets.length; i++) {\n      delete bucketRegionCache[buckets[i]];\n    }\n    return bucketRegionCache;\n   },\n\n   /**\n    * Corrects request region if bucket's cached region is different\n    *\n    * @api private\n    */\n  correctBucketRegionFromCache: function correctBucketRegionFromCache(req) {\n    var bucket = req.params.Bucket || null;\n    if (bucket) {\n      var service = req.service;\n      var requestRegion = req.httpRequest.region;\n      var cachedRegion = service.bucketRegionCache[bucket];\n      if (cachedRegion && cachedRegion !== requestRegion) {\n        service.updateReqBucketRegion(req, cachedRegion);\n      }\n    }\n  },\n\n  /**\n   * Extracts S3 specific request ids from the http response.\n   *\n   * @api private\n   */\n  extractRequestIds: function extractRequestIds(resp) {\n    var extendedRequestId = resp.httpResponse.headers ? resp.httpResponse.headers['x-amz-id-2'] : null;\n    var cfId = resp.httpResponse.headers ? resp.httpResponse.headers['x-amz-cf-id'] : null;\n    resp.extendedRequestId = extendedRequestId;\n    resp.cfId = cfId;\n\n    if (resp.error) {\n      resp.error.requestId = resp.requestId || null;\n      resp.error.extendedRequestId = extendedRequestId;\n      resp.error.cfId = cfId;\n    }\n  },\n\n  /**\n   * Get a pre-signed URL for a given operation name.\n   *\n   * @note You must ensure that you have static or previously resolved\n   *   credentials if you call this method synchronously (with no callback),\n   *   otherwise it may not properly sign the request. If you cannot guarantee\n   *   this (you are using an asynchronous credential provider, i.e., EC2\n   *   IAM roles), you should always call this method with an asynchronous\n   *   callback.\n   * @note Not all operation parameters are supported when using pre-signed\n   *   URLs. Certain parameters, such as `SSECustomerKey`, `ACL`, `Expires`,\n   *   `ContentLength`, or `Tagging` must be provided as headers when sending a\n   *   request. If you are using pre-signed URLs to upload from a browser and\n   *   need to use these fields, see {createPresignedPost}.\n   * @param operation [String] the name of the operation to call\n   * @param params [map] parameters to pass to the operation. See the given\n   *   operation for the expected operation parameters. In addition, you can\n   *   also pass the \"Expires\" parameter to inform S3 how long the URL should\n   *   work for.\n   * @option params Expires [Integer] (900) the number of seconds to expire\n   *   the pre-signed URL operation in. Defaults to 15 minutes.\n   * @param callback [Function] if a callback is provided, this function will\n   *   pass the URL as the second parameter (after the error parameter) to\n   *   the callback function.\n   * @return [String] if called synchronously (with no callback), returns the\n   *   signed URL.\n   * @return [null] nothing is returned if a callback is provided.\n   * @example Pre-signing a getObject operation (synchronously)\n   *   var params = {Bucket: 'bucket', Key: 'key'};\n   *   var url = s3.getSignedUrl('getObject', params);\n   *   console.log('The URL is', url);\n   * @example Pre-signing a putObject (asynchronously)\n   *   var params = {Bucket: 'bucket', Key: 'key'};\n   *   s3.getSignedUrl('putObject', params, function (err, url) {\n   *     console.log('The URL is', url);\n   *   });\n   * @example Pre-signing a putObject operation with a specific payload\n   *   var params = {Bucket: 'bucket', Key: 'key', Body: 'body'};\n   *   var url = s3.getSignedUrl('putObject', params);\n   *   console.log('The URL is', url);\n   * @example Passing in a 1-minute expiry time for a pre-signed URL\n   *   var params = {Bucket: 'bucket', Key: 'key', Expires: 60};\n   *   var url = s3.getSignedUrl('getObject', params);\n   *   console.log('The URL is', url); // expires in 60 seconds\n   */\n  getSignedUrl: function getSignedUrl(operation, params, callback) {\n    params = AWS.util.copy(params || {});\n    var expires = params.Expires || 900;\n    delete params.Expires; // we can't validate this\n    var request = this.makeRequest(operation, params);\n\n    if (callback) {\n      AWS.util.defer(function() {\n        request.presign(expires, callback);\n      });\n    } else {\n      return request.presign(expires, callback);\n    }\n  },\n\n\n  /**\n   * Get a pre-signed POST policy to support uploading to S3 directly from an\n   * HTML form.\n   *\n   * @param params [map]\n   * @option params Bucket [String]     The bucket to which the post should be\n   *                                    uploaded\n   * @option params Expires [Integer]   (3600) The number of seconds for which\n   *                                    the presigned policy should be valid.\n   * @option params Conditions [Array]  An array of conditions that must be met\n   *                                    for the presigned policy to allow the\n   *                                    upload. This can include required tags,\n   *                                    the accepted range for content lengths,\n   *                                    etc.\n   * @see http://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-HTTPPOSTConstructPolicy.html\n   * @option params Fields [map]        Fields to include in the form. All\n   *                                    values passed in as fields will be\n   *                                    signed as exact match conditions.\n   * @param callback [Function]\n   *\n   * @note All fields passed in when creating presigned post data will be signed\n   *   as exact match conditions. Any fields that will be interpolated by S3\n   *   must be added to the fields hash after signing, and an appropriate\n   *   condition for such fields must be explicitly added to the Conditions\n   *   array passed to this function before signing.\n   *\n   * @example Presiging post data with a known key\n   *   var params = {\n   *     Bucket: 'bucket',\n   *     Fields: {\n   *       key: 'key'\n   *     }\n   *   };\n   *   s3.createPresignedPost(params, function(err, data) {\n   *     if (err) {\n   *       console.error('Presigning post data encountered an error', err);\n   *     } else {\n   *       console.log('The post data is', data);\n   *     }\n   *   });\n   *\n   * @example Presigning post data with an interpolated key\n   *   var params = {\n   *     Bucket: 'bucket',\n   *     Conditions: [\n   *       ['starts-with', '$key', 'path/to/uploads/']\n   *     ]\n   *   };\n   *   s3.createPresignedPost(params, function(err, data) {\n   *     if (err) {\n   *       console.error('Presigning post data encountered an error', err);\n   *     } else {\n   *       data.Fields.key = 'path/to/uploads/${filename}';\n   *       console.log('The post data is', data);\n   *     }\n   *   });\n   *\n   * @note You must ensure that you have static or previously resolved\n   *   credentials if you call this method synchronously (with no callback),\n   *   otherwise it may not properly sign the request. If you cannot guarantee\n   *   this (you are using an asynchronous credential provider, i.e., EC2\n   *   IAM roles), you should always call this method with an asynchronous\n   *   callback.\n   *\n   * @return [map]  If called synchronously (with no callback), returns a hash\n   *                with the url to set as the form action and a hash of fields\n   *                to include in the form.\n   * @return [null] Nothing is returned if a callback is provided.\n   *\n   * @callback callback function (err, data)\n   *  @param err [Error] the error object returned from the policy signer\n   *  @param data [map] The data necessary to construct an HTML form\n   *  @param data.url [String] The URL to use as the action of the form\n   *  @param data.fields [map] A hash of fields that must be included in the\n   *                           form for the upload to succeed. This hash will\n   *                           include the signed POST policy, your access key\n   *                           ID and security token (if present), etc. These\n   *                           may be safely included as input elements of type\n   *                           'hidden.'\n   */\n  createPresignedPost: function createPresignedPost(params, callback) {\n    if (typeof params === 'function' && callback === undefined) {\n      callback = params;\n      params = null;\n    }\n\n    params = AWS.util.copy(params || {});\n    var boundParams = this.config.params || {};\n    var bucket = params.Bucket || boundParams.Bucket,\n      self = this,\n      config = this.config,\n      endpoint = AWS.util.copy(this.endpoint);\n    if (!config.s3BucketEndpoint) {\n      endpoint.pathname = '/' + bucket;\n    }\n\n    function finalizePost() {\n      return {\n        url: AWS.util.urlFormat(endpoint),\n        fields: self.preparePostFields(\n          config.credentials,\n          config.region,\n          bucket,\n          params.Fields,\n          params.Conditions,\n          params.Expires\n        )\n      };\n    }\n\n    if (callback) {\n      config.getCredentials(function (err) {\n        if (err) {\n          callback(err);\n        }\n\n        callback(null, finalizePost());\n      });\n    } else {\n      return finalizePost();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  preparePostFields: function preparePostFields(\n    credentials,\n    region,\n    bucket,\n    fields,\n    conditions,\n    expiresInSeconds\n  ) {\n    var now = this.getSkewCorrectedDate();\n    if (!credentials || !region || !bucket) {\n      throw new Error('Unable to create a POST object policy without a bucket,'\n        + ' region, and credentials');\n    }\n    fields = AWS.util.copy(fields || {});\n    conditions = (conditions || []).slice(0);\n    expiresInSeconds = expiresInSeconds || 3600;\n\n    var signingDate = AWS.util.date.iso8601(now).replace(/[:\\-]|\\.\\d{3}/g, '');\n    var shortDate = signingDate.substr(0, 8);\n    var scope = v4Credentials.createScope(shortDate, region, 's3');\n    var credential = credentials.accessKeyId + '/' + scope;\n\n    fields['bucket'] = bucket;\n    fields['X-Amz-Algorithm'] = 'AWS4-HMAC-SHA256';\n    fields['X-Amz-Credential'] = credential;\n    fields['X-Amz-Date'] = signingDate;\n    if (credentials.sessionToken) {\n      fields['X-Amz-Security-Token'] = credentials.sessionToken;\n    }\n    for (var field in fields) {\n      if (fields.hasOwnProperty(field)) {\n        var condition = {};\n        condition[field] = fields[field];\n        conditions.push(condition);\n      }\n    }\n\n    fields.Policy = this.preparePostPolicy(\n      new Date(now.valueOf() + expiresInSeconds * 1000),\n      conditions\n    );\n    fields['X-Amz-Signature'] = AWS.util.crypto.hmac(\n      v4Credentials.getSigningKey(credentials, shortDate, region, 's3', true),\n      fields.Policy,\n      'hex'\n    );\n\n    return fields;\n  },\n\n  /**\n   * @api private\n   */\n  preparePostPolicy: function preparePostPolicy(expiration, conditions) {\n    return AWS.util.base64.encode(JSON.stringify({\n      expiration: AWS.util.date.iso8601(expiration),\n      conditions: conditions\n    }));\n  },\n\n  /**\n   * @api private\n   */\n  prepareSignedUrl: function prepareSignedUrl(request) {\n    request.addListener('validate', request.service.noPresignedContentLength);\n    request.removeListener('build', request.service.addContentType);\n    if (!request.params.Body) {\n      // no Content-MD5/SHA-256 if body is not provided\n      request.removeListener('build', request.service.computeContentMd5);\n    } else {\n      request.addListener('afterBuild', AWS.EventListeners.Core.COMPUTE_SHA256);\n    }\n  },\n\n  /**\n   * @api private\n   * @param request\n   */\n  disableBodySigning: function disableBodySigning(request) {\n    var headers = request.httpRequest.headers;\n    // Add the header to anything that isn't a presigned url, unless that presigned url had a body defined\n    if (!Object.prototype.hasOwnProperty.call(headers, 'presigned-expires')) {\n      headers['X-Amz-Content-Sha256'] = 'UNSIGNED-PAYLOAD';\n    }\n  },\n\n  /**\n   * @api private\n   */\n  noPresignedContentLength: function noPresignedContentLength(request) {\n    if (request.params.ContentLength !== undefined) {\n      throw AWS.util.error(new Error(), {code: 'UnexpectedParameter',\n        message: 'ContentLength is not supported in pre-signed URLs.'});\n    }\n  },\n\n  createBucket: function createBucket(params, callback) {\n    // When creating a bucket *outside* the classic region, the location\n    // constraint must be set for the bucket and it must match the endpoint.\n    // This chunk of code will set the location constraint param based\n    // on the region (when possible), but it will not override a passed-in\n    // location constraint.\n    if (typeof params === 'function' || !params) {\n      callback = callback || params;\n      params = {};\n    }\n    var hostname = this.endpoint.hostname;\n    if (hostname !== this.api.globalEndpoint && !params.CreateBucketConfiguration) {\n      params.CreateBucketConfiguration = { LocationConstraint: this.config.region };\n    }\n    return this.makeRequest('createBucket', params, callback);\n  },\n\n  /**\n   * @see AWS.S3.ManagedUpload\n   * @overload upload(params = {}, [options], [callback])\n   *   Uploads an arbitrarily sized buffer, blob, or stream, using intelligent\n   *   concurrent handling of parts if the payload is large enough. You can\n   *   configure the concurrent queue size by setting `options`. Note that this\n   *   is the only operation for which the SDK can retry requests with stream\n   *   bodies.\n   *\n   *   @param (see AWS.S3.putObject)\n   *   @option (see AWS.S3.ManagedUpload.constructor)\n   *   @return [AWS.S3.ManagedUpload] the managed upload object that can call\n   *     `send()` or track progress.\n   *   @example Uploading a stream object\n   *     var params = {Bucket: 'bucket', Key: 'key', Body: stream};\n   *     s3.upload(params, function(err, data) {\n   *       console.log(err, data);\n   *     });\n   *   @example Uploading a stream with concurrency of 1 and partSize of 10mb\n   *     var params = {Bucket: 'bucket', Key: 'key', Body: stream};\n   *     var options = {partSize: 10 * 1024 * 1024, queueSize: 1};\n   *     s3.upload(params, options, function(err, data) {\n   *       console.log(err, data);\n   *     });\n   * @callback callback function(err, data)\n   *   @param err [Error] an error or null if no error occurred.\n   *   @param data [map] The response data from the successful upload:\n   *   @param data.Location [String] the URL of the uploaded object\n   *   @param data.ETag [String] the ETag of the uploaded object\n   *   @param data.Bucket [String]  the bucket to which the object was uploaded\n   *   @param data.Key [String] the key to which the object was uploaded\n   */\n  upload: function upload(params, options, callback) {\n    if (typeof options === 'function' && callback === undefined) {\n      callback = options;\n      options = null;\n    }\n\n    options = options || {};\n    options = AWS.util.merge(options || {}, {service: this, params: params});\n\n    var uploader = new AWS.S3.ManagedUpload(options);\n    if (typeof callback === 'function') uploader.send(callback);\n    return uploader;\n  }\n});\n","var AWS = require('../core');\nvar byteLength = AWS.util.string.byteLength;\nvar Buffer = AWS.util.Buffer;\n\n/**\n * The managed uploader allows for easy and efficient uploading of buffers,\n * blobs, or streams, using a configurable amount of concurrency to perform\n * multipart uploads where possible. This abstraction also enables uploading\n * streams of unknown size due to the use of multipart uploads.\n *\n * To construct a managed upload object, see the {constructor} function.\n *\n * ## Tracking upload progress\n *\n * The managed upload object can also track progress by attaching an\n * 'httpUploadProgress' listener to the upload manager. This event is similar\n * to {AWS.Request~httpUploadProgress} but groups all concurrent upload progress\n * into a single event. See {AWS.S3.ManagedUpload~httpUploadProgress} for more\n * information.\n *\n * ## Handling Multipart Cleanup\n *\n * By default, this class will automatically clean up any multipart uploads\n * when an individual part upload fails. This behavior can be disabled in order\n * to manually handle failures by setting the `leavePartsOnError` configuration\n * option to `true` when initializing the upload object.\n *\n * @!event httpUploadProgress(progress)\n *   Triggered when the uploader has uploaded more data.\n *   @note The `total` property may not be set if the stream being uploaded has\n *     not yet finished chunking. In this case the `total` will be undefined\n *     until the total stream size is known.\n *   @note This event will not be emitted in Node.js 0.8.x.\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request and the `key` of the S3 object. Note that `total` may be undefined until the payload\n *     size is known.\n *   @context (see AWS.Request~send)\n */\nAWS.S3.ManagedUpload = AWS.util.inherit({\n  /**\n   * Creates a managed upload object with a set of configuration options.\n   *\n   * @note A \"Body\" parameter is required to be set prior to calling {send}.\n   * @option options params [map] a map of parameters to pass to the upload\n   *   requests. The \"Body\" parameter is required to be specified either on\n   *   the service or in the params option.\n   * @note ContentMD5 should not be provided when using the managed upload object.\n   *   Instead, setting \"computeChecksums\" to true will enable automatic ContentMD5 generation\n   *   by the managed upload object.\n   * @option options queueSize [Number] (4) the size of the concurrent queue\n   *   manager to upload parts in parallel. Set to 1 for synchronous uploading\n   *   of parts. Note that the uploader will buffer at most queueSize * partSize\n   *   bytes into memory at any given time.\n   * @option options partSize [Number] (5mb) the size in bytes for each\n   *   individual part to be uploaded. Adjust the part size to ensure the number\n   *   of parts does not exceed {maxTotalParts}. See {minPartSize} for the\n   *   minimum allowed part size.\n   * @option options leavePartsOnError [Boolean] (false) whether to abort the\n   *   multipart upload if an error occurs. Set to true if you want to handle\n   *   failures manually.\n   * @option options service [AWS.S3] an optional S3 service object to use for\n   *   requests. This object might have bound parameters used by the uploader.\n   * @option options tags [Array<map>] The tags to apply to the uploaded object.\n   *   Each tag should have a `Key` and `Value` keys.\n   * @example Creating a default uploader for a stream object\n   *   var upload = new AWS.S3.ManagedUpload({\n   *     params: {Bucket: 'bucket', Key: 'key', Body: stream}\n   *   });\n   * @example Creating an uploader with concurrency of 1 and partSize of 10mb\n   *   var upload = new AWS.S3.ManagedUpload({\n   *     partSize: 10 * 1024 * 1024, queueSize: 1,\n   *     params: {Bucket: 'bucket', Key: 'key', Body: stream}\n   *   });\n   * @example Creating an uploader with tags\n   *   var upload = new AWS.S3.ManagedUpload({\n   *     params: {Bucket: 'bucket', Key: 'key', Body: stream},\n   *     tags: [{Key: 'tag1', Value: 'value1'}, {Key: 'tag2', Value: 'value2'}]\n   *   });\n   * @see send\n   */\n  constructor: function ManagedUpload(options) {\n    var self = this;\n    AWS.SequentialExecutor.call(self);\n    self.body = null;\n    self.sliceFn = null;\n    self.callback = null;\n    self.parts = {};\n    self.completeInfo = [];\n    self.fillQueue = function() {\n      self.callback(new Error('Unsupported body payload ' + typeof self.body));\n    };\n\n    self.configure(options);\n  },\n\n  /**\n   * @api private\n   */\n  configure: function configure(options) {\n    options = options || {};\n    this.partSize = this.minPartSize;\n\n    if (options.queueSize) this.queueSize = options.queueSize;\n    if (options.partSize) this.partSize = options.partSize;\n    if (options.leavePartsOnError) this.leavePartsOnError = true;\n    if (options.tags) {\n      if (!Array.isArray(options.tags)) {\n        throw new Error('Tags must be specified as an array; ' +\n          typeof options.tags + ' provided.');\n      }\n      this.tags = options.tags;\n    }\n\n    if (this.partSize < this.minPartSize) {\n      throw new Error('partSize must be greater than ' +\n                      this.minPartSize);\n    }\n\n    this.service = options.service;\n    this.bindServiceObject(options.params);\n    this.validateBody();\n    this.adjustTotalBytes();\n  },\n\n  /**\n   * @api private\n   */\n  leavePartsOnError: false,\n\n  /**\n   * @api private\n   */\n  queueSize: 4,\n\n  /**\n   * @api private\n   */\n  partSize: null,\n\n  /**\n   * @readonly\n   * @return [Number] the minimum number of bytes for an individual part\n   *   upload.\n   */\n  minPartSize: 1024 * 1024 * 5,\n\n  /**\n   * @readonly\n   * @return [Number] the maximum allowed number of parts in a multipart upload.\n   */\n  maxTotalParts: 10000,\n\n  /**\n   * Initiates the managed upload for the payload.\n   *\n   * @callback callback function(err, data)\n   *   @param err [Error] an error or null if no error occurred.\n   *   @param data [map] The response data from the successful upload:\n   *     * `Location` (String) the URL of the uploaded object\n   *     * `ETag` (String) the ETag of the uploaded object\n   *     * `Bucket` (String) the bucket to which the object was uploaded\n   *     * `Key` (String) the key to which the object was uploaded\n   * @example Sending a managed upload object\n   *   var params = {Bucket: 'bucket', Key: 'key', Body: stream};\n   *   var upload = new AWS.S3.ManagedUpload({params: params});\n   *   upload.send(function(err, data) {\n   *     console.log(err, data);\n   *   });\n   */\n  send: function(callback) {\n    var self = this;\n    self.failed = false;\n    self.callback = callback || function(err) { if (err) throw err; };\n\n    var runFill = true;\n    if (self.sliceFn) {\n      self.fillQueue = self.fillBuffer;\n    } else if (AWS.util.isNode()) {\n      var Stream = AWS.util.stream.Stream;\n      if (self.body instanceof Stream) {\n        runFill = false;\n        self.fillQueue = self.fillStream;\n        self.partBuffers = [];\n        self.body.\n          on('error', function(err) { self.cleanup(err); }).\n          on('readable', function() { self.fillQueue(); }).\n          on('end', function() {\n            self.isDoneChunking = true;\n            self.numParts = self.totalPartNumbers;\n            self.fillQueue.call(self);\n\n            if (self.isDoneChunking && self.totalPartNumbers >= 1 && self.doneParts === self.numParts) {\n              self.finishMultiPart();\n            }\n          });\n      }\n    }\n\n    if (runFill) self.fillQueue.call(self);\n  },\n\n  /**\n   * @!method  promise()\n   *   Returns a 'thenable' promise.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(data)\n   *     Called if the promise is fulfilled.\n   *     @param data [map] The response data from the successful upload:\n   *       `Location` (String) the URL of the uploaded object\n   *       `ETag` (String) the ETag of the uploaded object\n   *       `Bucket` (String) the bucket to which the object was uploaded\n   *       `Key` (String) the key to which the object was uploaded\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] an error or null if no error occurred.\n   *   @return [Promise] A promise that represents the state of the upload request.\n   *   @example Sending an upload request using promises.\n   *     var upload = s3.upload({Bucket: 'bucket', Key: 'key', Body: stream});\n   *     var promise = upload.promise();\n   *     promise.then(function(data) { ... }, function(err) { ... });\n   */\n\n  /**\n   * Aborts a managed upload, including all concurrent upload requests.\n   * @note By default, calling this function will cleanup a multipart upload\n   *   if one was created. To leave the multipart upload around after aborting\n   *   a request, configure `leavePartsOnError` to `true` in the {constructor}.\n   * @note Calling {abort} in the browser environment will not abort any requests\n   *   that are already in flight. If a multipart upload was created, any parts\n   *   not yet uploaded will not be sent, and the multipart upload will be cleaned up.\n   * @example Aborting an upload\n   *   var params = {\n   *     Bucket: 'bucket', Key: 'key',\n   *     Body: new Buffer(1024 * 1024 * 25) // 25MB payload\n   *   };\n   *   var upload = s3.upload(params);\n   *   upload.send(function (err, data) {\n   *     if (err) console.log(\"Error:\", err.code, err.message);\n   *     else console.log(data);\n   *   });\n   *\n   *   // abort request in 1 second\n   *   setTimeout(upload.abort.bind(upload), 1000);\n   */\n  abort: function() {\n    this.cleanup(AWS.util.error(new Error('Request aborted by user'), {\n      code: 'RequestAbortedError', retryable: false\n    }));\n  },\n\n  /**\n   * @api private\n   */\n  validateBody: function validateBody() {\n    var self = this;\n    self.body = self.service.config.params.Body;\n    if (typeof self.body === 'string') {\n      self.body = new AWS.util.Buffer(self.body);\n    } else if (!self.body) {\n      throw new Error('params.Body is required');\n    }\n    self.sliceFn = AWS.util.arraySliceFn(self.body);\n  },\n\n  /**\n   * @api private\n   */\n  bindServiceObject: function bindServiceObject(params) {\n    params = params || {};\n    var self = this;\n    // bind parameters to new service object\n    if (!self.service) {\n      self.service = new AWS.S3({params: params});\n    } else {\n      var service = self.service;\n      var config = AWS.util.copy(service.config);\n      config.signatureVersion = service.getSignatureVersion();\n      self.service = new service.constructor.__super__(config);\n      self.service.config.params =\n        AWS.util.merge(self.service.config.params || {}, params);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  adjustTotalBytes: function adjustTotalBytes() {\n    var self = this;\n    try { // try to get totalBytes\n      self.totalBytes = byteLength(self.body);\n    } catch (e) { }\n\n    // try to adjust partSize if we know payload length\n    if (self.totalBytes) {\n      var newPartSize = Math.ceil(self.totalBytes / self.maxTotalParts);\n      if (newPartSize > self.partSize) self.partSize = newPartSize;\n    } else {\n      self.totalBytes = undefined;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  isDoneChunking: false,\n\n  /**\n   * @api private\n   */\n  partPos: 0,\n\n  /**\n   * @api private\n   */\n  totalChunkedBytes: 0,\n\n  /**\n   * @api private\n   */\n  totalUploadedBytes: 0,\n\n  /**\n   * @api private\n   */\n  totalBytes: undefined,\n\n  /**\n   * @api private\n   */\n  numParts: 0,\n\n  /**\n   * @api private\n   */\n  totalPartNumbers: 0,\n\n  /**\n   * @api private\n   */\n  activeParts: 0,\n\n  /**\n   * @api private\n   */\n  doneParts: 0,\n\n  /**\n   * @api private\n   */\n  parts: null,\n\n  /**\n   * @api private\n   */\n  completeInfo: null,\n\n  /**\n   * @api private\n   */\n  failed: false,\n\n  /**\n   * @api private\n   */\n  multipartReq: null,\n\n  /**\n   * @api private\n   */\n  partBuffers: null,\n\n  /**\n   * @api private\n   */\n  partBufferLength: 0,\n\n  /**\n   * @api private\n   */\n  fillBuffer: function fillBuffer() {\n    var self = this;\n    var bodyLen = byteLength(self.body);\n\n    if (bodyLen === 0) {\n      self.isDoneChunking = true;\n      self.numParts = 1;\n      self.nextChunk(self.body);\n      return;\n    }\n\n    while (self.activeParts < self.queueSize && self.partPos < bodyLen) {\n      var endPos = Math.min(self.partPos + self.partSize, bodyLen);\n      var buf = self.sliceFn.call(self.body, self.partPos, endPos);\n      self.partPos += self.partSize;\n\n      if (byteLength(buf) < self.partSize || self.partPos === bodyLen) {\n        self.isDoneChunking = true;\n        self.numParts = self.totalPartNumbers + 1;\n      }\n      self.nextChunk(buf);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  fillStream: function fillStream() {\n    var self = this;\n    if (self.activeParts >= self.queueSize) return;\n\n    var buf = self.body.read(self.partSize - self.partBufferLength) ||\n              self.body.read();\n    if (buf) {\n      self.partBuffers.push(buf);\n      self.partBufferLength += buf.length;\n      self.totalChunkedBytes += buf.length;\n    }\n\n    if (self.partBufferLength >= self.partSize) {\n      // if we have single buffer we avoid copyfull concat\n      var pbuf = self.partBuffers.length === 1 ?\n        self.partBuffers[0] : Buffer.concat(self.partBuffers);\n      self.partBuffers = [];\n      self.partBufferLength = 0;\n\n      // if we have more than partSize, push the rest back on the queue\n      if (pbuf.length > self.partSize) {\n        var rest = pbuf.slice(self.partSize);\n        self.partBuffers.push(rest);\n        self.partBufferLength += rest.length;\n        pbuf = pbuf.slice(0, self.partSize);\n      }\n\n      self.nextChunk(pbuf);\n    }\n\n    if (self.isDoneChunking && !self.isDoneSending) {\n      // if we have single buffer we avoid copyfull concat\n      pbuf = self.partBuffers.length === 1 ?\n          self.partBuffers[0] : Buffer.concat(self.partBuffers);\n      self.partBuffers = [];\n      self.partBufferLength = 0;\n      self.totalBytes = self.totalChunkedBytes;\n      self.isDoneSending = true;\n\n      if (self.numParts === 0 || pbuf.length > 0) {\n        self.numParts++;\n        self.nextChunk(pbuf);\n      }\n    }\n\n    self.body.read(0);\n  },\n\n  /**\n   * @api private\n   */\n  nextChunk: function nextChunk(chunk) {\n    var self = this;\n    if (self.failed) return null;\n\n    var partNumber = ++self.totalPartNumbers;\n    if (self.isDoneChunking && partNumber === 1) {\n      var params = {Body: chunk};\n      if (this.tags) {\n        params.Tagging = this.getTaggingHeader();\n      }\n      var req = self.service.putObject(params);\n      req._managedUpload = self;\n      req.on('httpUploadProgress', self.progress).send(self.finishSinglePart);\n      return null;\n    } else if (self.service.config.params.ContentMD5) {\n      var err = AWS.util.error(new Error('The Content-MD5 you specified is invalid for multi-part uploads.'), {\n        code: 'InvalidDigest', retryable: false\n      });\n\n      self.cleanup(err);\n      return null;\n    }\n\n    if (self.completeInfo[partNumber] && self.completeInfo[partNumber].ETag !== null) {\n      return null; // Already uploaded this part.\n    }\n\n    self.activeParts++;\n    if (!self.service.config.params.UploadId) {\n\n      if (!self.multipartReq) { // create multipart\n        self.multipartReq = self.service.createMultipartUpload();\n        self.multipartReq.on('success', function(resp) {\n          self.service.config.params.UploadId = resp.data.UploadId;\n          self.multipartReq = null;\n        });\n        self.queueChunks(chunk, partNumber);\n        self.multipartReq.on('error', function(err) {\n          self.cleanup(err);\n        });\n        self.multipartReq.send();\n      } else {\n        self.queueChunks(chunk, partNumber);\n      }\n    } else { // multipart is created, just send\n      self.uploadPart(chunk, partNumber);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getTaggingHeader: function getTaggingHeader() {\n    var kvPairStrings = [];\n    for (var i = 0; i < this.tags.length; i++) {\n      kvPairStrings.push(AWS.util.uriEscape(this.tags[i].Key) + '=' +\n        AWS.util.uriEscape(this.tags[i].Value));\n    }\n\n    return kvPairStrings.join('&');\n  },\n\n  /**\n   * @api private\n   */\n  uploadPart: function uploadPart(chunk, partNumber) {\n    var self = this;\n\n    var partParams = {\n      Body: chunk,\n      ContentLength: AWS.util.string.byteLength(chunk),\n      PartNumber: partNumber\n    };\n\n    var partInfo = {ETag: null, PartNumber: partNumber};\n    self.completeInfo[partNumber] = partInfo;\n\n    var req = self.service.uploadPart(partParams);\n    self.parts[partNumber] = req;\n    req._lastUploadedBytes = 0;\n    req._managedUpload = self;\n    req.on('httpUploadProgress', self.progress);\n    req.send(function(err, data) {\n      delete self.parts[partParams.PartNumber];\n      self.activeParts--;\n\n      if (!err && (!data || !data.ETag)) {\n        var message = 'No access to ETag property on response.';\n        if (AWS.util.isBrowser()) {\n          message += ' Check CORS configuration to expose ETag header.';\n        }\n\n        err = AWS.util.error(new Error(message), {\n          code: 'ETagMissing', retryable: false\n        });\n      }\n      if (err) return self.cleanup(err);\n\n      partInfo.ETag = data.ETag;\n      self.doneParts++;\n      if (self.isDoneChunking && self.doneParts === self.numParts) {\n        self.finishMultiPart();\n      } else {\n        self.fillQueue.call(self);\n      }\n    });\n  },\n\n  /**\n   * @api private\n   */\n  queueChunks: function queueChunks(chunk, partNumber) {\n    var self = this;\n    self.multipartReq.on('success', function() {\n      self.uploadPart(chunk, partNumber);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  cleanup: function cleanup(err) {\n    var self = this;\n    if (self.failed) return;\n\n    // clean up stream\n    if (typeof self.body.removeAllListeners === 'function' &&\n        typeof self.body.resume === 'function') {\n      self.body.removeAllListeners('readable');\n      self.body.removeAllListeners('end');\n      self.body.resume();\n    }\n\n    // cleanup multipartReq listeners\n    if (self.multipartReq) {\n      self.multipartReq.removeAllListeners('success');\n      self.multipartReq.removeAllListeners('error');\n      self.multipartReq.removeAllListeners('complete');\n      delete self.multipartReq;\n    }\n\n    if (self.service.config.params.UploadId && !self.leavePartsOnError) {\n      self.service.abortMultipartUpload().send();\n    } else if (self.leavePartsOnError) {\n      self.isDoneChunking = false;\n    }\n\n    AWS.util.each(self.parts, function(partNumber, part) {\n      part.removeAllListeners('complete');\n      part.abort();\n    });\n\n    self.activeParts = 0;\n    self.partPos = 0;\n    self.numParts = 0;\n    self.totalPartNumbers = 0;\n    self.parts = {};\n    self.failed = true;\n    self.callback(err);\n  },\n\n  /**\n   * @api private\n   */\n  finishMultiPart: function finishMultiPart() {\n    var self = this;\n    var completeParams = { MultipartUpload: { Parts: self.completeInfo.slice(1) } };\n    self.service.completeMultipartUpload(completeParams, function(err, data) {\n      if (err) {\n        return self.cleanup(err);\n      }\n\n      if (data && typeof data.Location === 'string') {\n        data.Location = data.Location.replace(/%2F/g, '/');\n      }\n\n      if (Array.isArray(self.tags)) {\n        self.service.putObjectTagging(\n          {Tagging: {TagSet: self.tags}},\n          function(e, d) {\n            if (e) {\n              self.callback(e);\n            } else {\n              self.callback(e, data);\n            }\n          }\n        );\n      } else {\n        self.callback(err, data);\n      }\n    });\n  },\n\n  /**\n   * @api private\n   */\n  finishSinglePart: function finishSinglePart(err, data) {\n    var upload = this.request._managedUpload;\n    var httpReq = this.request.httpRequest;\n    var endpoint = httpReq.endpoint;\n    if (err) return upload.callback(err);\n    data.Location =\n      [endpoint.protocol, '//', endpoint.host, httpReq.path].join('');\n    data.key = this.request.params.Key; // will stay undocumented\n    data.Key = this.request.params.Key;\n    data.Bucket = this.request.params.Bucket;\n    upload.callback(err, data);\n  },\n\n  /**\n   * @api private\n   */\n  progress: function progress(info) {\n    var upload = this._managedUpload;\n    if (this.operation === 'putObject') {\n      info.part = 1;\n      info.key = this.params.Key;\n    } else {\n      upload.totalUploadedBytes += info.loaded - this._lastUploadedBytes;\n      this._lastUploadedBytes = info.loaded;\n      info = {\n        loaded: upload.totalUploadedBytes,\n        total: upload.totalBytes,\n        part: this.params.PartNumber,\n        key: this.params.Key\n      };\n    }\n    upload.emit('httpUploadProgress', [info]);\n  }\n});\n\nAWS.util.mixin(AWS.S3.ManagedUpload, AWS.SequentialExecutor);\n\n/**\n * @api private\n */\nAWS.S3.ManagedUpload.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.promise = AWS.util.promisifyMethod('send', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.S3.ManagedUpload.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.promise;\n};\n\nAWS.util.addPromises(AWS.S3.ManagedUpload);\n\nmodule.exports = AWS.S3.ManagedUpload;\n","require('./lib/browser_loader');\n\nvar AWS = require('./lib/core');\nif (typeof window !== 'undefined') window.AWS = AWS;\nif (typeof module !== 'undefined') module.exports = AWS;\nif (typeof self !== 'undefined') self.AWS = AWS;","/*\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined\n * in FIPS PUB 180-1\n * Version 2.1a Copyright Paul Johnston 2000 - 2002.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for details.\n */\n\nvar helpers = require('./helpers');\n\n/*\n * Calculate the SHA-1 of an array of big-endian words, and a bit length\n */\nfunction core_sha1(x, len)\n{\n  /* append padding */\n  x[len >> 5] |= 0x80 << (24 - len % 32);\n  x[((len + 64 >> 9) << 4) + 15] = len;\n\n  var w = Array(80);\n  var a =  1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d =  271733878;\n  var e = -1009589776;\n\n  for(var i = 0; i < x.length; i += 16)\n  {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    var olde = e;\n\n    for(var j = 0; j < 80; j++)\n    {\n      if(j < 16) w[j] = x[i + j];\n      else w[j] = rol(w[j-3] ^ w[j-8] ^ w[j-14] ^ w[j-16], 1);\n      var t = safe_add(safe_add(rol(a, 5), sha1_ft(j, b, c, d)),\n                       safe_add(safe_add(e, w[j]), sha1_kt(j)));\n      e = d;\n      d = c;\n      c = rol(b, 30);\n      b = a;\n      a = t;\n    }\n\n    a = safe_add(a, olda);\n    b = safe_add(b, oldb);\n    c = safe_add(c, oldc);\n    d = safe_add(d, oldd);\n    e = safe_add(e, olde);\n  }\n  return Array(a, b, c, d, e);\n\n}\n\n/*\n * Perform the appropriate triplet combination function for the current\n * iteration\n */\nfunction sha1_ft(t, b, c, d)\n{\n  if(t < 20) return (b & c) | ((~b) & d);\n  if(t < 40) return b ^ c ^ d;\n  if(t < 60) return (b & c) | (b & d) | (c & d);\n  return b ^ c ^ d;\n}\n\n/*\n * Determine the appropriate additive constant for the current iteration\n */\nfunction sha1_kt(t)\n{\n  return (t < 20) ?  1518500249 : (t < 40) ?  1859775393 :\n         (t < 60) ? -1894007588 : -899497514;\n}\n\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\nfunction safe_add(x, y)\n{\n  var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return (msw << 16) | (lsw & 0xFFFF);\n}\n\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\nfunction rol(num, cnt)\n{\n  return (num << cnt) | (num >>> (32 - cnt));\n}\n\nmodule.exports = function sha1(buf) {\n  return helpers.hash(buf, core_sha1, 20, true);\n};\n","\n/**\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined\n * in FIPS 180-2\n * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n *\n */\n\nvar helpers = require('./helpers');\n\nvar safe_add = function(x, y) {\n  var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return (msw << 16) | (lsw & 0xFFFF);\n};\n\nvar S = function(X, n) {\n  return (X >>> n) | (X << (32 - n));\n};\n\nvar R = function(X, n) {\n  return (X >>> n);\n};\n\nvar Ch = function(x, y, z) {\n  return ((x & y) ^ ((~x) & z));\n};\n\nvar Maj = function(x, y, z) {\n  return ((x & y) ^ (x & z) ^ (y & z));\n};\n\nvar Sigma0256 = function(x) {\n  return (S(x, 2) ^ S(x, 13) ^ S(x, 22));\n};\n\nvar Sigma1256 = function(x) {\n  return (S(x, 6) ^ S(x, 11) ^ S(x, 25));\n};\n\nvar Gamma0256 = function(x) {\n  return (S(x, 7) ^ S(x, 18) ^ R(x, 3));\n};\n\nvar Gamma1256 = function(x) {\n  return (S(x, 17) ^ S(x, 19) ^ R(x, 10));\n};\n\nvar core_sha256 = function(m, l) {\n  var K = new Array(0x428A2F98,0x71374491,0xB5C0FBCF,0xE9B5DBA5,0x3956C25B,0x59F111F1,0x923F82A4,0xAB1C5ED5,0xD807AA98,0x12835B01,0x243185BE,0x550C7DC3,0x72BE5D74,0x80DEB1FE,0x9BDC06A7,0xC19BF174,0xE49B69C1,0xEFBE4786,0xFC19DC6,0x240CA1CC,0x2DE92C6F,0x4A7484AA,0x5CB0A9DC,0x76F988DA,0x983E5152,0xA831C66D,0xB00327C8,0xBF597FC7,0xC6E00BF3,0xD5A79147,0x6CA6351,0x14292967,0x27B70A85,0x2E1B2138,0x4D2C6DFC,0x53380D13,0x650A7354,0x766A0ABB,0x81C2C92E,0x92722C85,0xA2BFE8A1,0xA81A664B,0xC24B8B70,0xC76C51A3,0xD192E819,0xD6990624,0xF40E3585,0x106AA070,0x19A4C116,0x1E376C08,0x2748774C,0x34B0BCB5,0x391C0CB3,0x4ED8AA4A,0x5B9CCA4F,0x682E6FF3,0x748F82EE,0x78A5636F,0x84C87814,0x8CC70208,0x90BEFFFA,0xA4506CEB,0xBEF9A3F7,0xC67178F2);\n  var HASH = new Array(0x6A09E667, 0xBB67AE85, 0x3C6EF372, 0xA54FF53A, 0x510E527F, 0x9B05688C, 0x1F83D9AB, 0x5BE0CD19);\n    var W = new Array(64);\n    var a, b, c, d, e, f, g, h, i, j;\n    var T1, T2;\n  /* append padding */\n  m[l >> 5] |= 0x80 << (24 - l % 32);\n  m[((l + 64 >> 9) << 4) + 15] = l;\n  for (var i = 0; i < m.length; i += 16) {\n    a = HASH[0]; b = HASH[1]; c = HASH[2]; d = HASH[3]; e = HASH[4]; f = HASH[5]; g = HASH[6]; h = HASH[7];\n    for (var j = 0; j < 64; j++) {\n      if (j < 16) {\n        W[j] = m[j + i];\n      } else {\n        W[j] = safe_add(safe_add(safe_add(Gamma1256(W[j - 2]), W[j - 7]), Gamma0256(W[j - 15])), W[j - 16]);\n      }\n      T1 = safe_add(safe_add(safe_add(safe_add(h, Sigma1256(e)), Ch(e, f, g)), K[j]), W[j]);\n      T2 = safe_add(Sigma0256(a), Maj(a, b, c));\n      h = g; g = f; f = e; e = safe_add(d, T1); d = c; c = b; b = a; a = safe_add(T1, T2);\n    }\n    HASH[0] = safe_add(a, HASH[0]); HASH[1] = safe_add(b, HASH[1]); HASH[2] = safe_add(c, HASH[2]); HASH[3] = safe_add(d, HASH[3]);\n    HASH[4] = safe_add(e, HASH[4]); HASH[5] = safe_add(f, HASH[5]); HASH[6] = safe_add(g, HASH[6]); HASH[7] = safe_add(h, HASH[7]);\n  }\n  return HASH;\n};\n\nmodule.exports = function sha256(buf) {\n  return helpers.hash(buf, core_sha256, 32, true);\n};\n","// Original code adapted from Robert Kieffer.\n// details at https://github.com/broofa/node-uuid\n(function() {\n  var _global = this;\n\n  var mathRNG, whatwgRNG;\n\n  // NOTE: Math.random() does not guarantee \"cryptographic quality\"\n  mathRNG = function(size) {\n    var bytes = new Array(size);\n    var r;\n\n    for (var i = 0, r; i < size; i++) {\n      if ((i & 0x03) == 0) r = Math.random() * 0x100000000;\n      bytes[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return bytes;\n  }\n\n  if (_global.crypto && crypto.getRandomValues) {\n    whatwgRNG = function(size) {\n      var bytes = new Uint8Array(size);\n      crypto.getRandomValues(bytes);\n      return bytes;\n    }\n  }\n\n  module.exports = whatwgRNG || mathRNG;\n\n}())\n","/*\r\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\r\n * Digest Algorithm, as defined in RFC 1321.\r\n * Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.\r\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\r\n * Distributed under the BSD License\r\n * See http://pajhome.org.uk/crypt/md5 for more info.\r\n */\r\n\r\nvar helpers = require('./helpers');\r\n\r\n/*\r\n * Perform a simple self-test to see if the VM is working\r\n */\r\nfunction md5_vm_test()\r\n{\r\n  return hex_md5(\"abc\") == \"900150983cd24fb0d6963f7d28e17f72\";\r\n}\r\n\r\n/*\r\n * Calculate the MD5 of an array of little-endian words, and a bit length\r\n */\r\nfunction core_md5(x, len)\r\n{\r\n  /* append padding */\r\n  x[len >> 5] |= 0x80 << ((len) % 32);\r\n  x[(((len + 64) >>> 9) << 4) + 14] = len;\r\n\r\n  var a =  1732584193;\r\n  var b = -271733879;\r\n  var c = -1732584194;\r\n  var d =  271733878;\r\n\r\n  for(var i = 0; i < x.length; i += 16)\r\n  {\r\n    var olda = a;\r\n    var oldb = b;\r\n    var oldc = c;\r\n    var oldd = d;\r\n\r\n    a = md5_ff(a, b, c, d, x[i+ 0], 7 , -680876936);\r\n    d = md5_ff(d, a, b, c, x[i+ 1], 12, -389564586);\r\n    c = md5_ff(c, d, a, b, x[i+ 2], 17,  606105819);\r\n    b = md5_ff(b, c, d, a, x[i+ 3], 22, -1044525330);\r\n    a = md5_ff(a, b, c, d, x[i+ 4], 7 , -176418897);\r\n    d = md5_ff(d, a, b, c, x[i+ 5], 12,  1200080426);\r\n    c = md5_ff(c, d, a, b, x[i+ 6], 17, -1473231341);\r\n    b = md5_ff(b, c, d, a, x[i+ 7], 22, -45705983);\r\n    a = md5_ff(a, b, c, d, x[i+ 8], 7 ,  1770035416);\r\n    d = md5_ff(d, a, b, c, x[i+ 9], 12, -1958414417);\r\n    c = md5_ff(c, d, a, b, x[i+10], 17, -42063);\r\n    b = md5_ff(b, c, d, a, x[i+11], 22, -1990404162);\r\n    a = md5_ff(a, b, c, d, x[i+12], 7 ,  1804603682);\r\n    d = md5_ff(d, a, b, c, x[i+13], 12, -40341101);\r\n    c = md5_ff(c, d, a, b, x[i+14], 17, -1502002290);\r\n    b = md5_ff(b, c, d, a, x[i+15], 22,  1236535329);\r\n\r\n    a = md5_gg(a, b, c, d, x[i+ 1], 5 , -165796510);\r\n    d = md5_gg(d, a, b, c, x[i+ 6], 9 , -1069501632);\r\n    c = md5_gg(c, d, a, b, x[i+11], 14,  643717713);\r\n    b = md5_gg(b, c, d, a, x[i+ 0], 20, -373897302);\r\n    a = md5_gg(a, b, c, d, x[i+ 5], 5 , -701558691);\r\n    d = md5_gg(d, a, b, c, x[i+10], 9 ,  38016083);\r\n    c = md5_gg(c, d, a, b, x[i+15], 14, -660478335);\r\n    b = md5_gg(b, c, d, a, x[i+ 4], 20, -405537848);\r\n    a = md5_gg(a, b, c, d, x[i+ 9], 5 ,  568446438);\r\n    d = md5_gg(d, a, b, c, x[i+14], 9 , -1019803690);\r\n    c = md5_gg(c, d, a, b, x[i+ 3], 14, -187363961);\r\n    b = md5_gg(b, c, d, a, x[i+ 8], 20,  1163531501);\r\n    a = md5_gg(a, b, c, d, x[i+13], 5 , -1444681467);\r\n    d = md5_gg(d, a, b, c, x[i+ 2], 9 , -51403784);\r\n    c = md5_gg(c, d, a, b, x[i+ 7], 14,  1735328473);\r\n    b = md5_gg(b, c, d, a, x[i+12], 20, -1926607734);\r\n\r\n    a = md5_hh(a, b, c, d, x[i+ 5], 4 , -378558);\r\n    d = md5_hh(d, a, b, c, x[i+ 8], 11, -2022574463);\r\n    c = md5_hh(c, d, a, b, x[i+11], 16,  1839030562);\r\n    b = md5_hh(b, c, d, a, x[i+14], 23, -35309556);\r\n    a = md5_hh(a, b, c, d, x[i+ 1], 4 , -1530992060);\r\n    d = md5_hh(d, a, b, c, x[i+ 4], 11,  1272893353);\r\n    c = md5_hh(c, d, a, b, x[i+ 7], 16, -155497632);\r\n    b = md5_hh(b, c, d, a, x[i+10], 23, -1094730640);\r\n    a = md5_hh(a, b, c, d, x[i+13], 4 ,  681279174);\r\n    d = md5_hh(d, a, b, c, x[i+ 0], 11, -358537222);\r\n    c = md5_hh(c, d, a, b, x[i+ 3], 16, -722521979);\r\n    b = md5_hh(b, c, d, a, x[i+ 6], 23,  76029189);\r\n    a = md5_hh(a, b, c, d, x[i+ 9], 4 , -640364487);\r\n    d = md5_hh(d, a, b, c, x[i+12], 11, -421815835);\r\n    c = md5_hh(c, d, a, b, x[i+15], 16,  530742520);\r\n    b = md5_hh(b, c, d, a, x[i+ 2], 23, -995338651);\r\n\r\n    a = md5_ii(a, b, c, d, x[i+ 0], 6 , -198630844);\r\n    d = md5_ii(d, a, b, c, x[i+ 7], 10,  1126891415);\r\n    c = md5_ii(c, d, a, b, x[i+14], 15, -1416354905);\r\n    b = md5_ii(b, c, d, a, x[i+ 5], 21, -57434055);\r\n    a = md5_ii(a, b, c, d, x[i+12], 6 ,  1700485571);\r\n    d = md5_ii(d, a, b, c, x[i+ 3], 10, -1894986606);\r\n    c = md5_ii(c, d, a, b, x[i+10], 15, -1051523);\r\n    b = md5_ii(b, c, d, a, x[i+ 1], 21, -2054922799);\r\n    a = md5_ii(a, b, c, d, x[i+ 8], 6 ,  1873313359);\r\n    d = md5_ii(d, a, b, c, x[i+15], 10, -30611744);\r\n    c = md5_ii(c, d, a, b, x[i+ 6], 15, -1560198380);\r\n    b = md5_ii(b, c, d, a, x[i+13], 21,  1309151649);\r\n    a = md5_ii(a, b, c, d, x[i+ 4], 6 , -145523070);\r\n    d = md5_ii(d, a, b, c, x[i+11], 10, -1120210379);\r\n    c = md5_ii(c, d, a, b, x[i+ 2], 15,  718787259);\r\n    b = md5_ii(b, c, d, a, x[i+ 9], 21, -343485551);\r\n\r\n    a = safe_add(a, olda);\r\n    b = safe_add(b, oldb);\r\n    c = safe_add(c, oldc);\r\n    d = safe_add(d, oldd);\r\n  }\r\n  return Array(a, b, c, d);\r\n\r\n}\r\n\r\n/*\r\n * These functions implement the four basic operations the algorithm uses.\r\n */\r\nfunction md5_cmn(q, a, b, x, s, t)\r\n{\r\n  return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s),b);\r\n}\r\nfunction md5_ff(a, b, c, d, x, s, t)\r\n{\r\n  return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);\r\n}\r\nfunction md5_gg(a, b, c, d, x, s, t)\r\n{\r\n  return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);\r\n}\r\nfunction md5_hh(a, b, c, d, x, s, t)\r\n{\r\n  return md5_cmn(b ^ c ^ d, a, b, x, s, t);\r\n}\r\nfunction md5_ii(a, b, c, d, x, s, t)\r\n{\r\n  return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\r\n}\r\n\r\n/*\r\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\r\n * to work around bugs in some JS interpreters.\r\n */\r\nfunction safe_add(x, y)\r\n{\r\n  var lsw = (x & 0xFFFF) + (y & 0xFFFF);\r\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\r\n  return (msw << 16) | (lsw & 0xFFFF);\r\n}\r\n\r\n/*\r\n * Bitwise rotate a 32-bit number to the left.\r\n */\r\nfunction bit_rol(num, cnt)\r\n{\r\n  return (num << cnt) | (num >>> (32 - cnt));\r\n}\r\n\r\nmodule.exports = function md5(buf) {\r\n  return helpers.hash(buf, core_md5, 16);\r\n};\r\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['pinpoint'] = {};\nAWS.Pinpoint = Service.defineService('pinpoint', ['2016-12-01']);\nObject.defineProperty(apiLoader.services['pinpoint'], '2016-12-01', {\n  get: function get() {\n    var model = require('../apis/pinpoint-2016-12-01.min.json');\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.Pinpoint;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['mobileanalytics'] = {};\nAWS.MobileAnalytics = Service.defineService('mobileanalytics', ['2014-06-05']);\nObject.defineProperty(apiLoader.services['mobileanalytics'], '2014-06-05', {\n  get: function get() {\n    var model = require('../apis/mobileanalytics-2014-06-05.min.json');\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.MobileAnalytics;\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LOG_LEVELS = {\n    VERBOSE: 1,\n    DEBUG: 2,\n    INFO: 3,\n    WARN: 4,\n    ERROR: 5\n};\n/**\n* Write logs\n* @class Logger\n*/\nvar ConsoleLogger = /** @class */ (function () {\n    /**\n    * @constructor\n    * @param {string} name - Name of the logger\n    */\n    function ConsoleLogger(name, level) {\n        if (level === void 0) { level = 'WARN'; }\n        this.name = name;\n        this.level = level;\n    }\n    ConsoleLogger.prototype._padding = function (n) {\n        return n < 10 ? '0' + n : '' + n;\n    };\n    ConsoleLogger.prototype._ts = function () {\n        var dt = new Date();\n        return [\n            this._padding(dt.getMinutes()),\n            this._padding(dt.getSeconds())\n        ].join(':') + '.' + dt.getMilliseconds();\n    };\n    /**\n    * Write log\n    * @method\n    * @memeberof Logger\n    * @param {string} type - log type, default INFO\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype._log = function (type) {\n        var msg = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            msg[_i - 1] = arguments[_i];\n        }\n        var logger_level_name = this.level;\n        if (ConsoleLogger.LOG_LEVEL) {\n            logger_level_name = ConsoleLogger.LOG_LEVEL;\n        }\n        if ((typeof window !== 'undefined') && window.LOG_LEVEL) {\n            logger_level_name = window.LOG_LEVEL;\n        }\n        var logger_level = LOG_LEVELS[logger_level_name];\n        var type_level = LOG_LEVELS[type];\n        if (!(type_level >= logger_level)) {\n            // Do nothing if type is not greater than or equal to logger level (handle undefined)\n            return;\n        }\n        var log = console.log.bind(console);\n        // if (type === 'ERROR' && console.error) { log = console.error.bind(console); }\n        if (type === 'WARN' && console.warn) {\n            log = console.warn.bind(console);\n        }\n        if (msg.length === 1 && typeof msg[0] === 'string') {\n            var output = [\n                '[' + type + ']',\n                this._ts(),\n                this.name,\n                '-',\n                msg[0]\n            ].join(' ');\n            log(output);\n        }\n        else if (msg.length === 1) {\n            var output = {};\n            var key = '[' + type + '] ' + this._ts() + ' ' + this.name;\n            output[key] = msg[0];\n            log(output);\n        }\n        else if (typeof msg[0] === 'string') {\n            var obj = msg.slice(1);\n            if (obj.length === 1) {\n                obj = obj[0];\n            }\n            var output = {};\n            var key = '[' + type + '] ' + this._ts() + ' ' + this.name + ' - ' + msg[0];\n            output[key] = obj;\n            log(output);\n        }\n        else {\n            var output = {};\n            var key = '[' + type + '] ' + this._ts() + ' ' + this.name;\n            output[key] = msg;\n            log(output);\n        }\n    };\n    /**\n    * Write General log. Default to INFO\n    * @method\n    * @memeberof Logger\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype.log = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, ['INFO'].concat(msg));\n    };\n    /**\n    * Write INFO log\n    * @method\n    * @memeberof Logger\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype.info = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, ['INFO'].concat(msg));\n    };\n    /**\n    * Write WARN log\n    * @method\n    * @memeberof Logger\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype.warn = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, ['WARN'].concat(msg));\n    };\n    /**\n    * Write ERROR log\n    * @method\n    * @memeberof Logger\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype.error = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, ['ERROR'].concat(msg));\n    };\n    /**\n    * Write DEBUG log\n    * @method\n    * @memeberof Logger\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype.debug = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, ['DEBUG'].concat(msg));\n    };\n    /**\n    * Write VERBOSE log\n    * @method\n    * @memeberof Logger\n    * @param {string|object} msg - Logging message or object\n    */\n    ConsoleLogger.prototype.verbose = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, ['VERBOSE'].concat(msg));\n    };\n    ConsoleLogger.LOG_LEVEL = null;\n    return ConsoleLogger;\n}());\nexports.ConsoleLogger = ConsoleLogger;\n//# sourceMappingURL=ConsoleLogger.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Browser = require(\"./browser\");\nvar ClientDevice = /** @class */ (function () {\n    function ClientDevice() {\n    }\n    ClientDevice.clientInfo = function () {\n        return Browser.clientInfo();\n    };\n    ClientDevice.dimension = function () {\n        return Browser.dimension();\n    };\n    return ClientDevice;\n}());\nexports.default = ClientDevice;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Hub_1 = require(\"../Hub\");\nvar Logger_1 = require(\"../Logger\");\nvar logger = new Logger_1.ConsoleLogger('ClientDevice_Browser');\nfunction clientInfo() {\n    if (typeof window === 'undefined') {\n        return {};\n    }\n    return browserClientInfo();\n}\nexports.clientInfo = clientInfo;\nfunction browserClientInfo() {\n    if (typeof window === 'undefined') {\n        logger.warn('No window object available to get browser client info');\n        return {};\n    }\n    var nav = window.navigator;\n    if (!nav) {\n        logger.warn('No navigator object available to get browser client info');\n        return {};\n    }\n    var platform = nav.platform, product = nav.product, vendor = nav.vendor, userAgent = nav.userAgent, language = nav.language;\n    var type = browserType(userAgent);\n    var timezone = browserTimezone();\n    return {\n        'platform': platform,\n        'make': product || vendor,\n        'model': type.type,\n        'version': type.version,\n        'appVersion': [type.type, type.version].join('/'),\n        'language': language,\n        'timezone': timezone\n    };\n}\nfunction dimension() {\n    if (typeof window === 'undefined') {\n        logger.warn('No window object available to get browser client info');\n        return { width: 320, height: 320 };\n    }\n    return {\n        'width': window.innerWidth,\n        'height': window.innerHeight\n    };\n}\nexports.dimension = dimension;\nfunction browserTimezone() {\n    var tzMatch = /\\(([A-Za-z\\s].*)\\)/.exec(new Date().toString());\n    return tzMatch ? tzMatch[1] || \"\" : \"\";\n}\nfunction browserType(userAgent) {\n    var operaMatch = /.+(Opera[\\s[A-Z]*|OPR[\\sA-Z]*)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (operaMatch) {\n        return { type: operaMatch[1], version: operaMatch[2] };\n    }\n    var cfMatch = /.+(Chrome|Firefox|FxiOS)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (cfMatch) {\n        return { type: cfMatch[1], version: cfMatch[2] };\n    }\n    var ieMatch = /.+(Trident|Edge)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (ieMatch) {\n        return { type: ieMatch[1], version: ieMatch[2] };\n    }\n    var sMatch = /.+(Safari)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (sMatch) {\n        return { type: sMatch[1], version: sMatch[2] };\n    }\n    var awkMatch = /.+(AppleWebKit)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (awkMatch) {\n        return { type: awkMatch[1], version: awkMatch[2] };\n    }\n    var anyMatch = /.*([A-Z]+)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (anyMatch) {\n        return { type: anyMatch[1], version: anyMatch[2] };\n    }\n    return { type: '', version: '' };\n}\nif (typeof window !== 'undefined') {\n    window.addEventListener('resize', function () {\n        Hub_1.default.dispatch('window', { event: 'resize', data: dimension() }, 'DeviceInfo');\n    });\n    window.addEventListener('scroll', function () {\n        var pos = { x: window.scrollX, y: window.scrollY };\n        Hub_1.default.dispatch('window', { event: 'scroll', data: pos }, 'DeviceInfo');\n    });\n    window.addEventListener('offline', function () {\n        Hub_1.default.dispatch('window', { event: 'offline' }, 'DeviceInfor');\n    });\n    window.addEventListener('online', function () {\n        Hub_1.default.dispatch('window', { event: 'online' }, 'DeviceInfor');\n    });\n}\n//# sourceMappingURL=browser.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction missingConfig(name) { return new Error('Missing config value of ' + name); }\nexports.missingConfig = missingConfig;\nfunction invalidParameter(name) { return new Error('Invalid parameter value of ' + name); }\nexports.invalidParameter = invalidParameter;\n//# sourceMappingURL=Errors.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MIME_MAP = [\n    { type: 'text/plain', ext: 'txt' },\n    { type: 'text/html', ext: 'html' },\n    { type: 'text/javascript', ext: 'js' },\n    { type: 'text/css', ext: 'css' },\n    { type: 'text/csv', ext: 'csv' },\n    { type: 'text/yaml', ext: 'yml' },\n    { type: 'text/yaml', ext: 'yaml' },\n    { type: 'text/calendar', ext: 'ics' },\n    { type: 'text/calendar', ext: 'ical' },\n    { type: 'image/png', ext: 'png' },\n    { type: 'image/gif', ext: 'gif' },\n    { type: 'image/jpeg', ext: 'jpg' },\n    { type: 'image/jpeg', ext: 'jpeg' },\n    { type: 'image/bmp', ext: 'bmp' },\n    { type: 'image/x-icon', ext: 'ico' },\n    { type: 'image/tiff', ext: 'tif' },\n    { type: 'image/tiff', ext: 'tiff' },\n    { type: 'image/svg+xml', ext: 'svg' },\n    { type: 'application/json', ext: 'json' },\n    { type: 'application/xml', ext: 'xml' },\n    { type: 'application/x-sh', ext: 'sh' },\n    { type: 'application/zip', ext: 'zip' },\n    { type: 'application/x-rar-compressed', ext: 'rar' },\n    { type: 'application/x-tar', ext: 'tar' },\n    { type: 'application/x-bzip', ext: 'bz' },\n    { type: 'application/x-bzip2', ext: 'bz2' },\n    { type: 'application/pdf', ext: 'pdf' },\n    { type: 'application/java-archive', ext: 'jar' },\n    { type: 'application/msword', ext: 'doc' },\n    { type: 'application/vnd.ms-excel', ext: 'xls' },\n    { type: 'application/vnd.ms-excel', ext: 'xlsx' },\n    { type: 'message/rfc822', ext: 'eml' }\n];\nvar JS = /** @class */ (function () {\n    function JS() {\n    }\n    JS.isEmpty = function (obj) {\n        return Object.keys(obj).length === 0;\n    };\n    JS.sortByField = function (list, field, dir) {\n        if (!list || !list.sort) {\n            return false;\n        }\n        var dirX = (dir && dir === 'desc') ? -1 : 1;\n        list.sort(function (a, b) {\n            var a_val = a[field];\n            var b_val = b[field];\n            if (typeof b_val === 'undefined') {\n                return (typeof a_val === 'undefined') ? 0 : 1 * dirX;\n            }\n            if (typeof a_val === 'undefined') {\n                return -1 * dirX;\n            }\n            if (a_val < b_val) {\n                return -1 * dirX;\n            }\n            if (a_val > b_val) {\n                return 1 * dirX;\n            }\n            return 0;\n        });\n        return true;\n    };\n    JS.objectLessAttributes = function (obj, less) {\n        var ret = Object.assign({}, obj);\n        if (less) {\n            if (typeof less === 'string') {\n                delete ret[less];\n            }\n            else {\n                less.forEach(function (attr) {\n                    delete ret[attr];\n                });\n            }\n        }\n        return ret;\n    };\n    JS.filenameToContentType = function (filename, defVal) {\n        if (defVal === void 0) { defVal = 'application/octet-stream'; }\n        var name = filename.toLowerCase();\n        var filtered = MIME_MAP.filter(function (mime) { return name.endsWith('.' + mime.ext); });\n        return filtered.length > 0 ? filtered[0].type : defVal;\n    };\n    JS.isTextFile = function (contentType) {\n        var type = contentType.toLowerCase();\n        if (type.startsWith('text/')) {\n            return true;\n        }\n        return ('application/json' === type ||\n            'application/xml' === type ||\n            'application/sh' === type);\n    };\n    /**\n     * generate random string\n     */\n    JS.generateRandomString = function () {\n        var result = '';\n        var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n        for (var i = 32; i > 0; i -= 1) {\n            result += chars[Math.floor(Math.random() * chars.length)];\n        }\n        return result;\n    };\n    JS.makeQuerablePromise = function (promise) {\n        if (promise.isResolved)\n            return promise;\n        var isPending = true;\n        var isRejected = false;\n        var isFullfilled = false;\n        var result = promise.then(function (data) {\n            isFullfilled = true;\n            isPending = false;\n            return data;\n        }, function (e) {\n            isRejected = true;\n            isPending = false;\n            throw e;\n        });\n        result.isFullfilled = function () { return isFullfilled; };\n        result.isPending = function () { return isPending; };\n        result.isRejected = function () { return isRejected; };\n        return result;\n    };\n    return JS;\n}());\nexports.default = JS;\n//# sourceMappingURL=JS.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Parser = /** @class */ (function () {\n    function Parser() {\n    }\n    Parser.parseMobilehubConfig = function (config) {\n        var amplifyConfig = {};\n        // Analytics\n        if (config['aws_mobile_analytics_app_id']) {\n            var Analytics = {};\n            Analytics['appId'] = config['aws_mobile_analytics_app_id'];\n            Analytics['region'] = config['aws_mobile_analytics_app_region'];\n            amplifyConfig.Analytics = Analytics;\n        }\n        amplifyConfig.Analytics = Object.assign({}, amplifyConfig.Analytics, config.Analytics);\n        return amplifyConfig;\n    };\n    return Parser;\n}());\nexports.default = Parser;\n//# sourceMappingURL=Parser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar GoogleOAuth_1 = require(\"./GoogleOAuth\");\nvar FacebookOAuth_1 = require(\"./FacebookOAuth\");\nvar GoogleOAuth = new GoogleOAuth_1.default();\nexports.GoogleOAuth = GoogleOAuth;\nvar FacebookOAuth = new FacebookOAuth_1.default();\nexports.FacebookOAuth = FacebookOAuth;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar Common_1 = require(\"../../Common\");\nvar logger = new Common_1.ConsoleLogger('CognitoCredentials');\nvar GoogleOAuth = /** @class */ (function () {\n    function GoogleOAuth() {\n    }\n    GoogleOAuth.prototype.refreshGoogleToken = function () {\n        var ga = window['gapi'] && window['gapi'].auth2 ? window['gapi'].auth2 : null;\n        if (!ga) {\n            logger.debug('no gapi auth2 available');\n            return Promise.reject('no gapi auth2 available');\n        }\n        return new Promise(function (res, rej) {\n            ga.getAuthInstance().then(function (googleAuth) {\n                if (!googleAuth) {\n                    console.log('google Auth undefiend');\n                    rej('google Auth undefiend');\n                }\n                var googleUser = googleAuth.currentUser.get();\n                // refresh the token\n                if (googleUser.isSignedIn()) {\n                    logger.debug('refreshing the google access token');\n                    googleUser.reloadAuthResponse()\n                        .then(function (authResponse) {\n                        var id_token = authResponse.id_token, expires_at = authResponse.expires_at;\n                        var profile = googleUser.getBasicProfile();\n                        var user = {\n                            email: profile.getEmail(),\n                            name: profile.getName()\n                        };\n                        res({ token: id_token, expires_at: expires_at });\n                    });\n                }\n                else {\n                    rej('User is not signed in with Google');\n                }\n            }).catch(function (err) {\n                logger.debug('Failed to refresh google token', err);\n                rej('Failed to refresh google token');\n            });\n        });\n    };\n    return GoogleOAuth;\n}());\nexports.default = GoogleOAuth;\n//# sourceMappingURL=GoogleOAuth.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar Common_1 = require(\"../../Common\");\nvar logger = new Common_1.ConsoleLogger('CognitoCredentials');\nvar FacebookOAuth = /** @class */ (function () {\n    function FacebookOAuth() {\n    }\n    FacebookOAuth.prototype.refreshFacebookToken = function () {\n        var fb = window['FB'];\n        if (!fb) {\n            logger.debug('no fb sdk available');\n            return Promise.reject('no fb sdk available');\n        }\n        return new Promise(function (res, rej) {\n            fb.login(function (fbResponse) {\n                if (!fbResponse || !fbResponse.authResponse) {\n                    logger.debug('no response from facebook when refreshing the jwt token');\n                    rej('no response from facebook when refreshing the jwt token');\n                }\n                var response = fbResponse.authResponse;\n                var accessToken = response.accessToken, expiresIn = response.expiresIn;\n                var date = new Date();\n                var expires_at = expiresIn * 1000 + date.getTime();\n                if (!accessToken) {\n                    logger.debug('the jwtToken is undefined');\n                    rej('the jwtToken is undefined');\n                }\n                res({ token: accessToken, expires_at: expires_at });\n            }, { scope: 'public_profile,email' });\n        });\n    };\n    return FacebookOAuth;\n}());\nexports.default = FacebookOAuth;\n//# sourceMappingURL=FacebookOAuth.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar Linking = {};\nexports.Linking = Linking;\nvar AppState = {\n    addEventListener: function (action, handler) {\n        return;\n    }\n};\nexports.AppState = AppState;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar Common_1 = require(\"../../Common\");\nvar Cache_1 = require(\"../../Cache\");\nvar uuid_1 = require(\"uuid\");\nvar logger = new Common_1.ConsoleLogger('AWSAnalyticsProvider');\nvar NON_RETRYABLE_EXCEPTIONS = ['BadRequestException', 'SerializationException', 'ValidationException'];\nvar AWSAnalyticsProvider = /** @class */ (function () {\n    function AWSAnalyticsProvider(config) {\n        this._config = config ? config : {};\n    }\n    /**\n     * get the category of the plugin\n     */\n    AWSAnalyticsProvider.prototype.getCategory = function () {\n        return 'Analytics';\n    };\n    /**\n     * get provider name of the plugin\n     */\n    AWSAnalyticsProvider.prototype.getProviderName = function () {\n        return 'AWSAnalytics';\n    };\n    /**\n     * configure the plugin\n     * @param {Object} config - configuration\n     */\n    AWSAnalyticsProvider.prototype.configure = function (config) {\n        logger.debug('configure Analytics', config);\n        var conf = config ? config : {};\n        this._config = Object.assign({}, this._config, conf);\n        return this._config;\n    };\n    /**\n     * record an event\n     * @param {Object} params - the params of an event\n     */\n    AWSAnalyticsProvider.prototype.record = function (params) {\n        var eventName = params.eventName;\n        switch (eventName) {\n            case '_session_start':\n                return this._startSession(params);\n            case '_session_stop':\n                return this._stopSession(params);\n            case '_update_endpoint':\n                return this._updateEndpoint(params);\n            default:\n                return this._recordCustomEvent(params);\n        }\n    };\n    /**\n     * @private\n     * @param params\n     */\n    AWSAnalyticsProvider.prototype._startSession = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            var timestamp, config, initClients, sessionId, clientContext, eventParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        timestamp = params.timestamp, config = params.config;\n                        return [4 /*yield*/, this._init(config)];\n                    case 1:\n                        initClients = _a.sent();\n                        if (!initClients)\n                            return [2 /*return*/, false];\n                        logger.debug('record session start');\n                        this._sessionId = uuid_1.v1();\n                        sessionId = this._sessionId;\n                        clientContext = this._generateClientContext();\n                        eventParams = {\n                            clientContext: clientContext,\n                            events: [\n                                {\n                                    eventType: '_session.start',\n                                    timestamp: new Date(timestamp).toISOString(),\n                                    'session': {\n                                        'id': sessionId,\n                                        'startTimestamp': new Date(timestamp).toISOString()\n                                    }\n                                }\n                            ]\n                        };\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                _this.mobileAnalytics.putEvents(eventParams, function (err, data) {\n                                    if (err) {\n                                        logger.debug('record event failed. ', err);\n                                        res(false);\n                                    }\n                                    else {\n                                        logger.debug('record event success. ', data);\n                                        res(true);\n                                    }\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * @private\n     * @param params\n     */\n    AWSAnalyticsProvider.prototype._stopSession = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            var timestamp, config, initClients, sessionId, clientContext, eventParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        timestamp = params.timestamp, config = params.config;\n                        return [4 /*yield*/, this._init(config)];\n                    case 1:\n                        initClients = _a.sent();\n                        if (!initClients)\n                            return [2 /*return*/, false];\n                        logger.debug('record session stop');\n                        sessionId = this._sessionId ? this._sessionId : uuid_1.v1();\n                        clientContext = this._generateClientContext();\n                        eventParams = {\n                            clientContext: clientContext,\n                            events: [\n                                {\n                                    eventType: '_session.stop',\n                                    timestamp: new Date(timestamp).toISOString(),\n                                    'session': {\n                                        'id': sessionId,\n                                        'startTimestamp': new Date(timestamp).toISOString()\n                                    }\n                                }\n                            ]\n                        };\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                _this.mobileAnalytics.putEvents(eventParams, function (err, data) {\n                                    if (err) {\n                                        logger.debug('record event failed. ', err);\n                                        res(false);\n                                    }\n                                    else {\n                                        logger.debug('record event success. ', data);\n                                        res(true);\n                                    }\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    AWSAnalyticsProvider.prototype._updateEndpoint = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var timestamp, config, initClients, _a, appId, region, credentials, endpointId, cacheKey, request, update_params, _b, _c, that;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        timestamp = params.timestamp, config = params.config;\n                        return [4 /*yield*/, this._init(config)];\n                    case 1:\n                        initClients = _d.sent();\n                        if (!initClients)\n                            return [2 /*return*/, false];\n                        this._config = Object.assign(this._config, config);\n                        _a = this._config, appId = _a.appId, region = _a.region, credentials = _a.credentials, endpointId = _a.endpointId;\n                        cacheKey = this.getProviderName() + '_' + appId;\n                        request = this._endpointRequest();\n                        _b = {\n                            ApplicationId: appId\n                        };\n                        _c = endpointId;\n                        if (_c) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this._getEndpointId(cacheKey)];\n                    case 2:\n                        _c = (_d.sent());\n                        _d.label = 3;\n                    case 3:\n                        update_params = (_b.EndpointId = _c,\n                            _b.EndpointRequest = request,\n                            _b);\n                        that = this;\n                        logger.debug('updateEndpoint with params: ', update_params);\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                that.pinpointClient.updateEndpoint(update_params, function (err, data) {\n                                    if (err) {\n                                        logger.debug('Pinpoint ERROR', err);\n                                        res(false);\n                                    }\n                                    else {\n                                        logger.debug('Pinpoint SUCCESS', data);\n                                        res(true);\n                                    }\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * @private\n     * @param params\n     */\n    AWSAnalyticsProvider.prototype._recordCustomEvent = function (params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            var eventName, attributes, metrics, timestamp, config, initClients, clientContext, eventParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        eventName = params.eventName, attributes = params.attributes, metrics = params.metrics, timestamp = params.timestamp, config = params.config;\n                        return [4 /*yield*/, this._init(config)];\n                    case 1:\n                        initClients = _a.sent();\n                        if (!initClients)\n                            return [2 /*return*/, false];\n                        clientContext = this._generateClientContext();\n                        eventParams = {\n                            clientContext: clientContext,\n                            events: [\n                                {\n                                    eventType: eventName,\n                                    timestamp: new Date(timestamp).toISOString(),\n                                    attributes: attributes,\n                                    metrics: metrics\n                                }\n                            ]\n                        };\n                        logger.debug('record event with params', eventParams);\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                _this.mobileAnalytics.putEvents(eventParams, function (err, data) {\n                                    if (err) {\n                                        logger.debug('record event failed. ', err);\n                                        res(false);\n                                    }\n                                    else {\n                                        logger.debug('record event success. ', data);\n                                        res(true);\n                                    }\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * @private\n     * @param config\n     * Init the clients\n     */\n    AWSAnalyticsProvider.prototype._init = function (config) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            var appId, cacheKey, endpointId, _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        logger.debug('init clients');\n                        if (!config.credentials) {\n                            logger.debug('no credentials provided by config, abort this init');\n                            return [2 /*return*/, false];\n                        }\n                        if (this.mobileAnalytics\n                            && this._config.credentials\n                            && this._config.credentials.sessionToken === config.credentials.sessionToken\n                            && this._config.credentials.identityId === config.credentials.identityId) {\n                            logger.debug('no change for analytics config, directly return from init');\n                            return [2 /*return*/, true];\n                        }\n                        appId = config.appId;\n                        cacheKey = this.getProviderName() + '_' + appId;\n                        if (!config.endpointId) return [3 /*break*/, 1];\n                        _a = config.endpointId;\n                        return [3 /*break*/, 5];\n                    case 1:\n                        if (!this._config.endpointId) return [3 /*break*/, 2];\n                        _b = this._config.endpointId;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this._getEndpointId(cacheKey)];\n                    case 3:\n                        _b = _c.sent();\n                        _c.label = 4;\n                    case 4:\n                        _a = (_b);\n                        _c.label = 5;\n                    case 5:\n                        endpointId = _a;\n                        this._config = Object.assign(this._config, { endpointId: endpointId }, config);\n                        this._initMobileAnalytics();\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                _this._initPinpoint().then(function (data) {\n                                    res(true);\n                                }).catch(function (err) {\n                                    res(false);\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    AWSAnalyticsProvider.prototype._getEndpointId = function (cacheKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var endpointId;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, Cache_1.default.getItem(cacheKey)];\n                    case 1:\n                        endpointId = _a.sent();\n                        logger.debug('endpointId from cache', endpointId, 'type', typeof endpointId);\n                        if (!endpointId) {\n                            endpointId = uuid_1.v1();\n                            Cache_1.default.setItem(cacheKey, endpointId);\n                        }\n                        return [2 /*return*/, endpointId];\n                }\n            });\n        });\n    };\n    /**\n     * @private\n     * Init the MobileAnalytics client\n     */\n    AWSAnalyticsProvider.prototype._initMobileAnalytics = function () {\n        var _a = this._config, credentials = _a.credentials, region = _a.region;\n        this.mobileAnalytics = new Common_1.MobileAnalytics({ credentials: credentials, region: region });\n    };\n    /**\n     * @private\n     * Init Pinpoint with configuration and update pinpoint client endpoint\n     * @return - A promise resolves if endpoint updated successfully\n     */\n    AWSAnalyticsProvider.prototype._initPinpoint = function () {\n        var _this = this;\n        var _a = this._config, region = _a.region, appId = _a.appId, endpointId = _a.endpointId, credentials = _a.credentials;\n        this.pinpointClient = new Common_1.Pinpoint({\n            region: region,\n            credentials: credentials,\n        });\n        var request = this._endpointRequest();\n        var update_params = {\n            ApplicationId: appId,\n            EndpointId: endpointId,\n            EndpointRequest: request\n        };\n        logger.debug('updateEndpoint with params: ', update_params);\n        return new Promise(function (res, rej) {\n            _this.pinpointClient.updateEndpoint(update_params, function (err, data) {\n                if (err) {\n                    logger.debug('Pinpoint ERROR', err);\n                    rej(err);\n                }\n                else {\n                    logger.debug('Pinpoint SUCCESS', data);\n                    res(data);\n                }\n            });\n        });\n    };\n    /**\n     * EndPoint request\n     * @return {Object} - The request of updating endpoint\n     */\n    AWSAnalyticsProvider.prototype._endpointRequest = function () {\n        var _a = this._config, clientInfo = _a.clientInfo, credentials = _a.credentials, Address = _a.Address, RequestId = _a.RequestId, Attributes = _a.Attributes, UserAttributes = _a.UserAttributes, endpointId = _a.endpointId, UserId = _a.UserId;\n        var user_id = (credentials && credentials.authenticated) ? credentials.identityId : null;\n        var ChannelType = Address ? ((clientInfo.platform === 'android') ? 'GCM' : 'APNS') : undefined;\n        logger.debug('demographic user id: ', user_id);\n        var OptOut = this._config.OptOut ? this._config.OptOut : undefined;\n        var ret = {\n            Address: Address,\n            Attributes: Attributes,\n            ChannelType: ChannelType,\n            Demographic: {\n                AppVersion: this._config.appVersion || clientInfo.appVersion,\n                Make: clientInfo.make,\n                Model: clientInfo.model,\n                ModelVersion: clientInfo.version,\n                Platform: clientInfo.platform\n            },\n            OptOut: OptOut,\n            RequestId: RequestId,\n            EffectiveDate: Address ? new Date().toISOString() : undefined,\n            User: {\n                UserId: UserId ? UserId : credentials.identityId,\n                UserAttributes: UserAttributes\n            }\n        };\n        return ret;\n    };\n    /**\n     * @private\n     * generate client context with endpoint Id and app Id provided\n     */\n    AWSAnalyticsProvider.prototype._generateClientContext = function () {\n        var _a = this._config, endpointId = _a.endpointId, appId = _a.appId;\n        var clientContext = {\n            client: {\n                client_id: endpointId\n            },\n            services: {\n                mobile_analytics: {\n                    app_id: appId\n                }\n            }\n        };\n        return JSON.stringify(clientContext);\n    };\n    return AWSAnalyticsProvider;\n}());\nexports.default = AWSAnalyticsProvider;\n//# sourceMappingURL=AWSAnalyticsProvider.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Utils_1 = require(\"./Utils\");\nvar StorageCache_1 = require(\"./StorageCache\");\nvar Common_1 = require(\"../Common\");\nvar logger = new Common_1.ConsoleLogger('Cache');\n/**\n * Customized storage based on the SessionStorage or LocalStorage with LRU implemented\n */\nvar BrowserStorageCache = /** @class */ (function (_super) {\n    __extends(BrowserStorageCache, _super);\n    /**\n     * initialize the cache\n     * @param config - the configuration of the cache\n     */\n    function BrowserStorageCache(config) {\n        var _this = this;\n        var cacheConfig = config ? Object.assign({}, Utils_1.defaultConfig, config) : Utils_1.defaultConfig;\n        _this = _super.call(this, cacheConfig) || this;\n        _this.config.storage = cacheConfig.storage;\n        logger.debug('Using AsyncStorageCache');\n        return _this;\n    }\n    /**\n     * decrease current size of the cache\n     *\n     * @private\n     * @param amount - the amount of the cache size which needs to be decreased\n     */\n    BrowserStorageCache.prototype._decreaseCurSizeInBytes = function (amount) {\n        var curSize = this.getCacheCurSize();\n        this.config.storage.setItem(this.cacheCurSizeKey, (curSize - amount).toString());\n    };\n    /**\n     * increase current size of the cache\n     *\n     * @private\n     * @param amount - the amount of the cache szie which need to be increased\n     */\n    BrowserStorageCache.prototype._increaseCurSizeInBytes = function (amount) {\n        var curSize = this.getCacheCurSize();\n        this.config.storage.setItem(this.cacheCurSizeKey, (curSize + amount).toString());\n    };\n    /**\n     * update the visited time if item has been visited\n     *\n     * @private\n     * @param item - the item which need to be refreshed\n     * @param prefixedKey - the key of the item\n     *\n     * @return the refreshed item\n     */\n    BrowserStorageCache.prototype._refreshItem = function (item, prefixedKey) {\n        item.visitedTime = Utils_1.getCurrTime();\n        this.config.storage.setItem(prefixedKey, JSON.stringify(item));\n        return item;\n    };\n    /**\n     * check wether item is expired\n     *\n     * @private\n     * @param key - the key of the item\n     *\n     * @return true if the item is expired.\n     */\n    BrowserStorageCache.prototype._isExpired = function (key) {\n        var text = this.config.storage.getItem(key);\n        var item = JSON.parse(text);\n        if (Utils_1.getCurrTime() >= item.expires) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * delete item from cache\n     *\n     * @private\n     * @param prefixedKey - the key of the item\n     * @param size - optional, the byte size of the item\n     */\n    BrowserStorageCache.prototype._removeItem = function (prefixedKey, size) {\n        var itemSize = size ? size : JSON.parse(this.config.storage.getItem(prefixedKey)).byteSize;\n        this._decreaseCurSizeInBytes(itemSize);\n        // remove the cache item\n        this.config.storage.removeItem(prefixedKey);\n    };\n    /**\n     * put item into cache\n     *\n     * @private\n     * @param prefixedKey - the key of the item\n     * @param itemData - the value of the item\n     * @param itemSizeInBytes - the byte size of the item\n     */\n    BrowserStorageCache.prototype._setItem = function (prefixedKey, item) {\n        // update the cache size\n        this._increaseCurSizeInBytes(item.byteSize);\n        try {\n            this.config.storage.setItem(prefixedKey, JSON.stringify(item));\n        }\n        catch (setItemErr) {\n            // if failed, we need to rollback the cache size\n            this._decreaseCurSizeInBytes(item.byteSize);\n            logger.error(\"Failed to set item \" + setItemErr);\n        }\n    };\n    /**\n     * total space needed when poping out items\n     *\n     * @private\n     * @param itemSize\n     *\n     * @return total space needed\n     */\n    BrowserStorageCache.prototype._sizeToPop = function (itemSize) {\n        var spaceItemNeed = this.getCacheCurSize() + itemSize - this.config.capacityInBytes;\n        var cacheThresholdSpace = (1 - this.config.warningThreshold) * this.config.capacityInBytes;\n        return spaceItemNeed > cacheThresholdSpace ? spaceItemNeed : cacheThresholdSpace;\n    };\n    /**\n     * see whether cache is full\n     *\n     * @private\n     * @param itemSize\n     *\n     * @return true if cache is full\n     */\n    BrowserStorageCache.prototype._isCacheFull = function (itemSize) {\n        return itemSize + this.getCacheCurSize() > this.config.capacityInBytes;\n    };\n    /**\n     * scan the storage and find out all the keys owned by this cache\n     * also clean the expired keys while scanning\n     *\n     * @private\n     *\n     * @return array of keys\n     */\n    BrowserStorageCache.prototype._findValidKeys = function () {\n        var keys = [];\n        var keyInCache = [];\n        // get all keys in Storage\n        for (var i = 0; i < this.config.storage.length; i += 1) {\n            keyInCache.push(this.config.storage.key(i));\n        }\n        // find those items which belong to our cache and also clean those expired items\n        for (var i = 0; i < keyInCache.length; i += 1) {\n            var key = keyInCache[i];\n            if (key.indexOf(this.config.keyPrefix) === 0 && key !== this.cacheCurSizeKey) {\n                if (this._isExpired(key)) {\n                    this._removeItem(key);\n                }\n                else {\n                    keys.push(key);\n                }\n            }\n        }\n        return keys;\n    };\n    /**\n     * get all the items we have, sort them by their priority,\n     * if priority is same, sort them by their last visited time\n     * pop out items from the low priority (5 is the lowest)\n     *\n     * @private\n     * @param keys - all the keys in this cache\n     * @param sizeToPop - the total size of the items which needed to be poped out\n     */\n    BrowserStorageCache.prototype._popOutItems = function (keys, sizeToPop) {\n        var items = [];\n        var remainedSize = sizeToPop;\n        // get the items from Storage\n        for (var i = 0; i < keys.length; i += 1) {\n            var val = this.config.storage.getItem(keys[i]);\n            if (val != null) {\n                var item = JSON.parse(val);\n                items.push(item);\n            }\n        }\n        // first compare priority\n        // then compare visited time\n        items.sort(function (a, b) {\n            if (a.priority > b.priority) {\n                return -1;\n            }\n            else if (a.priority < b.priority) {\n                return 1;\n            }\n            else {\n                if (a.visitedTime < b.visitedTime) {\n                    return -1;\n                }\n                else\n                    return 1;\n            }\n        });\n        for (var i = 0; i < items.length; i += 1) {\n            // pop out items until we have enough room for new item\n            this._removeItem(items[i].key, items[i].byteSize);\n            remainedSize -= items[i].byteSize;\n            if (remainedSize <= 0) {\n                return;\n            }\n        }\n    };\n    /**\n     * Set item into cache. You can put number, string, boolean or object.\n     * The cache will first check whether has the same key.\n     * If it has, it will delete the old item and then put the new item in\n     * The cache will pop out items if it is full\n     * You can specify the cache item options. The cache will abort and output a warning:\n     * If the key is invalid\n     * If the size of the item exceeds itemMaxSize.\n     * If the value is undefined\n     * If incorrect cache item configuration\n     * If error happened with browser storage\n     *\n     * @param key - the key of the item\n     * @param value - the value of the item\n     * @param {Object} [options] - optional, the specified meta-data\n     */\n    BrowserStorageCache.prototype.setItem = function (key, value, options) {\n        logger.log(\"Set item: key is \" + key + \", value is \" + value + \" with options: \" + options);\n        var prefixedKey = this.config.keyPrefix + key;\n        // invalid keys\n        if (prefixedKey === this.config.keyPrefix || prefixedKey === this.cacheCurSizeKey) {\n            logger.warn(\"Invalid key: should not be empty or 'CurSize'\");\n            return;\n        }\n        if (typeof value === 'undefined') {\n            logger.warn(\"The value of item should not be undefined!\");\n            return;\n        }\n        var cacheItemOptions = {\n            priority: options && options.priority !== undefined ? options.priority : this.config.defaultPriority,\n            expires: options && options.expires !== undefined ? options.expires : this.config.defaultTTL + Utils_1.getCurrTime()\n        };\n        if (cacheItemOptions.priority < 1 || cacheItemOptions.priority > 5) {\n            logger.warn(\"Invalid parameter: priority due to out or range. It should be within 1 and 5.\");\n            return;\n        }\n        var item = this.fillCacheItem(prefixedKey, value, cacheItemOptions);\n        // check wether this item is too big;\n        if (item.byteSize > this.config.itemMaxSize) {\n            logger.warn(\"Item with key: \" + key + \" you are trying to put into is too big!\");\n            return;\n        }\n        try {\n            // first look into the storage, if it exists, delete it.\n            var val = this.config.storage.getItem(prefixedKey);\n            if (val) {\n                this._removeItem(prefixedKey, JSON.parse(val).byteSize);\n            }\n            // check whether the cache is full\n            if (this._isCacheFull(item.byteSize)) {\n                var validKeys = this._findValidKeys();\n                // check again and then pop out items\n                if (this._isCacheFull(item.byteSize)) {\n                    var sizeToPop = this._sizeToPop(item.byteSize);\n                    this._popOutItems(validKeys, sizeToPop);\n                }\n            }\n            // put item in the cache\n            // may failed due to storage full\n            this._setItem(prefixedKey, item);\n        }\n        catch (e) {\n            logger.warn(\"setItem failed! \" + e);\n        }\n    };\n    /**\n     * Get item from cache. It will return null if item doesnt exist or it has been expired.\n     * If you specified callback function in the options,\n     * then the function will be executed if no such item in the cache\n     * and finally put the return value into cache.\n     * Please make sure the callback function will return the value you want to put into the cache.\n     * The cache will abort output a warning:\n     * If the key is invalid\n     * If error happened with browser storage\n     *\n     * @param key - the key of the item\n     * @param {Object} [options] - the options of callback function\n     *\n     * @return - return the value of the item\n     */\n    BrowserStorageCache.prototype.getItem = function (key, options) {\n        logger.log(\"Get item: key is \" + key + \" with options \" + options);\n        var ret = null;\n        var prefixedKey = this.config.keyPrefix + key;\n        if (prefixedKey === this.config.keyPrefix || prefixedKey === this.cacheCurSizeKey) {\n            logger.warn(\"Invalid key: should not be empty or 'CurSize'\");\n            return null;\n        }\n        try {\n            ret = this.config.storage.getItem(prefixedKey);\n            if (ret != null) {\n                if (this._isExpired(prefixedKey)) {\n                    // if expired, remove that item and return null\n                    this._removeItem(prefixedKey, JSON.parse(ret).byteSize);\n                    ret = null;\n                }\n                else {\n                    // if not expired, great, return the value and refresh it\n                    var item = JSON.parse(ret);\n                    item = this._refreshItem(item, prefixedKey);\n                    return item.data;\n                }\n            }\n            if (options && options.callback !== undefined) {\n                var val = options.callback();\n                if (val !== null) {\n                    this.setItem(key, val, options);\n                }\n                return val;\n            }\n            return null;\n        }\n        catch (e) {\n            logger.warn(\"getItem failed! \" + e);\n            return null;\n        }\n    };\n    /**\n     * remove item from the cache\n     * The cache will abort output a warning:\n     * If error happened with browser storage\n     * @param key - the key of the item\n     */\n    BrowserStorageCache.prototype.removeItem = function (key) {\n        logger.log(\"Remove item: key is \" + key);\n        var prefixedKey = this.config.keyPrefix + key;\n        if (prefixedKey === this.config.keyPrefix || prefixedKey === this.cacheCurSizeKey) {\n            return;\n        }\n        try {\n            var val = this.config.storage.getItem(prefixedKey);\n            if (val) {\n                this._removeItem(prefixedKey, JSON.parse(val).byteSize);\n            }\n        }\n        catch (e) {\n            logger.warn(\"removeItem failed! \" + e);\n        }\n    };\n    /**\n     * clear the entire cache\n     * The cache will abort output a warning:\n     * If error happened with browser storage\n     */\n    BrowserStorageCache.prototype.clear = function () {\n        logger.log(\"Clear Cache\");\n        var keysToRemove = [];\n        for (var i = 0; i < this.config.storage.length; i += 1) {\n            var key = this.config.storage.key(i);\n            if (key.indexOf(this.config.keyPrefix) === 0) {\n                keysToRemove.push(key);\n            }\n        }\n        try {\n            for (var i = 0; i < keysToRemove.length; i += 1) {\n                this.config.storage.removeItem(keysToRemove[i]);\n            }\n        }\n        catch (e) {\n            logger.warn(\"clear failed! \" + e);\n        }\n    };\n    /**\n     * Return all the keys in the cache.\n     *\n     * @return - all keys in the cache\n     */\n    BrowserStorageCache.prototype.getAllKeys = function () {\n        var keys = [];\n        for (var i = 0; i < this.config.storage.length; i += 1) {\n            var key = this.config.storage.key(i);\n            if (key.indexOf(this.config.keyPrefix) === 0 && key !== this.cacheCurSizeKey) {\n                keys.push(key.substring(this.config.keyPrefix.length));\n            }\n        }\n        return keys;\n    };\n    /**\n     * return the current size of the cache\n     *\n     * @return - current size of the cache\n     */\n    BrowserStorageCache.prototype.getCacheCurSize = function () {\n        var ret = this.config.storage.getItem(this.cacheCurSizeKey);\n        if (!ret) {\n            this.config.storage.setItem(this.cacheCurSizeKey, '0');\n            ret = '0';\n        }\n        return Number(ret);\n    };\n    /**\n     * Return a new instance of cache with customized configuration.\n     * @param config - the customized configuration\n     *\n     * @return - new instance of Cache\n     */\n    BrowserStorageCache.prototype.createInstance = function (config) {\n        if (!config.keyPrefix || config.keyPrefix === Utils_1.defaultConfig.keyPrefix) {\n            logger.error('invalid keyPrefix, setting keyPrefix with timeStamp');\n            config.keyPrefix = Utils_1.getCurrTime.toString();\n        }\n        return new BrowserStorageCache(config);\n    };\n    return BrowserStorageCache;\n}(StorageCache_1.default));\nexports.BrowserStorageCache = BrowserStorageCache;\nvar instance = new BrowserStorageCache();\nexports.default = instance;\n//# sourceMappingURL=BrowserStorageCache.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n* Default cache config\n*/\nexports.defaultConfig = {\n    keyPrefix: 'aws-amplify-cache',\n    capacityInBytes: 1048576,\n    itemMaxSize: 210000,\n    defaultTTL: 259200000,\n    defaultPriority: 5,\n    warningThreshold: 0.8,\n    storage: (typeof window === 'undefined') ? null : window.localStorage\n};\n/**\n * return the byte size of the string\n * @param str\n */\nfunction getByteLength(str) {\n    var ret = 0;\n    ret = str.length;\n    for (var i = str.length; i >= 0; i -= 1) {\n        var charCode = str.charCodeAt(i);\n        if (charCode > 0x7f && charCode <= 0x7ff) {\n            ret += 1;\n        }\n        else if (charCode > 0x7ff && charCode <= 0xffff) {\n            ret += 2;\n        }\n        // trail surrogate\n        if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\n            i -= 1;\n        }\n    }\n    return ret;\n}\nexports.getByteLength = getByteLength;\n/**\n * get current time\n */\nfunction getCurrTime() {\n    var currTime = new Date();\n    return currTime.getTime();\n}\nexports.getCurrTime = getCurrTime;\n/**\n * check if passed value is an integer\n */\nfunction isInteger(value) {\n    if (Number.isInteger) {\n        return Number.isInteger(value);\n    }\n    return _isInteger(value);\n}\nexports.isInteger = isInteger;\nfunction _isInteger(value) {\n    return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n}\n//# sourceMappingURL=CacheUtils.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DoubleLinkedNode = /** @class */ (function () {\n    function DoubleLinkedNode(keyVal) {\n        this.key = keyVal ? keyVal : '';\n        this.prevNode = null;\n        this.nextNode = null;\n    }\n    return DoubleLinkedNode;\n}());\n/**\n * double linked list plus a hash table inside\n * each key in the cache stored as a node in the list\n * recently visited node will be rotated to the head\n * so the Last Recently Visited node will be at the tail\n *\n * @member head - dummy head of the linked list\n * @member tail - dummy tail of the linked list\n * @member hashtable - the hashtable which maps cache key to list node\n * @member length - length of the list\n */\nvar CacheList = /** @class */ (function () {\n    /**\n     * initialization\n     */\n    function CacheList() {\n        this.head = new DoubleLinkedNode();\n        this.tail = new DoubleLinkedNode();\n        this.hashtable = {};\n        this.length = 0;\n        this.head.nextNode = this.tail;\n        this.tail.prevNode = this.head;\n    }\n    /**\n     * insert node to the head of the list\n     *\n     * @param node\n     */\n    CacheList.prototype.insertNodeToHead = function (node) {\n        var tmp = this.head.nextNode;\n        this.head.nextNode = node;\n        node.nextNode = tmp;\n        node.prevNode = this.head;\n        tmp.prevNode = node;\n        this.length = this.length + 1;\n    };\n    /**\n     * remove node\n     *\n     * @param node\n     */\n    CacheList.prototype.removeNode = function (node) {\n        node.prevNode.nextNode = node.nextNode;\n        node.nextNode.prevNode = node.prevNode;\n        node.prevNode = null;\n        node.nextNode = null;\n        this.length = this.length - 1;\n    };\n    /**\n     * @return true if list is empty\n     */\n    CacheList.prototype.isEmpty = function () {\n        return this.length === 0;\n    };\n    /**\n     * refresh node so it is rotated to the head\n     *\n     * @param key - key of the node\n     */\n    CacheList.prototype.refresh = function (key) {\n        var node = this.hashtable[key];\n        this.removeNode(node);\n        this.insertNodeToHead(node);\n    };\n    /**\n     * insert new node to the head and add it in the hashtable\n     *\n     * @param key - the key of the node\n     */\n    CacheList.prototype.insertItem = function (key) {\n        var node = new DoubleLinkedNode(key);\n        this.hashtable[key] = node;\n        this.insertNodeToHead(node);\n    };\n    /**\n     * @return the LAST Recently Visited key\n     */\n    CacheList.prototype.getLastItem = function () {\n        return this.tail.prevNode.key;\n    };\n    /**\n     * remove the cache key from the list and hashtable\n     * @param key - the key of the node\n     */\n    CacheList.prototype.removeItem = function (key) {\n        var removedItem = this.hashtable[key];\n        this.removeNode(removedItem);\n        delete this.hashtable[key];\n    };\n    /**\n     * @return length of the list\n     */\n    CacheList.prototype.getSize = function () {\n        return this.length;\n    };\n    /**\n     * @return true if the key is in the hashtable\n     * @param key\n     */\n    CacheList.prototype.containsKey = function (key) {\n        return key in this.hashtable;\n    };\n    /**\n     * clean up the list and hashtable\n     */\n    CacheList.prototype.clearList = function () {\n        for (var _i = 0, _a = Object.keys(this.hashtable); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.hashtable.hasOwnProperty(key)) {\n                delete this.hashtable[key];\n            }\n        }\n        this.head.nextNode = this.tail;\n        this.tail.prevNode = this.head;\n        this.length = 0;\n    };\n    /**\n     * @return all keys in the hashtable\n     */\n    CacheList.prototype.getKeys = function () {\n        return Object.keys(this.hashtable);\n    };\n    /**\n     * mainly for test\n     *\n     * @param key\n     * @return true if key is the head node\n     */\n    CacheList.prototype.isHeadNode = function (key) {\n        var node = this.hashtable[key];\n        return (node.prevNode === this.head);\n    };\n    /**\n     * mainly for test\n     *\n     * @param key\n     * @return true if key is the tail node\n     */\n    CacheList.prototype.isTailNode = function (key) {\n        var node = this.hashtable[key];\n        return (node.nextNode === this.tail);\n    };\n    return CacheList;\n}());\nexports.default = CacheList;\n//# sourceMappingURL=CacheList.js.map","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Common_1 = require(\"../Common\");\nvar Platform_1 = require(\"../Common/Platform\");\nvar Cache_1 = require(\"../Cache\");\nvar logger = new Common_1.ConsoleLogger('AuthClass');\nvar CognitoIdentityCredentials = Common_1.AWS.CognitoIdentityCredentials, Credentials = Common_1.AWS.Credentials;\nvar CookieStorage = Common_1.Cognito.CookieStorage, CognitoUserPool = Common_1.Cognito.CognitoUserPool, CognitoUserAttribute = Common_1.Cognito.CognitoUserAttribute, CognitoUser = Common_1.Cognito.CognitoUser, AuthenticationDetails = Common_1.Cognito.AuthenticationDetails;\nvar dispatchAuthEvent = function (event, data) {\n    Common_1.Hub.dispatch('auth', { event: event, data: data }, 'Auth');\n};\n/**\n* Provide authentication steps\n*/\nvar AuthClass = /** @class */ (function () {\n    /**\n     * Initialize Auth with AWS configurations\n     * @param {Object} config - Configuration of the Auth\n     */\n    function AuthClass(config) {\n        this.userPool = null;\n        this.credentials = null;\n        this.credentials_source = ''; // aws, guest, userPool, federated\n        this.user = null;\n        this._refreshHandlers = {};\n        this._gettingCredPromise = null;\n        this.configure(config);\n        // refresh token\n        this._refreshHandlers['google'] = Common_1.GoogleOAuth.refreshGoogleToken;\n        this._refreshHandlers['facebook'] = Common_1.FacebookOAuth.refreshFacebookToken;\n        if (Common_1.AWS.config) {\n            Common_1.AWS.config.update({ customUserAgent: Common_1.Constants.userAgent });\n        }\n        else {\n            logger.warn('No AWS.config');\n        }\n    }\n    AuthClass.prototype.configure = function (config) {\n        var _this = this;\n        logger.debug('configure Auth');\n        var conf = config ? config.Auth || config : {};\n        if (conf['aws_cognito_identity_pool_id']) {\n            conf = {\n                userPoolId: conf['aws_user_pools_id'],\n                userPoolWebClientId: conf['aws_user_pools_web_client_id'],\n                region: conf['aws_cognito_region'],\n                identityPoolId: conf['aws_cognito_identity_pool_id'],\n                mandatorySignIn: conf['aws_mandatory_sign_in'] === 'enable' ? true : false\n            };\n        }\n        this._config = Object.assign({}, this._config, conf);\n        if (!this._config.identityPoolId) {\n            logger.debug('Do not have identityPoolId yet.');\n        }\n        var _a = this._config, userPoolId = _a.userPoolId, userPoolWebClientId = _a.userPoolWebClientId, cookieStorage = _a.cookieStorage;\n        if (userPoolId) {\n            var userPoolData = {\n                UserPoolId: userPoolId,\n                ClientId: userPoolWebClientId,\n            };\n            if (cookieStorage) {\n                userPoolData.Storage = new CookieStorage(cookieStorage);\n            }\n            this.userPool = new CognitoUserPool(userPoolData);\n            if (Platform_1.default.isReactNative) {\n                var that = this;\n                this._userPoolStorageSync = new Promise(function (resolve, reject) {\n                    _this.userPool.storage.sync(function (err, data) {\n                        if (err) {\n                            reject(err);\n                        }\n                        else {\n                            resolve(data);\n                        }\n                    });\n                });\n            }\n        }\n        dispatchAuthEvent('configured', null);\n        return this._config;\n    };\n    /**\n     * Sign up with username, password and other attrbutes like phone, email\n     * @param {String | object} params - The user attirbutes used for signin\n     * @param {String[]} restOfAttrs - for the backward compatability\n     * @return - A promise resolves callback data if success\n     */\n    AuthClass.prototype.signUp = function (params) {\n        var _this = this;\n        var restOfAttrs = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            restOfAttrs[_i - 1] = arguments[_i];\n        }\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        var username = null;\n        var password = null;\n        var attributes = [];\n        var validationData = null;\n        if (params && typeof params === 'string') {\n            username = params;\n            password = restOfAttrs ? restOfAttrs[0] : null;\n            var email = restOfAttrs ? restOfAttrs[1] : null;\n            var phone_number = restOfAttrs ? restOfAttrs[2] : null;\n            if (email)\n                attributes.push({ Name: 'email', Value: email });\n            if (phone_number)\n                attributes.push({ Name: 'phone_number', Value: phone_number });\n        }\n        else if (params && typeof params === 'object') {\n            username = params['username'];\n            password = params['password'];\n            var attrs_1 = params['attributes'];\n            if (attrs_1) {\n                Object.keys(attrs_1).map(function (key) {\n                    var ele = { Name: key, Value: attrs_1[key] };\n                    attributes.push(ele);\n                });\n            }\n            validationData = params['validationData'] || null;\n        }\n        else {\n            return Promise.reject('The first parameter should either be non-null string or object');\n        }\n        if (!username) {\n            return Promise.reject('Username cannot be empty');\n        }\n        if (!password) {\n            return Promise.reject('Password cannot be empty');\n        }\n        logger.debug('signUp attrs:', attributes);\n        logger.debug('signUp validation data:', validationData);\n        return new Promise(function (resolve, reject) {\n            _this.userPool.signUp(username, password, attributes, validationData, function (err, data) {\n                if (err) {\n                    dispatchAuthEvent('signUp_failure', err);\n                    reject(err);\n                }\n                else {\n                    dispatchAuthEvent('signUp', data);\n                    resolve(data);\n                }\n            });\n        });\n    };\n    /**\n     * Send the verfication code to confirm sign up\n     * @param {String} username - The username to be confirmed\n     * @param {String} code - The verification code\n     * @return - A promise resolves callback data if success\n     */\n    AuthClass.prototype.confirmSignUp = function (username, code) {\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        if (!username) {\n            return Promise.reject('Username cannot be empty');\n        }\n        if (!code) {\n            return Promise.reject('Code cannot be empty');\n        }\n        var user = this.createCognitoUser(username);\n        return new Promise(function (resolve, reject) {\n            user.confirmRegistration(code, true, function (err, data) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(data);\n                }\n            });\n        });\n    };\n    /**\n     * Resend the verification code\n     * @param {String} username - The username to be confirmed\n     * @return - A promise resolves data if success\n     */\n    AuthClass.prototype.resendSignUp = function (username) {\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        if (!username) {\n            return Promise.reject('Username cannot be empty');\n        }\n        var user = this.createCognitoUser(username);\n        return new Promise(function (resolve, reject) {\n            user.resendConfirmationCode(function (err, data) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(data);\n                }\n            });\n        });\n    };\n    /**\n     * Sign in\n     * @param {String} username - The username to be signed in\n     * @param {String} password - The password of the username\n     * @return - A promise resolves the CognitoUser\n     */\n    AuthClass.prototype.signIn = function (username, password) {\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        if (!username) {\n            return Promise.reject('Username cannot be empty');\n        }\n        if (!password) {\n            return Promise.reject('Password cannot be empty');\n        }\n        var user = this.createCognitoUser(username);\n        var authDetails = new AuthenticationDetails({\n            Username: username,\n            Password: password\n        });\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            user.authenticateUser(authDetails, {\n                onSuccess: function (session) {\n                    logger.debug(session);\n                    that._setCredentialsFromSession(session).then(function (cred) {\n                        that.user = user;\n                        dispatchAuthEvent('signIn', user);\n                        resolve(user);\n                    }).catch(function (e) {\n                        logger.debug('cannot get cognito credentials');\n                        reject('signin failed');\n                    });\n                },\n                onFailure: function (err) {\n                    logger.debug('signIn failure', err);\n                    dispatchAuthEvent('signIn_failure', err);\n                    reject(err);\n                },\n                mfaRequired: function (challengeName, challengeParam) {\n                    logger.debug('signIn MFA required');\n                    user['challengeName'] = challengeName;\n                    user['challengeParam'] = challengeParam;\n                    resolve(user);\n                },\n                newPasswordRequired: function (userAttributes, requiredAttributes) {\n                    logger.debug('signIn new password');\n                    user['challengeName'] = 'NEW_PASSWORD_REQUIRED';\n                    user['challengeParam'] = {\n                        userAttributes: userAttributes,\n                        requiredAttributes: requiredAttributes\n                    };\n                    resolve(user);\n                },\n                mfaSetup: function (challengeName, challengeParam) {\n                    logger.debug('signIn mfa setup', challengeName);\n                    user['challengeName'] = challengeName;\n                    user['challengeParam'] = challengeParam;\n                    resolve(user);\n                },\n                totpRequired: function (challengeName, challengeParam) {\n                    logger.debug('signIn totpRequired');\n                    user['challengeName'] = challengeName;\n                    user['challengeParam'] = challengeParam;\n                    resolve(user);\n                },\n                selectMFAType: function (challengeName, challengeParam) {\n                    logger.debug('signIn selectMFAType', challengeName);\n                    user['challengeName'] = challengeName;\n                    user['challengeParam'] = challengeParam;\n                    resolve(user);\n                }\n            });\n        });\n    };\n    /**\n     * get user current preferred mfa option\n     * @param {CognitoUser} user - the current user\n     * @return - A promise resolves the current preferred mfa option if success\n     */\n    AuthClass.prototype.getMFAOptions = function (user) {\n        return new Promise(function (res, rej) {\n            user.getMFAOptions(function (err, mfaOptions) {\n                if (err) {\n                    logger.debug('get MFA Options failed', err);\n                    rej(err);\n                }\n                logger.debug('get MFA options success', mfaOptions);\n                res(mfaOptions);\n            });\n        });\n    };\n    /**\n     * set preferred MFA method\n     * @param {CognitoUser} user - the current Cognito user\n     * @param {string} mfaMethod - preferred mfa method\n     * @return - A promise resolve if success\n     */\n    AuthClass.prototype.setPreferredMFA = function (user, mfaMethod) {\n        var smsMfaSettings = {\n            PreferredMfa: false,\n            Enabled: false\n        };\n        var totpMfaSettings = {\n            PreferredMfa: false,\n            Enabled: false\n        };\n        switch (mfaMethod) {\n            case 'TOTP':\n                totpMfaSettings = {\n                    PreferredMfa: true,\n                    Enabled: true\n                };\n                break;\n            case 'SMS':\n                smsMfaSettings = {\n                    PreferredMfa: true,\n                    Enabled: true\n                };\n                break;\n            case 'NOMFA':\n                break;\n            default:\n                logger.debug('no validmfa method provided');\n                return Promise.reject('no validmfa method provided');\n        }\n        var that = this;\n        var TOTP_NOT_VERIFED = 'User has not verified software token mfa';\n        var TOTP_NOT_SETUP = 'User has not set up software token mfa';\n        return new Promise(function (res, rej) {\n            user.setUserMfaPreference(smsMfaSettings, totpMfaSettings, function (err, result) {\n                if (err) {\n                    // if totp not setup or verified and user want to set it, return error\n                    // otherwise igonre it\n                    if (err.message === TOTP_NOT_SETUP || err.message === TOTP_NOT_VERIFED) {\n                        if (mfaMethod === 'SMS') {\n                            that.enableSMS(user).then(function (data) {\n                                logger.debug('Set user mfa success', data);\n                                res(data);\n                            }).catch(function (err) {\n                                logger.debug('Set user mfa preference error', err);\n                                rej(err);\n                            });\n                        }\n                        else if (mfaMethod === 'NOMFA') {\n                            // diable sms\n                            that.disableSMS(user).then(function (data) {\n                                logger.debug('Set user mfa success', data);\n                                res(data);\n                            }).catch(function (err) {\n                                logger.debug('Set user mfa preference error', err);\n                                rej(err);\n                            });\n                        }\n                        else {\n                            logger.debug('Set user mfa preference error', err);\n                            rej(err);\n                        }\n                    }\n                    else {\n                        logger.debug('Set user mfa preference error', err);\n                        rej(err);\n                    }\n                }\n                logger.debug('Set user mfa success', result);\n                res(result);\n            });\n        });\n    };\n    /**\n     * diable SMS\n     * @param {CognitoUser} user - the current user\n     * @return - A promise resolves is success\n     */\n    AuthClass.prototype.disableSMS = function (user) {\n        return new Promise(function (res, rej) {\n            user.disableMFA(function (err, data) {\n                if (err) {\n                    logger.debug('disable mfa failed', err);\n                    rej(err);\n                }\n                logger.debug('disable mfa succeed', data);\n                res(data);\n            });\n        });\n    };\n    /**\n     * enable SMS\n     * @param {CognitoUser} user - the current user\n     * @return - A promise resolves is success\n     */\n    AuthClass.prototype.enableSMS = function (user) {\n        return new Promise(function (res, rej) {\n            user.enableMFA(function (err, data) {\n                if (err) {\n                    logger.debug('enable mfa failed', err);\n                    rej(err);\n                }\n                logger.debug('enable mfa succeed', data);\n                res(data);\n            });\n        });\n    };\n    /**\n     * Setup TOTP\n     * @param {CognitoUser} user - the current user\n     * @return - A promise resolves with the secret code if success\n     */\n    AuthClass.prototype.setupTOTP = function (user) {\n        return new Promise(function (res, rej) {\n            user.associateSoftwareToken({\n                onFailure: function (err) {\n                    logger.debug('associateSoftwareToken failed', err);\n                    rej(err);\n                },\n                associateSecretCode: function (secretCode) {\n                    logger.debug('associateSoftwareToken sucess', secretCode);\n                    res(secretCode);\n                }\n            });\n        });\n    };\n    /**\n     * verify TOTP setup\n     * @param {CognitoUser} user - the current user\n     * @param {string} challengeAnswer - challenge answer\n     * @return - A promise resolves is success\n     */\n    AuthClass.prototype.verifyTotpToken = function (user, challengeAnswer) {\n        logger.debug('verfication totp token', user, challengeAnswer);\n        return new Promise(function (res, rej) {\n            user.verifySoftwareToken(challengeAnswer, 'My TOTP device', {\n                onFailure: function (err) {\n                    logger.debug('verifyTotpToken failed', err);\n                    rej(err);\n                },\n                onSuccess: function (data) {\n                    logger.debug('verifyTotpToken success', data);\n                    res(data);\n                }\n            });\n        });\n    };\n    /**\n     * Send MFA code to confirm sign in\n     * @param {Object} user - The CognitoUser object\n     * @param {String} code - The confirmation code\n     */\n    AuthClass.prototype.confirmSignIn = function (user, code, mfaType) {\n        if (!code) {\n            return Promise.reject('Code cannot be empty');\n        }\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            user.sendMFACode(code, {\n                onSuccess: function (session) {\n                    logger.debug(session);\n                    that._setCredentialsFromSession(session).then(function (cred) {\n                        that.user = user;\n                        dispatchAuthEvent('signIn', user);\n                        resolve(user);\n                    }).catch(function (e) {\n                        logger.debug('cannot get cognito credentials');\n                        reject('signin failed');\n                    });\n                },\n                onFailure: function (err) {\n                    logger.debug('confirm signIn failure', err);\n                    reject(err);\n                }\n            }, mfaType);\n        });\n    };\n    AuthClass.prototype.completeNewPassword = function (user, password, requiredAttributes) {\n        if (!password) {\n            return Promise.reject('Password cannot be empty');\n        }\n        var that = this;\n        return new Promise(function (resolve, reject) {\n            user.completeNewPasswordChallenge(password, requiredAttributes, {\n                onSuccess: function (session) {\n                    logger.debug(session);\n                    that._setCredentialsFromSession(session).then(function (cred) {\n                        that.user = user;\n                        dispatchAuthEvent('signIn', user);\n                        resolve(user);\n                    }).catch(function (e) {\n                        logger.debug('cannot get cognito credentials');\n                        reject('signin failed');\n                    });\n                },\n                onFailure: function (err) {\n                    logger.debug('completeNewPassword failure', err);\n                    reject(err);\n                },\n                mfaRequired: function (challengeName, challengeParam) {\n                    logger.debug('signIn MFA required');\n                    user['challengeName'] = challengeName;\n                    user['challengeParam'] = challengeParam;\n                    resolve(user);\n                }\n            });\n        });\n    };\n    /**\n     * Update an authenticated users' attributes\n     * @param {CognitoUser} - The currently logged in user object\n     * @return {Promise}\n     **/\n    AuthClass.prototype.updateUserAttributes = function (user, attributes) {\n        var attr = {};\n        var attributeList = [];\n        return this.userSession(user)\n            .then(function (session) {\n            return new Promise(function (resolve, reject) {\n                for (var key in attributes) {\n                    if (key !== 'sub' &&\n                        key.indexOf('_verified') < 0 &&\n                        attributes[key]) {\n                        attr = {\n                            'Name': key,\n                            'Value': attributes[key]\n                        };\n                        attributeList.push(attr);\n                    }\n                }\n                user.updateAttributes(attributeList, function (err, result) {\n                    if (err) {\n                        reject(err);\n                    }\n                    else {\n                        resolve(result);\n                    }\n                });\n            });\n        });\n    };\n    /**\n     * Return user attributes\n     * @param {Object} user - The CognitoUser object\n     * @return - A promise resolves to user attributes if success\n     */\n    AuthClass.prototype.userAttributes = function (user) {\n        return this.userSession(user)\n            .then(function (session) {\n            return new Promise(function (resolve, reject) {\n                user.getUserAttributes(function (err, attributes) {\n                    if (err) {\n                        reject(err);\n                    }\n                    else {\n                        resolve(attributes);\n                    }\n                });\n            });\n        });\n    };\n    AuthClass.prototype.verifiedContact = function (user) {\n        var that = this;\n        return this.userAttributes(user)\n            .then(function (attributes) {\n            var attrs = that.attributesToObject(attributes);\n            var unverified = {};\n            var verified = {};\n            if (attrs['email']) {\n                if (attrs['email_verified']) {\n                    verified['email'] = attrs['email'];\n                }\n                else {\n                    unverified['email'] = attrs['email'];\n                }\n            }\n            if (attrs['phone_number']) {\n                if (attrs['phone_number_verified']) {\n                    verified['phone_number'] = attrs['phone_number'];\n                }\n                else {\n                    unverified['phone_number'] = attrs['phone_number'];\n                }\n            }\n            return {\n                verified: verified,\n                unverified: unverified\n            };\n        });\n    };\n    /**\n     * Get current authenticated user\n     * @return - A promise resolves to curret authenticated CognitoUser if success\n     */\n    AuthClass.prototype.currentUserPoolUser = function () {\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        var user = null;\n        if (Platform_1.default.isReactNative) {\n            var that = this;\n            return this.getSyncedUser().then(function (user) {\n                if (!user) {\n                    return Promise.reject('No current user in userPool');\n                }\n                return new Promise(function (resolve, reject) {\n                    user.getSession(function (err, session) {\n                        if (err) {\n                            reject(err);\n                        }\n                        else {\n                            resolve(user);\n                        }\n                    });\n                });\n            });\n        }\n        else {\n            user = this.userPool.getCurrentUser();\n            if (!user) {\n                return Promise.reject('No current user in userPool');\n            }\n            return new Promise(function (resolve, reject) {\n                user.getSession(function (err, session) {\n                    if (err) {\n                        reject(err);\n                    }\n                    else {\n                        resolve(user);\n                    }\n                });\n            });\n        }\n    };\n    /**\n     * Return the current user after synchornizing AsyncStorage\n     * @return - A promise with the current authenticated user\n     **/\n    AuthClass.prototype.getSyncedUser = function () {\n        var that = this;\n        return (this._userPoolStorageSync || Promise.resolve()).then(function (result) {\n            if (!that.userPool) {\n                return Promise.reject('No userPool');\n            }\n            that.credentials_source = 'userPool';\n            return that.userPool.getCurrentUser();\n        });\n    };\n    /**\n     * Get current authenticated user\n     * @return - A promise resolves to curret authenticated CognitoUser if success\n     */\n    AuthClass.prototype.currentAuthenticatedUser = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var federatedUser, e_1, _a, e_2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        federatedUser = null;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, Cache_1.default.getItem('federatedUser')];\n                    case 2:\n                        federatedUser = _b.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _b.sent();\n                        logger.debug('cannot load federated user from cache');\n                        return [3 /*break*/, 4];\n                    case 4:\n                        if (!federatedUser) return [3 /*break*/, 5];\n                        this.user = federatedUser;\n                        logger.debug('get current authenticated federated user', this.user);\n                        return [2 /*return*/, this.user];\n                    case 5:\n                        logger.debug('get current authenticated userpool user');\n                        _b.label = 6;\n                    case 6:\n                        _b.trys.push([6, 8, , 9]);\n                        _a = this;\n                        return [4 /*yield*/, this.currentUserPoolUser()];\n                    case 7:\n                        _a.user = _b.sent();\n                        return [2 /*return*/, this.user];\n                    case 8:\n                        e_2 = _b.sent();\n                        return [2 /*return*/, Promise.reject('not authenticated')];\n                    case 9: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Get current user's session\n     * @return - A promise resolves to session object if success\n     */\n    AuthClass.prototype.currentSession = function () {\n        var user;\n        var that = this;\n        logger.debug('getting current session');\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        if (Platform_1.default.isReactNative) {\n            return this.getSyncedUser().then(function (user) {\n                if (!user) {\n                    return Promise.reject('No current user');\n                }\n                return that.userSession(user);\n            });\n        }\n        else {\n            user = this.userPool.getCurrentUser();\n            if (!user) {\n                return Promise.reject('No current user');\n            }\n            return this.userSession(user);\n        }\n    };\n    /**\n     * Get the corresponding user session\n     * @param {Object} user - The CognitoUser object\n     * @return - A promise resolves to the session\n     */\n    AuthClass.prototype.userSession = function (user) {\n        return new Promise(function (resolve, reject) {\n            logger.debug(user);\n            user.getSession(function (err, session) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(session);\n                }\n            });\n        });\n    };\n    /**\n     * Get authenticated credentials of current user.\n     * @return - A promise resolves to be current user's credentials\n     */\n    AuthClass.prototype.currentUserCredentials = function () {\n        var _this = this;\n        var that = this;\n        logger.debug('getting current user credential');\n        if (Platform_1.default.isReactNative) {\n            // asyncstorage\n            return Cache_1.default.getItem('federatedInfo')\n                .then(function (federatedInfo) {\n                if (federatedInfo) {\n                    // refresh the jwt token here if necessary\n                    return that._refreshFederatedToken(federatedInfo);\n                }\n                else {\n                    return that.currentSession()\n                        .then(function (session) {\n                        return that._setCredentialsFromSession(session);\n                    }).catch(function (error) {\n                        return that._setCredentialsForGuest();\n                    });\n                }\n            }).catch(function (error) {\n                return Promise.reject(error);\n            });\n        }\n        else {\n            // first to check whether there is federation info in the local storage\n            var federatedInfo = Cache_1.default.getItem('federatedInfo');\n            if (federatedInfo) {\n                // refresh the jwt token here if necessary\n                return this._refreshFederatedToken(federatedInfo);\n            }\n            else {\n                return this.currentSession()\n                    .then(function (session) {\n                    logger.debug('getting session success', session);\n                    return _this._setCredentialsFromSession(session);\n                }).catch(function (error) {\n                    logger.debug('getting session failed', error);\n                    return _this._setCredentialsForGuest();\n                });\n            }\n        }\n    };\n    AuthClass.prototype._refreshFederatedToken = function (federatedInfo) {\n        var _this = this;\n        var provider = federatedInfo.provider, user = federatedInfo.user;\n        var token = federatedInfo.token;\n        var expires_at = federatedInfo.expires_at;\n        var that = this;\n        logger.debug('checking if federated jwt token expired');\n        if (expires_at < new Date().getTime()\n            && typeof that._refreshHandlers[provider] === 'function') {\n            logger.debug('getting refreshed jwt token from federation provider');\n            return that._refreshHandlers[provider]().then(function (data) {\n                logger.debug('refresh federated token sucessfully', data);\n                token = data.token;\n                expires_at = data.expires_at;\n                // Cache.setItem('federatedInfo', { provider, token, user, expires_at }, { priority: 1 });\n                return that._setCredentialsFromFederation({ provider: provider, token: token, user: user, expires_at: expires_at });\n            }).catch(function (e) {\n                logger.debug('refresh federated token failed', e);\n                _this.cleanCachedItems();\n                return Promise.reject('refreshing federation token failed: ' + e);\n            });\n        }\n        else {\n            if (!that._refreshHandlers[provider]) {\n                logger.debug('no refresh handler for provider:', provider);\n                this.cleanCachedItems();\n                return Promise.reject('no refresh handler for provider');\n            }\n            else {\n                logger.debug('token not expired');\n                return this._setCredentialsFromFederation({ provider: provider, token: token, user: user, expires_at: expires_at });\n            }\n        }\n    };\n    AuthClass.prototype.currentCredentials = function () {\n        return this.pickupCredentials();\n    };\n    /**\n     * Initiate an attribute confirmation request\n     * @param {Object} user - The CognitoUser\n     * @param {Object} attr - The attributes to be verified\n     * @return - A promise resolves to callback data if success\n     */\n    AuthClass.prototype.verifyUserAttribute = function (user, attr) {\n        return new Promise(function (resolve, reject) {\n            user.getAttributeVerificationCode(attr, {\n                onSuccess: function (data) { resolve(data); },\n                onFailure: function (err) { reject(err); }\n            });\n        });\n    };\n    /**\n     * Confirm an attribute using a confirmation code\n     * @param {Object} user - The CognitoUser\n     * @param {Object} attr - The attribute to be verified\n     * @param {String} code - The confirmation code\n     * @return - A promise resolves to callback data if success\n     */\n    AuthClass.prototype.verifyUserAttributeSubmit = function (user, attr, code) {\n        if (!code) {\n            return Promise.reject('Code cannot be empty');\n        }\n        return new Promise(function (resolve, reject) {\n            user.verifyAttribute(attr, code, {\n                onSuccess: function (data) { resolve(data); },\n                onFailure: function (err) { reject(err); }\n            });\n        });\n    };\n    AuthClass.prototype.verifyCurrentUserAttribute = function (attr) {\n        var that = this;\n        return that.currentUserPoolUser()\n            .then(function (user) { return that.verifyUserAttribute(user, attr); });\n    };\n    /**\n     * Confirm current user's attribute using a confirmation code\n     * @param {Object} attr - The attribute to be verified\n     * @param {String} code - The confirmation code\n     * @return - A promise resolves to callback data if success\n     */\n    AuthClass.prototype.verifyCurrentUserAttributeSubmit = function (attr, code) {\n        var that = this;\n        return that.currentUserPoolUser()\n            .then(function (user) { return that.verifyUserAttributeSubmit(user, attr, code); });\n    };\n    /**\n     * Sign out method\n     * @return - A promise resolved if success\n     */\n    AuthClass.prototype.signOut = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var e_3, source, user, that;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.cleanCachedItems()];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        e_3 = _a.sent();\n                        logger.debug('failed to clear cached items');\n                        return [3 /*break*/, 3];\n                    case 3:\n                        source = this.credentials_source;\n                        if (source === 'aws' || source === 'userPool') {\n                            if (!this.userPool) {\n                                return [2 /*return*/, Promise.reject('No userPool')];\n                            }\n                            user = this.userPool.getCurrentUser();\n                            if (user) {\n                                logger.debug('user sign out', user);\n                                user.signOut();\n                            }\n                        }\n                        that = this;\n                        return [2 /*return*/, new Promise(function (resolve, reject) {\n                                that._setCredentialsForGuest().then(function (cred) {\n                                    dispatchAuthEvent('signOut', that.user);\n                                    that.user = null;\n                                    resolve();\n                                }).catch(function (e) {\n                                    logger.debug('cannot load guest credentials for unauthenticated user');\n                                    dispatchAuthEvent('signOut', that.user);\n                                    that.user = null;\n                                    resolve();\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    AuthClass.prototype.cleanCachedItems = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, identityPoolId, region, mandatorySignIn, credentials;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this._config, identityPoolId = _a.identityPoolId, region = _a.region, mandatorySignIn = _a.mandatorySignIn;\n                        if (identityPoolId) {\n                            credentials = new CognitoIdentityCredentials({\n                                IdentityPoolId: identityPoolId\n                            }, {\n                                region: region\n                            });\n                            credentials.clearCachedId();\n                        }\n                        // clear federatedInfo\n                        return [4 /*yield*/, Cache_1.default.removeItem('federatedInfo')];\n                    case 1:\n                        // clear federatedInfo\n                        _b.sent();\n                        return [4 /*yield*/, Cache_1.default.removeItem('federatedUser')];\n                    case 2:\n                        _b.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Change a password for an authenticated user\n     * @param {Object} user - The CognitoUser object\n     * @param {String} oldPassword - the current password\n     * @param {String} newPassword - the requested new password\n     * @return - A promise resolves if success\n     */\n    AuthClass.prototype.changePassword = function (user, oldPassword, newPassword) {\n        return this.userSession(user)\n            .then(function (session) {\n            return new Promise(function (resolve, reject) {\n                user.changePassword(oldPassword, newPassword, function (err, data) {\n                    if (err) {\n                        logger.debug('change password failure', err);\n                        reject(err);\n                    }\n                    else {\n                        resolve(data);\n                    }\n                });\n            });\n        });\n    };\n    /**\n     * Initiate a forgot password request\n     * @param {String} username - the username to change password\n     * @return - A promise resolves if success\n     */\n    AuthClass.prototype.forgotPassword = function (username) {\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        if (!username) {\n            return Promise.reject('Username cannot be empty');\n        }\n        var user = this.createCognitoUser(username);\n        return new Promise(function (resolve, reject) {\n            user.forgotPassword({\n                onSuccess: function () { resolve(); },\n                onFailure: function (err) {\n                    logger.debug('forgot password failure', err);\n                    reject(err);\n                },\n                inputVerificationCode: function (data) {\n                    resolve(data);\n                }\n            });\n        });\n    };\n    /**\n     * Confirm a new password using a confirmation Code\n     * @param {String} username - The username\n     * @param {String} code - The confirmation code\n     * @param {String} password - The new password\n     * @return - A promise that resolves if success\n     */\n    AuthClass.prototype.forgotPasswordSubmit = function (username, code, password) {\n        if (!this.userPool) {\n            return Promise.reject('No userPool');\n        }\n        if (!username) {\n            return Promise.reject('Username cannot be empty');\n        }\n        if (!code) {\n            return Promise.reject('Code cannot be empty');\n        }\n        if (!password) {\n            return Promise.reject('Password cannot be empty');\n        }\n        var user = this.createCognitoUser(username);\n        return new Promise(function (resolve, reject) {\n            user.confirmPassword(code, password, {\n                onSuccess: function () { resolve(); },\n                onFailure: function (err) { reject(err); }\n            });\n        });\n    };\n    /**\n     * Get user information\n     * @async\n     * @return {Object }- current User's information\n     */\n    AuthClass.prototype.currentUserInfo = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var source, user, attributes, userAttrs, e_4, info, err_1, user;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        source = this.credentials_source;\n                        if (!(!source || source === 'aws' || source === 'userPool')) return [3 /*break*/, 9];\n                        return [4 /*yield*/, this.currentUserPoolUser()\n                                .catch(function (err) { return logger.debug(err); })];\n                    case 1:\n                        user = _a.sent();\n                        if (!user) {\n                            return [2 /*return*/, null];\n                        }\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 8, , 9]);\n                        return [4 /*yield*/, this.userAttributes(user)];\n                    case 3:\n                        attributes = _a.sent();\n                        userAttrs = this.attributesToObject(attributes);\n                        if (!!this.credentials) return [3 /*break*/, 7];\n                        _a.label = 4;\n                    case 4:\n                        _a.trys.push([4, 6, , 7]);\n                        return [4 /*yield*/, this.currentCredentials()];\n                    case 5:\n                        _a.sent();\n                        return [3 /*break*/, 7];\n                    case 6:\n                        e_4 = _a.sent();\n                        logger.debug('Failed to retrieve credentials while getting current user info', e_4);\n                        return [3 /*break*/, 7];\n                    case 7:\n                        info = {\n                            'id': this.credentials ? this.credentials.identityId : undefined,\n                            'username': user.username,\n                            'attributes': userAttrs\n                        };\n                        return [2 /*return*/, info];\n                    case 8:\n                        err_1 = _a.sent();\n                        logger.debug('currentUserInfo error', err_1);\n                        return [2 /*return*/, {}];\n                    case 9:\n                        if (source === 'federated') {\n                            user = this.user;\n                            return [2 /*return*/, user ? user : {}];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * For federated login\n     * @param {String} provider - federation login provider\n     * @param {FederatedResponse} response - response should have the access token\n     * and the expiration time (the universal time)\n     * @param {String} user - user info\n     */\n    AuthClass.prototype.federatedSignIn = function (provider, response, user) {\n        var _this = this;\n        var token = response.token, expires_at = response.expires_at;\n        // store it into localstorage\n        // Cache.setItem('federatedInfo', { provider, token, user, expires_at }, { priority: 1 });\n        var that = this;\n        return new Promise(function (res, rej) {\n            that._setCredentialsFromFederation({ provider: provider, token: token, user: user, expires_at: expires_at }).then(function (cred) {\n                dispatchAuthEvent('signIn', that.user);\n                logger.debug('federated sign in credentials', _this.credentials);\n                res(cred);\n            }).catch(function (e) {\n                rej(e);\n            });\n        });\n    };\n    /**\n     * Compact version of credentials\n     * @param {Object} credentials\n     * @return {Object} - Credentials\n     */\n    AuthClass.prototype.essentialCredentials = function (credentials) {\n        return {\n            accessKeyId: credentials.accessKeyId,\n            sessionToken: credentials.sessionToken,\n            secretAccessKey: credentials.secretAccessKey,\n            identityId: credentials.identityId,\n            authenticated: credentials.authenticated\n        };\n    };\n    AuthClass.prototype.attributesToObject = function (attributes) {\n        var obj = {};\n        if (attributes) {\n            attributes.map(function (attribute) {\n                if (attribute.Name === 'sub')\n                    return;\n                if (attribute.Value === 'true') {\n                    obj[attribute.Name] = true;\n                }\n                else if (attribute.Value === 'false') {\n                    obj[attribute.Name] = false;\n                }\n                else {\n                    obj[attribute.Name] = attribute.Value;\n                }\n            });\n        }\n        return obj;\n    };\n    AuthClass.prototype.pickupCredentials = function () {\n        logger.debug('picking up credentials');\n        if (!this._gettingCredPromise || !this._gettingCredPromise.isPending()) {\n            logger.debug('getting new cred promise');\n            if (Common_1.AWS.config && Common_1.AWS.config.credentials && Common_1.AWS.config.credentials instanceof Credentials) {\n                this._gettingCredPromise = Common_1.JS.makeQuerablePromise(this._setCredentialsFromAWS());\n            }\n            else {\n                this._gettingCredPromise = Common_1.JS.makeQuerablePromise(this.keepAlive());\n            }\n        }\n        else {\n            logger.debug('getting old cred promise');\n        }\n        return this._gettingCredPromise;\n    };\n    AuthClass.prototype._setCredentialsFromAWS = function () {\n        var credentials = Common_1.AWS.config.credentials;\n        logger.debug('setting credentials from aws');\n        var that = this;\n        if (credentials instanceof Credentials) {\n            return this._loadCredentials(credentials, 'aws', undefined, null);\n        }\n        else {\n            logger.debug('AWS.config.credentials is not an instance of AWS Credentials');\n            return Promise.reject('AWS.config.credentials is not an instance of AWS Credentials');\n        }\n    };\n    AuthClass.prototype._setCredentialsForGuest = function () {\n        logger.debug('setting credentials for guest');\n        var _a = this._config, identityPoolId = _a.identityPoolId, region = _a.region, mandatorySignIn = _a.mandatorySignIn;\n        if (mandatorySignIn) {\n            return Promise.reject('cannot get guest credentials when mandatory signin enabled');\n        }\n        var credentials = new CognitoIdentityCredentials({\n            IdentityPoolId: identityPoolId\n        }, {\n            region: region\n        });\n        var that = this;\n        return this._loadCredentials(credentials, 'guest', false, null);\n    };\n    AuthClass.prototype._setCredentialsFromSession = function (session) {\n        logger.debug('set credentials from session');\n        var idToken = session.getIdToken().getJwtToken();\n        var _a = this._config, region = _a.region, userPoolId = _a.userPoolId, identityPoolId = _a.identityPoolId;\n        var key = 'cognito-idp.' + region + '.amazonaws.com/' + userPoolId;\n        var logins = {};\n        logins[key] = idToken;\n        var credentials = new CognitoIdentityCredentials({\n            IdentityPoolId: identityPoolId,\n            Logins: logins\n        }, {\n            region: region\n        });\n        var that = this;\n        return this._loadCredentials(credentials, 'userPool', true, null);\n    };\n    AuthClass.prototype._setCredentialsFromFederation = function (params) {\n        var provider = params.provider, token = params.token, user = params.user, expires_at = params.expires_at;\n        var domains = {\n            'google': 'accounts.google.com',\n            'facebook': 'graph.facebook.com',\n            'amazon': 'www.amazon.com',\n            'developer': 'cognito-identity.amazonaws.com'\n        };\n        // Use custom provider url instead of the predefined ones\n        var domain = domains[provider] || provider;\n        if (!domain) {\n            return Promise.reject('You must specify a federated provider');\n        }\n        var logins = {};\n        logins[domain] = token;\n        var _a = this._config, identityPoolId = _a.identityPoolId, region = _a.region;\n        var credentials = new Common_1.AWS.CognitoIdentityCredentials({\n            IdentityPoolId: identityPoolId,\n            Logins: logins\n        }, {\n            region: region\n        });\n        Cache_1.default.setItem('federatedInfo', { provider: provider, token: token, user: user, expires_at: expires_at }, { priority: 1 });\n        return this._loadCredentials(credentials, 'federated', true, user);\n    };\n    AuthClass.prototype._loadCredentials = function (credentials, source, authenticated, rawUser) {\n        var _this = this;\n        var that = this;\n        return new Promise(function (res, rej) {\n            credentials.getPromise().then(function () {\n                logger.debug('Load credentials successfully', credentials);\n                that.credentials = credentials;\n                that.credentials.authenticated = authenticated;\n                that.credentials_source = source;\n                if (source === 'federated') {\n                    that.user = Object.assign({ id: _this.credentials.identityId }, rawUser);\n                    Cache_1.default.setItem('federatedUser', that.user, { priority: 1 });\n                }\n                res(that.credentials);\n            }, function (err) {\n                logger.debug('Failed to load credentials', credentials);\n                rej(err);\n            });\n        });\n    };\n    AuthClass.prototype.keepAlive = function () {\n        var cred = this.credentials;\n        if (cred && !this._isExpired(cred)) {\n            logger.debug('not changed, directly return credentials');\n            return Promise.resolve(cred);\n        }\n        return this.currentUserCredentials();\n    };\n    AuthClass.prototype.createCognitoUser = function (username) {\n        var userData = {\n            Username: username,\n            Pool: this.userPool,\n        };\n        var cookieStorage = this._config.cookieStorage;\n        if (cookieStorage) {\n            userData.Storage = new CookieStorage(cookieStorage);\n        }\n        return new CognitoUser(userData);\n    };\n    AuthClass.prototype._isExpired = function (credentials) {\n        if (!credentials) {\n            logger.debug('no credentials for expiration check');\n            return true;\n        }\n        logger.debug('is this credentials expired?', credentials);\n        var ts = new Date().getTime();\n        var delta = 10 * 60 * 1000; // 10 minutes\n        var expired = credentials.expired, expireTime = credentials.expireTime;\n        if (!expired && expireTime > ts + delta) {\n            return false;\n        }\n        return true;\n    };\n    return AuthClass;\n}());\nexports.default = AuthClass;\n//# sourceMappingURL=Auth.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Storage_1 = require(\"./Storage\");\nexports.StorageClass = Storage_1.default;\nvar Common_1 = require(\"../Common\");\nvar logger = new Common_1.ConsoleLogger('Storage');\nvar _instance = null;\nif (!_instance) {\n    logger.debug('Create Storage Instance');\n    _instance = new Storage_1.default(null);\n    _instance.vault = new Storage_1.default({ level: 'private' });\n    var old_configure_1 = _instance.configure;\n    _instance.configure = function (options) {\n        logger.debug('configure called');\n        old_configure_1.call(_instance, options);\n        var vault_options = Object.assign({}, options, { level: 'private' });\n        _instance.vault.configure(vault_options);\n    };\n}\nvar Storage = _instance;\nexports.default = Storage;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Common_1 = require(\"../Common\");\nvar Auth_1 = require(\"../Auth\");\nvar logger = new Common_1.ConsoleLogger('StorageClass');\nvar dispatchStorageEvent = function (track, attrs, metrics) {\n    if (track) {\n        Common_1.Hub.dispatch('storage', { attrs: attrs, metrics: metrics }, 'Storage');\n    }\n};\n/**\n * Provide storage methods to use AWS S3\n */\nvar StorageClass = /** @class */ (function () {\n    /**\n     * Initialize Storage with AWS configurations\n     * @param {Object} options - Configuration object for storage\n     */\n    function StorageClass(options) {\n        this._options = options;\n        logger.debug('Storage Options', this._options);\n    }\n    /**\n     * Configure Storage part with aws configuration\n     * @param {Object} config - Configuration of the Storage\n     * @return {Object} - Current configuration\n     */\n    StorageClass.prototype.configure = function (options) {\n        logger.debug('configure Storage');\n        var opt = options ? options.Storage || options : {};\n        if (options['aws_user_files_s3_bucket']) {\n            opt = {\n                bucket: options['aws_user_files_s3_bucket'],\n                region: options['aws_user_files_s3_bucket_region']\n            };\n        }\n        this._options = Object.assign({}, this._options, opt);\n        if (!this._options.bucket) {\n            logger.debug('Do not have bucket yet');\n        }\n        return this._options;\n    };\n    /**\n    * Get a presigned URL of the file\n    * @param {String} key - key of the object\n    * @param {Object} [options] - { level : private|public }\n    * @return - A promise resolves to Amazon S3 presigned URL on success\n    */\n    StorageClass.prototype.get = function (key, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentialsOK, opt, bucket, region, credentials, level, download, track, expires, prefix, final_key, s3, params;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._ensureCredentials()];\n                    case 1:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK) {\n                            return [2 /*return*/, Promise.reject('No credentials')];\n                        }\n                        opt = Object.assign({}, this._options, options);\n                        bucket = opt.bucket, region = opt.region, credentials = opt.credentials, level = opt.level, download = opt.download, track = opt.track, expires = opt.expires;\n                        prefix = this._prefix(opt);\n                        final_key = prefix + key;\n                        s3 = this._createS3(opt);\n                        logger.debug('get ' + key + ' from ' + final_key);\n                        params = {\n                            Bucket: bucket,\n                            Key: final_key\n                        };\n                        if (download === true) {\n                            return [2 /*return*/, new Promise(function (res, rej) {\n                                    s3.getObject(params, function (err, data) {\n                                        if (err) {\n                                            dispatchStorageEvent(track, { method: 'get', result: 'failed' }, null);\n                                            rej(err);\n                                        }\n                                        else {\n                                            dispatchStorageEvent(track, { method: 'get', result: 'success' }, { fileSize: Number(data.Body['length']) });\n                                            res(data);\n                                        }\n                                    });\n                                })];\n                        }\n                        if (expires) {\n                            params.Expires = expires;\n                        }\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                try {\n                                    var url = s3.getSignedUrl('getObject', params);\n                                    dispatchStorageEvent(track, { method: 'get', result: 'success' }, null);\n                                    res(url);\n                                }\n                                catch (e) {\n                                    logger.warn('get signed url error', e);\n                                    dispatchStorageEvent(track, { method: 'get', result: 'failed' }, null);\n                                    rej(e);\n                                }\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * Put a file in S3 bucket specified to configure method\n     * @param {Stirng} key - key of the object\n     * @param {Object} object - File to be put in Amazon S3 bucket\n     * @param {Object} [options] - { level : private|public, contentType: MIME Types }\n     * @return - promise resolves to object on success\n     */\n    StorageClass.prototype.put = function (key, object, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentialsOK, opt, bucket, region, credentials, level, track, contentType, contentDisposition, cacheControl, expires, metadata, type, prefix, final_key, s3, params;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._ensureCredentials()];\n                    case 1:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK) {\n                            return [2 /*return*/, Promise.reject('No credentials')];\n                        }\n                        opt = Object.assign({}, this._options, options);\n                        bucket = opt.bucket, region = opt.region, credentials = opt.credentials, level = opt.level, track = opt.track;\n                        contentType = opt.contentType, contentDisposition = opt.contentDisposition, cacheControl = opt.cacheControl, expires = opt.expires, metadata = opt.metadata;\n                        type = contentType ? contentType : 'binary/octet-stream';\n                        prefix = this._prefix(opt);\n                        final_key = prefix + key;\n                        s3 = this._createS3(opt);\n                        logger.debug('put ' + key + ' to ' + final_key);\n                        params = {\n                            Bucket: bucket,\n                            Key: final_key,\n                            Body: object,\n                            ContentType: type\n                        };\n                        if (cacheControl) {\n                            params.CacheControl = cacheControl;\n                        }\n                        if (contentDisposition) {\n                            params.ContentDisposition = contentDisposition;\n                        }\n                        if (expires) {\n                            params.Expires = expires;\n                        }\n                        if (metadata) {\n                            params.Metadata = metadata;\n                        }\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                s3.upload(params, function (err, data) {\n                                    if (err) {\n                                        logger.warn(\"error uploading\", err);\n                                        dispatchStorageEvent(track, { method: 'put', result: 'failed' }, null);\n                                        rej(err);\n                                    }\n                                    else {\n                                        logger.debug('upload result', data);\n                                        dispatchStorageEvent(track, { method: 'put', result: 'success' }, null);\n                                        res({\n                                            key: data.Key.substr(prefix.length)\n                                        });\n                                    }\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * Remove the object for specified key\n     * @param {String} key - key of the object\n     * @param {Object} [options] - { level : private|public }\n     * @return - Promise resolves upon successful removal of the object\n     */\n    StorageClass.prototype.remove = function (key, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentialsOK, opt, bucket, region, credentials, level, track, prefix, final_key, s3, params;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._ensureCredentials()];\n                    case 1:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK) {\n                            return [2 /*return*/, Promise.reject('No credentials')];\n                        }\n                        opt = Object.assign({}, this._options, options);\n                        bucket = opt.bucket, region = opt.region, credentials = opt.credentials, level = opt.level, track = opt.track;\n                        prefix = this._prefix(opt);\n                        final_key = prefix + key;\n                        s3 = this._createS3(opt);\n                        logger.debug('remove ' + key + ' from ' + final_key);\n                        params = {\n                            Bucket: bucket,\n                            Key: final_key\n                        };\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                s3.deleteObject(params, function (err, data) {\n                                    if (err) {\n                                        dispatchStorageEvent(track, { method: 'remove', result: 'failed' }, null);\n                                        rej(err);\n                                    }\n                                    else {\n                                        dispatchStorageEvent(track, { method: 'remove', result: 'success' }, null);\n                                        res(data);\n                                    }\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * List bucket objects relative to the level and prefix specified\n     * @param {String} path - the path that contains objects\n     * @param {Object} [options] - { level : private|public }\n     * @return - Promise resolves to list of keys for all objects in path\n     */\n    StorageClass.prototype.list = function (path, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentialsOK, opt, bucket, region, credentials, level, download, track, prefix, final_path, s3, params;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._ensureCredentials()];\n                    case 1:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK) {\n                            return [2 /*return*/, Promise.reject('No credentials')];\n                        }\n                        opt = Object.assign({}, this._options, options);\n                        bucket = opt.bucket, region = opt.region, credentials = opt.credentials, level = opt.level, download = opt.download, track = opt.track;\n                        prefix = this._prefix(opt);\n                        final_path = prefix + path;\n                        s3 = this._createS3(opt);\n                        logger.debug('list ' + path + ' from ' + final_path);\n                        params = {\n                            Bucket: bucket,\n                            Prefix: final_path\n                        };\n                        return [2 /*return*/, new Promise(function (res, rej) {\n                                s3.listObjects(params, function (err, data) {\n                                    if (err) {\n                                        logger.warn('list error', err);\n                                        dispatchStorageEvent(track, { method: 'list', result: 'failed' }, null);\n                                        rej(err);\n                                    }\n                                    else {\n                                        var list = data.Contents.map(function (item) {\n                                            return {\n                                                key: item.Key.substr(prefix.length),\n                                                eTag: item.ETag,\n                                                lastModified: item.LastModified,\n                                                size: item.Size\n                                            };\n                                        });\n                                        dispatchStorageEvent(track, { method: 'list', result: 'success' }, null);\n                                        logger.debug('list', list);\n                                        res(list);\n                                    }\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * @private\n     */\n    StorageClass.prototype._ensureCredentials = function () {\n        // commented\n        // will cause bug if another user logged in without refreshing page\n        // if (this._options.credentials) { return Promise.resolve(true); }\n        var _this = this;\n        return Auth_1.default.currentCredentials()\n            .then(function (credentials) {\n            if (!credentials)\n                return false;\n            var cred = Auth_1.default.essentialCredentials(credentials);\n            logger.debug('set credentials for storage', cred);\n            _this._options.credentials = cred;\n            return true;\n        })\n            .catch(function (err) {\n            logger.warn('ensure credentials error', err);\n            return false;\n        });\n    };\n    /**\n     * @private\n     */\n    StorageClass.prototype._prefix = function (options) {\n        var credentials = options.credentials, level = options.level;\n        switch (level) {\n            case 'private':\n                return \"private/\" + credentials.identityId + \"/\";\n            case 'protected':\n                return \"protected/\" + credentials.identityId + \"/\";\n            default:\n                return 'public/';\n        }\n    };\n    /**\n     * @private\n     */\n    StorageClass.prototype._createS3 = function (options) {\n        var bucket = options.bucket, region = options.region, credentials = options.credentials;\n        Common_1.AWS.config.update({\n            region: region,\n            credentials: credentials\n        });\n        return new Common_1.S3({\n            apiVersion: '2006-03-01',\n            params: { Bucket: bucket },\n            region: region\n        });\n    };\n    return StorageClass;\n}());\nexports.default = StorageClass;\n//# sourceMappingURL=Storage.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar API_1 = require(\"./API\");\nexports.APIClass = API_1.default;\nvar Common_1 = require(\"../Common\");\nvar logger = new Common_1.ConsoleLogger('API');\nvar _instance = null;\nif (!_instance) {\n    logger.debug('Create API Instance');\n    _instance = new API_1.default(null);\n}\nvar API = _instance;\nexports.default = API;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RestClient_1 = require(\"./RestClient\");\nvar Auth_1 = require(\"../Auth\");\nvar Logger_1 = require(\"../Common/Logger\");\nvar logger = new Logger_1.ConsoleLogger('API');\n/**\n * Export Cloud Logic APIs\n */\nvar APIClass = /** @class */ (function () {\n    /**\n     * Initialize Storage with AWS configurations\n     * @param {Object} options - Configuration object for storage\n     */\n    function APIClass(options) {\n        this._api = null;\n        this._options = options;\n        logger.debug('API Options', this._options);\n    }\n    /**\n     * Configure API part with aws configurations\n     * @param {Object} config - Configuration of the API\n     * @return {Object} - The current configuration\n     */\n    APIClass.prototype.configure = function (options) {\n        logger.debug('configure API');\n        var opt = options ? options.API || options : {};\n        if (opt['aws_project_region']) {\n            if (opt['aws_cloud_logic_custom']) {\n                var custom = opt['aws_cloud_logic_custom'];\n                opt.endpoints = (typeof custom === 'string') ? JSON.parse(custom)\n                    : custom;\n            }\n            opt = Object.assign({}, opt, {\n                region: opt['aws_project_region'],\n                header: {},\n            });\n        }\n        this._options = Object.assign({}, this._options, opt);\n        this.createInstance();\n        return this._options;\n    };\n    /**\n     * Create an instance of API for the library\n     * @return - A promise of true if Success\n     */\n    APIClass.prototype.createInstance = function () {\n        logger.debug('create API instance');\n        if (this._options) {\n            this._api = new RestClient_1.RestClient(this._options);\n            return true;\n        }\n        else {\n            return Promise.reject('API no configured');\n        }\n    };\n    /**\n     * Make a GET request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    APIClass.prototype.get = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_1, credentialsOK, endpoint;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_1 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_1)];\n                    case 4: return [4 /*yield*/, this._ensureCredentials()];\n                    case 5:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK) {\n                            return [2 /*return*/, Promise.reject('No credentials')];\n                        }\n                        endpoint = this._api.endpoint(apiName);\n                        if (endpoint.length === 0) {\n                            return [2 /*return*/, Promise.reject('Api ' + apiName + ' does not exist')];\n                        }\n                        return [2 /*return*/, this._api.get(endpoint + path, init)];\n                }\n            });\n        });\n    };\n    /**\n     * Make a POST request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    APIClass.prototype.post = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_2, credentialsOK, endpoint;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_2 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_2)];\n                    case 4: return [4 /*yield*/, this._ensureCredentials()];\n                    case 5:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK) {\n                            return [2 /*return*/, Promise.reject('No credentials')];\n                        }\n                        endpoint = this._api.endpoint(apiName);\n                        if (endpoint.length === 0) {\n                            return [2 /*return*/, Promise.reject('Api ' + apiName + ' does not exist')];\n                        }\n                        return [2 /*return*/, this._api.post(endpoint + path, init)];\n                }\n            });\n        });\n    };\n    /**\n     * Make a PUT request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    APIClass.prototype.put = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_3, credentialsOK, endpoint;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_3 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_3)];\n                    case 4: return [4 /*yield*/, this._ensureCredentials()];\n                    case 5:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK) {\n                            return [2 /*return*/, Promise.reject('No credentials')];\n                        }\n                        endpoint = this._api.endpoint(apiName);\n                        if (endpoint.length === 0) {\n                            return [2 /*return*/, Promise.reject('Api ' + apiName + ' does not exist')];\n                        }\n                        return [2 /*return*/, this._api.put(endpoint + path, init)];\n                }\n            });\n        });\n    };\n    /**\n     * Make a PATCH request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    APIClass.prototype.patch = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_4, credentialsOK, endpoint;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_4 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_4)];\n                    case 4: return [4 /*yield*/, this._ensureCredentials()];\n                    case 5:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK) {\n                            return [2 /*return*/, Promise.reject('No credentials')];\n                        }\n                        endpoint = this._api.endpoint(apiName);\n                        if (endpoint.length === 0) {\n                            return [2 /*return*/, Promise.reject('Api ' + apiName + ' does not exist')];\n                        }\n                        return [2 /*return*/, this._api.patch(endpoint + path, init)];\n                }\n            });\n        });\n    };\n    /**\n     * Make a DEL request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    APIClass.prototype.del = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_5, credentialsOK, endpoint;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_5 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_5)];\n                    case 4: return [4 /*yield*/, this._ensureCredentials()];\n                    case 5:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK) {\n                            return [2 /*return*/, Promise.reject('No credentials')];\n                        }\n                        endpoint = this._api.endpoint(apiName);\n                        if (endpoint.length === 0) {\n                            return [2 /*return*/, Promise.reject('Api ' + apiName + ' does not exist')];\n                        }\n                        return [2 /*return*/, this._api.del(endpoint + path, init)];\n                }\n            });\n        });\n    };\n    /**\n     * Make a HEAD request\n     * @param {string} apiName  - The api name of the request\n     * @param {string} path - The path of the request\n     * @param {json} [init] - Request extra params\n     * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n     */\n    APIClass.prototype.head = function (apiName, path, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_6, credentialsOK, endpoint;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_6 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_6)];\n                    case 4: return [4 /*yield*/, this._ensureCredentials()];\n                    case 5:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK) {\n                            return [2 /*return*/, Promise.reject('No credentials')];\n                        }\n                        endpoint = this._api.endpoint(apiName);\n                        if (endpoint.length === 0) {\n                            return [2 /*return*/, Promise.reject('Api ' + apiName + ' does not exist')];\n                        }\n                        return [2 /*return*/, this._api.head(endpoint + path, init)];\n                }\n            });\n        });\n    };\n    /**\n    * Getting endpoint for API\n    * @param {string} apiName - The name of the api\n    * @return {string} - The endpoint of the api\n    */\n    APIClass.prototype.endpoint = function (apiName) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_7;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this._api) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.createInstance()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_7 = _a.sent();\n                        return [2 /*return*/, Promise.reject(error_7)];\n                    case 4: return [2 /*return*/, this._api.endpoint(apiName)];\n                }\n            });\n        });\n    };\n    /**\n     * @private\n     */\n    APIClass.prototype._ensureCredentials = function () {\n        return Auth_1.default.currentCredentials()\n            .then(function (credentials) {\n            if (!credentials)\n                return false;\n            var cred = Auth_1.default.essentialCredentials(credentials);\n            logger.debug('set credentials for api', cred);\n            return true;\n        })\n            .catch(function (err) {\n            logger.warn('ensure credentials error', err);\n            return false;\n        });\n    };\n    return APIClass;\n}());\nexports.default = APIClass;\n//# sourceMappingURL=API.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Signer_1 = require(\"../Common/Signer\");\nvar Common_1 = require(\"../Common\");\nvar Auth_1 = require(\"../Auth\");\nvar axios_1 = require(\"axios\");\nvar Platform_1 = require(\"../Common/Platform\");\nvar logger = new Common_1.ConsoleLogger('RestClient');\n/**\n* HTTP Client for REST requests. Send and receive JSON data.\n* Sign request with AWS credentials if available\n* Usage:\n<pre>\nconst restClient = new RestClient();\nrestClient.get('...')\n    .then(function(data) {\n        console.log(data);\n    })\n    .catch(err => console.log(err));\n</pre>\n*/\nvar RestClient = /** @class */ (function () {\n    /**\n    * @param {RestClientOptions} [options] - Instance options\n    */\n    function RestClient(options) {\n        this._region = 'us-east-1'; // this will be updated by config\n        this._service = 'execute-api'; // this can be updated by config\n        var endpoints = options.endpoints;\n        this._options = options;\n        logger.debug('API Options', this._options);\n    }\n    /**\n    * Update AWS credentials\n    * @param {AWSCredentials} credentials - AWS credentials\n    *\n    updateCredentials(credentials: AWSCredentials) {\n        this.options.credentials = credentials;\n    }\n*/\n    /**\n    * Basic HTTP request. Customizable\n    * @param {string} url - Full request URL\n    * @param {string} method - Request HTTP method\n    * @param {json} [init] - Request extra params\n    * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n    */\n    RestClient.prototype.ajax = function (url, method, init) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            var parsed_url, params, libraryHeaders, userAgent, extraParams, isAllResponse;\n            return __generator(this, function (_a) {\n                logger.debug(method + ' ' + url);\n                parsed_url = this._parseUrl(url);\n                params = {\n                    method: method,\n                    url: url,\n                    host: parsed_url.host,\n                    path: parsed_url.path,\n                    headers: {},\n                    data: null\n                };\n                libraryHeaders = {};\n                if (Platform_1.default.isReactNative) {\n                    userAgent = Platform_1.default.userAgent || 'aws-amplify/0.1.x';\n                    libraryHeaders = {\n                        'User-Agent': userAgent\n                    };\n                }\n                extraParams = Object.assign({}, init);\n                isAllResponse = init ? init.response : null;\n                if (extraParams.body) {\n                    libraryHeaders['content-type'] = 'application/json; charset=UTF-8';\n                    params.data = JSON.stringify(extraParams.body);\n                }\n                params.headers = __assign({}, libraryHeaders, extraParams.headers);\n                // Do not sign the request if client has added 'Authorization' header,\n                // which means custom authorizer.\n                if (params.headers['Authorization']) {\n                    return [2 /*return*/, this._request(params, isAllResponse)];\n                }\n                return [2 /*return*/, Auth_1.default.currentCredentials()\n                        .then(function (credentials) { return _this._signed(params, credentials, isAllResponse); })];\n            });\n        });\n    };\n    /**\n    * GET HTTP request\n    * @param {string} url - Full request URL\n    * @param {JSON} init - Request extra params\n    * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n    */\n    RestClient.prototype.get = function (url, init) {\n        return this.ajax(url, 'GET', init);\n    };\n    /**\n    * PUT HTTP request\n    * @param {string} url - Full request URL\n    * @param {json} init - Request extra params\n    * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n    */\n    RestClient.prototype.put = function (url, init) {\n        return this.ajax(url, 'PUT', init);\n    };\n    /**\n    * PATCH HTTP request\n    * @param {string} url - Full request URL\n    * @param {json} init - Request extra params\n    * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n    */\n    RestClient.prototype.patch = function (url, init) {\n        return this.ajax(url, 'PATCH', init);\n    };\n    /**\n    * POST HTTP request\n    * @param {string} url - Full request URL\n    * @param {json} init - Request extra params\n    * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n    */\n    RestClient.prototype.post = function (url, init) {\n        return this.ajax(url, 'POST', init);\n    };\n    /**\n    * DELETE HTTP request\n    * @param {string} url - Full request URL\n    * @param {json} init - Request extra params\n    * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n    */\n    RestClient.prototype.del = function (url, init) {\n        return this.ajax(url, 'DELETE', init);\n    };\n    /**\n    * HEAD HTTP request\n    * @param {string} url - Full request URL\n    * @param {json} init - Request extra params\n    * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n    */\n    RestClient.prototype.head = function (url, init) {\n        return this.ajax(url, 'HEAD', init);\n    };\n    /**\n    * Getting endpoint for API\n    * @param {string} apiName - The name of the api\n    * @return {string} - The endpoint of the api\n    */\n    RestClient.prototype.endpoint = function (apiName) {\n        var _this = this;\n        var cloud_logic_array = this._options.endpoints;\n        var response = '';\n        cloud_logic_array.forEach(function (v) {\n            if (v.name === apiName) {\n                response = v.endpoint;\n                if (typeof v.region === 'string') {\n                    _this._region = v.region;\n                }\n                else if (typeof _this._options.region === 'string') {\n                    _this._region = _this._options.region;\n                }\n                if (typeof v.service === 'string') {\n                    _this._service = v.service || 'execute-api';\n                }\n            }\n        });\n        return response;\n    };\n    /** private methods **/\n    RestClient.prototype._signed = function (params, credentials, isAllResponse) {\n        var endpoint_region = this._region || this._options.region;\n        var endpoint_service = this._service || this._options.service;\n        var creds = {\n            'secret_key': credentials.secretAccessKey,\n            'access_key': credentials.accessKeyId,\n            'session_token': credentials.sessionToken\n        };\n        var service_info = {\n            'service': endpoint_service,\n            'region': endpoint_region\n        };\n        var signed_params = Signer_1.default.sign(params, creds, service_info);\n        if (signed_params.data) {\n            signed_params.body = signed_params.data;\n        }\n        logger.debug('Signed Request: ', signed_params);\n        delete signed_params.headers['host'];\n        return axios_1.default(signed_params)\n            .then(function (response) { return isAllResponse ? response : response.data; })\n            .catch(function (error) {\n            logger.debug(error);\n            throw error;\n        });\n    };\n    RestClient.prototype._request = function (params, isAllResponse) {\n        return axios_1.default(params)\n            .then(function (response) { return isAllResponse ? response : response.data; })\n            .catch(function (error) {\n            logger.debug(error);\n            throw error;\n        });\n    };\n    RestClient.prototype._parseUrl = function (url) {\n        var parts = url.split('/');\n        return {\n            host: parts[2],\n            path: '/' + parts.slice(3).join('/')\n        };\n    };\n    return RestClient;\n}());\nexports.RestClient = RestClient;\n//# sourceMappingURL=RestClient.js.map","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      }\n\n      if (!utils.isArray(val)) {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar PubSub_1 = require(\"./PubSub\");\nvar Common_1 = require(\"../Common\");\nvar logger = new Common_1.ConsoleLogger('PubSub');\nvar _instance = null;\nif (!_instance) {\n    logger.debug('Create PubSub Instance');\n    _instance = new PubSub_1.default(null);\n}\nvar PubSub = _instance;\nexports.default = PubSub;\n__export(require(\"./Providers/AWSIotProvider\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nrequire(\"../Common/Polyfills\");\nvar Observable = require(\"zen-observable\");\nvar Logger_1 = require(\"../Common/Logger\");\nvar logger = new Logger_1.ConsoleLogger('PubSub');\nvar PubSub = /** @class */ (function () {\n    /**\n     * Initialize PubSub with AWS configurations\n     *\n     * @param {PubSubOptions} options - Configuration object for PubSub\n     */\n    function PubSub(options) {\n        this._options = options;\n        logger.debug('PubSub Options', this._options);\n        this._pluggables = [];\n    }\n    /**\n     * Configure PubSub part with configurations\n     *\n     * @param {PubSubOptions} config - Configuration for PubSub\n     * @return {Object} - The current configuration\n     */\n    PubSub.prototype.configure = function (options) {\n        var _this = this;\n        var opt = options ? options.PubSub || options : {};\n        logger.debug('configure PubSub', { opt: opt });\n        this._options = Object.assign({}, this._options, opt);\n        this._pluggables.map(function (pluggable) { return pluggable.configure(_this._options); });\n        return this._options;\n    };\n    /**\n     * add plugin into Analytics category\n     * @param {Object} pluggable - an instance of the plugin\n     */\n    PubSub.prototype.addPluggable = function (pluggable) {\n        return __awaiter(this, void 0, void 0, function () {\n            var config;\n            return __generator(this, function (_a) {\n                if (pluggable) {\n                    this._pluggables.push(pluggable);\n                    config = pluggable.configure(this._options);\n                    return [2 /*return*/, config];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    PubSub.prototype.publish = function (topics, msg, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._pluggables.map(function (provider) { return provider.publish(topics, msg, options); })];\n            });\n        });\n    };\n    PubSub.prototype.subscribe = function (topics, options) {\n        var _this = this;\n        logger.debug('subscribe options', options);\n        return new Observable(function (observer) {\n            var observables = _this._pluggables.map(function (provider) { return ({\n                provider: provider,\n                observable: provider.subscribe(topics, options),\n            }); });\n            var subscriptions = observables.map(function (_a) {\n                var provider = _a.provider, observable = _a.observable;\n                return observable.subscribe({\n                    start: console.error,\n                    next: function (value) { return observer.next({ provider: provider, value: value }); },\n                    error: function (error) { return observer.error({ provider: provider, error: error }); },\n                });\n            });\n            return function () { return subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); }); };\n        });\n    };\n    return PubSub;\n}());\nexports.default = PubSub;\n//# sourceMappingURL=PubSub.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./Polyfills\");\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar InMemoryCache_1 = require(\"../../Cache/InMemoryCache\");\nif (!global.window) {\n    global.window = {\n        setTimeout: setTimeout,\n        clearTimeout: clearTimeout,\n        WebSocket: global.WebSocket,\n        ArrayBuffer: global.ArrayBuffer,\n        addEventListener: function () { },\n        navigator: { onLine: true }\n    };\n}\nif (!global.localStorage) {\n    global.localStorage = InMemoryCache_1.default;\n}\n//# sourceMappingURL=Polyfills.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Observable = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// === Symbol Support ===\nvar hasSymbols = function () {\n  return typeof Symbol === 'function';\n};\n\nvar hasSymbol = function (name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\n\nvar getSymbol = function (name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n  if (value == null) return undefined;\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n\n  if (!queue) {\n    return;\n  }\n\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({\n      type: type,\n      value: value\n    });\n\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{\n      type: type,\n      value: value\n    }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription =\n/*#__PURE__*/\nfunction () {\n  function Subscription(observer, subscriber) {\n    _classCallCheck(this, Subscription);\n\n    // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  _createClass(Subscription, [{\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      if (this._state !== 'closed') {\n        closeSubscription(this);\n        cleanupSubscription(this);\n      }\n    }\n  }, {\n    key: \"closed\",\n    get: function () {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver =\n/*#__PURE__*/\nfunction () {\n  function SubscriptionObserver(subscription) {\n    _classCallCheck(this, SubscriptionObserver);\n\n    this._subscription = subscription;\n  }\n\n  _createClass(SubscriptionObserver, [{\n    key: \"next\",\n    value: function next(value) {\n      onNotify(this._subscription, 'next', value);\n    }\n  }, {\n    key: \"error\",\n    value: function error(value) {\n      onNotify(this._subscription, 'error', value);\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      onNotify(this._subscription, 'complete');\n    }\n  }, {\n    key: \"closed\",\n    get: function () {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable =\n/*#__PURE__*/\nfunction () {\n  function Observable(subscriber) {\n    _classCallCheck(this, Observable);\n\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n    this._subscriber = subscriber;\n  }\n\n  _createClass(Observable, [{\n    key: \"subscribe\",\n    value: function subscribe(observer) {\n      if (typeof observer !== 'object' || observer === null) {\n        observer = {\n          next: observer,\n          error: arguments[1],\n          complete: arguments[2]\n        };\n      }\n\n      return new Subscription(observer, this._subscriber);\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        if (typeof fn !== 'function') {\n          reject(new TypeError(fn + ' is not a function'));\n          return;\n        }\n\n        function done() {\n          subscription.unsubscribe();\n          resolve();\n        }\n\n        var subscription = _this.subscribe({\n          next: function (value) {\n            try {\n              fn(value, done);\n            } catch (e) {\n              reject(e);\n              subscription.unsubscribe();\n            }\n          },\n          error: reject,\n          complete: resolve\n        });\n      });\n    }\n  }, {\n    key: \"map\",\n    value: function map(fn) {\n      var _this2 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this2.subscribe({\n          next: function (value) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(fn) {\n      var _this3 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this3.subscribe({\n          next: function (value) {\n            try {\n              if (!fn(value)) return;\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reduce\",\n    value: function reduce(fn) {\n      var _this4 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      var hasSeed = arguments.length > 1;\n      var hasValue = false;\n      var seed = arguments[1];\n      var acc = seed;\n      return new C(function (observer) {\n        return _this4.subscribe({\n          next: function (value) {\n            var first = !hasValue;\n            hasValue = true;\n\n            if (!first || hasSeed) {\n              try {\n                acc = fn(acc, value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            } else {\n              acc = value;\n            }\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n            observer.next(acc);\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"concat\",\n    value: function concat() {\n      var _this5 = this;\n\n      for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n        sources[_key] = arguments[_key];\n      }\n\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscription;\n        var index = 0;\n\n        function startNext(next) {\n          subscription = next.subscribe({\n            next: function (v) {\n              observer.next(v);\n            },\n            error: function (e) {\n              observer.error(e);\n            },\n            complete: function () {\n              if (index === sources.length) {\n                subscription = undefined;\n                observer.complete();\n              } else {\n                startNext(C.from(sources[index++]));\n              }\n            }\n          });\n        }\n\n        startNext(_this5);\n        return function () {\n          if (subscription) {\n            subscription.unsubscribe();\n            subscription = undefined;\n          }\n        };\n      });\n    }\n  }, {\n    key: \"flatMap\",\n    value: function flatMap(fn) {\n      var _this6 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscriptions = [];\n\n        var outer = _this6.subscribe({\n          next: function (value) {\n            if (fn) {\n              try {\n                value = fn(value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            }\n\n            var inner = C.from(value).subscribe({\n              next: function (value) {\n                observer.next(value);\n              },\n              error: function (e) {\n                observer.error(e);\n              },\n              complete: function () {\n                var i = subscriptions.indexOf(inner);\n                if (i >= 0) subscriptions.splice(i, 1);\n                completeIfDone();\n              }\n            });\n            subscriptions.push(inner);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            completeIfDone();\n          }\n        });\n\n        function completeIfDone() {\n          if (outer.closed && subscriptions.length === 0) observer.complete();\n        }\n\n        return function () {\n          subscriptions.forEach(function (s) {\n            return s.unsubscribe();\n          });\n          outer.unsubscribe();\n        };\n      });\n    }\n  }, {\n    key: SymbolObservable,\n    value: function () {\n      return this;\n    }\n  }], [{\n    key: \"from\",\n    value: function from(x) {\n      var C = typeof this === 'function' ? this : Observable;\n      if (x == null) throw new TypeError(x + ' is not an object');\n      var method = getMethod(x, SymbolObservable);\n\n      if (method) {\n        var observable = method.call(x);\n        if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n        if (isObservable(observable) && observable.constructor === C) return observable;\n        return new C(function (observer) {\n          return observable.subscribe(observer);\n        });\n      }\n\n      if (hasSymbol('iterator')) {\n        method = getMethod(x, SymbolIterator);\n\n        if (method) {\n          return new C(function (observer) {\n            enqueue(function () {\n              if (observer.closed) return;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = method.call(x)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _item = _step.value;\n                  observer.next(_item);\n                  if (observer.closed) return;\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              observer.complete();\n            });\n          });\n        }\n      }\n\n      if (Array.isArray(x)) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n\n            for (var i = 0; i < x.length; ++i) {\n              observer.next(x[i]);\n              if (observer.closed) return;\n            }\n\n            observer.complete();\n          });\n        });\n      }\n\n      throw new TypeError(x + ' is not observable');\n    }\n  }, {\n    key: \"of\",\n    value: function of() {\n      for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        items[_key2] = arguments[_key2];\n      }\n\n      var C = typeof this === 'function' ? this : Observable;\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n\n          for (var i = 0; i < items.length; ++i) {\n            observer.next(items[i]);\n            if (observer.closed) return;\n          }\n\n          observer.complete();\n        });\n      });\n    }\n  }, {\n    key: SymbolSpecies,\n    get: function () {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nexports.Observable = Observable;\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar MqttOverWSProvider_1 = require(\"./MqttOverWSProvider\");\nvar Auth_1 = require(\"../../Auth\");\nvar Common_1 = require(\"../../Common\");\nvar SERVICE_NAME = 'iotdevicegateway';\nvar AWSIoTProvider = /** @class */ (function (_super) {\n    __extends(AWSIoTProvider, _super);\n    function AWSIoTProvider() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(AWSIoTProvider.prototype, \"region\", {\n        get: function () { return this.options.aws_pubsub_region; },\n        enumerable: true,\n        configurable: true\n    });\n    AWSIoTProvider.prototype.getProviderName = function () { return 'AWSIoTProvider'; };\n    Object.defineProperty(AWSIoTProvider.prototype, \"endpoint\", {\n        get: function () {\n            var _this = this;\n            return (function () { return __awaiter(_this, void 0, void 0, function () {\n                var endpoint, serviceInfo, _a, access_key, secret_key, session_token, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            endpoint = this.options.aws_pubsub_endpoint;\n                            serviceInfo = {\n                                service: SERVICE_NAME,\n                                region: this.region\n                            };\n                            return [4 /*yield*/, Auth_1.default.currentCredentials()];\n                        case 1:\n                            _a = _b.sent(), access_key = _a.accessKeyId, secret_key = _a.secretAccessKey, session_token = _a.sessionToken;\n                            result = Common_1.Signer.signUrl(endpoint, { access_key: access_key, secret_key: secret_key, session_token: session_token }, serviceInfo);\n                            return [2 /*return*/, result];\n                    }\n                });\n            }); })();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AWSIoTProvider;\n}(MqttOverWSProvider_1.MqttOverWSProvider));\nexports.AWSIoTProvider = AWSIoTProvider;\n//# sourceMappingURL=AWSIotProvider.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar paho_mqtt_1 = require(\"paho-mqtt\");\nvar uuid_1 = require(\"uuid\");\nvar Observable = require(\"zen-observable\");\nglobal.Paho = global.Paho || { MQTT: { Client: paho_mqtt_1.Client, Message: paho_mqtt_1.Message } };\nvar PubSubProvider_1 = require(\"./PubSubProvider\");\nvar Logger_1 = require(\"../../Common/Logger\");\nvar logger = new Logger_1.ConsoleLogger('MqttOverWSProvider');\nvar ClientsQueue = /** @class */ (function () {\n    function ClientsQueue() {\n        this.promises = new Map();\n        this.map = new Map();\n    }\n    ClientsQueue.prototype.get = function (clientId, clientFactory) {\n        return __awaiter(this, void 0, void 0, function () {\n            var client, promise;\n            return __generator(this, function (_a) {\n                client = this.map.get(clientId);\n                if (client) {\n                    return [2 /*return*/, client];\n                }\n                promise = this.promises.get(clientId);\n                if (promise) {\n                    return [2 /*return*/, promise];\n                }\n                promise = clientFactory(clientId);\n                this.promises.set(clientId, promise);\n                return [2 /*return*/, promise];\n            });\n        });\n    };\n    return ClientsQueue;\n}());\nvar MqttOverWSProvider = /** @class */ (function (_super) {\n    __extends(MqttOverWSProvider, _super);\n    function MqttOverWSProvider(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, __assign({}, options, { clientId: options.clientId || uuid_1.v4() })) || this;\n        _this.clientsQueue = new ClientsQueue();\n        _this._topicObservers = new Map();\n        return _this;\n    }\n    Object.defineProperty(MqttOverWSProvider.prototype, \"clientId\", {\n        get: function () { return this.options.clientId; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MqttOverWSProvider.prototype, \"endpoint\", {\n        get: function () { return this.options.aws_pubsub_endpoint; },\n        enumerable: true,\n        configurable: true\n    });\n    MqttOverWSProvider.prototype.getProviderName = function () { return 'MqttOverWSProvider'; };\n    MqttOverWSProvider.prototype.newClient = function (_a) {\n        var url = _a.url, clientId = _a.clientId;\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            var client;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        logger.debug('Creating new MQTT client', clientId);\n                        client = new paho_mqtt_1.Client(url, clientId);\n                        // client.trace = (...args) => logger.debug(clientId, ...args);\n                        client.onMessageArrived = function (_a) {\n                            var topic = _a.destinationName, msg = _a.payloadString;\n                            _this._onMessage(topic, msg);\n                        };\n                        client.onConnectionLost = logger.warn.bind(logger);\n                        return [4 /*yield*/, new Promise(function (resolve, reject) {\n                                client.connect({\n                                    useSSL: true,\n                                    mqttVersion: 3,\n                                    onSuccess: function () { return resolve(client); },\n                                    onFailure: reject,\n                                });\n                            })];\n                    case 1:\n                        _b.sent();\n                        return [2 /*return*/, client];\n                }\n            });\n        });\n    };\n    MqttOverWSProvider.prototype.connect = function (clientId, options) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.clientsQueue.get(clientId, function (clientId) { return _this.newClient(__assign({}, options, { clientId: clientId })); })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    MqttOverWSProvider.prototype.publish = function (topics, msg) {\n        return __awaiter(this, void 0, void 0, function () {\n            var targetTopics, message, url, client;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        targetTopics = [].concat(topics);\n                        message = JSON.stringify(msg);\n                        return [4 /*yield*/, this.endpoint];\n                    case 1:\n                        url = _a.sent();\n                        return [4 /*yield*/, this.connect(this.clientId, { url: url })];\n                    case 2:\n                        client = _a.sent();\n                        logger.debug('Publishing to topic(s)', targetTopics.join(','), message);\n                        targetTopics.forEach(function (topic) { return client.send(topic, message); });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    MqttOverWSProvider.prototype._onMessage = function (topic, msg) {\n        try {\n            var observersForTopic = this._topicObservers.get(topic) || new Set();\n            var parsedMessage_1 = JSON.parse(msg);\n            observersForTopic.forEach(function (observer) { return observer.next(parsedMessage_1); });\n        }\n        catch (error) {\n            logger.warn('Error handling message', error, msg);\n        }\n    };\n    MqttOverWSProvider.prototype.subscribe = function (topics, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        var targetTopics = [].concat(topics);\n        logger.debug('Subscribing to topic(s)', targetTopics.join(','));\n        return new Observable(function (observer) {\n            targetTopics.forEach(function (topic) {\n                var observersForTopic = _this._topicObservers.get(topic);\n                if (!observersForTopic) {\n                    observersForTopic = new Set();\n                    _this._topicObservers.set(topic, observersForTopic);\n                }\n                observersForTopic.add(observer);\n            });\n            var client;\n            (function () { return __awaiter(_this, void 0, void 0, function () {\n                var _a, url, _b, clientId, _c;\n                return __generator(this, function (_d) {\n                    switch (_d.label) {\n                        case 0:\n                            _a = options.url;\n                            if (!(_a === void 0)) return [3 /*break*/, 2];\n                            return [4 /*yield*/, this.endpoint];\n                        case 1:\n                            _c = _d.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            _c = _a;\n                            _d.label = 3;\n                        case 3:\n                            url = _c, _b = options.clientId, clientId = _b === void 0 ? this.clientId : _b;\n                            return [4 /*yield*/, this.connect(clientId, { url: url })];\n                        case 4:\n                            client = _d.sent();\n                            targetTopics.forEach(function (topic) { return client.subscribe(topic); });\n                            return [2 /*return*/];\n                    }\n                });\n            }); })();\n            return function () {\n                logger.debug('Unsubscribing from topic(s)', targetTopics.join(','));\n                if (client) {\n                    targetTopics.forEach(function (topic) {\n                        client.unsubscribe(topic);\n                    });\n                }\n                return null;\n            };\n        });\n    };\n    return MqttOverWSProvider;\n}(PubSubProvider_1.AbstractPubSubProvider));\nexports.MqttOverWSProvider = MqttOverWSProvider;\n//# sourceMappingURL=MqttOverWSProvider.js.map","/*******************************************************************************\n * Copyright (c) 2013 IBM Corp.\n *\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * and Eclipse Distribution License v1.0 which accompany this distribution.\n *\n * The Eclipse Public License is available at\n *    http://www.eclipse.org/legal/epl-v10.html\n * and the Eclipse Distribution License is available at\n *   http://www.eclipse.org/org/documents/edl-v10.php.\n *\n * Contributors:\n *    Andrew Banks - initial API and implementation and initial documentation\n *******************************************************************************/\n\n\n// Only expose a single object name in the global namespace.\n// Everything must go through this module. Global Paho module\n// only has a single public function, client, which returns\n// a Paho client object given connection details.\n\n/**\n * Send and receive messages using web browsers.\n * <p>\n * This programming interface lets a JavaScript client application use the MQTT V3.1 or\n * V3.1.1 protocol to connect to an MQTT-supporting messaging server.\n *\n * The function supported includes:\n * <ol>\n * <li>Connecting to and disconnecting from a server. The server is identified by its host name and port number.\n * <li>Specifying options that relate to the communications link with the server,\n * for example the frequency of keep-alive heartbeats, and whether SSL/TLS is required.\n * <li>Subscribing to and receiving messages from MQTT Topics.\n * <li>Publishing messages to MQTT Topics.\n * </ol>\n * <p>\n * The API consists of two main objects:\n * <dl>\n * <dt><b>{@link Paho.Client}</b></dt>\n * <dd>This contains methods that provide the functionality of the API,\n * including provision of callbacks that notify the application when a message\n * arrives from or is delivered to the messaging server,\n * or when the status of its connection to the messaging server changes.</dd>\n * <dt><b>{@link Paho.Message}</b></dt>\n * <dd>This encapsulates the payload of the message along with various attributes\n * associated with its delivery, in particular the destination to which it has\n * been (or is about to be) sent.</dd>\n * </dl>\n * <p>\n * The programming interface validates parameters passed to it, and will throw\n * an Error containing an error message intended for developer use, if it detects\n * an error with any parameter.\n * <p>\n * Example:\n *\n * <code><pre>\nvar client = new Paho.MQTT.Client(location.hostname, Number(location.port), \"clientId\");\nclient.onConnectionLost = onConnectionLost;\nclient.onMessageArrived = onMessageArrived;\nclient.connect({onSuccess:onConnect});\n\nfunction onConnect() {\n  // Once a connection has been made, make a subscription and send a message.\n  console.log(\"onConnect\");\n  client.subscribe(\"/World\");\n  var message = new Paho.MQTT.Message(\"Hello\");\n  message.destinationName = \"/World\";\n  client.send(message);\n};\nfunction onConnectionLost(responseObject) {\n  if (responseObject.errorCode !== 0)\n\tconsole.log(\"onConnectionLost:\"+responseObject.errorMessage);\n};\nfunction onMessageArrived(message) {\n  console.log(\"onMessageArrived:\"+message.payloadString);\n  client.disconnect();\n};\n * </pre></code>\n * @namespace Paho\n */\n\n/* jshint shadow:true */\n(function ExportLibrary(root, factory) {\n\tif(typeof exports === \"object\" && typeof module === \"object\"){\n\t\tmodule.exports = factory();\n\t} else if (typeof define === \"function\" && define.amd){\n\t\tdefine(factory);\n\t} else if (typeof exports === \"object\"){\n\t\texports = factory();\n\t} else {\n\t\t//if (typeof root.Paho === \"undefined\"){\n\t\t//\troot.Paho = {};\n\t\t//}\n\t\troot.Paho = factory();\n\t}\n})(this, function LibraryFactory(){\n\n\n\tvar PahoMQTT = (function (global) {\n\n\t// Private variables below, these are only visible inside the function closure\n\t// which is used to define the module.\n\tvar version = \"@VERSION@-@BUILDLEVEL@\";\n\n\t/**\n\t * @private\n\t */\n\tvar localStorage = global.localStorage || (function () {\n\t\tvar data = {};\n\n\t\treturn {\n\t\t\tsetItem: function (key, item) { data[key] = item; },\n\t\t\tgetItem: function (key) { return data[key]; },\n\t\t\tremoveItem: function (key) { delete data[key]; },\n\t\t};\n\t})();\n\n\t\t/**\n\t * Unique message type identifiers, with associated\n\t * associated integer values.\n\t * @private\n\t */\n\t\tvar MESSAGE_TYPE = {\n\t\t\tCONNECT: 1,\n\t\t\tCONNACK: 2,\n\t\t\tPUBLISH: 3,\n\t\t\tPUBACK: 4,\n\t\t\tPUBREC: 5,\n\t\t\tPUBREL: 6,\n\t\t\tPUBCOMP: 7,\n\t\t\tSUBSCRIBE: 8,\n\t\t\tSUBACK: 9,\n\t\t\tUNSUBSCRIBE: 10,\n\t\t\tUNSUBACK: 11,\n\t\t\tPINGREQ: 12,\n\t\t\tPINGRESP: 13,\n\t\t\tDISCONNECT: 14\n\t\t};\n\n\t\t// Collection of utility methods used to simplify module code\n\t\t// and promote the DRY pattern.\n\n\t\t/**\n\t * Validate an object's parameter names to ensure they\n\t * match a list of expected variables name for this option\n\t * type. Used to ensure option object passed into the API don't\n\t * contain erroneous parameters.\n\t * @param {Object} obj - User options object\n\t * @param {Object} keys - valid keys and types that may exist in obj.\n\t * @throws {Error} Invalid option parameter found.\n\t * @private\n\t */\n\t\tvar validate = function(obj, keys) {\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\tif (keys.hasOwnProperty(key)) {\n\t\t\t\t\t\tif (typeof obj[key] !== keys[key])\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof obj[key], key]));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar errorStr = \"Unknown property, \" + key + \". Valid properties are:\";\n\t\t\t\t\t\tfor (var validKey in keys)\n\t\t\t\t\t\t\tif (keys.hasOwnProperty(validKey))\n\t\t\t\t\t\t\t\terrorStr = errorStr+\" \"+validKey;\n\t\t\t\t\t\tthrow new Error(errorStr);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Return a new function which runs the user function bound\n\t * to a fixed scope.\n\t * @param {function} User function\n\t * @param {object} Function scope\n\t * @return {function} User function bound to another scope\n\t * @private\n\t */\n\t\tvar scope = function (f, scope) {\n\t\t\treturn function () {\n\t\t\t\treturn f.apply(scope, arguments);\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t * Unique message type identifiers, with associated\n\t * associated integer values.\n\t * @private\n\t */\n\t\tvar ERROR = {\n\t\t\tOK: {code:0, text:\"AMQJSC0000I OK.\"},\n\t\t\tCONNECT_TIMEOUT: {code:1, text:\"AMQJSC0001E Connect timed out.\"},\n\t\t\tSUBSCRIBE_TIMEOUT: {code:2, text:\"AMQJS0002E Subscribe timed out.\"},\n\t\t\tUNSUBSCRIBE_TIMEOUT: {code:3, text:\"AMQJS0003E Unsubscribe timed out.\"},\n\t\t\tPING_TIMEOUT: {code:4, text:\"AMQJS0004E Ping timed out.\"},\n\t\t\tINTERNAL_ERROR: {code:5, text:\"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}\"},\n\t\t\tCONNACK_RETURNCODE: {code:6, text:\"AMQJS0006E Bad Connack return code:{0} {1}.\"},\n\t\t\tSOCKET_ERROR: {code:7, text:\"AMQJS0007E Socket error:{0}.\"},\n\t\t\tSOCKET_CLOSE: {code:8, text:\"AMQJS0008I Socket closed.\"},\n\t\t\tMALFORMED_UTF: {code:9, text:\"AMQJS0009E Malformed UTF data:{0} {1} {2}.\"},\n\t\t\tUNSUPPORTED: {code:10, text:\"AMQJS0010E {0} is not supported by this browser.\"},\n\t\t\tINVALID_STATE: {code:11, text:\"AMQJS0011E Invalid state {0}.\"},\n\t\t\tINVALID_TYPE: {code:12, text:\"AMQJS0012E Invalid type {0} for {1}.\"},\n\t\t\tINVALID_ARGUMENT: {code:13, text:\"AMQJS0013E Invalid argument {0} for {1}.\"},\n\t\t\tUNSUPPORTED_OPERATION: {code:14, text:\"AMQJS0014E Unsupported operation.\"},\n\t\t\tINVALID_STORED_DATA: {code:15, text:\"AMQJS0015E Invalid data in local storage key={0} value={1}.\"},\n\t\t\tINVALID_MQTT_MESSAGE_TYPE: {code:16, text:\"AMQJS0016E Invalid MQTT message type {0}.\"},\n\t\t\tMALFORMED_UNICODE: {code:17, text:\"AMQJS0017E Malformed Unicode string:{0} {1}.\"},\n\t\t\tBUFFER_FULL: {code:18, text:\"AMQJS0018E Message buffer is full, maximum buffer size: {0}.\"},\n\t\t};\n\n\t\t/** CONNACK RC Meaning. */\n\t\tvar CONNACK_RC = {\n\t\t\t0:\"Connection Accepted\",\n\t\t\t1:\"Connection Refused: unacceptable protocol version\",\n\t\t\t2:\"Connection Refused: identifier rejected\",\n\t\t\t3:\"Connection Refused: server unavailable\",\n\t\t\t4:\"Connection Refused: bad user name or password\",\n\t\t\t5:\"Connection Refused: not authorized\"\n\t\t};\n\n\t/**\n\t * Format an error message text.\n\t * @private\n\t * @param {error} ERROR value above.\n\t * @param {substitutions} [array] substituted into the text.\n\t * @return the text with the substitutions made.\n\t */\n\t\tvar format = function(error, substitutions) {\n\t\t\tvar text = error.text;\n\t\t\tif (substitutions) {\n\t\t\t\tvar field,start;\n\t\t\t\tfor (var i=0; i<substitutions.length; i++) {\n\t\t\t\t\tfield = \"{\"+i+\"}\";\n\t\t\t\t\tstart = text.indexOf(field);\n\t\t\t\t\tif(start > 0) {\n\t\t\t\t\t\tvar part1 = text.substring(0,start);\n\t\t\t\t\t\tvar part2 = text.substring(start+field.length);\n\t\t\t\t\t\ttext = part1+substitutions[i]+part2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn text;\n\t\t};\n\n\t\t//MQTT protocol and version          6    M    Q    I    s    d    p    3\n\t\tvar MqttProtoIdentifierv3 = [0x00,0x06,0x4d,0x51,0x49,0x73,0x64,0x70,0x03];\n\t\t//MQTT proto/version for 311         4    M    Q    T    T    4\n\t\tvar MqttProtoIdentifierv4 = [0x00,0x04,0x4d,0x51,0x54,0x54,0x04];\n\n\t\t/**\n\t * Construct an MQTT wire protocol message.\n\t * @param type MQTT packet type.\n\t * @param options optional wire message attributes.\n\t *\n\t * Optional properties\n\t *\n\t * messageIdentifier: message ID in the range [0..65535]\n\t * payloadMessage:\tApplication Message - PUBLISH only\n\t * connectStrings:\tarray of 0 or more Strings to be put into the CONNECT payload\n\t * topics:\t\t\tarray of strings (SUBSCRIBE, UNSUBSCRIBE)\n\t * requestQoS:\t\tarray of QoS values [0..2]\n\t *\n\t * \"Flag\" properties\n\t * cleanSession:\ttrue if present / false if absent (CONNECT)\n\t * willMessage:  \ttrue if present / false if absent (CONNECT)\n\t * isRetained:\t\ttrue if present / false if absent (CONNECT)\n\t * userName:\t\ttrue if present / false if absent (CONNECT)\n\t * password:\t\ttrue if present / false if absent (CONNECT)\n\t * keepAliveInterval:\tinteger [0..65535]  (CONNECT)\n\t *\n\t * @private\n\t * @ignore\n\t */\n\t\tvar WireMessage = function (type, options) {\n\t\t\tthis.type = type;\n\t\t\tfor (var name in options) {\n\t\t\t\tif (options.hasOwnProperty(name)) {\n\t\t\t\t\tthis[name] = options[name];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tWireMessage.prototype.encode = function() {\n\t\t// Compute the first byte of the fixed header\n\t\t\tvar first = ((this.type & 0x0f) << 4);\n\n\t\t\t/*\n\t\t * Now calculate the length of the variable header + payload by adding up the lengths\n\t\t * of all the component parts\n\t\t */\n\n\t\t\tvar remLength = 0;\n\t\t\tvar topicStrLength = [];\n\t\t\tvar destinationNameLength = 0;\n\t\t\tvar willMessagePayloadBytes;\n\n\t\t\t// if the message contains a messageIdentifier then we need two bytes for that\n\t\t\tif (this.messageIdentifier !== undefined)\n\t\t\t\tremLength += 2;\n\n\t\t\tswitch(this.type) {\n\t\t\t// If this a Connect then we need to include 12 bytes for its header\n\t\t\tcase MESSAGE_TYPE.CONNECT:\n\t\t\t\tswitch(this.mqttVersion) {\n\t\t\t\tcase 3:\n\t\t\t\t\tremLength += MqttProtoIdentifierv3.length + 3;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tremLength += MqttProtoIdentifierv4.length + 3;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tremLength += UTF8Length(this.clientId) + 2;\n\t\t\t\tif (this.willMessage !== undefined) {\n\t\t\t\t\tremLength += UTF8Length(this.willMessage.destinationName) + 2;\n\t\t\t\t\t// Will message is always a string, sent as UTF-8 characters with a preceding length.\n\t\t\t\t\twillMessagePayloadBytes = this.willMessage.payloadBytes;\n\t\t\t\t\tif (!(willMessagePayloadBytes instanceof Uint8Array))\n\t\t\t\t\t\twillMessagePayloadBytes = new Uint8Array(payloadBytes);\n\t\t\t\t\tremLength += willMessagePayloadBytes.byteLength +2;\n\t\t\t\t}\n\t\t\t\tif (this.userName !== undefined)\n\t\t\t\t\tremLength += UTF8Length(this.userName) + 2;\n\t\t\t\tif (this.password !== undefined)\n\t\t\t\t\tremLength += UTF8Length(this.password) + 2;\n\t\t\t\tbreak;\n\n\t\t\t// Subscribe, Unsubscribe can both contain topic strings\n\t\t\tcase MESSAGE_TYPE.SUBSCRIBE:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tfor ( var i = 0; i < this.topics.length; i++) {\n\t\t\t\t\ttopicStrLength[i] = UTF8Length(this.topics[i]);\n\t\t\t\t\tremLength += topicStrLength[i] + 2;\n\t\t\t\t}\n\t\t\t\tremLength += this.requestedQos.length; // 1 byte for each topic's Qos\n\t\t\t\t// QoS on Subscribe only\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.UNSUBSCRIBE:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tfor ( var i = 0; i < this.topics.length; i++) {\n\t\t\t\t\ttopicStrLength[i] = UTF8Length(this.topics[i]);\n\t\t\t\t\tremLength += topicStrLength[i] + 2;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBREL:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tif (this.payloadMessage.duplicate) first |= 0x08;\n\t\t\t\tfirst  = first |= (this.payloadMessage.qos << 1);\n\t\t\t\tif (this.payloadMessage.retained) first |= 0x01;\n\t\t\t\tdestinationNameLength = UTF8Length(this.payloadMessage.destinationName);\n\t\t\t\tremLength += destinationNameLength + 2;\n\t\t\t\tvar payloadBytes = this.payloadMessage.payloadBytes;\n\t\t\t\tremLength += payloadBytes.byteLength;\n\t\t\t\tif (payloadBytes instanceof ArrayBuffer)\n\t\t\t\t\tpayloadBytes = new Uint8Array(payloadBytes);\n\t\t\t\telse if (!(payloadBytes instanceof Uint8Array))\n\t\t\t\t\tpayloadBytes = new Uint8Array(payloadBytes.buffer);\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.DISCONNECT:\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Now we can allocate a buffer for the message\n\n\t\t\tvar mbi = encodeMBI(remLength);  // Convert the length to MQTT MBI format\n\t\t\tvar pos = mbi.length + 1;        // Offset of start of variable header\n\t\t\tvar buffer = new ArrayBuffer(remLength + pos);\n\t\t\tvar byteStream = new Uint8Array(buffer);    // view it as a sequence of bytes\n\n\t\t\t//Write the fixed header into the buffer\n\t\t\tbyteStream[0] = first;\n\t\t\tbyteStream.set(mbi,1);\n\n\t\t\t// If this is a PUBLISH then the variable header starts with a topic\n\t\t\tif (this.type == MESSAGE_TYPE.PUBLISH)\n\t\t\t\tpos = writeString(this.payloadMessage.destinationName, destinationNameLength, byteStream, pos);\n\t\t\t// If this is a CONNECT then the variable header contains the protocol name/version, flags and keepalive time\n\n\t\t\telse if (this.type == MESSAGE_TYPE.CONNECT) {\n\t\t\t\tswitch (this.mqttVersion) {\n\t\t\t\tcase 3:\n\t\t\t\t\tbyteStream.set(MqttProtoIdentifierv3, pos);\n\t\t\t\t\tpos += MqttProtoIdentifierv3.length;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tbyteStream.set(MqttProtoIdentifierv4, pos);\n\t\t\t\t\tpos += MqttProtoIdentifierv4.length;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar connectFlags = 0;\n\t\t\t\tif (this.cleanSession)\n\t\t\t\t\tconnectFlags = 0x02;\n\t\t\t\tif (this.willMessage !== undefined ) {\n\t\t\t\t\tconnectFlags |= 0x04;\n\t\t\t\t\tconnectFlags |= (this.willMessage.qos<<3);\n\t\t\t\t\tif (this.willMessage.retained) {\n\t\t\t\t\t\tconnectFlags |= 0x20;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.userName !== undefined)\n\t\t\t\t\tconnectFlags |= 0x80;\n\t\t\t\tif (this.password !== undefined)\n\t\t\t\t\tconnectFlags |= 0x40;\n\t\t\t\tbyteStream[pos++] = connectFlags;\n\t\t\t\tpos = writeUint16 (this.keepAliveInterval, byteStream, pos);\n\t\t\t}\n\n\t\t\t// Output the messageIdentifier - if there is one\n\t\t\tif (this.messageIdentifier !== undefined)\n\t\t\t\tpos = writeUint16 (this.messageIdentifier, byteStream, pos);\n\n\t\t\tswitch(this.type) {\n\t\t\tcase MESSAGE_TYPE.CONNECT:\n\t\t\t\tpos = writeString(this.clientId, UTF8Length(this.clientId), byteStream, pos);\n\t\t\t\tif (this.willMessage !== undefined) {\n\t\t\t\t\tpos = writeString(this.willMessage.destinationName, UTF8Length(this.willMessage.destinationName), byteStream, pos);\n\t\t\t\t\tpos = writeUint16(willMessagePayloadBytes.byteLength, byteStream, pos);\n\t\t\t\t\tbyteStream.set(willMessagePayloadBytes, pos);\n\t\t\t\t\tpos += willMessagePayloadBytes.byteLength;\n\n\t\t\t\t}\n\t\t\t\tif (this.userName !== undefined)\n\t\t\t\t\tpos = writeString(this.userName, UTF8Length(this.userName), byteStream, pos);\n\t\t\t\tif (this.password !== undefined)\n\t\t\t\t\tpos = writeString(this.password, UTF8Length(this.password), byteStream, pos);\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t// PUBLISH has a text or binary payload, if text do not add a 2 byte length field, just the UTF characters.\n\t\t\t\tbyteStream.set(payloadBytes, pos);\n\n\t\t\t\tbreak;\n\n\t\t\t\t//    \t    case MESSAGE_TYPE.PUBREC:\n\t\t\t\t//    \t    case MESSAGE_TYPE.PUBREL:\n\t\t\t\t//    \t    case MESSAGE_TYPE.PUBCOMP:\n\t\t\t\t//    \t    \tbreak;\n\n\t\t\tcase MESSAGE_TYPE.SUBSCRIBE:\n\t\t\t\t// SUBSCRIBE has a list of topic strings and request QoS\n\t\t\t\tfor (var i=0; i<this.topics.length; i++) {\n\t\t\t\t\tpos = writeString(this.topics[i], topicStrLength[i], byteStream, pos);\n\t\t\t\t\tbyteStream[pos++] = this.requestedQos[i];\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.UNSUBSCRIBE:\n\t\t\t\t// UNSUBSCRIBE has a list of topic strings\n\t\t\t\tfor (var i=0; i<this.topics.length; i++)\n\t\t\t\t\tpos = writeString(this.topics[i], topicStrLength[i], byteStream, pos);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t// Do nothing.\n\t\t\t}\n\n\t\t\treturn buffer;\n\t\t};\n\n\t\tfunction decodeMessage(input,pos) {\n\t\t\tvar startingPos = pos;\n\t\t\tvar first = input[pos];\n\t\t\tvar type = first >> 4;\n\t\t\tvar messageInfo = first &= 0x0f;\n\t\t\tpos += 1;\n\n\n\t\t\t// Decode the remaining length (MBI format)\n\n\t\t\tvar digit;\n\t\t\tvar remLength = 0;\n\t\t\tvar multiplier = 1;\n\t\t\tdo {\n\t\t\t\tif (pos == input.length) {\n\t\t\t\t\treturn [null,startingPos];\n\t\t\t\t}\n\t\t\t\tdigit = input[pos++];\n\t\t\t\tremLength += ((digit & 0x7F) * multiplier);\n\t\t\t\tmultiplier *= 128;\n\t\t\t} while ((digit & 0x80) !== 0);\n\n\t\t\tvar endPos = pos+remLength;\n\t\t\tif (endPos > input.length) {\n\t\t\t\treturn [null,startingPos];\n\t\t\t}\n\n\t\t\tvar wireMessage = new WireMessage(type);\n\t\t\tswitch(type) {\n\t\t\tcase MESSAGE_TYPE.CONNACK:\n\t\t\t\tvar connectAcknowledgeFlags = input[pos++];\n\t\t\t\tif (connectAcknowledgeFlags & 0x01)\n\t\t\t\t\twireMessage.sessionPresent = true;\n\t\t\t\twireMessage.returnCode = input[pos++];\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tvar qos = (messageInfo >> 1) & 0x03;\n\n\t\t\t\tvar len = readUint16(input, pos);\n\t\t\t\tpos += 2;\n\t\t\t\tvar topicName = parseUTF8(input, pos, len);\n\t\t\t\tpos += len;\n\t\t\t\t// If QoS 1 or 2 there will be a messageIdentifier\n\t\t\t\tif (qos > 0) {\n\t\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\t\tpos += 2;\n\t\t\t\t}\n\n\t\t\t\tvar message = new Message(input.subarray(pos, endPos));\n\t\t\t\tif ((messageInfo & 0x01) == 0x01)\n\t\t\t\t\tmessage.retained = true;\n\t\t\t\tif ((messageInfo & 0x08) == 0x08)\n\t\t\t\t\tmessage.duplicate =  true;\n\t\t\t\tmessage.qos = qos;\n\t\t\t\tmessage.destinationName = topicName;\n\t\t\t\twireMessage.payloadMessage = message;\n\t\t\t\tbreak;\n\n\t\t\tcase  MESSAGE_TYPE.PUBACK:\n\t\t\tcase  MESSAGE_TYPE.PUBREC:\n\t\t\tcase  MESSAGE_TYPE.PUBREL:\n\t\t\tcase  MESSAGE_TYPE.PUBCOMP:\n\t\t\tcase  MESSAGE_TYPE.UNSUBACK:\n\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\tbreak;\n\n\t\t\tcase  MESSAGE_TYPE.SUBACK:\n\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\tpos += 2;\n\t\t\t\twireMessage.returnCode = input.subarray(pos, endPos);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn [wireMessage,endPos];\n\t\t}\n\n\t\tfunction writeUint16(input, buffer, offset) {\n\t\t\tbuffer[offset++] = input >> 8;      //MSB\n\t\t\tbuffer[offset++] = input % 256;     //LSB\n\t\t\treturn offset;\n\t\t}\n\n\t\tfunction writeString(input, utf8Length, buffer, offset) {\n\t\t\toffset = writeUint16(utf8Length, buffer, offset);\n\t\t\tstringToUTF8(input, buffer, offset);\n\t\t\treturn offset + utf8Length;\n\t\t}\n\n\t\tfunction readUint16(buffer, offset) {\n\t\t\treturn 256*buffer[offset] + buffer[offset+1];\n\t\t}\n\n\t\t/**\n\t * Encodes an MQTT Multi-Byte Integer\n\t * @private\n\t */\n\t\tfunction encodeMBI(number) {\n\t\t\tvar output = new Array(1);\n\t\t\tvar numBytes = 0;\n\n\t\t\tdo {\n\t\t\t\tvar digit = number % 128;\n\t\t\t\tnumber = number >> 7;\n\t\t\t\tif (number > 0) {\n\t\t\t\t\tdigit |= 0x80;\n\t\t\t\t}\n\t\t\t\toutput[numBytes++] = digit;\n\t\t\t} while ( (number > 0) && (numBytes<4) );\n\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t * Takes a String and calculates its length in bytes when encoded in UTF8.\n\t * @private\n\t */\n\t\tfunction UTF8Length(input) {\n\t\t\tvar output = 0;\n\t\t\tfor (var i = 0; i<input.length; i++)\n\t\t\t{\n\t\t\t\tvar charCode = input.charCodeAt(i);\n\t\t\t\tif (charCode > 0x7FF)\n\t\t\t\t{\n\t\t\t\t\t// Surrogate pair means its a 4 byte character\n\t\t\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF)\n\t\t\t\t\t{\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\toutput++;\n\t\t\t\t\t}\n\t\t\t\t\toutput +=3;\n\t\t\t\t}\n\t\t\t\telse if (charCode > 0x7F)\n\t\t\t\t\toutput +=2;\n\t\t\t\telse\n\t\t\t\t\toutput++;\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t * Takes a String and writes it into an array as UTF8 encoded bytes.\n\t * @private\n\t */\n\t\tfunction stringToUTF8(input, output, start) {\n\t\t\tvar pos = start;\n\t\t\tfor (var i = 0; i<input.length; i++) {\n\t\t\t\tvar charCode = input.charCodeAt(i);\n\n\t\t\t\t// Check for a surrogate pair.\n\t\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF) {\n\t\t\t\t\tvar lowCharCode = input.charCodeAt(++i);\n\t\t\t\t\tif (isNaN(lowCharCode)) {\n\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UNICODE, [charCode, lowCharCode]));\n\t\t\t\t\t}\n\t\t\t\t\tcharCode = ((charCode - 0xD800)<<10) + (lowCharCode - 0xDC00) + 0x10000;\n\n\t\t\t\t}\n\n\t\t\t\tif (charCode <= 0x7F) {\n\t\t\t\t\toutput[pos++] = charCode;\n\t\t\t\t} else if (charCode <= 0x7FF) {\n\t\t\t\t\toutput[pos++] = charCode>>6  & 0x1F | 0xC0;\n\t\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t\t} else if (charCode <= 0xFFFF) {\n\t\t\t\t\toutput[pos++] = charCode>>12 & 0x0F | 0xE0;\n\t\t\t\t\toutput[pos++] = charCode>>6  & 0x3F | 0x80;\n\t\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t\t} else {\n\t\t\t\t\toutput[pos++] = charCode>>18 & 0x07 | 0xF0;\n\t\t\t\t\toutput[pos++] = charCode>>12 & 0x3F | 0x80;\n\t\t\t\t\toutput[pos++] = charCode>>6  & 0x3F | 0x80;\n\t\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\tfunction parseUTF8(input, offset, length) {\n\t\t\tvar output = \"\";\n\t\t\tvar utf16;\n\t\t\tvar pos = offset;\n\n\t\t\twhile (pos < offset+length)\n\t\t\t{\n\t\t\t\tvar byte1 = input[pos++];\n\t\t\t\tif (byte1 < 128)\n\t\t\t\t\tutf16 = byte1;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar byte2 = input[pos++]-128;\n\t\t\t\t\tif (byte2 < 0)\n\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16),\"\"]));\n\t\t\t\t\tif (byte1 < 0xE0)             // 2 byte character\n\t\t\t\t\t\tutf16 = 64*(byte1-0xC0) + byte2;\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tvar byte3 = input[pos++]-128;\n\t\t\t\t\t\tif (byte3 < 0)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16)]));\n\t\t\t\t\t\tif (byte1 < 0xF0)        // 3 byte character\n\t\t\t\t\t\t\tutf16 = 4096*(byte1-0xE0) + 64*byte2 + byte3;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar byte4 = input[pos++]-128;\n\t\t\t\t\t\t\tif (byte4 < 0)\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16), byte4.toString(16)]));\n\t\t\t\t\t\t\tif (byte1 < 0xF8)        // 4 byte character\n\t\t\t\t\t\t\t\tutf16 = 262144*(byte1-0xF0) + 4096*byte2 + 64*byte3 + byte4;\n\t\t\t\t\t\t\telse                     // longer encodings are not supported\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16), byte4.toString(16)]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (utf16 > 0xFFFF)   // 4 byte character - express as a surrogate pair\n\t\t\t\t{\n\t\t\t\t\tutf16 -= 0x10000;\n\t\t\t\t\toutput += String.fromCharCode(0xD800 + (utf16 >> 10)); // lead character\n\t\t\t\t\tutf16 = 0xDC00 + (utf16 & 0x3FF);  // trail character\n\t\t\t\t}\n\t\t\t\toutput += String.fromCharCode(utf16);\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t * Repeat keepalive requests, monitor responses.\n\t * @ignore\n\t */\n\t\tvar Pinger = function(client, keepAliveInterval) {\n\t\t\tthis._client = client;\n\t\t\tthis._keepAliveInterval = keepAliveInterval*1000;\n\t\t\tthis.isReset = false;\n\n\t\t\tvar pingReq = new WireMessage(MESSAGE_TYPE.PINGREQ).encode();\n\n\t\t\tvar doTimeout = function (pinger) {\n\t\t\t\treturn function () {\n\t\t\t\t\treturn doPing.apply(pinger);\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t/** @ignore */\n\t\t\tvar doPing = function() {\n\t\t\t\tif (!this.isReset) {\n\t\t\t\t\tthis._client._trace(\"Pinger.doPing\", \"Timed out\");\n\t\t\t\t\tthis._client._disconnected( ERROR.PING_TIMEOUT.code , format(ERROR.PING_TIMEOUT));\n\t\t\t\t} else {\n\t\t\t\t\tthis.isReset = false;\n\t\t\t\t\tthis._client._trace(\"Pinger.doPing\", \"send PINGREQ\");\n\t\t\t\t\tthis._client.socket.send(pingReq);\n\t\t\t\t\tthis.timeout = setTimeout(doTimeout(this), this._keepAliveInterval);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.reset = function() {\n\t\t\t\tthis.isReset = true;\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t\tif (this._keepAliveInterval > 0)\n\t\t\t\t\tthis.timeout = setTimeout(doTimeout(this), this._keepAliveInterval);\n\t\t\t};\n\n\t\t\tthis.cancel = function() {\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t * Monitor request completion.\n\t * @ignore\n\t */\n\t\tvar Timeout = function(client, timeoutSeconds, action, args) {\n\t\t\tif (!timeoutSeconds)\n\t\t\t\ttimeoutSeconds = 30;\n\n\t\t\tvar doTimeout = function (action, client, args) {\n\t\t\t\treturn function () {\n\t\t\t\t\treturn action.apply(client, args);\n\t\t\t\t};\n\t\t\t};\n\t\t\tthis.timeout = setTimeout(doTimeout(action, client, args), timeoutSeconds * 1000);\n\n\t\t\tthis.cancel = function() {\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t};\n\t\t};\n\n\t/**\n\t * Internal implementation of the Websockets MQTT V3.1 client.\n\t *\n\t * @name Paho.ClientImpl @constructor\n\t * @param {String} host the DNS nameof the webSocket host.\n\t * @param {Number} port the port number for that host.\n\t * @param {String} clientId the MQ client identifier.\n\t */\n\t\tvar ClientImpl = function (uri, host, port, path, clientId) {\n\t\t// Check dependencies are satisfied in this browser.\n\t\t\tif (!(\"WebSocket\" in global && global.WebSocket !== null)) {\n\t\t\t\tthrow new Error(format(ERROR.UNSUPPORTED, [\"WebSocket\"]));\n\t\t\t}\n\t\t\tif (!(\"ArrayBuffer\" in global && global.ArrayBuffer !== null)) {\n\t\t\t\tthrow new Error(format(ERROR.UNSUPPORTED, [\"ArrayBuffer\"]));\n\t\t\t}\n\t\t\tthis._trace(\"Paho.Client\", uri, host, port, path, clientId);\n\n\t\t\tthis.host = host;\n\t\t\tthis.port = port;\n\t\t\tthis.path = path;\n\t\t\tthis.uri = uri;\n\t\t\tthis.clientId = clientId;\n\t\t\tthis._wsuri = null;\n\n\t\t\t// Local storagekeys are qualified with the following string.\n\t\t\t// The conditional inclusion of path in the key is for backward\n\t\t\t// compatibility to when the path was not configurable and assumed to\n\t\t\t// be /mqtt\n\t\t\tthis._localKey=host+\":\"+port+(path!=\"/mqtt\"?\":\"+path:\"\")+\":\"+clientId+\":\";\n\n\t\t\t// Create private instance-only message queue\n\t\t\t// Internal queue of messages to be sent, in sending order.\n\t\t\tthis._msg_queue = [];\n\t\t\tthis._buffered_msg_queue = [];\n\n\t\t\t// Messages we have sent and are expecting a response for, indexed by their respective message ids.\n\t\t\tthis._sentMessages = {};\n\n\t\t\t// Messages we have received and acknowleged and are expecting a confirm message for\n\t\t\t// indexed by their respective message ids.\n\t\t\tthis._receivedMessages = {};\n\n\t\t\t// Internal list of callbacks to be executed when messages\n\t\t\t// have been successfully sent over web socket, e.g. disconnect\n\t\t\t// when it doesn't have to wait for ACK, just message is dispatched.\n\t\t\tthis._notify_msg_sent = {};\n\n\t\t\t// Unique identifier for SEND messages, incrementing\n\t\t\t// counter as messages are sent.\n\t\t\tthis._message_identifier = 1;\n\n\t\t\t// Used to determine the transmission sequence of stored sent messages.\n\t\t\tthis._sequence = 0;\n\n\n\t\t\t// Load the local state, if any, from the saved version, only restore state relevant to this client.\n\t\t\tfor (var key in localStorage)\n\t\t\t\tif (   key.indexOf(\"Sent:\"+this._localKey) === 0 || key.indexOf(\"Received:\"+this._localKey) === 0)\n\t\t\t\t\tthis.restore(key);\n\t\t};\n\n\t\t// Messaging Client public instance members.\n\t\tClientImpl.prototype.host = null;\n\t\tClientImpl.prototype.port = null;\n\t\tClientImpl.prototype.path = null;\n\t\tClientImpl.prototype.uri = null;\n\t\tClientImpl.prototype.clientId = null;\n\n\t\t// Messaging Client private instance members.\n\t\tClientImpl.prototype.socket = null;\n\t\t/* true once we have received an acknowledgement to a CONNECT packet. */\n\t\tClientImpl.prototype.connected = false;\n\t\t/* The largest message identifier allowed, may not be larger than 2**16 but\n\t\t * if set smaller reduces the maximum number of outbound messages allowed.\n\t\t */\n\t\tClientImpl.prototype.maxMessageIdentifier = 65536;\n\t\tClientImpl.prototype.connectOptions = null;\n\t\tClientImpl.prototype.hostIndex = null;\n\t\tClientImpl.prototype.onConnected = null;\n\t\tClientImpl.prototype.onConnectionLost = null;\n\t\tClientImpl.prototype.onMessageDelivered = null;\n\t\tClientImpl.prototype.onMessageArrived = null;\n\t\tClientImpl.prototype.traceFunction = null;\n\t\tClientImpl.prototype._msg_queue = null;\n\t\tClientImpl.prototype._buffered_msg_queue = null;\n\t\tClientImpl.prototype._connectTimeout = null;\n\t\t/* The sendPinger monitors how long we allow before we send data to prove to the server that we are alive. */\n\t\tClientImpl.prototype.sendPinger = null;\n\t\t/* The receivePinger monitors how long we allow before we require evidence that the server is alive. */\n\t\tClientImpl.prototype.receivePinger = null;\n\t\tClientImpl.prototype._reconnectInterval = 1; // Reconnect Delay, starts at 1 second\n\t\tClientImpl.prototype._reconnecting = false;\n\t\tClientImpl.prototype._reconnectTimeout = null;\n\t\tClientImpl.prototype.disconnectedPublishing = false;\n\t\tClientImpl.prototype.disconnectedBufferSize = 5000;\n\n\t\tClientImpl.prototype.receiveBuffer = null;\n\n\t\tClientImpl.prototype._traceBuffer = null;\n\t\tClientImpl.prototype._MAX_TRACE_ENTRIES = 100;\n\n\t\tClientImpl.prototype.connect = function (connectOptions) {\n\t\t\tvar connectOptionsMasked = this._traceMask(connectOptions, \"password\");\n\t\t\tthis._trace(\"Client.connect\", connectOptionsMasked, this.socket, this.connected);\n\n\t\t\tif (this.connected)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"already connected\"]));\n\t\t\tif (this.socket)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"already connected\"]));\n\n\t\t\tif (this._reconnecting) {\n\t\t\t// connect() function is called while reconnect is in progress.\n\t\t\t// Terminate the auto reconnect process to use new connect options.\n\t\t\t\tthis._reconnectTimeout.cancel();\n\t\t\t\tthis._reconnectTimeout = null;\n\t\t\t\tthis._reconnecting = false;\n\t\t\t}\n\n\t\t\tthis.connectOptions = connectOptions;\n\t\t\tthis._reconnectInterval = 1;\n\t\t\tthis._reconnecting = false;\n\t\t\tif (connectOptions.uris) {\n\t\t\t\tthis.hostIndex = 0;\n\t\t\t\tthis._doConnect(connectOptions.uris[0]);\n\t\t\t} else {\n\t\t\t\tthis._doConnect(this.uri);\n\t\t\t}\n\n\t\t};\n\n\t\tClientImpl.prototype.subscribe = function (filter, subscribeOptions) {\n\t\t\tthis._trace(\"Client.subscribe\", filter, subscribeOptions);\n\n\t\t\tif (!this.connected)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\n            var wireMessage = new WireMessage(MESSAGE_TYPE.SUBSCRIBE);\n            wireMessage.topics = filter.constructor === Array ? filter : [filter];\n            if (subscribeOptions.qos === undefined)\n                subscribeOptions.qos = 0;\n            wireMessage.requestedQos = [];\n            for (var i = 0; i < wireMessage.topics.length; i++)\n                wireMessage.requestedQos[i] = subscribeOptions.qos;\n\n\t\t\tif (subscribeOptions.onSuccess) {\n\t\t\t\twireMessage.onSuccess = function(grantedQos) {subscribeOptions.onSuccess({invocationContext:subscribeOptions.invocationContext,grantedQos:grantedQos});};\n\t\t\t}\n\n\t\t\tif (subscribeOptions.onFailure) {\n\t\t\t\twireMessage.onFailure = function(errorCode) {subscribeOptions.onFailure({invocationContext:subscribeOptions.invocationContext,errorCode:errorCode, errorMessage:format(errorCode)});};\n\t\t\t}\n\n\t\t\tif (subscribeOptions.timeout) {\n\t\t\t\twireMessage.timeOut = new Timeout(this, subscribeOptions.timeout, subscribeOptions.onFailure,\n\t\t\t\t\t[{invocationContext:subscribeOptions.invocationContext,\n\t\t\t\t\t\terrorCode:ERROR.SUBSCRIBE_TIMEOUT.code,\n\t\t\t\t\t\terrorMessage:format(ERROR.SUBSCRIBE_TIMEOUT)}]);\n\t\t\t}\n\n\t\t\t// All subscriptions return a SUBACK.\n\t\t\tthis._requires_ack(wireMessage);\n\t\t\tthis._schedule_message(wireMessage);\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype.unsubscribe = function(filter, unsubscribeOptions) {\n\t\t\tthis._trace(\"Client.unsubscribe\", filter, unsubscribeOptions);\n\n\t\t\tif (!this.connected)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\n            var wireMessage = new WireMessage(MESSAGE_TYPE.UNSUBSCRIBE);\n            wireMessage.topics = filter.constructor === Array ? filter : [filter];\n\n\t\t\tif (unsubscribeOptions.onSuccess) {\n\t\t\t\twireMessage.callback = function() {unsubscribeOptions.onSuccess({invocationContext:unsubscribeOptions.invocationContext});};\n\t\t\t}\n\t\t\tif (unsubscribeOptions.timeout) {\n\t\t\t\twireMessage.timeOut = new Timeout(this, unsubscribeOptions.timeout, unsubscribeOptions.onFailure,\n\t\t\t\t\t[{invocationContext:unsubscribeOptions.invocationContext,\n\t\t\t\t\t\terrorCode:ERROR.UNSUBSCRIBE_TIMEOUT.code,\n\t\t\t\t\t\terrorMessage:format(ERROR.UNSUBSCRIBE_TIMEOUT)}]);\n\t\t\t}\n\n\t\t\t// All unsubscribes return a SUBACK.\n\t\t\tthis._requires_ack(wireMessage);\n\t\t\tthis._schedule_message(wireMessage);\n\t\t};\n\n\t\tClientImpl.prototype.send = function (message) {\n\t\t\tthis._trace(\"Client.send\", message);\n\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.PUBLISH);\n\t\t\twireMessage.payloadMessage = message;\n\n\t\t\tif (this.connected) {\n\t\t\t// Mark qos 1 & 2 message as \"ACK required\"\n\t\t\t// For qos 0 message, invoke onMessageDelivered callback if there is one.\n\t\t\t// Then schedule the message.\n\t\t\t\tif (message.qos > 0) {\n\t\t\t\t\tthis._requires_ack(wireMessage);\n\t\t\t\t} else if (this.onMessageDelivered) {\n\t\t\t\t\tthis._notify_msg_sent[wireMessage] = this.onMessageDelivered(wireMessage.payloadMessage);\n\t\t\t\t}\n\t\t\t\tthis._schedule_message(wireMessage);\n\t\t\t} else {\n\t\t\t// Currently disconnected, will not schedule this message\n\t\t\t// Check if reconnecting is in progress and disconnected publish is enabled.\n\t\t\t\tif (this._reconnecting && this.disconnectedPublishing) {\n\t\t\t\t// Check the limit which include the \"required ACK\" messages\n\t\t\t\t\tvar messageCount = Object.keys(this._sentMessages).length + this._buffered_msg_queue.length;\n\t\t\t\t\tif (messageCount > this.disconnectedBufferSize) {\n\t\t\t\t\t\tthrow new Error(format(ERROR.BUFFER_FULL, [this.disconnectedBufferSize]));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (message.qos > 0) {\n\t\t\t\t\t\t// Mark this message as \"ACK required\"\n\t\t\t\t\t\t\tthis._requires_ack(wireMessage);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twireMessage.sequence = ++this._sequence;\n\t\t\t\t\t\t\t// Add messages in fifo order to array, by adding to start\n\t\t\t\t\t\t\tthis._buffered_msg_queue.unshift(wireMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype.disconnect = function () {\n\t\t\tthis._trace(\"Client.disconnect\");\n\n\t\t\tif (this._reconnecting) {\n\t\t\t// disconnect() function is called while reconnect is in progress.\n\t\t\t// Terminate the auto reconnect process.\n\t\t\t\tthis._reconnectTimeout.cancel();\n\t\t\t\tthis._reconnectTimeout = null;\n\t\t\t\tthis._reconnecting = false;\n\t\t\t}\n\n\t\t\tif (!this.socket)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connecting or connected\"]));\n\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.DISCONNECT);\n\n\t\t\t// Run the disconnected call back as soon as the message has been sent,\n\t\t\t// in case of a failure later on in the disconnect processing.\n\t\t\t// as a consequence, the _disconected call back may be run several times.\n\t\t\tthis._notify_msg_sent[wireMessage] = scope(this._disconnected, this);\n\n\t\t\tthis._schedule_message(wireMessage);\n\t\t};\n\n\t\tClientImpl.prototype.getTraceLog = function () {\n\t\t\tif ( this._traceBuffer !== null ) {\n\t\t\t\tthis._trace(\"Client.getTraceLog\", new Date());\n\t\t\t\tthis._trace(\"Client.getTraceLog in flight messages\", this._sentMessages.length);\n\t\t\t\tfor (var key in this._sentMessages)\n\t\t\t\t\tthis._trace(\"_sentMessages \",key, this._sentMessages[key]);\n\t\t\t\tfor (var key in this._receivedMessages)\n\t\t\t\t\tthis._trace(\"_receivedMessages \",key, this._receivedMessages[key]);\n\n\t\t\t\treturn this._traceBuffer;\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype.startTrace = function () {\n\t\t\tif ( this._traceBuffer === null ) {\n\t\t\t\tthis._traceBuffer = [];\n\t\t\t}\n\t\t\tthis._trace(\"Client.startTrace\", new Date(), version);\n\t\t};\n\n\t\tClientImpl.prototype.stopTrace = function () {\n\t\t\tdelete this._traceBuffer;\n\t\t};\n\n\t\tClientImpl.prototype._doConnect = function (wsurl) {\n\t\t// When the socket is open, this client will send the CONNECT WireMessage using the saved parameters.\n\t\t\tif (this.connectOptions.useSSL) {\n\t\t\t\tvar uriParts = wsurl.split(\":\");\n\t\t\t\turiParts[0] = \"wss\";\n\t\t\t\twsurl = uriParts.join(\":\");\n\t\t\t}\n\t\t\tthis._wsuri = wsurl;\n\t\t\tthis.connected = false;\n\n\n\n\t\t\tif (this.connectOptions.mqttVersion < 4) {\n\t\t\t\tthis.socket = new WebSocket(wsurl, [\"mqttv3.1\"]);\n\t\t\t} else {\n\t\t\t\tthis.socket = new WebSocket(wsurl, [\"mqtt\"]);\n\t\t\t}\n\t\t\tthis.socket.binaryType = \"arraybuffer\";\n\t\t\tthis.socket.onopen = scope(this._on_socket_open, this);\n\t\t\tthis.socket.onmessage = scope(this._on_socket_message, this);\n\t\t\tthis.socket.onerror = scope(this._on_socket_error, this);\n\t\t\tthis.socket.onclose = scope(this._on_socket_close, this);\n\n\t\t\tthis.sendPinger = new Pinger(this, this.connectOptions.keepAliveInterval);\n\t\t\tthis.receivePinger = new Pinger(this, this.connectOptions.keepAliveInterval);\n\t\t\tif (this._connectTimeout) {\n\t\t\t\tthis._connectTimeout.cancel();\n\t\t\t\tthis._connectTimeout = null;\n\t\t\t}\n\t\t\tthis._connectTimeout = new Timeout(this, this.connectOptions.timeout, this._disconnected,  [ERROR.CONNECT_TIMEOUT.code, format(ERROR.CONNECT_TIMEOUT)]);\n\t\t};\n\n\n\t\t// Schedule a new message to be sent over the WebSockets\n\t\t// connection. CONNECT messages cause WebSocket connection\n\t\t// to be started. All other messages are queued internally\n\t\t// until this has happened. When WS connection starts, process\n\t\t// all outstanding messages.\n\t\tClientImpl.prototype._schedule_message = function (message) {\n\t\t\t// Add messages in fifo order to array, by adding to start\n\t\t\tthis._msg_queue.unshift(message);\n\t\t\t// Process outstanding messages in the queue if we have an  open socket, and have received CONNACK.\n\t\t\tif (this.connected) {\n\t\t\t\tthis._process_queue();\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype.store = function(prefix, wireMessage) {\n\t\t\tvar storedMessage = {type:wireMessage.type, messageIdentifier:wireMessage.messageIdentifier, version:1};\n\n\t\t\tswitch(wireMessage.type) {\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tif(wireMessage.pubRecReceived)\n\t\t\t\t\tstoredMessage.pubRecReceived = true;\n\n\t\t\t\t// Convert the payload to a hex string.\n\t\t\t\tstoredMessage.payloadMessage = {};\n\t\t\t\tvar hex = \"\";\n\t\t\t\tvar messageBytes = wireMessage.payloadMessage.payloadBytes;\n\t\t\t\tfor (var i=0; i<messageBytes.length; i++) {\n\t\t\t\t\tif (messageBytes[i] <= 0xF)\n\t\t\t\t\t\thex = hex+\"0\"+messageBytes[i].toString(16);\n\t\t\t\t\telse\n\t\t\t\t\t\thex = hex+messageBytes[i].toString(16);\n\t\t\t\t}\n\t\t\t\tstoredMessage.payloadMessage.payloadHex = hex;\n\n\t\t\t\tstoredMessage.payloadMessage.qos = wireMessage.payloadMessage.qos;\n\t\t\t\tstoredMessage.payloadMessage.destinationName = wireMessage.payloadMessage.destinationName;\n\t\t\t\tif (wireMessage.payloadMessage.duplicate)\n\t\t\t\t\tstoredMessage.payloadMessage.duplicate = true;\n\t\t\t\tif (wireMessage.payloadMessage.retained)\n\t\t\t\t\tstoredMessage.payloadMessage.retained = true;\n\n\t\t\t\t// Add a sequence number to sent messages.\n\t\t\t\tif ( prefix.indexOf(\"Sent:\") === 0 ) {\n\t\t\t\t\tif ( wireMessage.sequence === undefined )\n\t\t\t\t\t\twireMessage.sequence = ++this._sequence;\n\t\t\t\t\tstoredMessage.sequence = wireMessage.sequence;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(format(ERROR.INVALID_STORED_DATA, [prefix+this._localKey+wireMessage.messageIdentifier, storedMessage]));\n\t\t\t}\n\t\t\tlocalStorage.setItem(prefix+this._localKey+wireMessage.messageIdentifier, JSON.stringify(storedMessage));\n\t\t};\n\n\t\tClientImpl.prototype.restore = function(key) {\n\t\t\tvar value = localStorage.getItem(key);\n\t\t\tvar storedMessage = JSON.parse(value);\n\n\t\t\tvar wireMessage = new WireMessage(storedMessage.type, storedMessage);\n\n\t\t\tswitch(storedMessage.type) {\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t// Replace the payload message with a Message object.\n\t\t\t\tvar hex = storedMessage.payloadMessage.payloadHex;\n\t\t\t\tvar buffer = new ArrayBuffer((hex.length)/2);\n\t\t\t\tvar byteStream = new Uint8Array(buffer);\n\t\t\t\tvar i = 0;\n\t\t\t\twhile (hex.length >= 2) {\n\t\t\t\t\tvar x = parseInt(hex.substring(0, 2), 16);\n\t\t\t\t\thex = hex.substring(2, hex.length);\n\t\t\t\t\tbyteStream[i++] = x;\n\t\t\t\t}\n\t\t\t\tvar payloadMessage = new Message(byteStream);\n\n\t\t\t\tpayloadMessage.qos = storedMessage.payloadMessage.qos;\n\t\t\t\tpayloadMessage.destinationName = storedMessage.payloadMessage.destinationName;\n\t\t\t\tif (storedMessage.payloadMessage.duplicate)\n\t\t\t\t\tpayloadMessage.duplicate = true;\n\t\t\t\tif (storedMessage.payloadMessage.retained)\n\t\t\t\t\tpayloadMessage.retained = true;\n\t\t\t\twireMessage.payloadMessage = payloadMessage;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(format(ERROR.INVALID_STORED_DATA, [key, value]));\n\t\t\t}\n\n\t\t\tif (key.indexOf(\"Sent:\"+this._localKey) === 0) {\n\t\t\t\twireMessage.payloadMessage.duplicate = true;\n\t\t\t\tthis._sentMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t} else if (key.indexOf(\"Received:\"+this._localKey) === 0) {\n\t\t\t\tthis._receivedMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype._process_queue = function () {\n\t\t\tvar message = null;\n\n\t\t\t// Send all queued messages down socket connection\n\t\t\twhile ((message = this._msg_queue.pop())) {\n\t\t\t\tthis._socket_send(message);\n\t\t\t\t// Notify listeners that message was successfully sent\n\t\t\t\tif (this._notify_msg_sent[message]) {\n\t\t\t\t\tthis._notify_msg_sent[message]();\n\t\t\t\t\tdelete this._notify_msg_sent[message];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Expect an ACK response for this message. Add message to the set of in progress\n\t * messages and set an unused identifier in this message.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._requires_ack = function (wireMessage) {\n\t\t\tvar messageCount = Object.keys(this._sentMessages).length;\n\t\t\tif (messageCount > this.maxMessageIdentifier)\n\t\t\t\tthrow Error (\"Too many messages:\"+messageCount);\n\n\t\t\twhile(this._sentMessages[this._message_identifier] !== undefined) {\n\t\t\t\tthis._message_identifier++;\n\t\t\t}\n\t\t\twireMessage.messageIdentifier = this._message_identifier;\n\t\t\tthis._sentMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\tif (wireMessage.type === MESSAGE_TYPE.PUBLISH) {\n\t\t\t\tthis.store(\"Sent:\", wireMessage);\n\t\t\t}\n\t\t\tif (this._message_identifier === this.maxMessageIdentifier) {\n\t\t\t\tthis._message_identifier = 1;\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Called when the underlying websocket has been opened.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._on_socket_open = function () {\n\t\t// Create the CONNECT message object.\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.CONNECT, this.connectOptions);\n\t\t\twireMessage.clientId = this.clientId;\n\t\t\tthis._socket_send(wireMessage);\n\t\t};\n\n\t\t/**\n\t * Called when the underlying websocket has received a complete packet.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._on_socket_message = function (event) {\n\t\t\tthis._trace(\"Client._on_socket_message\", event.data);\n\t\t\tvar messages = this._deframeMessages(event.data);\n\t\t\tfor (var i = 0; i < messages.length; i+=1) {\n\t\t\t\tthis._handleMessage(messages[i]);\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype._deframeMessages = function(data) {\n\t\t\tvar byteArray = new Uint8Array(data);\n\t\t\tvar messages = [];\n\t\t\tif (this.receiveBuffer) {\n\t\t\t\tvar newData = new Uint8Array(this.receiveBuffer.length+byteArray.length);\n\t\t\t\tnewData.set(this.receiveBuffer);\n\t\t\t\tnewData.set(byteArray,this.receiveBuffer.length);\n\t\t\t\tbyteArray = newData;\n\t\t\t\tdelete this.receiveBuffer;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tvar offset = 0;\n\t\t\t\twhile(offset < byteArray.length) {\n\t\t\t\t\tvar result = decodeMessage(byteArray,offset);\n\t\t\t\t\tvar wireMessage = result[0];\n\t\t\t\t\toffset = result[1];\n\t\t\t\t\tif (wireMessage !== null) {\n\t\t\t\t\t\tmessages.push(wireMessage);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (offset < byteArray.length) {\n\t\t\t\t\tthis.receiveBuffer = byteArray.subarray(offset);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tvar errorStack = ((error.hasOwnProperty(\"stack\") == \"undefined\") ? error.stack.toString() : \"No Error Stack Available\");\n\t\t\t\tthis._disconnected(ERROR.INTERNAL_ERROR.code , format(ERROR.INTERNAL_ERROR, [error.message,errorStack]));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn messages;\n\t\t};\n\n\t\tClientImpl.prototype._handleMessage = function(wireMessage) {\n\n\t\t\tthis._trace(\"Client._handleMessage\", wireMessage);\n\n\t\t\ttry {\n\t\t\t\tswitch(wireMessage.type) {\n\t\t\t\tcase MESSAGE_TYPE.CONNACK:\n\t\t\t\t\tthis._connectTimeout.cancel();\n\t\t\t\t\tif (this._reconnectTimeout)\n\t\t\t\t\t\tthis._reconnectTimeout.cancel();\n\n\t\t\t\t\t// If we have started using clean session then clear up the local state.\n\t\t\t\t\tif (this.connectOptions.cleanSession) {\n\t\t\t\t\t\tfor (var key in this._sentMessages) {\n\t\t\t\t\t\t\tvar sentMessage = this._sentMessages[key];\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+sentMessage.messageIdentifier);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._sentMessages = {};\n\n\t\t\t\t\t\tfor (var key in this._receivedMessages) {\n\t\t\t\t\t\t\tvar receivedMessage = this._receivedMessages[key];\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"Received:\"+this._localKey+receivedMessage.messageIdentifier);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._receivedMessages = {};\n\t\t\t\t\t}\n\t\t\t\t\t// Client connected and ready for business.\n\t\t\t\t\tif (wireMessage.returnCode === 0) {\n\n\t\t\t\t\t\tthis.connected = true;\n\t\t\t\t\t\t// Jump to the end of the list of uris and stop looking for a good host.\n\n\t\t\t\t\t\tif (this.connectOptions.uris)\n\t\t\t\t\t\t\tthis.hostIndex = this.connectOptions.uris.length;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._disconnected(ERROR.CONNACK_RETURNCODE.code , format(ERROR.CONNACK_RETURNCODE, [wireMessage.returnCode, CONNACK_RC[wireMessage.returnCode]]));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Resend messages.\n\t\t\t\t\tvar sequencedMessages = [];\n\t\t\t\t\tfor (var msgId in this._sentMessages) {\n\t\t\t\t\t\tif (this._sentMessages.hasOwnProperty(msgId))\n\t\t\t\t\t\t\tsequencedMessages.push(this._sentMessages[msgId]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Also schedule qos 0 buffered messages if any\n\t\t\t\t\tif (this._buffered_msg_queue.length > 0) {\n\t\t\t\t\t\tvar msg = null;\n\t\t\t\t\t\twhile ((msg = this._buffered_msg_queue.pop())) {\n\t\t\t\t\t\t\tsequencedMessages.push(msg);\n\t\t\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\t\t\tthis._notify_msg_sent[msg] = this.onMessageDelivered(msg.payloadMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Sort sentMessages into the original sent order.\n\t\t\t\t\tvar sequencedMessages = sequencedMessages.sort(function(a,b) {return a.sequence - b.sequence;} );\n\t\t\t\t\tfor (var i=0, len=sequencedMessages.length; i<len; i++) {\n\t\t\t\t\t\tvar sentMessage = sequencedMessages[i];\n\t\t\t\t\t\tif (sentMessage.type == MESSAGE_TYPE.PUBLISH && sentMessage.pubRecReceived) {\n\t\t\t\t\t\t\tvar pubRelMessage = new WireMessage(MESSAGE_TYPE.PUBREL, {messageIdentifier:sentMessage.messageIdentifier});\n\t\t\t\t\t\t\tthis._schedule_message(pubRelMessage);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._schedule_message(sentMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Execute the connectOptions.onSuccess callback if there is one.\n\t\t\t\t\t// Will also now return if this connection was the result of an automatic\n\t\t\t\t\t// reconnect and which URI was successfully connected to.\n\t\t\t\t\tif (this.connectOptions.onSuccess) {\n\t\t\t\t\t\tthis.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});\n\t\t\t\t\t}\n\n\t\t\t\t\tvar reconnected = false;\n\t\t\t\t\tif (this._reconnecting) {\n\t\t\t\t\t\treconnected = true;\n\t\t\t\t\t\tthis._reconnectInterval = 1;\n\t\t\t\t\t\tthis._reconnecting = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Execute the onConnected callback if there is one.\n\t\t\t\t\tthis._connected(reconnected, this._wsuri);\n\n\t\t\t\t\t// Process all queued messages now that the connection is established.\n\t\t\t\t\tthis._process_queue();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t\tthis._receivePublish(wireMessage);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBACK:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t// If this is a re flow of a PUBACK after we have restarted receivedMessage will not exist.\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\t\tthis.onMessageDelivered(sentMessage.payloadMessage);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBREC:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t// If this is a re flow of a PUBREC after we have restarted receivedMessage will not exist.\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tsentMessage.pubRecReceived = true;\n\t\t\t\t\t\tvar pubRelMessage = new WireMessage(MESSAGE_TYPE.PUBREL, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\t\t\tthis.store(\"Sent:\", sentMessage);\n\t\t\t\t\t\tthis._schedule_message(pubRelMessage);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBREL:\n\t\t\t\t\tvar receivedMessage = this._receivedMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tlocalStorage.removeItem(\"Received:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\t// If this is a re flow of a PUBREL after we have restarted receivedMessage will not exist.\n\t\t\t\t\tif (receivedMessage) {\n\t\t\t\t\t\tthis._receiveMessage(receivedMessage);\n\t\t\t\t\t\tdelete this._receivedMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t}\n\t\t\t\t\t// Always flow PubComp, we may have previously flowed PubComp but the server lost it and restarted.\n\t\t\t\t\tvar pubCompMessage = new WireMessage(MESSAGE_TYPE.PUBCOMP, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\t\tthis._schedule_message(pubCompMessage);\n\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBCOMP:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\tthis.onMessageDelivered(sentMessage.payloadMessage);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.SUBACK:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tif(sentMessage.timeOut)\n\t\t\t\t\t\t\tsentMessage.timeOut.cancel();\n\t\t\t\t\t\t// This will need to be fixed when we add multiple topic support\n\t\t\t\t\t\tif (wireMessage.returnCode[0] === 0x80) {\n\t\t\t\t\t\t\tif (sentMessage.onFailure) {\n\t\t\t\t\t\t\t\tsentMessage.onFailure(wireMessage.returnCode);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (sentMessage.onSuccess) {\n\t\t\t\t\t\t\tsentMessage.onSuccess(wireMessage.returnCode);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.UNSUBACK:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tif (sentMessage.timeOut)\n\t\t\t\t\t\t\tsentMessage.timeOut.cancel();\n\t\t\t\t\t\tif (sentMessage.callback) {\n\t\t\t\t\t\t\tsentMessage.callback();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PINGRESP:\n\t\t\t\t/* The sendPinger or receivePinger may have sent a ping, the receivePinger has already been reset. */\n\t\t\t\t\tthis.sendPinger.reset();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.DISCONNECT:\n\t\t\t\t// Clients do not expect to receive disconnect packets.\n\t\t\t\t\tthis._disconnected(ERROR.INVALID_MQTT_MESSAGE_TYPE.code , format(ERROR.INVALID_MQTT_MESSAGE_TYPE, [wireMessage.type]));\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis._disconnected(ERROR.INVALID_MQTT_MESSAGE_TYPE.code , format(ERROR.INVALID_MQTT_MESSAGE_TYPE, [wireMessage.type]));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tvar errorStack = ((error.hasOwnProperty(\"stack\") == \"undefined\") ? error.stack.toString() : \"No Error Stack Available\");\n\t\t\t\tthis._disconnected(ERROR.INTERNAL_ERROR.code , format(ERROR.INTERNAL_ERROR, [error.message,errorStack]));\n\t\t\t\treturn;\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._on_socket_error = function (error) {\n\t\t\tif (!this._reconnecting) {\n\t\t\t\tthis._disconnected(ERROR.SOCKET_ERROR.code , format(ERROR.SOCKET_ERROR, [error.data]));\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._on_socket_close = function () {\n\t\t\tif (!this._reconnecting) {\n\t\t\t\tthis._disconnected(ERROR.SOCKET_CLOSE.code , format(ERROR.SOCKET_CLOSE));\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._socket_send = function (wireMessage) {\n\n\t\t\tif (wireMessage.type == 1) {\n\t\t\t\tvar wireMessageMasked = this._traceMask(wireMessage, \"password\");\n\t\t\t\tthis._trace(\"Client._socket_send\", wireMessageMasked);\n\t\t\t}\n\t\t\telse this._trace(\"Client._socket_send\", wireMessage);\n\n\t\t\tthis.socket.send(wireMessage.encode());\n\t\t\t/* We have proved to the server we are alive. */\n\t\t\tthis.sendPinger.reset();\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._receivePublish = function (wireMessage) {\n\t\t\tswitch(wireMessage.payloadMessage.qos) {\n\t\t\tcase \"undefined\":\n\t\t\tcase 0:\n\t\t\t\tthis._receiveMessage(wireMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\tvar pubAckMessage = new WireMessage(MESSAGE_TYPE.PUBACK, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\tthis._schedule_message(pubAckMessage);\n\t\t\t\tthis._receiveMessage(wireMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tthis._receivedMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t\tthis.store(\"Received:\", wireMessage);\n\t\t\t\tvar pubRecMessage = new WireMessage(MESSAGE_TYPE.PUBREC, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\tthis._schedule_message(pubRecMessage);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(\"Invaild qos=\" + wireMessage.payloadMessage.qos);\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._receiveMessage = function (wireMessage) {\n\t\t\tif (this.onMessageArrived) {\n\t\t\t\tthis.onMessageArrived(wireMessage.payloadMessage);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Client has connected.\n\t * @param {reconnect} [boolean] indicate if this was a result of reconnect operation.\n\t * @param {uri} [string] fully qualified WebSocket URI of the server.\n\t */\n\t\tClientImpl.prototype._connected = function (reconnect, uri) {\n\t\t// Execute the onConnected callback if there is one.\n\t\t\tif (this.onConnected)\n\t\t\t\tthis.onConnected(reconnect, uri);\n\t\t};\n\n\t\t/**\n\t * Attempts to reconnect the client to the server.\n   * For each reconnect attempt, will double the reconnect interval\n   * up to 128 seconds.\n\t */\n\t\tClientImpl.prototype._reconnect = function () {\n\t\t\tthis._trace(\"Client._reconnect\");\n\t\t\tif (!this.connected) {\n\t\t\t\tthis._reconnecting = true;\n\t\t\t\tthis.sendPinger.cancel();\n\t\t\t\tthis.receivePinger.cancel();\n\t\t\t\tif (this._reconnectInterval < 128)\n\t\t\t\t\tthis._reconnectInterval = this._reconnectInterval * 2;\n\t\t\t\tif (this.connectOptions.uris) {\n\t\t\t\t\tthis.hostIndex = 0;\n\t\t\t\t\tthis._doConnect(this.connectOptions.uris[0]);\n\t\t\t\t} else {\n\t\t\t\t\tthis._doConnect(this.uri);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Client has disconnected either at its own request or because the server\n\t * or network disconnected it. Remove all non-durable state.\n\t * @param {errorCode} [number] the error number.\n\t * @param {errorText} [string] the error text.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._disconnected = function (errorCode, errorText) {\n\t\t\tthis._trace(\"Client._disconnected\", errorCode, errorText);\n\n\t\t\tif (errorCode !== undefined && this._reconnecting) {\n\t\t\t\t//Continue automatic reconnect process\n\t\t\t\tthis._reconnectTimeout = new Timeout(this, this._reconnectInterval, this._reconnect);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.sendPinger.cancel();\n\t\t\tthis.receivePinger.cancel();\n\t\t\tif (this._connectTimeout) {\n\t\t\t\tthis._connectTimeout.cancel();\n\t\t\t\tthis._connectTimeout = null;\n\t\t\t}\n\n\t\t\t// Clear message buffers.\n\t\t\tthis._msg_queue = [];\n\t\t\tthis._buffered_msg_queue = [];\n\t\t\tthis._notify_msg_sent = {};\n\n\t\t\tif (this.socket) {\n\t\t\t// Cancel all socket callbacks so that they cannot be driven again by this socket.\n\t\t\t\tthis.socket.onopen = null;\n\t\t\t\tthis.socket.onmessage = null;\n\t\t\t\tthis.socket.onerror = null;\n\t\t\t\tthis.socket.onclose = null;\n\t\t\t\tif (this.socket.readyState === 1)\n\t\t\t\t\tthis.socket.close();\n\t\t\t\tdelete this.socket;\n\t\t\t}\n\n\t\t\tif (this.connectOptions.uris && this.hostIndex < this.connectOptions.uris.length-1) {\n\t\t\t// Try the next host.\n\t\t\t\tthis.hostIndex++;\n\t\t\t\tthis._doConnect(this.connectOptions.uris[this.hostIndex]);\n\t\t\t} else {\n\n\t\t\t\tif (errorCode === undefined) {\n\t\t\t\t\terrorCode = ERROR.OK.code;\n\t\t\t\t\terrorText = format(ERROR.OK);\n\t\t\t\t}\n\n\t\t\t\t// Run any application callbacks last as they may attempt to reconnect and hence create a new socket.\n\t\t\t\tif (this.connected) {\n\t\t\t\t\tthis.connected = false;\n\t\t\t\t\t// Execute the connectionLostCallback if there is one, and we were connected.\n\t\t\t\t\tif (this.onConnectionLost) {\n\t\t\t\t\t\tthis.onConnectionLost({errorCode:errorCode, errorMessage:errorText, reconnect:this.connectOptions.reconnect, uri:this._wsuri});\n\t\t\t\t\t}\n\t\t\t\t\tif (errorCode !== ERROR.OK.code && this.connectOptions.reconnect) {\n\t\t\t\t\t// Start automatic reconnect process for the very first time since last successful connect.\n\t\t\t\t\t\tthis._reconnectInterval = 1;\n\t\t\t\t\t\tthis._reconnect();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t// Otherwise we never had a connection, so indicate that the connect has failed.\n\t\t\t\t\tif (this.connectOptions.mqttVersion === 4 && this.connectOptions.mqttVersionExplicit === false) {\n\t\t\t\t\t\tthis._trace(\"Failed to connect V4, dropping back to V3\");\n\t\t\t\t\t\tthis.connectOptions.mqttVersion = 3;\n\t\t\t\t\t\tif (this.connectOptions.uris) {\n\t\t\t\t\t\t\tthis.hostIndex = 0;\n\t\t\t\t\t\t\tthis._doConnect(this.connectOptions.uris[0]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._doConnect(this.uri);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(this.connectOptions.onFailure) {\n\t\t\t\t\t\tthis.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext, errorCode:errorCode, errorMessage:errorText});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._trace = function () {\n\t\t// Pass trace message back to client's callback function\n\t\t\tif (this.traceFunction) {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tfor (var i in args)\n\t\t\t\t{\n\t\t\t\t\tif (typeof args[i] !== \"undefined\")\n\t\t\t\t\t\targs.splice(i, 1, JSON.stringify(args[i]));\n\t\t\t\t}\n\t\t\t\tvar record = args.join(\"\");\n\t\t\t\tthis.traceFunction ({severity: \"Debug\", message: record\t});\n\t\t\t}\n\n\t\t\t//buffer style trace\n\t\t\tif ( this._traceBuffer !== null ) {\n\t\t\t\tfor (var i = 0, max = arguments.length; i < max; i++) {\n\t\t\t\t\tif ( this._traceBuffer.length == this._MAX_TRACE_ENTRIES ) {\n\t\t\t\t\t\tthis._traceBuffer.shift();\n\t\t\t\t\t}\n\t\t\t\t\tif (i === 0) this._traceBuffer.push(arguments[i]);\n\t\t\t\t\telse if (typeof arguments[i] === \"undefined\" ) this._traceBuffer.push(arguments[i]);\n\t\t\t\t\telse this._traceBuffer.push(\"  \"+JSON.stringify(arguments[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._traceMask = function (traceObject, masked) {\n\t\t\tvar traceObjectMasked = {};\n\t\t\tfor (var attr in traceObject) {\n\t\t\t\tif (traceObject.hasOwnProperty(attr)) {\n\t\t\t\t\tif (attr == masked)\n\t\t\t\t\t\ttraceObjectMasked[attr] = \"******\";\n\t\t\t\t\telse\n\t\t\t\t\t\ttraceObjectMasked[attr] = traceObject[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn traceObjectMasked;\n\t\t};\n\n\t\t// ------------------------------------------------------------------------\n\t\t// Public Programming interface.\n\t\t// ------------------------------------------------------------------------\n\n\t\t/**\n\t * The JavaScript application communicates to the server using a {@link Paho.Client} object.\n\t * <p>\n\t * Most applications will create just one Client object and then call its connect() method,\n\t * however applications can create more than one Client object if they wish.\n\t * In this case the combination of host, port and clientId attributes must be different for each Client object.\n\t * <p>\n\t * The send, subscribe and unsubscribe methods are implemented as asynchronous JavaScript methods\n\t * (even though the underlying protocol exchange might be synchronous in nature).\n\t * This means they signal their completion by calling back to the application,\n\t * via Success or Failure callback functions provided by the application on the method in question.\n\t * Such callbacks are called at most once per method invocation and do not persist beyond the lifetime\n\t * of the script that made the invocation.\n\t * <p>\n\t * In contrast there are some callback functions, most notably <i>onMessageArrived</i>,\n\t * that are defined on the {@link Paho.Client} object.\n\t * These may get called multiple times, and aren't directly related to specific method invocations made by the client.\n\t *\n\t * @name Paho.Client\n\t *\n\t * @constructor\n\t *\n\t * @param {string} host - the address of the messaging server, as a fully qualified WebSocket URI, as a DNS name or dotted decimal IP address.\n\t * @param {number} port - the port number to connect to - only required if host is not a URI\n\t * @param {string} path - the path on the host to connect to - only used if host is not a URI. Default: '/mqtt'.\n\t * @param {string} clientId - the Messaging client identifier, between 1 and 23 characters in length.\n\t *\n\t * @property {string} host - <i>read only</i> the server's DNS hostname or dotted decimal IP address.\n\t * @property {number} port - <i>read only</i> the server's port.\n\t * @property {string} path - <i>read only</i> the server's path.\n\t * @property {string} clientId - <i>read only</i> used when connecting to the server.\n\t * @property {function} onConnectionLost - called when a connection has been lost.\n\t *                            after a connect() method has succeeded.\n\t *                            Establish the call back used when a connection has been lost. The connection may be\n\t *                            lost because the client initiates a disconnect or because the server or network\n\t *                            cause the client to be disconnected. The disconnect call back may be called without\n\t *                            the connectionComplete call back being invoked if, for example the client fails to\n\t *                            connect.\n\t *                            A single response object parameter is passed to the onConnectionLost callback containing the following fields:\n\t *                            <ol>\n\t *                            <li>errorCode\n\t *                            <li>errorMessage\n\t *                            </ol>\n\t * @property {function} onMessageDelivered - called when a message has been delivered.\n\t *                            All processing that this Client will ever do has been completed. So, for example,\n\t *                            in the case of a Qos=2 message sent by this client, the PubComp flow has been received from the server\n\t *                            and the message has been removed from persistent storage before this callback is invoked.\n\t *                            Parameters passed to the onMessageDelivered callback are:\n\t *                            <ol>\n\t *                            <li>{@link Paho.Message} that was delivered.\n\t *                            </ol>\n\t * @property {function} onMessageArrived - called when a message has arrived in this Paho.client.\n\t *                            Parameters passed to the onMessageArrived callback are:\n\t *                            <ol>\n\t *                            <li>{@link Paho.Message} that has arrived.\n\t *                            </ol>\n\t * @property {function} onConnected - called when a connection is successfully made to the server.\n\t *                                  after a connect() method.\n\t *                                  Parameters passed to the onConnected callback are:\n\t *                                  <ol>\n\t *                                  <li>reconnect (boolean) - If true, the connection was the result of a reconnect.</li>\n\t *                                  <li>URI (string) - The URI used to connect to the server.</li>\n\t *                                  </ol>\n\t * @property {boolean} disconnectedPublishing - if set, will enable disconnected publishing in\n\t *                                            in the event that the connection to the server is lost.\n\t * @property {number} disconnectedBufferSize - Used to set the maximum number of messages that the disconnected\n\t *                                             buffer will hold before rejecting new messages. Default size: 5000 messages\n\t * @property {function} trace - called whenever trace is called. TODO\n\t */\n\t\tvar Client = function (host, port, path, clientId) {\n\n\t\t\tvar uri;\n\n\t\t\tif (typeof host !== \"string\")\n\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof host, \"host\"]));\n\n\t\t\tif (arguments.length == 2) {\n\t\t\t// host: must be full ws:// uri\n\t\t\t// port: clientId\n\t\t\t\tclientId = port;\n\t\t\t\turi = host;\n\t\t\t\tvar match = uri.match(/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/);\n\t\t\t\tif (match) {\n\t\t\t\t\thost = match[4]||match[2];\n\t\t\t\t\tport = parseInt(match[7]);\n\t\t\t\t\tpath = match[8];\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[host,\"host\"]));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (arguments.length == 3) {\n\t\t\t\t\tclientId = path;\n\t\t\t\t\tpath = \"/mqtt\";\n\t\t\t\t}\n\t\t\t\tif (typeof port !== \"number\" || port < 0)\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof port, \"port\"]));\n\t\t\t\tif (typeof path !== \"string\")\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof path, \"path\"]));\n\n\t\t\t\tvar ipv6AddSBracket = (host.indexOf(\":\") !== -1 && host.slice(0,1) !== \"[\" && host.slice(-1) !== \"]\");\n\t\t\t\turi = \"ws://\"+(ipv6AddSBracket?\"[\"+host+\"]\":host)+\":\"+port+path;\n\t\t\t}\n\n\t\t\tvar clientIdLength = 0;\n\t\t\tfor (var i = 0; i<clientId.length; i++) {\n\t\t\t\tvar charCode = clientId.charCodeAt(i);\n\t\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF)  {\n\t\t\t\t\ti++; // Surrogate pair.\n\t\t\t\t}\n\t\t\t\tclientIdLength++;\n\t\t\t}\n\t\t\tif (typeof clientId !== \"string\" || clientIdLength > 65535)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [clientId, \"clientId\"]));\n\n\t\t\tvar client = new ClientImpl(uri, host, port, path, clientId);\n\n\t\t\t//Public Properties\n\t\t\tObject.defineProperties(this,{\n\t\t\t\t\"host\":{\n\t\t\t\t\tget: function() { return host; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"port\":{\n\t\t\t\t\tget: function() { return port; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"path\":{\n\t\t\t\t\tget: function() { return path; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"uri\":{\n\t\t\t\t\tget: function() { return uri; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"clientId\":{\n\t\t\t\t\tget: function() { return client.clientId; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"onConnected\":{\n\t\t\t\t\tget: function() { return client.onConnected; },\n\t\t\t\t\tset: function(newOnConnected) {\n\t\t\t\t\t\tif (typeof newOnConnected === \"function\")\n\t\t\t\t\t\t\tclient.onConnected = newOnConnected;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnConnected, \"onConnected\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"disconnectedPublishing\":{\n\t\t\t\t\tget: function() { return client.disconnectedPublishing; },\n\t\t\t\t\tset: function(newDisconnectedPublishing) {\n\t\t\t\t\t\tclient.disconnectedPublishing = newDisconnectedPublishing;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"disconnectedBufferSize\":{\n\t\t\t\t\tget: function() { return client.disconnectedBufferSize; },\n\t\t\t\t\tset: function(newDisconnectedBufferSize) {\n\t\t\t\t\t\tclient.disconnectedBufferSize = newDisconnectedBufferSize;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"onConnectionLost\":{\n\t\t\t\t\tget: function() { return client.onConnectionLost; },\n\t\t\t\t\tset: function(newOnConnectionLost) {\n\t\t\t\t\t\tif (typeof newOnConnectionLost === \"function\")\n\t\t\t\t\t\t\tclient.onConnectionLost = newOnConnectionLost;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnConnectionLost, \"onConnectionLost\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"onMessageDelivered\":{\n\t\t\t\t\tget: function() { return client.onMessageDelivered; },\n\t\t\t\t\tset: function(newOnMessageDelivered) {\n\t\t\t\t\t\tif (typeof newOnMessageDelivered === \"function\")\n\t\t\t\t\t\t\tclient.onMessageDelivered = newOnMessageDelivered;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnMessageDelivered, \"onMessageDelivered\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"onMessageArrived\":{\n\t\t\t\t\tget: function() { return client.onMessageArrived; },\n\t\t\t\t\tset: function(newOnMessageArrived) {\n\t\t\t\t\t\tif (typeof newOnMessageArrived === \"function\")\n\t\t\t\t\t\t\tclient.onMessageArrived = newOnMessageArrived;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnMessageArrived, \"onMessageArrived\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"trace\":{\n\t\t\t\t\tget: function() { return client.traceFunction; },\n\t\t\t\t\tset: function(trace) {\n\t\t\t\t\t\tif(typeof trace === \"function\"){\n\t\t\t\t\t\t\tclient.traceFunction = trace;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof trace, \"onTrace\"]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t/**\n\t\t * Connect this Messaging client to its server.\n\t\t *\n\t\t * @name Paho.Client#connect\n\t\t * @function\n\t\t * @param {object} connectOptions - Attributes used with the connection.\n\t\t * @param {number} connectOptions.timeout - If the connect has not succeeded within this\n\t\t *                    number of seconds, it is deemed to have failed.\n\t\t *                    The default is 30 seconds.\n\t\t * @param {string} connectOptions.userName - Authentication username for this connection.\n\t\t * @param {string} connectOptions.password - Authentication password for this connection.\n\t\t * @param {Paho.Message} connectOptions.willMessage - sent by the server when the client\n\t\t *                    disconnects abnormally.\n\t\t * @param {number} connectOptions.keepAliveInterval - the server disconnects this client if\n\t\t *                    there is no activity for this number of seconds.\n\t\t *                    The default value of 60 seconds is assumed if not set.\n\t\t * @param {boolean} connectOptions.cleanSession - if true(default) the client and server\n\t\t *                    persistent state is deleted on successful connect.\n\t\t * @param {boolean} connectOptions.useSSL - if present and true, use an SSL Websocket connection.\n\t\t * @param {object} connectOptions.invocationContext - passed to the onSuccess callback or onFailure callback.\n\t\t * @param {function} connectOptions.onSuccess - called when the connect acknowledgement\n\t\t *                    has been received from the server.\n\t\t * A single response object parameter is passed to the onSuccess callback containing the following fields:\n\t\t * <ol>\n\t\t * <li>invocationContext as passed in to the onSuccess method in the connectOptions.\n\t\t * </ol>\n\t * @param {function} connectOptions.onFailure - called when the connect request has failed or timed out.\n\t\t * A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t * <ol>\n\t\t * <li>invocationContext as passed in to the onFailure method in the connectOptions.\n\t\t * <li>errorCode a number indicating the nature of the error.\n\t\t * <li>errorMessage text describing the error.\n\t\t * </ol>\n\t * @param {array} connectOptions.hosts - If present this contains either a set of hostnames or fully qualified\n\t\t * WebSocket URIs (ws://iot.eclipse.org:80/ws), that are tried in order in place\n\t\t * of the host and port paramater on the construtor. The hosts are tried one at at time in order until\n\t\t * one of then succeeds.\n\t * @param {array} connectOptions.ports - If present the set of ports matching the hosts. If hosts contains URIs, this property\n\t\t * is not used.\n\t * @param {boolean} connectOptions.reconnect - Sets whether the client will automatically attempt to reconnect\n\t * to the server if the connection is lost.\n\t *<ul>\n\t *<li>If set to false, the client will not attempt to automatically reconnect to the server in the event that the\n\t * connection is lost.</li>\n\t *<li>If set to true, in the event that the connection is lost, the client will attempt to reconnect to the server.\n\t * It will initially wait 1 second before it attempts to reconnect, for every failed reconnect attempt, the delay\n\t * will double until it is at 2 minutes at which point the delay will stay at 2 minutes.</li>\n\t *</ul>\n\t * @param {number} connectOptions.mqttVersion - The version of MQTT to use to connect to the MQTT Broker.\n\t *<ul>\n\t *<li>3 - MQTT V3.1</li>\n\t *<li>4 - MQTT V3.1.1</li>\n\t *</ul>\n\t * @param {boolean} connectOptions.mqttVersionExplicit - If set to true, will force the connection to use the\n\t * selected MQTT Version or will fail to connect.\n\t * @param {array} connectOptions.uris - If present, should contain a list of fully qualified WebSocket uris\n\t * (e.g. ws://iot.eclipse.org:80/ws), that are tried in order in place of the host and port parameter of the construtor.\n\t * The uris are tried one at a time in order until one of them succeeds. Do not use this in conjunction with hosts as\n\t * the hosts array will be converted to uris and will overwrite this property.\n\t\t * @throws {InvalidState} If the client is not in disconnected state. The client must have received connectionLost\n\t\t * or disconnected before calling connect for a second or subsequent time.\n\t\t */\n\t\t\tthis.connect = function (connectOptions) {\n\t\t\t\tconnectOptions = connectOptions || {} ;\n\t\t\t\tvalidate(connectOptions,  {timeout:\"number\",\n\t\t\t\t\tuserName:\"string\",\n\t\t\t\t\tpassword:\"string\",\n\t\t\t\t\twillMessage:\"object\",\n\t\t\t\t\tkeepAliveInterval:\"number\",\n\t\t\t\t\tcleanSession:\"boolean\",\n\t\t\t\t\tuseSSL:\"boolean\",\n\t\t\t\t\tinvocationContext:\"object\",\n\t\t\t\t\tonSuccess:\"function\",\n\t\t\t\t\tonFailure:\"function\",\n\t\t\t\t\thosts:\"object\",\n\t\t\t\t\tports:\"object\",\n\t\t\t\t\treconnect:\"boolean\",\n\t\t\t\t\tmqttVersion:\"number\",\n\t\t\t\t\tmqttVersionExplicit:\"boolean\",\n\t\t\t\t\turis: \"object\"});\n\n\t\t\t\t// If no keep alive interval is set, assume 60 seconds.\n\t\t\t\tif (connectOptions.keepAliveInterval === undefined)\n\t\t\t\t\tconnectOptions.keepAliveInterval = 60;\n\n\t\t\t\tif (connectOptions.mqttVersion > 4 || connectOptions.mqttVersion < 3) {\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.mqttVersion, \"connectOptions.mqttVersion\"]));\n\t\t\t\t}\n\n\t\t\t\tif (connectOptions.mqttVersion === undefined) {\n\t\t\t\t\tconnectOptions.mqttVersionExplicit = false;\n\t\t\t\t\tconnectOptions.mqttVersion = 4;\n\t\t\t\t} else {\n\t\t\t\t\tconnectOptions.mqttVersionExplicit = true;\n\t\t\t\t}\n\n\t\t\t\t//Check that if password is set, so is username\n\t\t\t\tif (connectOptions.password !== undefined && connectOptions.userName === undefined)\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.password, \"connectOptions.password\"]));\n\n\t\t\t\tif (connectOptions.willMessage) {\n\t\t\t\t\tif (!(connectOptions.willMessage instanceof Message))\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [connectOptions.willMessage, \"connectOptions.willMessage\"]));\n\t\t\t\t\t// The will message must have a payload that can be represented as a string.\n\t\t\t\t\t// Cause the willMessage to throw an exception if this is not the case.\n\t\t\t\t\tconnectOptions.willMessage.stringPayload = null;\n\n\t\t\t\t\tif (typeof connectOptions.willMessage.destinationName === \"undefined\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.willMessage.destinationName, \"connectOptions.willMessage.destinationName\"]));\n\t\t\t\t}\n\t\t\t\tif (typeof connectOptions.cleanSession === \"undefined\")\n\t\t\t\t\tconnectOptions.cleanSession = true;\n\t\t\t\tif (connectOptions.hosts) {\n\n\t\t\t\t\tif (!(connectOptions.hosts instanceof Array) )\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts, \"connectOptions.hosts\"]));\n\t\t\t\t\tif (connectOptions.hosts.length <1 )\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts, \"connectOptions.hosts\"]));\n\n\t\t\t\t\tvar usingURIs = false;\n\t\t\t\t\tfor (var i = 0; i<connectOptions.hosts.length; i++) {\n\t\t\t\t\t\tif (typeof connectOptions.hosts[i] !== \"string\")\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\tif (/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/.test(connectOptions.hosts[i])) {\n\t\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\t\tusingURIs = true;\n\t\t\t\t\t\t\t} else if (!usingURIs) {\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (usingURIs) {\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!usingURIs) {\n\t\t\t\t\t\tif (!connectOptions.ports)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\t\t\t\t\t\tif (!(connectOptions.ports instanceof Array) )\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\t\t\t\t\t\tif (connectOptions.hosts.length !== connectOptions.ports.length)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\n\t\t\t\t\t\tconnectOptions.uris = [];\n\n\t\t\t\t\t\tfor (var i = 0; i<connectOptions.hosts.length; i++) {\n\t\t\t\t\t\t\tif (typeof connectOptions.ports[i] !== \"number\" || connectOptions.ports[i] < 0)\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.ports[i], \"connectOptions.ports[\"+i+\"]\"]));\n\t\t\t\t\t\t\tvar host = connectOptions.hosts[i];\n\t\t\t\t\t\t\tvar port = connectOptions.ports[i];\n\n\t\t\t\t\t\t\tvar ipv6 = (host.indexOf(\":\") !== -1);\n\t\t\t\t\t\t\turi = \"ws://\"+(ipv6?\"[\"+host+\"]\":host)+\":\"+port+path;\n\t\t\t\t\t\t\tconnectOptions.uris.push(uri);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconnectOptions.uris = connectOptions.hosts;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclient.connect(connectOptions);\n\t\t\t};\n\n\t\t\t/**\n\t\t * Subscribe for messages, request receipt of a copy of messages sent to the destinations described by the filter.\n\t\t *\n\t\t * @name Paho.Client#subscribe\n\t\t * @function\n\t\t * @param {string} filter describing the destinations to receive messages from.\n\t\t * <br>\n\t\t * @param {object} subscribeOptions - used to control the subscription\n\t\t *\n\t\t * @param {number} subscribeOptions.qos - the maximum qos of any publications sent\n\t\t *                                  as a result of making this subscription.\n\t\t * @param {object} subscribeOptions.invocationContext - passed to the onSuccess callback\n\t\t *                                  or onFailure callback.\n\t\t * @param {function} subscribeOptions.onSuccess - called when the subscribe acknowledgement\n\t\t *                                  has been received from the server.\n\t\t *                                  A single response object parameter is passed to the onSuccess callback containing the following fields:\n\t\t *                                  <ol>\n\t\t *                                  <li>invocationContext if set in the subscribeOptions.\n\t\t *                                  </ol>\n\t\t * @param {function} subscribeOptions.onFailure - called when the subscribe request has failed or timed out.\n\t\t *                                  A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t *                                  <ol>\n\t\t *                                  <li>invocationContext - if set in the subscribeOptions.\n\t\t *                                  <li>errorCode - a number indicating the nature of the error.\n\t\t *                                  <li>errorMessage - text describing the error.\n\t\t *                                  </ol>\n\t\t * @param {number} subscribeOptions.timeout - which, if present, determines the number of\n\t\t *                                  seconds after which the onFailure calback is called.\n\t\t *                                  The presence of a timeout does not prevent the onSuccess\n\t\t *                                  callback from being called when the subscribe completes.\n\t\t * @throws {InvalidState} if the client is not in connected state.\n\t\t */\n\t\t\tthis.subscribe = function (filter, subscribeOptions) {\n\t\t\t\tif (typeof filter !== \"string\" && filter.constructor !== Array)\n\t\t\t\t\tthrow new Error(\"Invalid argument:\"+filter);\n\t\t\t\tsubscribeOptions = subscribeOptions || {} ;\n\t\t\t\tvalidate(subscribeOptions,  {qos:\"number\",\n\t\t\t\t\tinvocationContext:\"object\",\n\t\t\t\t\tonSuccess:\"function\",\n\t\t\t\t\tonFailure:\"function\",\n\t\t\t\t\ttimeout:\"number\"\n\t\t\t\t});\n\t\t\t\tif (subscribeOptions.timeout && !subscribeOptions.onFailure)\n\t\t\t\t\tthrow new Error(\"subscribeOptions.timeout specified with no onFailure callback.\");\n\t\t\t\tif (typeof subscribeOptions.qos !== \"undefined\" && !(subscribeOptions.qos === 0 || subscribeOptions.qos === 1 || subscribeOptions.qos === 2 ))\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [subscribeOptions.qos, \"subscribeOptions.qos\"]));\n\t\t\t\tclient.subscribe(filter, subscribeOptions);\n\t\t\t};\n\n\t\t/**\n\t\t * Unsubscribe for messages, stop receiving messages sent to destinations described by the filter.\n\t\t *\n\t\t * @name Paho.Client#unsubscribe\n\t\t * @function\n\t\t * @param {string} filter - describing the destinations to receive messages from.\n\t\t * @param {object} unsubscribeOptions - used to control the subscription\n\t\t * @param {object} unsubscribeOptions.invocationContext - passed to the onSuccess callback\n\t\t\t\t\t\t\t\t\t\t\t  or onFailure callback.\n\t\t * @param {function} unsubscribeOptions.onSuccess - called when the unsubscribe acknowledgement has been received from the server.\n\t\t *                                    A single response object parameter is passed to the\n\t\t *                                    onSuccess callback containing the following fields:\n\t\t *                                    <ol>\n\t\t *                                    <li>invocationContext - if set in the unsubscribeOptions.\n\t\t *                                    </ol>\n\t\t * @param {function} unsubscribeOptions.onFailure called when the unsubscribe request has failed or timed out.\n\t\t *                                    A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t *                                    <ol>\n\t\t *                                    <li>invocationContext - if set in the unsubscribeOptions.\n\t\t *                                    <li>errorCode - a number indicating the nature of the error.\n\t\t *                                    <li>errorMessage - text describing the error.\n\t\t *                                    </ol>\n\t\t * @param {number} unsubscribeOptions.timeout - which, if present, determines the number of seconds\n\t\t *                                    after which the onFailure callback is called. The presence of\n\t\t *                                    a timeout does not prevent the onSuccess callback from being\n\t\t *                                    called when the unsubscribe completes\n\t\t * @throws {InvalidState} if the client is not in connected state.\n\t\t */\n\t\t\tthis.unsubscribe = function (filter, unsubscribeOptions) {\n\t\t\t\tif (typeof filter !== \"string\" && filter.constructor !== Array)\n\t\t\t\t\tthrow new Error(\"Invalid argument:\"+filter);\n\t\t\t\tunsubscribeOptions = unsubscribeOptions || {} ;\n\t\t\t\tvalidate(unsubscribeOptions,  {invocationContext:\"object\",\n\t\t\t\t\tonSuccess:\"function\",\n\t\t\t\t\tonFailure:\"function\",\n\t\t\t\t\ttimeout:\"number\"\n\t\t\t\t});\n\t\t\t\tif (unsubscribeOptions.timeout && !unsubscribeOptions.onFailure)\n\t\t\t\t\tthrow new Error(\"unsubscribeOptions.timeout specified with no onFailure callback.\");\n\t\t\t\tclient.unsubscribe(filter, unsubscribeOptions);\n\t\t\t};\n\n\t\t\t/**\n\t\t * Send a message to the consumers of the destination in the Message.\n\t\t *\n\t\t * @name Paho.Client#send\n\t\t * @function\n\t\t * @param {string|Paho.Message} topic - <b>mandatory</b> The name of the destination to which the message is to be sent.\n\t\t * \t\t\t\t\t   - If it is the only parameter, used as Paho.Message object.\n\t\t * @param {String|ArrayBuffer} payload - The message data to be sent.\n\t\t * @param {number} qos The Quality of Service used to deliver the message.\n\t\t * \t\t<dl>\n\t\t * \t\t\t<dt>0 Best effort (default).\n\t\t *     \t\t\t<dt>1 At least once.\n\t\t *     \t\t\t<dt>2 Exactly once.\n\t\t * \t\t</dl>\n\t\t * @param {Boolean} retained If true, the message is to be retained by the server and delivered\n\t\t *                     to both current and future subscriptions.\n\t\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t\t *                     A received message has the retained boolean set to true if the message was published\n\t\t *                     with the retained boolean set to true\n\t\t *                     and the subscrption was made after the message has been published.\n\t\t * @throws {InvalidState} if the client is not connected.\n\t\t */\n\t\t\tthis.send = function (topic,payload,qos,retained) {\n\t\t\t\tvar message ;\n\n\t\t\t\tif(arguments.length === 0){\n\t\t\t\t\tthrow new Error(\"Invalid argument.\"+\"length\");\n\n\t\t\t\t}else if(arguments.length == 1) {\n\n\t\t\t\t\tif (!(topic instanceof Message) && (typeof topic !== \"string\"))\n\t\t\t\t\t\tthrow new Error(\"Invalid argument:\"+ typeof topic);\n\n\t\t\t\t\tmessage = topic;\n\t\t\t\t\tif (typeof message.destinationName === \"undefined\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[message.destinationName,\"Message.destinationName\"]));\n\t\t\t\t\tclient.send(message);\n\n\t\t\t\t}else {\n\t\t\t\t//parameter checking in Message object\n\t\t\t\t\tmessage = new Message(payload);\n\t\t\t\t\tmessage.destinationName = topic;\n\t\t\t\t\tif(arguments.length >= 3)\n\t\t\t\t\t\tmessage.qos = qos;\n\t\t\t\t\tif(arguments.length >= 4)\n\t\t\t\t\t\tmessage.retained = retained;\n\t\t\t\t\tclient.send(message);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t * Publish a message to the consumers of the destination in the Message.\n\t\t * Synonym for Paho.Mqtt.Client#send\n\t\t *\n\t\t * @name Paho.Client#publish\n\t\t * @function\n\t\t * @param {string|Paho.Message} topic - <b>mandatory</b> The name of the topic to which the message is to be published.\n\t\t * \t\t\t\t\t   - If it is the only parameter, used as Paho.Message object.\n\t\t * @param {String|ArrayBuffer} payload - The message data to be published.\n\t\t * @param {number} qos The Quality of Service used to deliver the message.\n\t\t * \t\t<dl>\n\t\t * \t\t\t<dt>0 Best effort (default).\n\t\t *     \t\t\t<dt>1 At least once.\n\t\t *     \t\t\t<dt>2 Exactly once.\n\t\t * \t\t</dl>\n\t\t * @param {Boolean} retained If true, the message is to be retained by the server and delivered\n\t\t *                     to both current and future subscriptions.\n\t\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t\t *                     A received message has the retained boolean set to true if the message was published\n\t\t *                     with the retained boolean set to true\n\t\t *                     and the subscrption was made after the message has been published.\n\t\t * @throws {InvalidState} if the client is not connected.\n\t\t */\n\t\t\tthis.publish = function(topic,payload,qos,retained) {\n\t\t\t\tvar message ;\n\n\t\t\t\tif(arguments.length === 0){\n\t\t\t\t\tthrow new Error(\"Invalid argument.\"+\"length\");\n\n\t\t\t\t}else if(arguments.length == 1) {\n\n\t\t\t\t\tif (!(topic instanceof Message) && (typeof topic !== \"string\"))\n\t\t\t\t\t\tthrow new Error(\"Invalid argument:\"+ typeof topic);\n\n\t\t\t\t\tmessage = topic;\n\t\t\t\t\tif (typeof message.destinationName === \"undefined\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[message.destinationName,\"Message.destinationName\"]));\n\t\t\t\t\tclient.send(message);\n\n\t\t\t\t}else {\n\t\t\t\t\t//parameter checking in Message object\n\t\t\t\t\tmessage = new Message(payload);\n\t\t\t\t\tmessage.destinationName = topic;\n\t\t\t\t\tif(arguments.length >= 3)\n\t\t\t\t\t\tmessage.qos = qos;\n\t\t\t\t\tif(arguments.length >= 4)\n\t\t\t\t\t\tmessage.retained = retained;\n\t\t\t\t\tclient.send(message);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t * Normal disconnect of this Messaging client from its server.\n\t\t *\n\t\t * @name Paho.Client#disconnect\n\t\t * @function\n\t\t * @throws {InvalidState} if the client is already disconnected.\n\t\t */\n\t\t\tthis.disconnect = function () {\n\t\t\t\tclient.disconnect();\n\t\t\t};\n\n\t\t\t/**\n\t\t * Get the contents of the trace log.\n\t\t *\n\t\t * @name Paho.Client#getTraceLog\n\t\t * @function\n\t\t * @return {Object[]} tracebuffer containing the time ordered trace records.\n\t\t */\n\t\t\tthis.getTraceLog = function () {\n\t\t\t\treturn client.getTraceLog();\n\t\t\t};\n\n\t\t\t/**\n\t\t * Start tracing.\n\t\t *\n\t\t * @name Paho.Client#startTrace\n\t\t * @function\n\t\t */\n\t\t\tthis.startTrace = function () {\n\t\t\t\tclient.startTrace();\n\t\t\t};\n\n\t\t\t/**\n\t\t * Stop tracing.\n\t\t *\n\t\t * @name Paho.Client#stopTrace\n\t\t * @function\n\t\t */\n\t\t\tthis.stopTrace = function () {\n\t\t\t\tclient.stopTrace();\n\t\t\t};\n\n\t\t\tthis.isConnected = function() {\n\t\t\t\treturn client.connected;\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t * An application message, sent or received.\n\t * <p>\n\t * All attributes may be null, which implies the default values.\n\t *\n\t * @name Paho.Message\n\t * @constructor\n\t * @param {String|ArrayBuffer} payload The message data to be sent.\n\t * <p>\n\t * @property {string} payloadString <i>read only</i> The payload as a string if the payload consists of valid UTF-8 characters.\n\t * @property {ArrayBuffer} payloadBytes <i>read only</i> The payload as an ArrayBuffer.\n\t * <p>\n\t * @property {string} destinationName <b>mandatory</b> The name of the destination to which the message is to be sent\n\t *                    (for messages about to be sent) or the name of the destination from which the message has been received.\n\t *                    (for messages received by the onMessage function).\n\t * <p>\n\t * @property {number} qos The Quality of Service used to deliver the message.\n\t * <dl>\n\t *     <dt>0 Best effort (default).\n\t *     <dt>1 At least once.\n\t *     <dt>2 Exactly once.\n\t * </dl>\n\t * <p>\n\t * @property {Boolean} retained If true, the message is to be retained by the server and delivered\n\t *                     to both current and future subscriptions.\n\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t *                     A received message has the retained boolean set to true if the message was published\n\t *                     with the retained boolean set to true\n\t *                     and the subscrption was made after the message has been published.\n\t * <p>\n\t * @property {Boolean} duplicate <i>read only</i> If true, this message might be a duplicate of one which has already been received.\n\t *                     This is only set on messages received from the server.\n\t *\n\t */\n\t\tvar Message = function (newPayload) {\n\t\t\tvar payload;\n\t\t\tif (   typeof newPayload === \"string\" ||\n\t\tnewPayload instanceof ArrayBuffer ||\n\t\t(ArrayBuffer.isView(newPayload) && !(newPayload instanceof DataView))\n\t\t\t) {\n\t\t\t\tpayload = newPayload;\n\t\t\t} else {\n\t\t\t\tthrow (format(ERROR.INVALID_ARGUMENT, [newPayload, \"newPayload\"]));\n\t\t\t}\n\n\t\t\tvar destinationName;\n\t\t\tvar qos = 0;\n\t\t\tvar retained = false;\n\t\t\tvar duplicate = false;\n\n\t\t\tObject.defineProperties(this,{\n\t\t\t\t\"payloadString\":{\n\t\t\t\t\tenumerable : true,\n\t\t\t\t\tget : function () {\n\t\t\t\t\t\tif (typeof payload === \"string\")\n\t\t\t\t\t\t\treturn payload;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn parseUTF8(payload, 0, payload.length);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"payloadBytes\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\tif (typeof payload === \"string\") {\n\t\t\t\t\t\t\tvar buffer = new ArrayBuffer(UTF8Length(payload));\n\t\t\t\t\t\t\tvar byteStream = new Uint8Array(buffer);\n\t\t\t\t\t\t\tstringToUTF8(payload, byteStream, 0);\n\n\t\t\t\t\t\t\treturn byteStream;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn payload;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"destinationName\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return destinationName; },\n\t\t\t\t\tset: function(newDestinationName) {\n\t\t\t\t\t\tif (typeof newDestinationName === \"string\")\n\t\t\t\t\t\t\tdestinationName = newDestinationName;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [newDestinationName, \"newDestinationName\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"qos\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return qos; },\n\t\t\t\t\tset: function(newQos) {\n\t\t\t\t\t\tif (newQos === 0 || newQos === 1 || newQos === 2 )\n\t\t\t\t\t\t\tqos = newQos;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(\"Invalid argument:\"+newQos);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"retained\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return retained; },\n\t\t\t\t\tset: function(newRetained) {\n\t\t\t\t\t\tif (typeof newRetained === \"boolean\")\n\t\t\t\t\t\t\tretained = newRetained;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [newRetained, \"newRetained\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"topic\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return destinationName; },\n\t\t\t\t\tset: function(newTopic) {destinationName=newTopic;}\n\t\t\t\t},\n\t\t\t\t\"duplicate\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return duplicate; },\n\t\t\t\t\tset: function(newDuplicate) {duplicate=newDuplicate;}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t// Module contents.\n\t\treturn {\n\t\t\tClient: Client,\n\t\t\tMessage: Message\n\t\t};\n\t// eslint-disable-next-line no-nested-ternary\n\t})(typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n\treturn PahoMQTT;\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Common_1 = require(\"../../Common\");\nvar logger = new Common_1.ConsoleLogger('AbstractPubSubProvider');\nvar AbstractPubSubProvider = /** @class */ (function () {\n    function AbstractPubSubProvider(options) {\n        if (options === void 0) { options = {}; }\n        this._config = options;\n    }\n    AbstractPubSubProvider.prototype.configure = function (config) {\n        if (config === void 0) { config = {}; }\n        this._config = __assign({}, config, this._config);\n        logger.debug(\"configure \" + this.getProviderName(), this._config);\n        return this.options;\n    };\n    AbstractPubSubProvider.prototype.getCategory = function () { return 'PubSub'; };\n    Object.defineProperty(AbstractPubSubProvider.prototype, \"options\", {\n        get: function () { return __assign({}, this._config); },\n        enumerable: true,\n        configurable: true\n    });\n    return AbstractPubSubProvider;\n}());\nexports.AbstractPubSubProvider = AbstractPubSubProvider;\n//# sourceMappingURL=PubSubProvider.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar I18n_1 = require(\"./I18n\");\nvar Logger_1 = require(\"../Common/Logger\");\nvar logger = new Logger_1.ConsoleLogger('I18n');\nvar _config = null;\nvar _i18n = null;\n/**\n * Export I18n APIs\n */\nvar I18n = /** @class */ (function () {\n    function I18n() {\n    }\n    /**\n     * @static\n     * @method\n     * Configure I18n part\n     * @param {Object} config - Configuration of the I18n\n     */\n    I18n.configure = function (config) {\n        logger.debug('configure I18n');\n        if (!config) {\n            return _config;\n        }\n        _config = Object.assign({}, _config, config.I18n || config);\n        I18n.createInstance();\n        return _config;\n    };\n    /**\n     * @static\n     * @method\n     * Create an instance of I18n for the library\n     */\n    I18n.createInstance = function () {\n        logger.debug('create I18n instance');\n        if (_i18n) {\n            return;\n        }\n        _i18n = new I18n_1.I18n(_config);\n    };\n    /**\n     * @static @method\n     * Explicitly setting language\n     * @param {String} lang\n     */\n    I18n.setLanguage = function (lang) {\n        I18n.checkConfig();\n        return _i18n.setLanguage(lang);\n    };\n    /**\n     * @static @method\n     * Get value\n     * @param {String} key\n     * @param {String} defVal - Default value\n     */\n    I18n.get = function (key, defVal) {\n        if (!I18n.checkConfig()) {\n            return (typeof defVal === 'undefined') ? key : defVal;\n        }\n        return _i18n.get(key, defVal);\n    };\n    /**\n     * @static\n     * @method\n     * Add vocabularies for one language\n     * @param {String} langurage - Language of the dictionary\n     * @param {Object} vocabularies - Object that has key-value as dictionary entry\n     */\n    I18n.putVocabulariesForLanguage = function (language, vocabularies) {\n        I18n.checkConfig();\n        return _i18n.putVocabulariesForLanguage(language, vocabularies);\n    };\n    /**\n     * @static\n     * @method\n     * Add vocabularies for one language\n     * @param {Object} vocabularies - Object that has language as key,\n     *                                vocabularies of each language as value\n     */\n    I18n.putVocabularies = function (vocabularies) {\n        I18n.checkConfig();\n        return _i18n.putVocabularies(vocabularies);\n    };\n    I18n.checkConfig = function () {\n        if (!_i18n) {\n            _i18n = new I18n_1.I18n(_config);\n        }\n        return true;\n    };\n    return I18n;\n}());\nexports.default = I18n;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Common_1 = require(\"../Common\");\nvar logger = new Common_1.ConsoleLogger('I18n');\n/**\n * Language transition class\n */\nvar I18n = /** @class */ (function () {\n    /**\n     * @constructor\n     * Initialize with configurations\n     * @param {Object} options\n     */\n    function I18n(options) {\n        /**\n         * @private\n         */\n        this._options = null;\n        /**\n         * @private\n         */\n        this._lang = null;\n        /**\n         * @private\n         */\n        this._dict = {};\n        this._options = Object.assign({}, options);\n        this._lang = this._options.language;\n        if (!this._lang && typeof window !== 'undefined' && window && window.navigator) {\n            this._lang = window.navigator.language;\n        }\n        logger.debug(this._lang);\n    }\n    /**\n     * @method\n     * Explicitly setting language\n     * @param {String} lang\n     */\n    I18n.prototype.setLanguage = function (lang) {\n        this._lang = lang;\n    };\n    /**\n     * @method\n     * Get value\n     * @param {String} key\n     * @param {String} defVal - Default value\n     */\n    I18n.prototype.get = function (key, defVal) {\n        if (defVal === void 0) { defVal = undefined; }\n        if (!this._lang) {\n            return (typeof defVal !== 'undefined') ? defVal : key;\n        }\n        var lang = this._lang;\n        var val = this.getByLanguage(key, lang);\n        if (val) {\n            return val;\n        }\n        if (lang.indexOf('-') > 0) {\n            val = this.getByLanguage(key, lang.split('-')[0]);\n        }\n        if (val) {\n            return val;\n        }\n        return (typeof defVal !== 'undefined') ? defVal : key;\n    };\n    /**\n     * @method\n     * Get value according to specified language\n     * @param {String} key\n     * @param {String} language - Specified langurage to be used\n     * @param {String} defVal - Default value\n     */\n    I18n.prototype.getByLanguage = function (key, language, defVal) {\n        if (defVal === void 0) { defVal = null; }\n        if (!language) {\n            return defVal;\n        }\n        var lang_dict = this._dict[language];\n        if (!lang_dict) {\n            return defVal;\n        }\n        return lang_dict[key];\n    };\n    /**\n     * @method\n     * Add vocabularies for one language\n     * @param {String} langurage - Language of the dictionary\n     * @param {Object} vocabularies - Object that has key-value as dictionary entry\n     */\n    I18n.prototype.putVocabulariesForLanguage = function (language, vocabularies) {\n        var lang_dict = this._dict[language];\n        if (!lang_dict) {\n            lang_dict = this._dict[language] = {};\n        }\n        Object.assign(lang_dict, vocabularies);\n    };\n    /**\n     * @method\n     * Add vocabularies for one language\n     * @param {Object} vocabularies - Object that has language as key,\n     *                                vocabularies of each language as value\n     */\n    I18n.prototype.putVocabularies = function (vocabularies) {\n        var _this = this;\n        Object.keys(vocabularies).map(function (key) {\n            _this.putVocabulariesForLanguage(key, vocabularies[key]);\n        });\n    };\n    return I18n;\n}());\nexports.I18n = I18n;\n//# sourceMappingURL=I18n.js.map","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['s3'] = {};\nAWS.S3 = Service.defineService('s3', ['2006-03-01']);\nrequire('../lib/services/s3');\nObject.defineProperty(apiLoader.services['s3'], '2006-03-01', {\n  get: function get() {\n    var model = require('../apis/s3-2006-03-01.min.json');\n    model.paginators = require('../apis/s3-2006-03-01.paginators.json').pagination;\n    model.waiters = require('../apis/s3-2006-03-01.waiters2.json').waiters;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.S3;\n","var util = require('../util');\n\nfunction QueryParamSerializer() {\n}\n\nQueryParamSerializer.prototype.serialize = function(params, shape, fn) {\n  serializeStructure('', params, shape, fn);\n};\n\nfunction ucfirst(shape) {\n  if (shape.isQueryName || shape.api.protocol !== 'ec2') {\n    return shape.name;\n  } else {\n    return shape.name[0].toUpperCase() + shape.name.substr(1);\n  }\n}\n\nfunction serializeStructure(prefix, struct, rules, fn) {\n  util.each(rules.members, function(name, member) {\n    var value = struct[name];\n    if (value === null || value === undefined) return;\n\n    var memberName = ucfirst(member);\n    memberName = prefix ? prefix + '.' + memberName : memberName;\n    serializeMember(memberName, value, member, fn);\n  });\n}\n\nfunction serializeMap(name, map, rules, fn) {\n  var i = 1;\n  util.each(map, function (key, value) {\n    var prefix = rules.flattened ? '.' : '.entry.';\n    var position = prefix + (i++) + '.';\n    var keyName = position + (rules.key.name || 'key');\n    var valueName = position + (rules.value.name || 'value');\n    serializeMember(name + keyName, key, rules.key, fn);\n    serializeMember(name + valueName, value, rules.value, fn);\n  });\n}\n\nfunction serializeList(name, list, rules, fn) {\n  var memberRules = rules.member || {};\n\n  if (list.length === 0) {\n    fn.call(this, name, null);\n    return;\n  }\n\n  util.arrayEach(list, function (v, n) {\n    var suffix = '.' + (n + 1);\n    if (rules.api.protocol === 'ec2') {\n      // Do nothing for EC2\n      suffix = suffix + ''; // make linter happy\n    } else if (rules.flattened) {\n      if (memberRules.name) {\n        var parts = name.split('.');\n        parts.pop();\n        parts.push(ucfirst(memberRules));\n        name = parts.join('.');\n      }\n    } else {\n      suffix = '.' + (memberRules.name ? memberRules.name : 'member') + suffix;\n    }\n    serializeMember(name + suffix, v, memberRules, fn);\n  });\n}\n\nfunction serializeMember(name, value, rules, fn) {\n  if (value === null || value === undefined) return;\n  if (rules.type === 'structure') {\n    serializeStructure(name, value, rules, fn);\n  } else if (rules.type === 'list') {\n    serializeList(name, value, rules, fn);\n  } else if (rules.type === 'map') {\n    serializeMap(name, value, rules, fn);\n  } else {\n    fn(name, rules.toWireFormat(value).toString());\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = QueryParamSerializer;\n","var util = require('../util');\nvar XmlNode = require('./xml-node').XmlNode;\nvar XmlText = require('./xml-text').XmlText;\n\nfunction XmlBuilder() { }\n\nXmlBuilder.prototype.toXML = function(params, shape, rootElement, noEmpty) {\n  var xml = new XmlNode(rootElement);\n  applyNamespaces(xml, shape, true);\n  serialize(xml, params, shape);\n  return xml.children.length > 0 || noEmpty ? xml.toString() : '';\n};\n\nfunction serialize(xml, value, shape) {\n  switch (shape.type) {\n    case 'structure': return serializeStructure(xml, value, shape);\n    case 'map': return serializeMap(xml, value, shape);\n    case 'list': return serializeList(xml, value, shape);\n    default: return serializeScalar(xml, value, shape);\n  }\n}\n\nfunction serializeStructure(xml, params, shape) {\n  util.arrayEach(shape.memberNames, function(memberName) {\n    var memberShape = shape.members[memberName];\n    if (memberShape.location !== 'body') return;\n\n    var value = params[memberName];\n    var name = memberShape.name;\n    if (value !== undefined && value !== null) {\n      if (memberShape.isXmlAttribute) {\n        xml.addAttribute(name, value);\n      } else if (memberShape.flattened) {\n        serialize(xml, value, memberShape);\n      } else {\n        var element = new XmlNode(name);\n        xml.addChildNode(element);\n        applyNamespaces(element, memberShape);\n        serialize(element, value, memberShape);\n      }\n    }\n  });\n}\n\nfunction serializeMap(xml, map, shape) {\n  var xmlKey = shape.key.name || 'key';\n  var xmlValue = shape.value.name || 'value';\n\n  util.each(map, function(key, value) {\n    var entry = new XmlNode(shape.flattened ? shape.name : 'entry');\n    xml.addChildNode(entry);\n\n    var entryKey = new XmlNode(xmlKey);\n    var entryValue = new XmlNode(xmlValue);\n    entry.addChildNode(entryKey)\n    entry.addChildNode(entryValue)\n\n    serialize(entryKey, key, shape.key);\n    serialize(entryValue, value, shape.value);\n  });\n}\n\nfunction serializeList(xml, list, shape) {\n  if (shape.flattened) {\n    util.arrayEach(list, function(value) {\n      var name = shape.member.name || shape.name;\n      var element = new XmlNode(name);\n      xml.addChildNode(element);\n      serialize(element, value, shape.member);\n    });\n  } else {\n    util.arrayEach(list, function(value) {\n      var name = shape.member.name || 'member';\n      var element = new XmlNode(name);\n      xml.addChildNode(element);\n      serialize(element, value, shape.member);\n    });\n  }\n}\n\nfunction serializeScalar(xml, value, shape) {\n  xml.addChildNode(\n    new XmlText(shape.toWireFormat(value))\n  );\n}\n\nfunction applyNamespaces(xml, shape, isRoot) {\n  var uri, prefix = 'xmlns';\n  if (shape.xmlNamespaceUri) {\n    uri = shape.xmlNamespaceUri;\n    if (shape.xmlNamespacePrefix) prefix += ':' + shape.xmlNamespacePrefix;\n  } else if (isRoot && shape.api.xmlNamespaceUri) {\n    uri = shape.api.xmlNamespaceUri;\n  }\n\n  if (uri) xml.addAttribute(prefix, uri);\n}\n\n/**\n * @api private\n */\nmodule.exports = XmlBuilder;\n","var escapeAttribute = require('./escape-attribute').escapeAttribute;\n\n/**\n * Represents an XML node.\n * @api private\n */\nfunction XmlNode(name, children) {\n    if (children === void 0) { children = []; }\n    this.name = name;\n    this.children = children;\n    this.attributes = {};\n}\nXmlNode.prototype.addAttribute = function (name, value) {\n    this.attributes[name] = value;\n    return this;\n};\nXmlNode.prototype.addChildNode = function (child) {\n    this.children.push(child);\n    return this;\n};\nXmlNode.prototype.removeAttribute = function (name) {\n    delete this.attributes[name];\n    return this;\n};\nXmlNode.prototype.toString = function () {\n    var hasChildren = Boolean(this.children.length);\n    var xmlText = '<' + this.name;\n    // add attributes\n    var attributes = this.attributes;\n    for (var i = 0, attributeNames = Object.keys(attributes); i < attributeNames.length; i++) {\n        var attributeName = attributeNames[i];\n        var attribute = attributes[attributeName];\n        if (typeof attribute !== 'undefined' && attribute !== null) {\n            xmlText += ' ' + attributeName + '=\\\"' + escapeAttribute('' + attribute) + '\\\"';\n        }\n    }\n    return xmlText += !hasChildren ? '/>' : '>' + this.children.map(function (c) { return c.toString(); }).join('') + '</' + this.name + '>';\n};\n\n/**\n * @api private\n */\nmodule.exports = {\n    XmlNode: XmlNode\n};","/**\n * Escapes characters that can not be in an XML attribute.\n */\nfunction escapeAttribute(value) {\n    return value.replace(/&/g, '&amp;').replace(/'/g, '&apos;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    escapeAttribute: escapeAttribute\n};","var escapeElement = require('./escape-element').escapeElement;\n\n/**\n * Represents an XML text value.\n * @api private\n */\nfunction XmlText(value) {\n    this.value = value;\n}\n\nXmlText.prototype.toString = function () {\n    return escapeElement('' + this.value);\n};\n\n/**\n * @api private\n */\nmodule.exports = {\n    XmlText: XmlText\n};","/**\n * Escapes characters that can not be in an XML element.\n */\nfunction escapeElement(value) {\n    return value.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    escapeElement: escapeElement\n};","function apiLoader(svc, version) {\n  if (!apiLoader.services.hasOwnProperty(svc)) {\n    throw new Error('InvalidService: Failed to load api for ' + svc);\n  }\n  return apiLoader.services[svc][version];\n}\n\n/**\n * @api private\n *\n * This member of AWS.apiLoader is private, but changing it will necessitate a\n * change to ../scripts/services-table-generator.ts\n */\napiLoader.services = {};\n\n/**\n * @api private\n */\nmodule.exports = apiLoader;\n","var AWS = require('./core');\nvar Api = require('./model/api');\nvar regionConfig = require('./region_config');\nvar inherit = AWS.util.inherit;\nvar clientCount = 0;\n\n/**\n * The service class representing an AWS service.\n *\n * @abstract\n *\n * @!attribute apiVersions\n *   @return [Array<String>] the list of API versions supported by this service.\n *   @readonly\n */\nAWS.Service = inherit({\n  /**\n   * Create a new service object with a configuration object\n   *\n   * @param config [map] a map of configuration options\n   */\n  constructor: function Service(config) {\n    if (!this.loadServiceClass) {\n      throw AWS.util.error(new Error(),\n        'Service must be constructed with `new\\' operator');\n    }\n    var ServiceClass = this.loadServiceClass(config || {});\n    if (ServiceClass) {\n      var originalConfig = AWS.util.copy(config);\n      var svc = new ServiceClass(config);\n      Object.defineProperty(svc, '_originalConfig', {\n        get: function() { return originalConfig; },\n        enumerable: false,\n        configurable: true\n      });\n      svc._clientId = ++clientCount;\n      return svc;\n    }\n    this.initialize(config);\n  },\n\n  /**\n   * @api private\n   */\n  initialize: function initialize(config) {\n    var svcConfig = AWS.config[this.serviceIdentifier];\n\n    this.config = new AWS.Config(AWS.config);\n    if (svcConfig) this.config.update(svcConfig, true);\n    if (config) this.config.update(config, true);\n\n    this.validateService();\n    if (!this.config.endpoint) regionConfig(this);\n\n    this.config.endpoint = this.endpointFromTemplate(this.config.endpoint);\n    this.setEndpoint(this.config.endpoint);\n  },\n\n  /**\n   * @api private\n   */\n  validateService: function validateService() {\n  },\n\n  /**\n   * @api private\n   */\n  loadServiceClass: function loadServiceClass(serviceConfig) {\n    var config = serviceConfig;\n    if (!AWS.util.isEmpty(this.api)) {\n      return null;\n    } else if (config.apiConfig) {\n      return AWS.Service.defineServiceApi(this.constructor, config.apiConfig);\n    } else if (!this.constructor.services) {\n      return null;\n    } else {\n      config = new AWS.Config(AWS.config);\n      config.update(serviceConfig, true);\n      var version = config.apiVersions[this.constructor.serviceIdentifier];\n      version = version || config.apiVersion;\n      return this.getLatestServiceClass(version);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getLatestServiceClass: function getLatestServiceClass(version) {\n    version = this.getLatestServiceVersion(version);\n    if (this.constructor.services[version] === null) {\n      AWS.Service.defineServiceApi(this.constructor, version);\n    }\n\n    return this.constructor.services[version];\n  },\n\n  /**\n   * @api private\n   */\n  getLatestServiceVersion: function getLatestServiceVersion(version) {\n    if (!this.constructor.services || this.constructor.services.length === 0) {\n      throw new Error('No services defined on ' +\n                      this.constructor.serviceIdentifier);\n    }\n\n    if (!version) {\n      version = 'latest';\n    } else if (AWS.util.isType(version, Date)) {\n      version = AWS.util.date.iso8601(version).split('T')[0];\n    }\n\n    if (Object.hasOwnProperty(this.constructor.services, version)) {\n      return version;\n    }\n\n    var keys = Object.keys(this.constructor.services).sort();\n    var selectedVersion = null;\n    for (var i = keys.length - 1; i >= 0; i--) {\n      // versions that end in \"*\" are not available on disk and can be\n      // skipped, so do not choose these as selectedVersions\n      if (keys[i][keys[i].length - 1] !== '*') {\n        selectedVersion = keys[i];\n      }\n      if (keys[i].substr(0, 10) <= version) {\n        return selectedVersion;\n      }\n    }\n\n    throw new Error('Could not find ' + this.constructor.serviceIdentifier +\n                    ' API to satisfy version constraint `' + version + '\\'');\n  },\n\n  /**\n   * @api private\n   */\n  api: {},\n\n  /**\n   * @api private\n   */\n  defaultRetryCount: 3,\n\n  /**\n   * @api private\n   */\n  customizeRequests: function customizeRequests(callback) {\n    if (!callback) {\n      this.customRequestHandler = null;\n    } else if (typeof callback === 'function') {\n      this.customRequestHandler = callback;\n    } else {\n      throw new Error('Invalid callback type \\'' + typeof callback + '\\' provided in customizeRequests');\n    }\n  },\n\n  /**\n   * Calls an operation on a service with the given input parameters.\n   *\n   * @param operation [String] the name of the operation to call on the service.\n   * @param params [map] a map of input options for the operation\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  makeRequest: function makeRequest(operation, params, callback) {\n    if (typeof params === 'function') {\n      callback = params;\n      params = null;\n    }\n\n    params = params || {};\n    if (this.config.params) { // copy only toplevel bound params\n      var rules = this.api.operations[operation];\n      if (rules) {\n        params = AWS.util.copy(params);\n        AWS.util.each(this.config.params, function(key, value) {\n          if (rules.input.members[key]) {\n            if (params[key] === undefined || params[key] === null) {\n              params[key] = value;\n            }\n          }\n        });\n      }\n    }\n\n    var request = new AWS.Request(this, operation, params);\n    this.addAllRequestListeners(request);\n\n    if (callback) request.send(callback);\n    return request;\n  },\n\n  /**\n   * Calls an operation on a service with the given input parameters, without\n   * any authentication data. This method is useful for \"public\" API operations.\n   *\n   * @param operation [String] the name of the operation to call on the service.\n   * @param params [map] a map of input options for the operation\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  makeUnauthenticatedRequest: function makeUnauthenticatedRequest(operation, params, callback) {\n    if (typeof params === 'function') {\n      callback = params;\n      params = {};\n    }\n\n    var request = this.makeRequest(operation, params).toUnauthenticated();\n    return callback ? request.send(callback) : request;\n  },\n\n  /**\n   * Waits for a given state\n   *\n   * @param state [String] the state on the service to wait for\n   * @param params [map] a map of parameters to pass with each request\n   * @option params $waiter [map] a map of configuration options for the waiter\n   * @option params $waiter.delay [Number] The number of seconds to wait between\n   *                                       requests\n   * @option params $waiter.maxAttempts [Number] The maximum number of requests\n   *                                             to send while waiting\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  waitFor: function waitFor(state, params, callback) {\n    var waiter = new AWS.ResourceWaiter(this, state);\n    return waiter.wait(params, callback);\n  },\n\n  /**\n   * @api private\n   */\n  addAllRequestListeners: function addAllRequestListeners(request) {\n    var list = [AWS.events, AWS.EventListeners.Core, this.serviceInterface(),\n                AWS.EventListeners.CorePost];\n    for (var i = 0; i < list.length; i++) {\n      if (list[i]) request.addListeners(list[i]);\n    }\n\n    // disable parameter validation\n    if (!this.config.paramValidation) {\n      request.removeListener('validate',\n        AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n    }\n\n    if (this.config.logger) { // add logging events\n      request.addListeners(AWS.EventListeners.Logger);\n    }\n\n    this.setupRequestListeners(request);\n    // call prototype's customRequestHandler\n    if (typeof this.constructor.prototype.customRequestHandler === 'function') {\n      this.constructor.prototype.customRequestHandler(request);\n    }\n    // call instance's customRequestHandler\n    if (Object.prototype.hasOwnProperty.call(this, 'customRequestHandler') && typeof this.customRequestHandler === 'function') {\n      this.customRequestHandler(request);\n    }\n  },\n\n  /**\n   * Override this method to setup any custom request listeners for each\n   * new request to the service.\n   *\n   * @abstract\n   */\n  setupRequestListeners: function setupRequestListeners() {\n  },\n\n  /**\n   * Gets the signer class for a given request\n   * @api private\n   */\n  getSignerClass: function getSignerClass(request) {\n    var version;\n    // get operation authtype if present\n    var operation = null;\n    var authtype = '';\n    if (request) {\n      var operations = request.service.api.operations || {};\n      operation = operations[request.operation] || null;\n      authtype = operation ? operation.authtype : '';\n    }\n    if (this.config.signatureVersion) {\n      version = this.config.signatureVersion;\n    } else if (authtype === 'v4' || authtype === 'v4-unsigned-body') {\n      version = 'v4';\n    } else {\n      version = this.api.signatureVersion;\n    }\n    return AWS.Signers.RequestSigner.getVersion(version);\n  },\n\n  /**\n   * @api private\n   */\n  serviceInterface: function serviceInterface() {\n    switch (this.api.protocol) {\n      case 'ec2': return AWS.EventListeners.Query;\n      case 'query': return AWS.EventListeners.Query;\n      case 'json': return AWS.EventListeners.Json;\n      case 'rest-json': return AWS.EventListeners.RestJson;\n      case 'rest-xml': return AWS.EventListeners.RestXml;\n    }\n    if (this.api.protocol) {\n      throw new Error('Invalid service `protocol\\' ' +\n        this.api.protocol + ' in API config');\n    }\n  },\n\n  /**\n   * @api private\n   */\n  successfulResponse: function successfulResponse(resp) {\n    return resp.httpResponse.statusCode < 300;\n  },\n\n  /**\n   * How many times a failed request should be retried before giving up.\n   * the defaultRetryCount can be overriden by service classes.\n   *\n   * @api private\n   */\n  numRetries: function numRetries() {\n    if (this.config.maxRetries !== undefined) {\n      return this.config.maxRetries;\n    } else {\n      return this.defaultRetryCount;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  retryDelays: function retryDelays(retryCount) {\n    return AWS.util.calculateRetryDelay(retryCount, this.config.retryDelayOptions);\n  },\n\n  /**\n   * @api private\n   */\n  retryableError: function retryableError(error) {\n    if (this.timeoutError(error)) return true;\n    if (this.networkingError(error)) return true;\n    if (this.expiredCredentialsError(error)) return true;\n    if (this.throttledError(error)) return true;\n    if (error.statusCode >= 500) return true;\n    return false;\n  },\n\n  /**\n   * @api private\n   */\n  networkingError: function networkingError(error) {\n    return error.code === 'NetworkingError';\n  },\n\n  /**\n   * @api private\n   */\n  timeoutError: function timeoutError(error) {\n    return error.code === 'TimeoutError';\n  },\n\n  /**\n   * @api private\n   */\n  expiredCredentialsError: function expiredCredentialsError(error) {\n    // TODO : this only handles *one* of the expired credential codes\n    return (error.code === 'ExpiredTokenException');\n  },\n\n  /**\n   * @api private\n   */\n  clockSkewError: function clockSkewError(error) {\n    switch (error.code) {\n      case 'RequestTimeTooSkewed':\n      case 'RequestExpired':\n      case 'InvalidSignatureException':\n      case 'SignatureDoesNotMatch':\n      case 'AuthFailure':\n      case 'RequestInTheFuture':\n        return true;\n      default: return false;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getSkewCorrectedDate: function getSkewCorrectedDate() {\n    return new Date(Date.now() + this.config.systemClockOffset);\n  },\n\n  /**\n   * @api private\n   */\n  applyClockOffset: function applyClockOffset(newServerTime) {\n    if (newServerTime) {\n      this.config.systemClockOffset = newServerTime - Date.now();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  isClockSkewed: function isClockSkewed(newServerTime) {\n    if (newServerTime) {\n      return Math.abs(this.getSkewCorrectedDate().getTime() - newServerTime) >= 30000;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  throttledError: function throttledError(error) {\n    // this logic varies between services\n    switch (error.code) {\n      case 'ProvisionedThroughputExceededException':\n      case 'Throttling':\n      case 'ThrottlingException':\n      case 'RequestLimitExceeded':\n      case 'RequestThrottled':\n        return true;\n      default:\n        return false;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  endpointFromTemplate: function endpointFromTemplate(endpoint) {\n    if (typeof endpoint !== 'string') return endpoint;\n\n    var e = endpoint;\n    e = e.replace(/\\{service\\}/g, this.api.endpointPrefix);\n    e = e.replace(/\\{region\\}/g, this.config.region);\n    e = e.replace(/\\{scheme\\}/g, this.config.sslEnabled ? 'https' : 'http');\n    return e;\n  },\n\n  /**\n   * @api private\n   */\n  setEndpoint: function setEndpoint(endpoint) {\n    this.endpoint = new AWS.Endpoint(endpoint, this.config);\n  },\n\n  /**\n   * @api private\n   */\n  paginationConfig: function paginationConfig(operation, throwException) {\n    var paginator = this.api.operations[operation].paginator;\n    if (!paginator) {\n      if (throwException) {\n        var e = new Error();\n        throw AWS.util.error(e, 'No pagination configuration for ' + operation);\n      }\n      return null;\n    }\n\n    return paginator;\n  }\n});\n\nAWS.util.update(AWS.Service, {\n\n  /**\n   * Adds one method for each operation described in the api configuration\n   *\n   * @api private\n   */\n  defineMethods: function defineMethods(svc) {\n    AWS.util.each(svc.prototype.api.operations, function iterator(method) {\n      if (svc.prototype[method]) return;\n      var operation = svc.prototype.api.operations[method];\n      if (operation.authtype === 'none') {\n        svc.prototype[method] = function (params, callback) {\n          return this.makeUnauthenticatedRequest(method, params, callback);\n        };\n      } else {\n        svc.prototype[method] = function (params, callback) {\n          return this.makeRequest(method, params, callback);\n        };\n      }\n    });\n  },\n\n  /**\n   * Defines a new Service class using a service identifier and list of versions\n   * including an optional set of features (functions) to apply to the class\n   * prototype.\n   *\n   * @param serviceIdentifier [String] the identifier for the service\n   * @param versions [Array<String>] a list of versions that work with this\n   *   service\n   * @param features [Object] an object to attach to the prototype\n   * @return [Class<Service>] the service class defined by this function.\n   */\n  defineService: function defineService(serviceIdentifier, versions, features) {\n    AWS.Service._serviceMap[serviceIdentifier] = true;\n    if (!Array.isArray(versions)) {\n      features = versions;\n      versions = [];\n    }\n\n    var svc = inherit(AWS.Service, features || {});\n\n    if (typeof serviceIdentifier === 'string') {\n      AWS.Service.addVersions(svc, versions);\n\n      var identifier = svc.serviceIdentifier || serviceIdentifier;\n      svc.serviceIdentifier = identifier;\n    } else { // defineService called with an API\n      svc.prototype.api = serviceIdentifier;\n      AWS.Service.defineMethods(svc);\n    }\n\n    return svc;\n  },\n\n  /**\n   * @api private\n   */\n  addVersions: function addVersions(svc, versions) {\n    if (!Array.isArray(versions)) versions = [versions];\n\n    svc.services = svc.services || {};\n    for (var i = 0; i < versions.length; i++) {\n      if (svc.services[versions[i]] === undefined) {\n        svc.services[versions[i]] = null;\n      }\n    }\n\n    svc.apiVersions = Object.keys(svc.services).sort();\n  },\n\n  /**\n   * @api private\n   */\n  defineServiceApi: function defineServiceApi(superclass, version, apiConfig) {\n    var svc = inherit(superclass, {\n      serviceIdentifier: superclass.serviceIdentifier\n    });\n\n    function setApi(api) {\n      if (api.isApi) {\n        svc.prototype.api = api;\n      } else {\n        svc.prototype.api = new Api(api);\n      }\n    }\n\n    if (typeof version === 'string') {\n      if (apiConfig) {\n        setApi(apiConfig);\n      } else {\n        try {\n          setApi(AWS.apiLoader(superclass.serviceIdentifier, version));\n        } catch (err) {\n          throw AWS.util.error(err, {\n            message: 'Could not find API configuration ' +\n              superclass.serviceIdentifier + '-' + version\n          });\n        }\n      }\n      if (!Object.prototype.hasOwnProperty.call(superclass.services, version)) {\n        superclass.apiVersions = superclass.apiVersions.concat(version).sort();\n      }\n      superclass.services[version] = svc;\n    } else {\n      setApi(version);\n    }\n\n    AWS.Service.defineMethods(svc);\n    return svc;\n  },\n\n  /**\n   * @api private\n   */\n  hasService: function(identifier) {\n    return Object.prototype.hasOwnProperty.call(AWS.Service._serviceMap, identifier);\n  },\n\n  /**\n   * @api private\n   */\n  _serviceMap: {}\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Service;\n","var util = require('./util');\nvar regionConfig = require('./region_config_data.json');\n\nfunction generateRegionPrefix(region) {\n  if (!region) return null;\n\n  var parts = region.split('-');\n  if (parts.length < 3) return null;\n  return parts.slice(0, parts.length - 2).join('-') + '-*';\n}\n\nfunction derivedKeys(service) {\n  var region = service.config.region;\n  var regionPrefix = generateRegionPrefix(region);\n  var endpointPrefix = service.api.endpointPrefix;\n\n  return [\n    [region, endpointPrefix],\n    [regionPrefix, endpointPrefix],\n    [region, '*'],\n    [regionPrefix, '*'],\n    ['*', endpointPrefix],\n    ['*', '*']\n  ].map(function(item) {\n    return item[0] && item[1] ? item.join('/') : null;\n  });\n}\n\nfunction applyConfig(service, config) {\n  util.each(config, function(key, value) {\n    if (key === 'globalEndpoint') return;\n    if (service.config[key] === undefined || service.config[key] === null) {\n      service.config[key] = value;\n    }\n  });\n}\n\nfunction configureEndpoint(service) {\n  var keys = derivedKeys(service);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!key) continue;\n\n    if (Object.prototype.hasOwnProperty.call(regionConfig.rules, key)) {\n      var config = regionConfig.rules[key];\n      if (typeof config === 'string') {\n        config = regionConfig.patterns[config];\n      }\n\n      // set dualstack endpoint\n      if (service.config.useDualstack && util.isDualstackAvailable(service)) {\n        config = util.copy(config);\n        config.endpoint = '{service}.dualstack.{region}.amazonaws.com';\n      }\n\n      // set global endpoint\n      service.isGlobalEndpoint = !!config.globalEndpoint;\n\n      // signature version\n      if (!config.signatureVersion) config.signatureVersion = 'v4';\n\n      // merge config\n      applyConfig(service, config);\n      return;\n    }\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = configureEndpoint;\n","var AWS = require('./core');\nrequire('./credentials');\nrequire('./credentials/credential_provider_chain');\nvar PromisesDependency;\n\n/**\n * The main configuration class used by all service objects to set\n * the region, credentials, and other options for requests.\n *\n * By default, credentials and region settings are left unconfigured.\n * This should be configured by the application before using any\n * AWS service APIs.\n *\n * In order to set global configuration options, properties should\n * be assigned to the global {AWS.config} object.\n *\n * @see AWS.config\n *\n * @!group General Configuration Options\n *\n * @!attribute credentials\n *   @return [AWS.Credentials] the AWS credentials to sign requests with.\n *\n * @!attribute region\n *   @example Set the global region setting to us-west-2\n *     AWS.config.update({region: 'us-west-2'});\n *   @return [AWS.Credentials] The region to send service requests to.\n *   @see http://docs.amazonwebservices.com/general/latest/gr/rande.html\n *     A list of available endpoints for each AWS service\n *\n * @!attribute maxRetries\n *   @return [Integer] the maximum amount of retries to perform for a\n *     service request. By default this value is calculated by the specific\n *     service object that the request is being made to.\n *\n * @!attribute maxRedirects\n *   @return [Integer] the maximum amount of redirects to follow for a\n *     service request. Defaults to 10.\n *\n * @!attribute paramValidation\n *   @return [Boolean|map] whether input parameters should be validated against\n *     the operation description before sending the request. Defaults to true.\n *     Pass a map to enable any of the following specific validation features:\n *\n *     * **min** [Boolean] &mdash; Validates that a value meets the min\n *       constraint. This is enabled by default when paramValidation is set\n *       to `true`.\n *     * **max** [Boolean] &mdash; Validates that a value meets the max\n *       constraint.\n *     * **pattern** [Boolean] &mdash; Validates that a string value matches a\n *       regular expression.\n *     * **enum** [Boolean] &mdash; Validates that a string value matches one\n *       of the allowable enum values.\n *\n * @!attribute computeChecksums\n *   @return [Boolean] whether to compute checksums for payload bodies when\n *     the service accepts it (currently supported in S3 only).\n *\n * @!attribute convertResponseTypes\n *   @return [Boolean] whether types are converted when parsing response data.\n *     Currently only supported for JSON based services. Turning this off may\n *     improve performance on large response payloads. Defaults to `true`.\n *\n * @!attribute correctClockSkew\n *   @return [Boolean] whether to apply a clock skew correction and retry\n *     requests that fail because of an skewed client clock. Defaults to\n *     `false`.\n *\n * @!attribute sslEnabled\n *   @return [Boolean] whether SSL is enabled for requests\n *\n * @!attribute s3ForcePathStyle\n *   @return [Boolean] whether to force path style URLs for S3 objects\n *\n * @!attribute s3BucketEndpoint\n *   @note Setting this configuration option requires an `endpoint` to be\n *     provided explicitly to the service constructor.\n *   @return [Boolean] whether the provided endpoint addresses an individual\n *     bucket (false if it addresses the root API endpoint).\n *\n * @!attribute s3DisableBodySigning\n *   @return [Boolean] whether to disable S3 body signing when using signature version `v4`.\n *     Body signing can only be disabled when using https. Defaults to `true`.\n *\n * @!attribute useAccelerateEndpoint\n *   @note This configuration option is only compatible with S3 while accessing\n *     dns-compatible buckets.\n *   @return [Boolean] Whether to use the Accelerate endpoint with the S3 service.\n *     Defaults to `false`.\n *\n * @!attribute retryDelayOptions\n *   @example Set the base retry delay for all services to 300 ms\n *     AWS.config.update({retryDelayOptions: {base: 300}});\n *     // Delays with maxRetries = 3: 300, 600, 1200\n *   @example Set a custom backoff function to provide delay values on retries\n *     AWS.config.update({retryDelayOptions: {customBackoff: function(retryCount) {\n *       // returns delay in ms\n *     }}});\n *   @return [map] A set of options to configure the retry delay on retryable errors.\n *     Currently supported options are:\n *\n *     * **base** [Integer] &mdash; The base number of milliseconds to use in the\n *       exponential backoff for operation retries. Defaults to 100 ms for all services except\n *       DynamoDB, where it defaults to 50ms.\n *     * **customBackoff ** [function] &mdash; A custom function that accepts a retry count\n *       and returns the amount of time to delay in milliseconds. The `base` option will be\n *       ignored if this option is supplied.\n *\n * @!attribute httpOptions\n *   @return [map] A set of options to pass to the low-level HTTP request.\n *     Currently supported options are:\n *\n *     * **proxy** [String] &mdash; the URL to proxy requests through\n *     * **agent** [http.Agent, https.Agent] &mdash; the Agent object to perform\n *       HTTP requests with. Used for connection pooling. Defaults to the global\n *       agent (`http.globalAgent`) for non-SSL connections. Note that for\n *       SSL connections, a special Agent object is used in order to enable\n *       peer certificate verification. This feature is only supported in the\n *       Node.js environment.\n *     * **connectTimeout** [Integer] &mdash; Sets the socket to timeout after\n *       failing to establish a connection with the server after\n *       `connectTimeout` milliseconds. This timeout has no effect once a socket\n *       connection has been established.\n *     * **timeout** [Integer] &mdash; Sets the socket to timeout after timeout\n *       milliseconds of inactivity on the socket. Defaults to two minutes\n *       (120000)\n *     * **xhrAsync** [Boolean] &mdash; Whether the SDK will send asynchronous\n *       HTTP requests. Used in the browser environment only. Set to false to\n *       send requests synchronously. Defaults to true (async on).\n *     * **xhrWithCredentials** [Boolean] &mdash; Sets the \"withCredentials\"\n *       property of an XMLHttpRequest object. Used in the browser environment\n *       only. Defaults to false.\n * @!attribute logger\n *   @return [#write,#log] an object that responds to .write() (like a stream)\n *     or .log() (like the console object) in order to log information about\n *     requests\n *\n * @!attribute systemClockOffset\n *   @return [Number] an offset value in milliseconds to apply to all signing\n *     times. Use this to compensate for clock skew when your system may be\n *     out of sync with the service time. Note that this configuration option\n *     can only be applied to the global `AWS.config` object and cannot be\n *     overridden in service-specific configuration. Defaults to 0 milliseconds.\n *\n * @!attribute signatureVersion\n *   @return [String] the signature version to sign requests with (overriding\n *     the API configuration). Possible values are: 'v2', 'v3', 'v4'.\n *\n * @!attribute signatureCache\n *   @return [Boolean] whether the signature to sign requests with (overriding\n *     the API configuration) is cached. Only applies to the signature version 'v4'.\n *     Defaults to `true`.\n */\nAWS.Config = AWS.util.inherit({\n  /**\n   * @!endgroup\n   */\n\n  /**\n   * Creates a new configuration object. This is the object that passes\n   * option data along to service requests, including credentials, security,\n   * region information, and some service specific settings.\n   *\n   * @example Creating a new configuration object with credentials and region\n   *   var config = new AWS.Config({\n   *     accessKeyId: 'AKID', secretAccessKey: 'SECRET', region: 'us-west-2'\n   *   });\n   * @option options accessKeyId [String] your AWS access key ID.\n   * @option options secretAccessKey [String] your AWS secret access key.\n   * @option options sessionToken [AWS.Credentials] the optional AWS\n   *   session token to sign requests with.\n   * @option options credentials [AWS.Credentials] the AWS credentials\n   *   to sign requests with. You can either specify this object, or\n   *   specify the accessKeyId and secretAccessKey options directly.\n   * @option options credentialProvider [AWS.CredentialProviderChain] the\n   *   provider chain used to resolve credentials if no static `credentials`\n   *   property is set.\n   * @option options region [String] the region to send service requests to.\n   *   See {region} for more information.\n   * @option options maxRetries [Integer] the maximum amount of retries to\n   *   attempt with a request. See {maxRetries} for more information.\n   * @option options maxRedirects [Integer] the maximum amount of redirects to\n   *   follow with a request. See {maxRedirects} for more information.\n   * @option options sslEnabled [Boolean] whether to enable SSL for\n   *   requests.\n   * @option options paramValidation [Boolean|map] whether input parameters\n   *   should be validated against the operation description before sending\n   *   the request. Defaults to true. Pass a map to enable any of the\n   *   following specific validation features:\n   *\n   *   * **min** [Boolean] &mdash; Validates that a value meets the min\n   *     constraint. This is enabled by default when paramValidation is set\n   *     to `true`.\n   *   * **max** [Boolean] &mdash; Validates that a value meets the max\n   *     constraint.\n   *   * **pattern** [Boolean] &mdash; Validates that a string value matches a\n   *     regular expression.\n   *   * **enum** [Boolean] &mdash; Validates that a string value matches one\n   *     of the allowable enum values.\n   * @option options computeChecksums [Boolean] whether to compute checksums\n   *   for payload bodies when the service accepts it (currently supported\n   *   in S3 only)\n   * @option options convertResponseTypes [Boolean] whether types are converted\n   *     when parsing response data. Currently only supported for JSON based\n   *     services. Turning this off may improve performance on large response\n   *     payloads. Defaults to `true`.\n   * @option options correctClockSkew [Boolean] whether to apply a clock skew\n   *     correction and retry requests that fail because of an skewed client\n   *     clock. Defaults to `false`.\n   * @option options s3ForcePathStyle [Boolean] whether to force path\n   *   style URLs for S3 objects.\n   * @option options s3BucketEndpoint [Boolean] whether the provided endpoint\n   *   addresses an individual bucket (false if it addresses the root API\n   *   endpoint). Note that setting this configuration option requires an\n   *   `endpoint` to be provided explicitly to the service constructor.\n   * @option options s3DisableBodySigning [Boolean] whether S3 body signing\n   *   should be disabled when using signature version `v4`. Body signing\n   *   can only be disabled when using https. Defaults to `true`.\n   *\n   * @option options retryDelayOptions [map] A set of options to configure\n   *   the retry delay on retryable errors. Currently supported options are:\n   *\n   *   * **base** [Integer] &mdash; The base number of milliseconds to use in the\n   *     exponential backoff for operation retries. Defaults to 100 ms for all\n   *     services except DynamoDB, where it defaults to 50ms.\n   *   * **customBackoff ** [function] &mdash; A custom function that accepts a retry count\n   *     and returns the amount of time to delay in milliseconds. The `base` option will be\n   *     ignored if this option is supplied.\n   * @option options httpOptions [map] A set of options to pass to the low-level\n   *   HTTP request. Currently supported options are:\n   *\n   *   * **proxy** [String] &mdash; the URL to proxy requests through\n   *   * **agent** [http.Agent, https.Agent] &mdash; the Agent object to perform\n   *     HTTP requests with. Used for connection pooling. Defaults to the global\n   *     agent (`http.globalAgent`) for non-SSL connections. Note that for\n   *     SSL connections, a special Agent object is used in order to enable\n   *     peer certificate verification. This feature is only available in the\n   *     Node.js environment.\n   *   * **connectTimeout** [Integer] &mdash; Sets the socket to timeout after\n   *     failing to establish a connection with the server after\n   *     `connectTimeout` milliseconds. This timeout has no effect once a socket\n   *     connection has been established.\n   *   * **timeout** [Integer] &mdash; Sets the socket to timeout after timeout\n   *     milliseconds of inactivity on the socket. Defaults to two minutes\n   *     (120000).\n   *   * **xhrAsync** [Boolean] &mdash; Whether the SDK will send asynchronous\n   *     HTTP requests. Used in the browser environment only. Set to false to\n   *     send requests synchronously. Defaults to true (async on).\n   *   * **xhrWithCredentials** [Boolean] &mdash; Sets the \"withCredentials\"\n   *     property of an XMLHttpRequest object. Used in the browser environment\n   *     only. Defaults to false.\n   * @option options apiVersion [String, Date] a String in YYYY-MM-DD format\n   *   (or a date) that represents the latest possible API version that can be\n   *   used in all services (unless overridden by `apiVersions`). Specify\n   *   'latest' to use the latest possible version.\n   * @option options apiVersions [map<String, String|Date>] a map of service\n   *   identifiers (the lowercase service class name) with the API version to\n   *   use when instantiating a service. Specify 'latest' for each individual\n   *   that can use the latest available version.\n   * @option options logger [#write,#log] an object that responds to .write()\n   *   (like a stream) or .log() (like the console object) in order to log\n   *   information about requests\n   * @option options systemClockOffset [Number] an offset value in milliseconds\n   *   to apply to all signing times. Use this to compensate for clock skew\n   *   when your system may be out of sync with the service time. Note that\n   *   this configuration option can only be applied to the global `AWS.config`\n   *   object and cannot be overridden in service-specific configuration.\n   *   Defaults to 0 milliseconds.\n   * @option options signatureVersion [String] the signature version to sign\n   *   requests with (overriding the API configuration). Possible values are:\n   *   'v2', 'v3', 'v4'.\n   * @option options signatureCache [Boolean] whether the signature to sign\n   *   requests with (overriding the API configuration) is cached. Only applies\n   *   to the signature version 'v4'. Defaults to `true`.\n   * @option options dynamoDbCrc32 [Boolean] whether to validate the CRC32\n   *   checksum of HTTP response bodies returned by DynamoDB. Default: `true`.\n   */\n  constructor: function Config(options) {\n    if (options === undefined) options = {};\n    options = this.extractCredentials(options);\n\n    AWS.util.each.call(this, this.keys, function (key, value) {\n      this.set(key, options[key], value);\n    });\n  },\n\n  /**\n   * @!group Managing Credentials\n   */\n\n  /**\n   * Loads credentials from the configuration object. This is used internally\n   * by the SDK to ensure that refreshable {Credentials} objects are properly\n   * refreshed and loaded when sending a request. If you want to ensure that\n   * your credentials are loaded prior to a request, you can use this method\n   * directly to provide accurate credential data stored in the object.\n   *\n   * @note If you configure the SDK with static or environment credentials,\n   *   the credential data should already be present in {credentials} attribute.\n   *   This method is primarily necessary to load credentials from asynchronous\n   *   sources, or sources that can refresh credentials periodically.\n   * @example Getting your access key\n   *   AWS.config.getCredentials(function(err) {\n   *     if (err) console.log(err.stack); // credentials not loaded\n   *     else console.log(\"Access Key:\", AWS.config.credentials.accessKeyId);\n   *   })\n   * @callback callback function(err)\n   *   Called when the {credentials} have been properly set on the configuration\n   *   object.\n   *\n   *   @param err [Error] if this is set, credentials were not successfully\n   *     loaded and this error provides information why.\n   * @see credentials\n   * @see Credentials\n   */\n  getCredentials: function getCredentials(callback) {\n    var self = this;\n\n    function finish(err) {\n      callback(err, err ? null : self.credentials);\n    }\n\n    function credError(msg, err) {\n      return new AWS.util.error(err || new Error(), {\n        code: 'CredentialsError',\n        message: msg,\n        name: 'CredentialsError'\n      });\n    }\n\n    function getAsyncCredentials() {\n      self.credentials.get(function(err) {\n        if (err) {\n          var msg = 'Could not load credentials from ' +\n            self.credentials.constructor.name;\n          err = credError(msg, err);\n        }\n        finish(err);\n      });\n    }\n\n    function getStaticCredentials() {\n      var err = null;\n      if (!self.credentials.accessKeyId || !self.credentials.secretAccessKey) {\n        err = credError('Missing credentials');\n      }\n      finish(err);\n    }\n\n    if (self.credentials) {\n      if (typeof self.credentials.get === 'function') {\n        getAsyncCredentials();\n      } else { // static credentials\n        getStaticCredentials();\n      }\n    } else if (self.credentialProvider) {\n      self.credentialProvider.resolve(function(err, creds) {\n        if (err) {\n          err = credError('Could not load credentials from any providers', err);\n        }\n        self.credentials = creds;\n        finish(err);\n      });\n    } else {\n      finish(credError('No credentials to load'));\n    }\n  },\n\n  /**\n   * @!group Loading and Setting Configuration Options\n   */\n\n  /**\n   * @overload update(options, allowUnknownKeys = false)\n   *   Updates the current configuration object with new options.\n   *\n   *   @example Update maxRetries property of a configuration object\n   *     config.update({maxRetries: 10});\n   *   @param [Object] options a map of option keys and values.\n   *   @param [Boolean] allowUnknownKeys whether unknown keys can be set on\n   *     the configuration object. Defaults to `false`.\n   *   @see constructor\n   */\n  update: function update(options, allowUnknownKeys) {\n    allowUnknownKeys = allowUnknownKeys || false;\n    options = this.extractCredentials(options);\n    AWS.util.each.call(this, options, function (key, value) {\n      if (allowUnknownKeys || Object.prototype.hasOwnProperty.call(this.keys, key) ||\n          AWS.Service.hasService(key)) {\n        this.set(key, value);\n      }\n    });\n  },\n\n  /**\n   * Loads configuration data from a JSON file into this config object.\n   * @note Loading configuration will reset all existing configuration\n   *   on the object.\n   * @!macro nobrowser\n   * @param path [String] the path relative to your process's current\n   *    working directory to load configuration from.\n   * @return [AWS.Config] the same configuration object\n   */\n  loadFromPath: function loadFromPath(path) {\n    this.clear();\n\n    var options = JSON.parse(AWS.util.readFileSync(path));\n    var fileSystemCreds = new AWS.FileSystemCredentials(path);\n    var chain = new AWS.CredentialProviderChain();\n    chain.providers.unshift(fileSystemCreds);\n    chain.resolve(function (err, creds) {\n      if (err) throw err;\n      else options.credentials = creds;\n    });\n\n    this.constructor(options);\n\n    return this;\n  },\n\n  /**\n   * Clears configuration data on this object\n   *\n   * @api private\n   */\n  clear: function clear() {\n    /*jshint forin:false */\n    AWS.util.each.call(this, this.keys, function (key) {\n      delete this[key];\n    });\n\n    // reset credential provider\n    this.set('credentials', undefined);\n    this.set('credentialProvider', undefined);\n  },\n\n  /**\n   * Sets a property on the configuration object, allowing for a\n   * default value\n   * @api private\n   */\n  set: function set(property, value, defaultValue) {\n    if (value === undefined) {\n      if (defaultValue === undefined) {\n        defaultValue = this.keys[property];\n      }\n      if (typeof defaultValue === 'function') {\n        this[property] = defaultValue.call(this);\n      } else {\n        this[property] = defaultValue;\n      }\n    } else if (property === 'httpOptions' && this[property]) {\n      // deep merge httpOptions\n      this[property] = AWS.util.merge(this[property], value);\n    } else {\n      this[property] = value;\n    }\n  },\n\n  /**\n   * All of the keys with their default values.\n   *\n   * @constant\n   * @api private\n   */\n  keys: {\n    credentials: null,\n    credentialProvider: null,\n    region: null,\n    logger: null,\n    apiVersions: {},\n    apiVersion: null,\n    endpoint: undefined,\n    httpOptions: {\n      timeout: 120000\n    },\n    maxRetries: undefined,\n    maxRedirects: 10,\n    paramValidation: true,\n    sslEnabled: true,\n    s3ForcePathStyle: false,\n    s3BucketEndpoint: false,\n    s3DisableBodySigning: true,\n    computeChecksums: true,\n    convertResponseTypes: true,\n    correctClockSkew: false,\n    customUserAgent: null,\n    dynamoDbCrc32: true,\n    systemClockOffset: 0,\n    signatureVersion: null,\n    signatureCache: true,\n    retryDelayOptions: {},\n    useAccelerateEndpoint: false\n  },\n\n  /**\n   * Extracts accessKeyId, secretAccessKey and sessionToken\n   * from a configuration hash.\n   *\n   * @api private\n   */\n  extractCredentials: function extractCredentials(options) {\n    if (options.accessKeyId && options.secretAccessKey) {\n      options = AWS.util.copy(options);\n      options.credentials = new AWS.Credentials(options);\n    }\n    return options;\n  },\n\n  /**\n   * Sets the promise dependency the SDK will use wherever Promises are returned.\n   * Passing `null` will force the SDK to use native Promises if they are available.\n   * If native Promises are not available, passing `null` will have no effect.\n   * @param [Constructor] dep A reference to a Promise constructor\n   */\n  setPromisesDependency: function setPromisesDependency(dep) {\n    PromisesDependency = dep;\n    // if null was passed in, we should try to use native promises\n    if (dep === null && typeof Promise === 'function') {\n      PromisesDependency = Promise;\n    }\n    var constructors = [AWS.Request, AWS.Credentials, AWS.CredentialProviderChain];\n    if (AWS.S3 && AWS.S3.ManagedUpload) constructors.push(AWS.S3.ManagedUpload);\n    AWS.util.addPromises(constructors, PromisesDependency);\n  },\n\n  /**\n   * Gets the promise dependency set by `AWS.config.setPromisesDependency`.\n   */\n  getPromisesDependency: function getPromisesDependency() {\n    return PromisesDependency;\n  }\n});\n\n/**\n * @return [AWS.Config] The global configuration object singleton instance\n * @readonly\n * @see AWS.Config\n */\nAWS.config = new AWS.Config();\n","var AWS = require('./core');\nvar SequentialExecutor = require('./sequential_executor');\n/**\n * The namespace used to register global event listeners for request building\n * and sending.\n */\nAWS.EventListeners = {\n  /**\n   * @!attribute VALIDATE_CREDENTIALS\n   *   A request listener that validates whether the request is being\n   *   sent with credentials.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating credentials\n   *     var listener = AWS.EventListeners.Core.VALIDATE_CREDENTIALS;\n   *     request.removeListener('validate', listener);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute VALIDATE_REGION\n   *   A request listener that validates whether the region is set\n   *   for a request.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating region configuration\n   *     var listener = AWS.EventListeners.Core.VALIDATE_REGION;\n   *     request.removeListener('validate', listener);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute VALIDATE_PARAMETERS\n   *   A request listener that validates input parameters in a request.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating parameters\n   *     var listener = AWS.EventListeners.Core.VALIDATE_PARAMETERS;\n   *     request.removeListener('validate', listener);\n   *   @example Disable parameter validation globally\n   *     AWS.EventListeners.Core.removeListener('validate',\n   *       AWS.EventListeners.Core.VALIDATE_REGION);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute SEND\n   *   A request listener that initiates the HTTP connection for a\n   *   request being sent. Handles the {AWS.Request~send 'send' Request event}\n   *   @example Replacing the HTTP handler\n   *     var listener = AWS.EventListeners.Core.SEND;\n   *     request.removeListener('send', listener);\n   *     request.on('send', function(response) {\n   *       customHandler.send(response);\n   *     });\n   *   @return [Function]\n   *   @readonly\n   * @!attribute HTTP_DATA\n   *   A request listener that reads data from the HTTP connection in order\n   *   to build the response data.\n   *   Handles the {AWS.Request~httpData 'httpData' Request event}.\n   *   Remove this handler if you are overriding the 'httpData' event and\n   *   do not want extra data processing and buffering overhead.\n   *   @example Disabling default data processing\n   *     var listener = AWS.EventListeners.Core.HTTP_DATA;\n   *     request.removeListener('httpData', listener);\n   *   @return [Function]\n   *   @readonly\n   */\n  Core: {} /* doc hack */\n};\n\n/**\n * @api private\n */\nfunction getOperationAuthtype(req) {\n  if (!req.service.api.operations) {\n    return '';\n  }\n  var operation = req.service.api.operations[req.operation];\n  return operation ? operation.authtype : '';\n}\n\nAWS.EventListeners = {\n  Core: new SequentialExecutor().addNamedListeners(function(add, addAsync) {\n    addAsync('VALIDATE_CREDENTIALS', 'validate',\n        function VALIDATE_CREDENTIALS(req, done) {\n      if (!req.service.api.signatureVersion) return done(); // none\n      req.service.config.getCredentials(function(err) {\n        if (err) {\n          req.response.error = AWS.util.error(err,\n            {code: 'CredentialsError', message: 'Missing credentials in config'});\n        }\n        done();\n      });\n    });\n\n    add('VALIDATE_REGION', 'validate', function VALIDATE_REGION(req) {\n      if (!req.service.config.region && !req.service.isGlobalEndpoint) {\n        req.response.error = AWS.util.error(new Error(),\n          {code: 'ConfigError', message: 'Missing region in config'});\n      }\n    });\n\n    add('BUILD_IDEMPOTENCY_TOKENS', 'validate', function BUILD_IDEMPOTENCY_TOKENS(req) {\n      if (!req.service.api.operations) {\n        return;\n      }\n      var operation = req.service.api.operations[req.operation];\n      if (!operation) {\n        return;\n      }\n      var idempotentMembers = operation.idempotentMembers;\n      if (!idempotentMembers.length) {\n        return;\n      }\n      // creates a copy of params so user's param object isn't mutated\n      var params = AWS.util.copy(req.params);\n      for (var i = 0, iLen = idempotentMembers.length; i < iLen; i++) {\n        if (!params[idempotentMembers[i]]) {\n          // add the member\n          params[idempotentMembers[i]] = AWS.util.uuid.v4();\n        }\n      }\n      req.params = params;\n    });\n\n    add('VALIDATE_PARAMETERS', 'validate', function VALIDATE_PARAMETERS(req) {\n      if (!req.service.api.operations) {\n        return;\n      }\n      var rules = req.service.api.operations[req.operation].input;\n      var validation = req.service.config.paramValidation;\n      new AWS.ParamValidator(validation).validate(rules, req.params);\n    });\n\n    addAsync('COMPUTE_SHA256', 'afterBuild', function COMPUTE_SHA256(req, done) {\n      req.haltHandlersOnError();\n      if (!req.service.api.operations) {\n        return;\n      }\n      var operation = req.service.api.operations[req.operation];\n      var authtype = operation ? operation.authtype : '';\n      if (!req.service.api.signatureVersion && !authtype) return done(); // none\n      if (req.service.getSignerClass(req) === AWS.Signers.V4) {\n        var body = req.httpRequest.body || '';\n        if (authtype.indexOf('unsigned-body') >= 0) {\n          req.httpRequest.headers['X-Amz-Content-Sha256'] = 'UNSIGNED-PAYLOAD';\n          return done();\n        }\n        AWS.util.computeSha256(body, function(err, sha) {\n          if (err) {\n            done(err);\n          }\n          else {\n            req.httpRequest.headers['X-Amz-Content-Sha256'] = sha;\n            done();\n          }\n        });\n      } else {\n        done();\n      }\n    });\n\n    add('SET_CONTENT_LENGTH', 'afterBuild', function SET_CONTENT_LENGTH(req) {\n      var authtype = getOperationAuthtype(req);\n      if (req.httpRequest.headers['Content-Length'] === undefined) {\n        try {\n          var length = AWS.util.string.byteLength(req.httpRequest.body);\n          req.httpRequest.headers['Content-Length'] = length;\n        } catch (err) {\n          if (authtype.indexOf('unsigned-body') === -1) {\n            throw err;\n          } else {\n            // Body isn't signed and may not need content length (lex)\n            return;\n          }\n        }\n      }\n    });\n\n    add('SET_HTTP_HOST', 'afterBuild', function SET_HTTP_HOST(req) {\n      req.httpRequest.headers['Host'] = req.httpRequest.endpoint.host;\n    });\n\n    add('RESTART', 'restart', function RESTART() {\n      var err = this.response.error;\n      if (!err || !err.retryable) return;\n\n      this.httpRequest = new AWS.HttpRequest(\n        this.service.endpoint,\n        this.service.region\n      );\n\n      if (this.response.retryCount < this.service.config.maxRetries) {\n        this.response.retryCount++;\n      } else {\n        this.response.error = null;\n      }\n    });\n\n    addAsync('SIGN', 'sign', function SIGN(req, done) {\n      var service = req.service;\n      var operations = req.service.api.operations || {};\n      var operation = operations[req.operation];\n      var authtype = operation ? operation.authtype : '';\n      if (!service.api.signatureVersion && !authtype) return done(); // none\n\n      service.config.getCredentials(function (err, credentials) {\n        if (err) {\n          req.response.error = err;\n          return done();\n        }\n\n        try {\n          var date = service.getSkewCorrectedDate();\n          var SignerClass = service.getSignerClass(req);\n          var signer = new SignerClass(req.httpRequest,\n            service.api.signingName || service.api.endpointPrefix,\n            {\n              signatureCache: service.config.signatureCache,\n              operation: operation\n            });\n          signer.setServiceClientId(service._clientId);\n\n          // clear old authorization headers\n          delete req.httpRequest.headers['Authorization'];\n          delete req.httpRequest.headers['Date'];\n          delete req.httpRequest.headers['X-Amz-Date'];\n\n          // add new authorization\n          signer.addAuthorization(credentials, date);\n          req.signedAt = date;\n        } catch (e) {\n          req.response.error = e;\n        }\n        done();\n      });\n    });\n\n    add('VALIDATE_RESPONSE', 'validateResponse', function VALIDATE_RESPONSE(resp) {\n      if (this.service.successfulResponse(resp, this)) {\n        resp.data = {};\n        resp.error = null;\n      } else {\n        resp.data = null;\n        resp.error = AWS.util.error(new Error(),\n          {code: 'UnknownError', message: 'An unknown error occurred.'});\n      }\n    });\n\n    addAsync('SEND', 'send', function SEND(resp, done) {\n      resp.httpResponse._abortCallback = done;\n      resp.error = null;\n      resp.data = null;\n\n      function callback(httpResp) {\n        resp.httpResponse.stream = httpResp;\n        var stream = resp.request.httpRequest.stream;\n        var service = resp.request.service;\n        var api = service.api;\n        var operationName = resp.request.operation;\n        var operation = api.operations[operationName] || {};\n\n        httpResp.on('headers', function onHeaders(statusCode, headers, statusMessage) {\n          resp.request.emit(\n            'httpHeaders',\n            [statusCode, headers, resp, statusMessage]\n          );\n\n          if (!resp.httpResponse.streaming) {\n            if (AWS.HttpClient.streamsApiVersion === 2) { // streams2 API check\n              // if we detect event streams, we're going to have to\n              // return the stream immediately\n              if (operation.hasEventOutput && service.successfulResponse(resp)) {\n                // skip reading the IncomingStream\n                resp.request.emit('httpDone');\n                done();\n                return;\n              }\n\n              httpResp.on('readable', function onReadable() {\n                var data = httpResp.read();\n                if (data !== null) {\n                  resp.request.emit('httpData', [data, resp]);\n                }\n              });\n            } else { // legacy streams API\n              httpResp.on('data', function onData(data) {\n                resp.request.emit('httpData', [data, resp]);\n              });\n            }\n          }\n        });\n\n        httpResp.on('end', function onEnd() {\n          if (!stream || !stream.didCallback) {\n            if (AWS.HttpClient.streamsApiVersion === 2 && (operation.hasEventOutput && service.successfulResponse(resp))) {\n              // don't concatenate response chunks when streaming event stream data when response is successful\n              return;\n            }\n            resp.request.emit('httpDone');\n            done();\n          }\n        });\n      }\n\n      function progress(httpResp) {\n        httpResp.on('sendProgress', function onSendProgress(value) {\n          resp.request.emit('httpUploadProgress', [value, resp]);\n        });\n\n        httpResp.on('receiveProgress', function onReceiveProgress(value) {\n          resp.request.emit('httpDownloadProgress', [value, resp]);\n        });\n      }\n\n      function error(err) {\n        if (err.code !== 'RequestAbortedError') {\n          var errCode = err.code === 'TimeoutError' ? err.code : 'NetworkingError';\n          err = AWS.util.error(err, {\n            code: errCode,\n            region: resp.request.httpRequest.region,\n            hostname: resp.request.httpRequest.endpoint.hostname,\n            retryable: true\n          });\n        }\n        resp.error = err;\n        resp.request.emit('httpError', [resp.error, resp], function() {\n          done();\n        });\n      }\n\n      function executeSend() {\n        var http = AWS.HttpClient.getInstance();\n        var httpOptions = resp.request.service.config.httpOptions || {};\n        try {\n          var stream = http.handleRequest(resp.request.httpRequest, httpOptions,\n                                          callback, error);\n          progress(stream);\n        } catch (err) {\n          error(err);\n        }\n      }\n      var timeDiff = (resp.request.service.getSkewCorrectedDate() - this.signedAt) / 1000;\n      if (timeDiff >= 60 * 10) { // if we signed 10min ago, re-sign\n        this.emit('sign', [this], function(err) {\n          if (err) done(err);\n          else executeSend();\n        });\n      } else {\n        executeSend();\n      }\n    });\n\n    add('HTTP_HEADERS', 'httpHeaders',\n        function HTTP_HEADERS(statusCode, headers, resp, statusMessage) {\n      resp.httpResponse.statusCode = statusCode;\n      resp.httpResponse.statusMessage = statusMessage;\n      resp.httpResponse.headers = headers;\n      resp.httpResponse.body = new AWS.util.Buffer('');\n      resp.httpResponse.buffers = [];\n      resp.httpResponse.numBytes = 0;\n      var dateHeader = headers.date || headers.Date;\n      var service = resp.request.service;\n      if (dateHeader) {\n        var serverTime = Date.parse(dateHeader);\n        if (service.config.correctClockSkew\n            && service.isClockSkewed(serverTime)) {\n          service.applyClockOffset(serverTime);\n        }\n      }\n    });\n\n    add('HTTP_DATA', 'httpData', function HTTP_DATA(chunk, resp) {\n      if (chunk) {\n        if (AWS.util.isNode()) {\n          resp.httpResponse.numBytes += chunk.length;\n\n          var total = resp.httpResponse.headers['content-length'];\n          var progress = { loaded: resp.httpResponse.numBytes, total: total };\n          resp.request.emit('httpDownloadProgress', [progress, resp]);\n        }\n\n        resp.httpResponse.buffers.push(new AWS.util.Buffer(chunk));\n      }\n    });\n\n    add('HTTP_DONE', 'httpDone', function HTTP_DONE(resp) {\n      // convert buffers array into single buffer\n      if (resp.httpResponse.buffers && resp.httpResponse.buffers.length > 0) {\n        var body = AWS.util.buffer.concat(resp.httpResponse.buffers);\n        resp.httpResponse.body = body;\n      }\n      delete resp.httpResponse.numBytes;\n      delete resp.httpResponse.buffers;\n    });\n\n    add('FINALIZE_ERROR', 'retry', function FINALIZE_ERROR(resp) {\n      if (resp.httpResponse.statusCode) {\n        resp.error.statusCode = resp.httpResponse.statusCode;\n        if (resp.error.retryable === undefined) {\n          resp.error.retryable = this.service.retryableError(resp.error, this);\n        }\n      }\n    });\n\n    add('INVALIDATE_CREDENTIALS', 'retry', function INVALIDATE_CREDENTIALS(resp) {\n      if (!resp.error) return;\n      switch (resp.error.code) {\n        case 'RequestExpired': // EC2 only\n        case 'ExpiredTokenException':\n        case 'ExpiredToken':\n          resp.error.retryable = true;\n          resp.request.service.config.credentials.expired = true;\n      }\n    });\n\n    add('EXPIRED_SIGNATURE', 'retry', function EXPIRED_SIGNATURE(resp) {\n      var err = resp.error;\n      if (!err) return;\n      if (typeof err.code === 'string' && typeof err.message === 'string') {\n        if (err.code.match(/Signature/) && err.message.match(/expired/)) {\n          resp.error.retryable = true;\n        }\n      }\n    });\n\n    add('CLOCK_SKEWED', 'retry', function CLOCK_SKEWED(resp) {\n      if (!resp.error) return;\n      if (this.service.clockSkewError(resp.error)\n          && this.service.config.correctClockSkew) {\n        resp.error.retryable = true;\n      }\n    });\n\n    add('REDIRECT', 'retry', function REDIRECT(resp) {\n      if (resp.error && resp.error.statusCode >= 300 &&\n          resp.error.statusCode < 400 && resp.httpResponse.headers['location']) {\n        this.httpRequest.endpoint =\n          new AWS.Endpoint(resp.httpResponse.headers['location']);\n        this.httpRequest.headers['Host'] = this.httpRequest.endpoint.host;\n        resp.error.redirect = true;\n        resp.error.retryable = true;\n      }\n    });\n\n    add('RETRY_CHECK', 'retry', function RETRY_CHECK(resp) {\n      if (resp.error) {\n        if (resp.error.redirect && resp.redirectCount < resp.maxRedirects) {\n          resp.error.retryDelay = 0;\n        } else if (resp.retryCount < resp.maxRetries) {\n          resp.error.retryDelay = this.service.retryDelays(resp.retryCount) || 0;\n        }\n      }\n    });\n\n    addAsync('RESET_RETRY_STATE', 'afterRetry', function RESET_RETRY_STATE(resp, done) {\n      var delay, willRetry = false;\n\n      if (resp.error) {\n        delay = resp.error.retryDelay || 0;\n        if (resp.error.retryable && resp.retryCount < resp.maxRetries) {\n          resp.retryCount++;\n          willRetry = true;\n        } else if (resp.error.redirect && resp.redirectCount < resp.maxRedirects) {\n          resp.redirectCount++;\n          willRetry = true;\n        }\n      }\n\n      if (willRetry) {\n        resp.error = null;\n        setTimeout(done, delay);\n      } else {\n        done();\n      }\n    });\n  }),\n\n  CorePost: new SequentialExecutor().addNamedListeners(function(add) {\n    add('EXTRACT_REQUEST_ID', 'extractData', AWS.util.extractRequestId);\n    add('EXTRACT_REQUEST_ID', 'extractError', AWS.util.extractRequestId);\n\n    add('ENOTFOUND_ERROR', 'httpError', function ENOTFOUND_ERROR(err) {\n      if (err.code === 'NetworkingError' && err.errno === 'ENOTFOUND') {\n        var message = 'Inaccessible host: `' + err.hostname +\n          '\\'. This service may not be available in the `' + err.region +\n          '\\' region.';\n        this.response.error = AWS.util.error(new Error(message), {\n          code: 'UnknownEndpoint',\n          region: err.region,\n          hostname: err.hostname,\n          retryable: true,\n          originalError: err\n        });\n      }\n    });\n  }),\n\n  Logger: new SequentialExecutor().addNamedListeners(function(add) {\n    add('LOG_REQUEST', 'complete', function LOG_REQUEST(resp) {\n      var req = resp.request;\n      var logger = req.service.config.logger;\n      if (!logger) return;\n      function filterSensitiveLog(inputShape, shape) {\n        if (!shape) {\n          return shape;\n        }\n        switch (inputShape.type) {\n          case 'structure':\n            var struct = {};\n            AWS.util.each(shape, function(subShapeName, subShape) {\n              if (Object.prototype.hasOwnProperty.call(inputShape.members, subShapeName)) {\n                struct[subShapeName] = filterSensitiveLog(inputShape.members[subShapeName], subShape);\n              } else {\n                struct[subShapeName] = subShape;\n              }\n            })\n            return struct\n          case 'list':\n            var list = [];\n            AWS.util.arrayEach(shape, function(subShape, index) {\n              list.push(filterSensitiveLog(inputShape.member, subShape));\n            })\n            return list;\n          case 'map':\n            var map = {};\n            AWS.util.each(shape, function(key, value) {\n              map[key] = filterSensitiveLog(inputShape.value, value);\n            })\n            return map;\n          default:\n            if (inputShape.isSensitive) {\n              return '***SensitiveInformation***'\n            } else {\n              return shape;\n            }\n        }\n      }\n\n      function buildMessage() {\n        var time = resp.request.service.getSkewCorrectedDate().getTime();\n        var delta = (time - req.startTime.getTime()) / 1000;\n        var ansi = logger.isTTY ? true : false;\n        var status = resp.httpResponse.statusCode;\n        var censoredParams = req.params;\n        if (\n          req.service.api.operations &&\n              req.service.api.operations[req.operation] &&\n              req.service.api.operations[req.operation].input\n        ) {\n          var inputShape = req.service.api.operations[req.operation].input;\n          censoredParams = filterSensitiveLog(inputShape, req.params);\n        }\n        var params = require('util').inspect(censoredParams, true, null);\n        var message = '';\n        if (ansi) message += '\\x1B[33m';\n        message += '[AWS ' + req.service.serviceIdentifier + ' ' + status;\n        message += ' ' + delta.toString() + 's ' + resp.retryCount + ' retries]';\n        if (ansi) message += '\\x1B[0;1m';\n        message += ' ' + AWS.util.string.lowerFirst(req.operation);\n        message += '(' + params + ')';\n        if (ansi) message += '\\x1B[0m';\n        return message;\n      }\n\n      var line = buildMessage();\n      if (typeof logger.log === 'function') {\n        logger.log(line);\n      } else if (typeof logger.write === 'function') {\n        logger.write(line + '\\n');\n      }\n    });\n  }),\n\n  Json: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/json');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  Rest: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  RestJson: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest_json');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  RestXml: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest_xml');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  Query: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/query');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  })\n};\n","var AWS = require('./core');\nvar AcceptorStateMachine = require('./state_machine');\nvar inherit = AWS.util.inherit;\nvar domain = AWS.util.domain;\nvar jmespath = require('jmespath');\n\n/**\n * @api private\n */\nvar hardErrorStates = {success: 1, error: 1, complete: 1};\n\nfunction isTerminalState(machine) {\n  return Object.prototype.hasOwnProperty.call(hardErrorStates, machine._asm.currentState);\n}\n\nvar fsm = new AcceptorStateMachine();\nfsm.setupStates = function() {\n  var transition = function(_, done) {\n    var self = this;\n    self._haltHandlersOnError = false;\n\n    self.emit(self._asm.currentState, function(err) {\n      if (err) {\n        if (isTerminalState(self)) {\n          if (domain && self.domain instanceof domain.Domain) {\n            err.domainEmitter = self;\n            err.domain = self.domain;\n            err.domainThrown = false;\n            self.domain.emit('error', err);\n          } else {\n            throw err;\n          }\n        } else {\n          self.response.error = err;\n          done(err);\n        }\n      } else {\n        done(self.response.error);\n      }\n    });\n\n  };\n\n  this.addState('validate', 'build', 'error', transition);\n  this.addState('build', 'afterBuild', 'restart', transition);\n  this.addState('afterBuild', 'sign', 'restart', transition);\n  this.addState('sign', 'send', 'retry', transition);\n  this.addState('retry', 'afterRetry', 'afterRetry', transition);\n  this.addState('afterRetry', 'sign', 'error', transition);\n  this.addState('send', 'validateResponse', 'retry', transition);\n  this.addState('validateResponse', 'extractData', 'extractError', transition);\n  this.addState('extractError', 'extractData', 'retry', transition);\n  this.addState('extractData', 'success', 'retry', transition);\n  this.addState('restart', 'build', 'error', transition);\n  this.addState('success', 'complete', 'complete', transition);\n  this.addState('error', 'complete', 'complete', transition);\n  this.addState('complete', null, null, transition);\n};\nfsm.setupStates();\n\n/**\n * ## Asynchronous Requests\n *\n * All requests made through the SDK are asynchronous and use a\n * callback interface. Each service method that kicks off a request\n * returns an `AWS.Request` object that you can use to register\n * callbacks.\n *\n * For example, the following service method returns the request\n * object as \"request\", which can be used to register callbacks:\n *\n * ```javascript\n * // request is an AWS.Request object\n * var request = ec2.describeInstances();\n *\n * // register callbacks on request to retrieve response data\n * request.on('success', function(response) {\n *   console.log(response.data);\n * });\n * ```\n *\n * When a request is ready to be sent, the {send} method should\n * be called:\n *\n * ```javascript\n * request.send();\n * ```\n *\n * Since registered callbacks may or may not be idempotent, requests should only\n * be sent once. To perform the same operation multiple times, you will need to\n * create multiple request objects, each with its own registered callbacks.\n *\n * ## Removing Default Listeners for Events\n *\n * Request objects are built with default listeners for the various events,\n * depending on the service type. In some cases, you may want to remove\n * some built-in listeners to customize behaviour. Doing this requires\n * access to the built-in listener functions, which are exposed through\n * the {AWS.EventListeners.Core} namespace. For instance, you may\n * want to customize the HTTP handler used when sending a request. In this\n * case, you can remove the built-in listener associated with the 'send'\n * event, the {AWS.EventListeners.Core.SEND} listener and add your own.\n *\n * ## Multiple Callbacks and Chaining\n *\n * You can register multiple callbacks on any request object. The\n * callbacks can be registered for different events, or all for the\n * same event. In addition, you can chain callback registration, for\n * example:\n *\n * ```javascript\n * request.\n *   on('success', function(response) {\n *     console.log(\"Success!\");\n *   }).\n *   on('error', function(response) {\n *     console.log(\"Error!\");\n *   }).\n *   on('complete', function(response) {\n *     console.log(\"Always!\");\n *   }).\n *   send();\n * ```\n *\n * The above example will print either \"Success! Always!\", or \"Error! Always!\",\n * depending on whether the request succeeded or not.\n *\n * @!attribute httpRequest\n *   @readonly\n *   @!group HTTP Properties\n *   @return [AWS.HttpRequest] the raw HTTP request object\n *     containing request headers and body information\n *     sent by the service.\n *\n * @!attribute startTime\n *   @readonly\n *   @!group Operation Properties\n *   @return [Date] the time that the request started\n *\n * @!group Request Building Events\n *\n * @!event validate(request)\n *   Triggered when a request is being validated. Listeners\n *   should throw an error if the request should not be sent.\n *   @param request [Request] the request object being sent\n *   @see AWS.EventListeners.Core.VALIDATE_CREDENTIALS\n *   @see AWS.EventListeners.Core.VALIDATE_REGION\n *   @example Ensuring that a certain parameter is set before sending a request\n *     var req = s3.putObject(params);\n *     req.on('validate', function() {\n *       if (!req.params.Body.match(/^Hello\\s/)) {\n *         throw new Error('Body must start with \"Hello \"');\n *       }\n *     });\n *     req.send(function(err, data) { ... });\n *\n * @!event build(request)\n *   Triggered when the request payload is being built. Listeners\n *   should fill the necessary information to send the request\n *   over HTTP.\n *   @param (see AWS.Request~validate)\n *   @example Add a custom HTTP header to a request\n *     var req = s3.putObject(params);\n *     req.on('build', function() {\n *       req.httpRequest.headers['Custom-Header'] = 'value';\n *     });\n *     req.send(function(err, data) { ... });\n *\n * @!event sign(request)\n *   Triggered when the request is being signed. Listeners should\n *   add the correct authentication headers and/or adjust the body,\n *   depending on the authentication mechanism being used.\n *   @param (see AWS.Request~validate)\n *\n * @!group Request Sending Events\n *\n * @!event send(response)\n *   Triggered when the request is ready to be sent. Listeners\n *   should call the underlying transport layer to initiate\n *   the sending of the request.\n *   @param response [Response] the response object\n *   @context [Request] the request object that was sent\n *   @see AWS.EventListeners.Core.SEND\n *\n * @!event retry(response)\n *   Triggered when a request failed and might need to be retried or redirected.\n *   If the response is retryable, the listener should set the\n *   `response.error.retryable` property to `true`, and optionally set\n *   `response.error.retryDelay` to the millisecond delay for the next attempt.\n *   In the case of a redirect, `response.error.redirect` should be set to\n *   `true` with `retryDelay` set to an optional delay on the next request.\n *\n *   If a listener decides that a request should not be retried,\n *   it should set both `retryable` and `redirect` to false.\n *\n *   Note that a retryable error will be retried at most\n *   {AWS.Config.maxRetries} times (based on the service object's config).\n *   Similarly, a request that is redirected will only redirect at most\n *   {AWS.Config.maxRedirects} times.\n *\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @example Adding a custom retry for a 404 response\n *     request.on('retry', function(response) {\n *       // this resource is not yet available, wait 10 seconds to get it again\n *       if (response.httpResponse.statusCode === 404 && response.error) {\n *         response.error.retryable = true;   // retry this error\n *         response.error.retryDelay = 10000; // wait 10 seconds\n *       }\n *     });\n *\n * @!group Data Parsing Events\n *\n * @!event extractError(response)\n *   Triggered on all non-2xx requests so that listeners can extract\n *   error details from the response body. Listeners to this event\n *   should set the `response.error` property.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event extractData(response)\n *   Triggered in successful requests to allow listeners to\n *   de-serialize the response body into `response.data`.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!group Completion Events\n *\n * @!event success(response)\n *   Triggered when the request completed successfully.\n *   `response.data` will contain the response data and\n *   `response.error` will be null.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event error(error, response)\n *   Triggered when an error occurs at any point during the\n *   request. `response.error` will contain details about the error\n *   that occurred. `response.data` will be null.\n *   @param error [Error] the error object containing details about\n *     the error that occurred.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event complete(response)\n *   Triggered whenever a request cycle completes. `response.error`\n *   should be checked, since the request may have failed.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!group HTTP Events\n *\n * @!event httpHeaders(statusCode, headers, response, statusMessage)\n *   Triggered when headers are sent by the remote server\n *   @param statusCode [Integer] the HTTP response code\n *   @param headers [map<String,String>] the response headers\n *   @param (see AWS.Request~send)\n *   @param statusMessage [String] A status message corresponding to the HTTP\n *                                 response code\n *   @context (see AWS.Request~send)\n *\n * @!event httpData(chunk, response)\n *   Triggered when data is sent by the remote server\n *   @param chunk [Buffer] the buffer data containing the next data chunk\n *     from the server\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @see AWS.EventListeners.Core.HTTP_DATA\n *\n * @!event httpUploadProgress(progress, response)\n *   Triggered when the HTTP request has uploaded more data\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @note This event will not be emitted in Node.js 0.8.x.\n *\n * @!event httpDownloadProgress(progress, response)\n *   Triggered when the HTTP request has downloaded more data\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @note This event will not be emitted in Node.js 0.8.x.\n *\n * @!event httpError(error, response)\n *   Triggered when the HTTP request failed\n *   @param error [Error] the error object that was thrown\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event httpDone(response)\n *   Triggered when the server is finished sending data\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @see AWS.Response\n */\nAWS.Request = inherit({\n\n  /**\n   * Creates a request for an operation on a given service with\n   * a set of input parameters.\n   *\n   * @param service [AWS.Service] the service to perform the operation on\n   * @param operation [String] the operation to perform on the service\n   * @param params [Object] parameters to send to the operation.\n   *   See the operation's documentation for the format of the\n   *   parameters.\n   */\n  constructor: function Request(service, operation, params) {\n    var endpoint = service.endpoint;\n    var region = service.config.region;\n    var customUserAgent = service.config.customUserAgent;\n\n    // global endpoints sign as us-east-1\n    if (service.isGlobalEndpoint) region = 'us-east-1';\n\n    this.domain = domain && domain.active;\n    this.service = service;\n    this.operation = operation;\n    this.params = params || {};\n    this.httpRequest = new AWS.HttpRequest(endpoint, region);\n    this.httpRequest.appendToUserAgent(customUserAgent);\n    this.startTime = service.getSkewCorrectedDate();\n\n    this.response = new AWS.Response(this);\n    this._asm = new AcceptorStateMachine(fsm.states, 'validate');\n    this._haltHandlersOnError = false;\n\n    AWS.SequentialExecutor.call(this);\n    this.emit = this.emitEvent;\n  },\n\n  /**\n   * @!group Sending a Request\n   */\n\n  /**\n   * @overload send(callback = null)\n   *   Sends the request object.\n   *\n   *   @callback callback function(err, data)\n   *     If a callback is supplied, it is called when a response is returned\n   *     from the service.\n   *     @context [AWS.Request] the request object being sent.\n   *     @param err [Error] the error object returned from the request.\n   *       Set to `null` if the request is successful.\n   *     @param data [Object] the de-serialized data returned from\n   *       the request. Set to `null` if a request error occurs.\n   *   @example Sending a request with a callback\n   *     request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     request.send(function(err, data) { console.log(err, data); });\n   *   @example Sending a request with no callback (using event handlers)\n   *     request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     request.on('complete', function(response) { ... }); // register a callback\n   *     request.send();\n   */\n  send: function send(callback) {\n    if (callback) {\n      // append to user agent\n      this.httpRequest.appendToUserAgent('callback');\n      this.on('complete', function (resp) {\n        callback.call(resp, resp.error, resp.data);\n      });\n    }\n    this.runTo();\n\n    return this.response;\n  },\n\n  /**\n   * @!method  promise()\n   *   Sends the request and returns a 'thenable' promise.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(data)\n   *     Called if the promise is fulfilled.\n   *     @param data [Object] the de-serialized data returned from the request.\n   *   @callback rejectedCallback function(error)\n   *     Called if the promise is rejected.\n   *     @param error [Error] the error object returned from the request.\n   *   @return [Promise] A promise that represents the state of the request.\n   *   @example Sending a request using promises.\n   *     var request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     var result = request.promise();\n   *     result.then(function(data) { ... }, function(error) { ... });\n   */\n\n  /**\n   * @api private\n   */\n  build: function build(callback) {\n    return this.runTo('send', callback);\n  },\n\n  /**\n   * @api private\n   */\n  runTo: function runTo(state, done) {\n    this._asm.runTo(state, done, this);\n    return this;\n  },\n\n  /**\n   * Aborts a request, emitting the error and complete events.\n   *\n   * @!macro nobrowser\n   * @example Aborting a request after sending\n   *   var params = {\n   *     Bucket: 'bucket', Key: 'key',\n   *     Body: new Buffer(1024 * 1024 * 5) // 5MB payload\n   *   };\n   *   var request = s3.putObject(params);\n   *   request.send(function (err, data) {\n   *     if (err) console.log(\"Error:\", err.code, err.message);\n   *     else console.log(data);\n   *   });\n   *\n   *   // abort request in 1 second\n   *   setTimeout(request.abort.bind(request), 1000);\n   *\n   *   // prints \"Error: RequestAbortedError Request aborted by user\"\n   * @return [AWS.Request] the same request object, for chaining.\n   * @since v1.4.0\n   */\n  abort: function abort() {\n    this.removeAllListeners('validateResponse');\n    this.removeAllListeners('extractError');\n    this.on('validateResponse', function addAbortedError(resp) {\n      resp.error = AWS.util.error(new Error('Request aborted by user'), {\n         code: 'RequestAbortedError', retryable: false\n      });\n    });\n\n    if (this.httpRequest.stream && !this.httpRequest.stream.didCallback) { // abort HTTP stream\n      this.httpRequest.stream.abort();\n      if (this.httpRequest._abortCallback) {\n         this.httpRequest._abortCallback();\n      } else {\n        this.removeAllListeners('send'); // haven't sent yet, so let's not\n      }\n    }\n\n    return this;\n  },\n\n  /**\n   * Iterates over each page of results given a pageable request, calling\n   * the provided callback with each page of data. After all pages have been\n   * retrieved, the callback is called with `null` data.\n   *\n   * @note This operation can generate multiple requests to a service.\n   * @example Iterating over multiple pages of objects in an S3 bucket\n   *   var pages = 1;\n   *   s3.listObjects().eachPage(function(err, data) {\n   *     if (err) return;\n   *     console.log(\"Page\", pages++);\n   *     console.log(data);\n   *   });\n   * @example Iterating over multiple pages with an asynchronous callback\n   *   s3.listObjects(params).eachPage(function(err, data, done) {\n   *     doSomethingAsyncAndOrExpensive(function() {\n   *       // The next page of results isn't fetched until done is called\n   *       done();\n   *     });\n   *   });\n   * @callback callback function(err, data, [doneCallback])\n   *   Called with each page of resulting data from the request. If the\n   *   optional `doneCallback` is provided in the function, it must be called\n   *   when the callback is complete.\n   *\n   *   @param err [Error] an error object, if an error occurred.\n   *   @param data [Object] a single page of response data. If there is no\n   *     more data, this object will be `null`.\n   *   @param doneCallback [Function] an optional done callback. If this\n   *     argument is defined in the function declaration, it should be called\n   *     when the next page is ready to be retrieved. This is useful for\n   *     controlling serial pagination across asynchronous operations.\n   *   @return [Boolean] if the callback returns `false`, pagination will\n   *     stop.\n   *\n   * @see AWS.Request.eachItem\n   * @see AWS.Response.nextPage\n   * @since v1.4.0\n   */\n  eachPage: function eachPage(callback) {\n    // Make all callbacks async-ish\n    callback = AWS.util.fn.makeAsync(callback, 3);\n\n    function wrappedCallback(response) {\n      callback.call(response, response.error, response.data, function (result) {\n        if (result === false) return;\n\n        if (response.hasNextPage()) {\n          response.nextPage().on('complete', wrappedCallback).send();\n        } else {\n          callback.call(response, null, null, AWS.util.fn.noop);\n        }\n      });\n    }\n\n    this.on('complete', wrappedCallback).send();\n  },\n\n  /**\n   * Enumerates over individual items of a request, paging the responses if\n   * necessary.\n   *\n   * @api experimental\n   * @since v1.4.0\n   */\n  eachItem: function eachItem(callback) {\n    var self = this;\n    function wrappedCallback(err, data) {\n      if (err) return callback(err, null);\n      if (data === null) return callback(null, null);\n\n      var config = self.service.paginationConfig(self.operation);\n      var resultKey = config.resultKey;\n      if (Array.isArray(resultKey)) resultKey = resultKey[0];\n      var items = jmespath.search(data, resultKey);\n      var continueIteration = true;\n      AWS.util.arrayEach(items, function(item) {\n        continueIteration = callback(null, item);\n        if (continueIteration === false) {\n          return AWS.util.abort;\n        }\n      });\n      return continueIteration;\n    }\n\n    this.eachPage(wrappedCallback);\n  },\n\n  /**\n   * @return [Boolean] whether the operation can return multiple pages of\n   *   response data.\n   * @see AWS.Response.eachPage\n   * @since v1.4.0\n   */\n  isPageable: function isPageable() {\n    return this.service.paginationConfig(this.operation) ? true : false;\n  },\n\n  /**\n   * Sends the request and converts the request object into a readable stream\n   * that can be read from or piped into a writable stream.\n   *\n   * @note The data read from a readable stream contains only\n   *   the raw HTTP body contents.\n   * @example Manually reading from a stream\n   *   request.createReadStream().on('data', function(data) {\n   *     console.log(\"Got data:\", data.toString());\n   *   });\n   * @example Piping a request body into a file\n   *   var out = fs.createWriteStream('/path/to/outfile.jpg');\n   *   s3.service.getObject(params).createReadStream().pipe(out);\n   * @return [Stream] the readable stream object that can be piped\n   *   or read from (by registering 'data' event listeners).\n   * @!macro nobrowser\n   */\n  createReadStream: function createReadStream() {\n    var streams = AWS.util.stream;\n    var req = this;\n    var stream = null;\n\n    if (AWS.HttpClient.streamsApiVersion === 2) {\n      stream = new streams.PassThrough();\n      process.nextTick(function() { req.send(); });\n    } else {\n      stream = new streams.Stream();\n      stream.readable = true;\n\n      stream.sent = false;\n      stream.on('newListener', function(event) {\n        if (!stream.sent && event === 'data') {\n          stream.sent = true;\n          process.nextTick(function() { req.send(); });\n        }\n      });\n    }\n\n    this.on('error', function(err) {\n      stream.emit('error', err);\n    });\n\n    this.on('httpHeaders', function streamHeaders(statusCode, headers, resp) {\n      if (statusCode < 300) {\n        req.removeListener('httpData', AWS.EventListeners.Core.HTTP_DATA);\n        req.removeListener('httpError', AWS.EventListeners.Core.HTTP_ERROR);\n        req.on('httpError', function streamHttpError(error) {\n          resp.error = error;\n          resp.error.retryable = false;\n        });\n\n        var shouldCheckContentLength = false;\n        var expectedLen;\n        if (req.httpRequest.method !== 'HEAD') {\n          expectedLen = parseInt(headers['content-length'], 10);\n        }\n        if (expectedLen !== undefined && !isNaN(expectedLen) && expectedLen >= 0) {\n          shouldCheckContentLength = true;\n          var receivedLen = 0;\n        }\n\n        var checkContentLengthAndEmit = function checkContentLengthAndEmit() {\n          if (shouldCheckContentLength && receivedLen !== expectedLen) {\n            stream.emit('error', AWS.util.error(\n              new Error('Stream content length mismatch. Received ' +\n                receivedLen + ' of ' + expectedLen + ' bytes.'),\n              { code: 'StreamContentLengthMismatch' }\n            ));\n          } else if (AWS.HttpClient.streamsApiVersion === 2) {\n            stream.end();\n          } else {\n            stream.emit('end');\n          }\n        };\n\n        var httpStream = resp.httpResponse.createUnbufferedStream();\n\n        if (AWS.HttpClient.streamsApiVersion === 2) {\n          if (shouldCheckContentLength) {\n            var lengthAccumulator = new streams.PassThrough();\n            lengthAccumulator._write = function(chunk) {\n              if (chunk && chunk.length) {\n                receivedLen += chunk.length;\n              }\n              return streams.PassThrough.prototype._write.apply(this, arguments);\n            };\n\n            lengthAccumulator.on('end', checkContentLengthAndEmit);\n            stream.on('error', function(err) {\n              shouldCheckContentLength = false;\n              httpStream.unpipe(lengthAccumulator);\n              lengthAccumulator.emit('end');\n              lengthAccumulator.end();\n            });\n            httpStream.pipe(lengthAccumulator).pipe(stream, { end: false });\n          } else {\n            httpStream.pipe(stream);\n          }\n        } else {\n\n          if (shouldCheckContentLength) {\n            httpStream.on('data', function(arg) {\n              if (arg && arg.length) {\n                receivedLen += arg.length;\n              }\n            });\n          }\n\n          httpStream.on('data', function(arg) {\n            stream.emit('data', arg);\n          });\n          httpStream.on('end', checkContentLengthAndEmit);\n        }\n\n        httpStream.on('error', function(err) {\n          shouldCheckContentLength = false;\n          stream.emit('error', err);\n        });\n      }\n    });\n\n    return stream;\n  },\n\n  /**\n   * @param [Array,Response] args This should be the response object,\n   *   or an array of args to send to the event.\n   * @api private\n   */\n  emitEvent: function emit(eventName, args, done) {\n    if (typeof args === 'function') { done = args; args = null; }\n    if (!done) done = function() { };\n    if (!args) args = this.eventParameters(eventName, this.response);\n\n    var origEmit = AWS.SequentialExecutor.prototype.emit;\n    origEmit.call(this, eventName, args, function (err) {\n      if (err) this.response.error = err;\n      done.call(this, err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  eventParameters: function eventParameters(eventName) {\n    switch (eventName) {\n      case 'restart':\n      case 'validate':\n      case 'sign':\n      case 'build':\n      case 'afterValidate':\n      case 'afterBuild':\n        return [this];\n      case 'error':\n        return [this.response.error, this.response];\n      default:\n        return [this.response];\n    }\n  },\n\n  /**\n   * @api private\n   */\n  presign: function presign(expires, callback) {\n    if (!callback && typeof expires === 'function') {\n      callback = expires;\n      expires = null;\n    }\n    return new AWS.Signers.Presign().sign(this.toGet(), expires, callback);\n  },\n\n  /**\n   * @api private\n   */\n  isPresigned: function isPresigned() {\n    return Object.prototype.hasOwnProperty.call(this.httpRequest.headers, 'presigned-expires');\n  },\n\n  /**\n   * @api private\n   */\n  toUnauthenticated: function toUnauthenticated() {\n    this.removeListener('validate', AWS.EventListeners.Core.VALIDATE_CREDENTIALS);\n    this.removeListener('sign', AWS.EventListeners.Core.SIGN);\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  toGet: function toGet() {\n    if (this.service.api.protocol === 'query' ||\n        this.service.api.protocol === 'ec2') {\n      this.removeListener('build', this.buildAsGet);\n      this.addListener('build', this.buildAsGet);\n    }\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  buildAsGet: function buildAsGet(request) {\n    request.httpRequest.method = 'GET';\n    request.httpRequest.path = request.service.endpoint.path +\n                               '?' + request.httpRequest.body;\n    request.httpRequest.body = '';\n\n    // don't need these headers on a GET request\n    delete request.httpRequest.headers['Content-Length'];\n    delete request.httpRequest.headers['Content-Type'];\n  },\n\n  /**\n   * @api private\n   */\n  haltHandlersOnError: function haltHandlersOnError() {\n    this._haltHandlersOnError = true;\n  }\n});\n\n/**\n * @api private\n */\nAWS.Request.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.promise = function promise() {\n    var self = this;\n    // append to user agent\n    this.httpRequest.appendToUserAgent('promise');\n    return new PromiseDependency(function(resolve, reject) {\n      self.on('complete', function(resp) {\n        if (resp.error) {\n          reject(resp.error);\n        } else {\n          // define $response property so that it is not enumberable\n          // this prevents circular reference errors when stringifying the JSON object\n          resolve(Object.defineProperty(\n            resp.data || {},\n            '$response',\n            {value: resp}\n          ));\n        }\n      });\n      self.runTo();\n    });\n  };\n};\n\n/**\n * @api private\n */\nAWS.Request.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.promise;\n};\n\nAWS.util.addPromises(AWS.Request);\n\nAWS.util.mixin(AWS.Request, AWS.SequentialExecutor);\n","function AcceptorStateMachine(states, state) {\n  this.currentState = state || null;\n  this.states = states || {};\n}\n\nAcceptorStateMachine.prototype.runTo = function runTo(finalState, done, bindObject, inputError) {\n  if (typeof finalState === 'function') {\n    inputError = bindObject; bindObject = done;\n    done = finalState; finalState = null;\n  }\n\n  var self = this;\n  var state = self.states[self.currentState];\n  state.fn.call(bindObject || self, inputError, function(err) {\n    if (err) {\n      if (state.fail) self.currentState = state.fail;\n      else return done ? done.call(bindObject, err) : null;\n    } else {\n      if (state.accept) self.currentState = state.accept;\n      else return done ? done.call(bindObject) : null;\n    }\n    if (self.currentState === finalState) {\n      return done ? done.call(bindObject, err) : null;\n    }\n\n    self.runTo(finalState, done, bindObject, err);\n  });\n};\n\nAcceptorStateMachine.prototype.addState = function addState(name, acceptState, failState, fn) {\n  if (typeof acceptState === 'function') {\n    fn = acceptState; acceptState = null; failState = null;\n  } else if (typeof failState === 'function') {\n    fn = failState; failState = null;\n  }\n\n  if (!this.currentState) this.currentState = name;\n  this.states[name] = { accept: acceptState, fail: failState, fn: fn };\n  return this;\n};\n\n/**\n * @api private\n */\nmodule.exports = AcceptorStateMachine;\n","var AWS = require('./core');\nvar inherit = AWS.util.inherit;\nvar jmespath = require('jmespath');\n\n/**\n * This class encapsulates the response information\n * from a service request operation sent through {AWS.Request}.\n * The response object has two main properties for getting information\n * back from a request:\n *\n * ## The `data` property\n *\n * The `response.data` property contains the serialized object data\n * retrieved from the service request. For instance, for an\n * Amazon DynamoDB `listTables` method call, the response data might\n * look like:\n *\n * ```\n * > resp.data\n * { TableNames:\n *    [ 'table1', 'table2', ... ] }\n * ```\n *\n * The `data` property can be null if an error occurs (see below).\n *\n * ## The `error` property\n *\n * In the event of a service error (or transfer error), the\n * `response.error` property will be filled with the given\n * error data in the form:\n *\n * ```\n * { code: 'SHORT_UNIQUE_ERROR_CODE',\n *   message: 'Some human readable error message' }\n * ```\n *\n * In the case of an error, the `data` property will be `null`.\n * Note that if you handle events that can be in a failure state,\n * you should always check whether `response.error` is set\n * before attempting to access the `response.data` property.\n *\n * @!attribute data\n *   @readonly\n *   @!group Data Properties\n *   @note Inside of a {AWS.Request~httpData} event, this\n *     property contains a single raw packet instead of the\n *     full de-serialized service response.\n *   @return [Object] the de-serialized response data\n *     from the service.\n *\n * @!attribute error\n *   An structure containing information about a service\n *   or networking error.\n *   @readonly\n *   @!group Data Properties\n *   @note This attribute is only filled if a service or\n *     networking error occurs.\n *   @return [Error]\n *     * code [String] a unique short code representing the\n *       error that was emitted.\n *     * message [String] a longer human readable error message\n *     * retryable [Boolean] whether the error message is\n *       retryable.\n *     * statusCode [Numeric] in the case of a request that reached the service,\n *       this value contains the response status code.\n *     * time [Date] the date time object when the error occurred.\n *     * hostname [String] set when a networking error occurs to easily\n *       identify the endpoint of the request.\n *     * region [String] set when a networking error occurs to easily\n *       identify the region of the request.\n *\n * @!attribute requestId\n *   @readonly\n *   @!group Data Properties\n *   @return [String] the unique request ID associated with the response.\n *     Log this value when debugging requests for AWS support.\n *\n * @!attribute retryCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of retries that were\n *     attempted before the request was completed.\n *\n * @!attribute redirectCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of redirects that were\n *     followed before the request was completed.\n *\n * @!attribute httpResponse\n *   @readonly\n *   @!group HTTP Properties\n *   @return [AWS.HttpResponse] the raw HTTP response object\n *     containing the response headers and body information\n *     from the server.\n *\n * @see AWS.Request\n */\nAWS.Response = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function Response(request) {\n    this.request = request;\n    this.data = null;\n    this.error = null;\n    this.retryCount = 0;\n    this.redirectCount = 0;\n    this.httpResponse = new AWS.HttpResponse();\n    if (request) {\n      this.maxRetries = request.service.numRetries();\n      this.maxRedirects = request.service.config.maxRedirects;\n    }\n  },\n\n  /**\n   * Creates a new request for the next page of response data, calling the\n   * callback with the page data if a callback is provided.\n   *\n   * @callback callback function(err, data)\n   *   Called when a page of data is returned from the next request.\n   *\n   *   @param err [Error] an error object, if an error occurred in the request\n   *   @param data [Object] the next page of data, or null, if there are no\n   *     more pages left.\n   * @return [AWS.Request] the request object for the next page of data\n   * @return [null] if no callback is provided and there are no pages left\n   *   to retrieve.\n   * @since v1.4.0\n   */\n  nextPage: function nextPage(callback) {\n    var config;\n    var service = this.request.service;\n    var operation = this.request.operation;\n    try {\n      config = service.paginationConfig(operation, true);\n    } catch (e) { this.error = e; }\n\n    if (!this.hasNextPage()) {\n      if (callback) callback(this.error, null);\n      else if (this.error) throw this.error;\n      return null;\n    }\n\n    var params = AWS.util.copy(this.request.params);\n    if (!this.nextPageTokens) {\n      return callback ? callback(null, null) : null;\n    } else {\n      var inputTokens = config.inputToken;\n      if (typeof inputTokens === 'string') inputTokens = [inputTokens];\n      for (var i = 0; i < inputTokens.length; i++) {\n        params[inputTokens[i]] = this.nextPageTokens[i];\n      }\n      return service.makeRequest(this.request.operation, params, callback);\n    }\n  },\n\n  /**\n   * @return [Boolean] whether more pages of data can be returned by further\n   *   requests\n   * @since v1.4.0\n   */\n  hasNextPage: function hasNextPage() {\n    this.cacheNextPageTokens();\n    if (this.nextPageTokens) return true;\n    if (this.nextPageTokens === undefined) return undefined;\n    else return false;\n  },\n\n  /**\n   * @api private\n   */\n  cacheNextPageTokens: function cacheNextPageTokens() {\n    if (Object.prototype.hasOwnProperty.call(this, 'nextPageTokens')) return this.nextPageTokens;\n    this.nextPageTokens = undefined;\n\n    var config = this.request.service.paginationConfig(this.request.operation);\n    if (!config) return this.nextPageTokens;\n\n    this.nextPageTokens = null;\n    if (config.moreResults) {\n      if (!jmespath.search(this.data, config.moreResults)) {\n        return this.nextPageTokens;\n      }\n    }\n\n    var exprs = config.outputToken;\n    if (typeof exprs === 'string') exprs = [exprs];\n    AWS.util.arrayEach.call(this, exprs, function (expr) {\n      var output = jmespath.search(this.data, expr);\n      if (output) {\n        this.nextPageTokens = this.nextPageTokens || [];\n        this.nextPageTokens.push(output);\n      }\n    });\n\n    return this.nextPageTokens;\n  }\n\n});\n","/**\n * Copyright 2012-2013 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You\n * may not use this file except in compliance with the License. A copy of\n * the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n */\n\nvar AWS = require('./core');\nvar inherit = AWS.util.inherit;\nvar jmespath = require('jmespath');\n\n/**\n * @api private\n */\nfunction CHECK_ACCEPTORS(resp) {\n  var waiter = resp.request._waiter;\n  var acceptors = waiter.config.acceptors;\n  var acceptorMatched = false;\n  var state = 'retry';\n\n  acceptors.forEach(function(acceptor) {\n    if (!acceptorMatched) {\n      var matcher = waiter.matchers[acceptor.matcher];\n      if (matcher && matcher(resp, acceptor.expected, acceptor.argument)) {\n        acceptorMatched = true;\n        state = acceptor.state;\n      }\n    }\n  });\n\n  if (!acceptorMatched && resp.error) state = 'failure';\n\n  if (state === 'success') {\n    waiter.setSuccess(resp);\n  } else {\n    waiter.setError(resp, state === 'retry');\n  }\n}\n\n/**\n * @api private\n */\nAWS.ResourceWaiter = inherit({\n  /**\n   * Waits for a given state on a service object\n   * @param service [Service] the service object to wait on\n   * @param state [String] the state (defined in waiter configuration) to wait\n   *   for.\n   * @example Create a waiter for running EC2 instances\n   *   var ec2 = new AWS.EC2;\n   *   var waiter = new AWS.ResourceWaiter(ec2, 'instanceRunning');\n   */\n  constructor: function constructor(service, state) {\n    this.service = service;\n    this.state = state;\n    this.loadWaiterConfig(this.state);\n  },\n\n  service: null,\n\n  state: null,\n\n  config: null,\n\n  matchers: {\n    path: function(resp, expected, argument) {\n      try {\n        var result = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      return jmespath.strictDeepEqual(result,expected);\n    },\n\n    pathAll: function(resp, expected, argument) {\n      try {\n        var results = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      if (!Array.isArray(results)) results = [results];\n      var numResults = results.length;\n      if (!numResults) return false;\n      for (var ind = 0 ; ind < numResults; ind++) {\n        if (!jmespath.strictDeepEqual(results[ind], expected)) {\n          return false;\n        }\n      }\n      return true;\n    },\n\n    pathAny: function(resp, expected, argument) {\n      try {\n        var results = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      if (!Array.isArray(results)) results = [results];\n      var numResults = results.length;\n      for (var ind = 0 ; ind < numResults; ind++) {\n        if (jmespath.strictDeepEqual(results[ind], expected)) {\n          return true;\n        }\n      }\n      return false;\n    },\n\n    status: function(resp, expected) {\n      var statusCode = resp.httpResponse.statusCode;\n      return (typeof statusCode === 'number') && (statusCode === expected);\n    },\n\n    error: function(resp, expected) {\n      if (typeof expected === 'string' && resp.error) {\n        return expected === resp.error.code;\n      }\n      // if expected is not string, can be boolean indicating presence of error\n      return expected === !!resp.error;\n    }\n  },\n\n  listeners: new AWS.SequentialExecutor().addNamedListeners(function(add) {\n    add('RETRY_CHECK', 'retry', function(resp) {\n      var waiter = resp.request._waiter;\n      if (resp.error && resp.error.code === 'ResourceNotReady') {\n        resp.error.retryDelay = (waiter.config.delay || 0) * 1000;\n      }\n    });\n\n    add('CHECK_OUTPUT', 'extractData', CHECK_ACCEPTORS);\n\n    add('CHECK_ERROR', 'extractError', CHECK_ACCEPTORS);\n  }),\n\n  /**\n   * @return [AWS.Request]\n   */\n  wait: function wait(params, callback) {\n    if (typeof params === 'function') {\n      callback = params; params = undefined;\n    }\n\n    if (params && params.$waiter) {\n      params = AWS.util.copy(params);\n      if (typeof params.$waiter.delay === 'number') {\n        this.config.delay = params.$waiter.delay;\n      }\n      if (typeof params.$waiter.maxAttempts === 'number') {\n        this.config.maxAttempts = params.$waiter.maxAttempts;\n      }\n      delete params.$waiter;\n    }\n\n    var request = this.service.makeRequest(this.config.operation, params);\n    request._waiter = this;\n    request.response.maxRetries = this.config.maxAttempts;\n    request.addListeners(this.listeners);\n\n    if (callback) request.send(callback);\n    return request;\n  },\n\n  setSuccess: function setSuccess(resp) {\n    resp.error = null;\n    resp.data = resp.data || {};\n    resp.request.removeAllListeners('extractData');\n  },\n\n  setError: function setError(resp, retryable) {\n    resp.data = null;\n    resp.error = AWS.util.error(resp.error || new Error(), {\n      code: 'ResourceNotReady',\n      message: 'Resource is not in the state ' + this.state,\n      retryable: retryable\n    });\n  },\n\n  /**\n   * Loads waiter configuration from API configuration\n   *\n   * @api private\n   */\n  loadWaiterConfig: function loadWaiterConfig(state) {\n    if (!this.service.api.waiters[state]) {\n      throw new AWS.util.error(new Error(), {\n        code: 'StateNotFoundError',\n        message: 'State ' + state + ' not found.'\n      });\n    }\n\n    this.config = AWS.util.copy(this.service.api.waiters[state]);\n  }\n});\n","var AWS = require('../core');\n\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.RequestSigner = inherit({\n  constructor: function RequestSigner(request) {\n    this.request = request;\n  },\n\n  setServiceClientId: function setServiceClientId(id) {\n    this.serviceClientId = id;\n  },\n\n  getServiceClientId: function getServiceClientId() {\n    return this.serviceClientId;\n  }\n});\n\nAWS.Signers.RequestSigner.getVersion = function getVersion(version) {\n  switch (version) {\n    case 'v2': return AWS.Signers.V2;\n    case 'v3': return AWS.Signers.V3;\n    case 'v4': return AWS.Signers.V4;\n    case 's3': return AWS.Signers.S3;\n    case 'v3https': return AWS.Signers.V3Https;\n  }\n  throw new Error('Unknown signing version ' + version);\n};\n\nrequire('./v2');\nrequire('./v3');\nrequire('./v3https');\nrequire('./v4');\nrequire('./s3');\nrequire('./presign');\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V2 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n\n    if (!date) date = AWS.util.date.getDate();\n\n    var r = this.request;\n\n    r.params.Timestamp = AWS.util.date.iso8601(date);\n    r.params.SignatureVersion = '2';\n    r.params.SignatureMethod = 'HmacSHA256';\n    r.params.AWSAccessKeyId = credentials.accessKeyId;\n\n    if (credentials.sessionToken) {\n      r.params.SecurityToken = credentials.sessionToken;\n    }\n\n    delete r.params.Signature; // delete old Signature for re-signing\n    r.params.Signature = this.signature(credentials);\n\n    r.body = AWS.util.queryParamsToString(r.params);\n    r.headers['Content-Length'] = r.body.length;\n  },\n\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push(this.request.endpoint.host.toLowerCase());\n    parts.push(this.request.pathname());\n    parts.push(AWS.util.queryParamsToString(this.request.params));\n    return parts.join('\\n');\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V2;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\nrequire('./v3');\n\n/**\n * @api private\n */\nAWS.Signers.V3Https = inherit(AWS.Signers.V3, {\n  authorization: function authorization(credentials) {\n    return 'AWS3-HTTPS ' +\n      'AWSAccessKeyId=' + credentials.accessKeyId + ',' +\n      'Algorithm=HmacSHA256,' +\n      'Signature=' + this.signature(credentials);\n  },\n\n  stringToSign: function stringToSign() {\n    return this.request.headers['X-Amz-Date'];\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V3Https;\n","var AWS = require('../core');\nvar v4Credentials = require('./v4_credentials');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nvar expiresHeader = 'presigned-expires';\n\n/**\n * @api private\n */\nAWS.Signers.V4 = inherit(AWS.Signers.RequestSigner, {\n  constructor: function V4(request, serviceName, options) {\n    AWS.Signers.RequestSigner.call(this, request);\n    this.serviceName = serviceName;\n    options = options || {};\n    this.signatureCache = typeof options.signatureCache === 'boolean' ? options.signatureCache : true;\n    this.operation = options.operation;\n  },\n\n  algorithm: 'AWS4-HMAC-SHA256',\n\n  addAuthorization: function addAuthorization(credentials, date) {\n    var datetime = AWS.util.date.iso8601(date).replace(/[:\\-]|\\.\\d{3}/g, '');\n\n    if (this.isPresigned()) {\n      this.updateForPresigned(credentials, datetime);\n    } else {\n      this.addHeaders(credentials, datetime);\n    }\n\n    this.request.headers['Authorization'] =\n      this.authorization(credentials, datetime);\n  },\n\n  addHeaders: function addHeaders(credentials, datetime) {\n    this.request.headers['X-Amz-Date'] = datetime;\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n  },\n\n  updateForPresigned: function updateForPresigned(credentials, datetime) {\n    var credString = this.credentialString(datetime);\n    var qs = {\n      'X-Amz-Date': datetime,\n      'X-Amz-Algorithm': this.algorithm,\n      'X-Amz-Credential': credentials.accessKeyId + '/' + credString,\n      'X-Amz-Expires': this.request.headers[expiresHeader],\n      'X-Amz-SignedHeaders': this.signedHeaders()\n    };\n\n    if (credentials.sessionToken) {\n      qs['X-Amz-Security-Token'] = credentials.sessionToken;\n    }\n\n    if (this.request.headers['Content-Type']) {\n      qs['Content-Type'] = this.request.headers['Content-Type'];\n    }\n    if (this.request.headers['Content-MD5']) {\n      qs['Content-MD5'] = this.request.headers['Content-MD5'];\n    }\n    if (this.request.headers['Cache-Control']) {\n      qs['Cache-Control'] = this.request.headers['Cache-Control'];\n    }\n\n    // need to pull in any other X-Amz-* headers\n    AWS.util.each.call(this, this.request.headers, function(key, value) {\n      if (key === expiresHeader) return;\n      if (this.isSignableHeader(key)) {\n        var lowerKey = key.toLowerCase();\n        // Metadata should be normalized\n        if (lowerKey.indexOf('x-amz-meta-') === 0) {\n          qs[lowerKey] = value;\n        } else if (lowerKey.indexOf('x-amz-') === 0) {\n          qs[key] = value;\n        }\n      }\n    });\n\n    var sep = this.request.path.indexOf('?') >= 0 ? '&' : '?';\n    this.request.path += sep + AWS.util.queryParamsToString(qs);\n  },\n\n  authorization: function authorization(credentials, datetime) {\n    var parts = [];\n    var credString = this.credentialString(datetime);\n    parts.push(this.algorithm + ' Credential=' +\n      credentials.accessKeyId + '/' + credString);\n    parts.push('SignedHeaders=' + this.signedHeaders());\n    parts.push('Signature=' + this.signature(credentials, datetime));\n    return parts.join(', ');\n  },\n\n  signature: function signature(credentials, datetime) {\n    var signingKey = v4Credentials.getSigningKey(\n      credentials,\n      datetime.substr(0, 8),\n      this.request.region,\n      this.serviceName,\n      this.signatureCache\n    );\n    return AWS.util.crypto.hmac(signingKey, this.stringToSign(datetime), 'hex');\n  },\n\n  stringToSign: function stringToSign(datetime) {\n    var parts = [];\n    parts.push('AWS4-HMAC-SHA256');\n    parts.push(datetime);\n    parts.push(this.credentialString(datetime));\n    parts.push(this.hexEncodedHash(this.canonicalString()));\n    return parts.join('\\n');\n  },\n\n  canonicalString: function canonicalString() {\n    var parts = [], pathname = this.request.pathname();\n    if (this.serviceName !== 's3') pathname = AWS.util.uriEscapePath(pathname);\n\n    parts.push(this.request.method);\n    parts.push(pathname);\n    parts.push(this.request.search());\n    parts.push(this.canonicalHeaders() + '\\n');\n    parts.push(this.signedHeaders());\n    parts.push(this.hexEncodedBodyHash());\n    return parts.join('\\n');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = [];\n    AWS.util.each.call(this, this.request.headers, function (key, item) {\n      headers.push([key, item]);\n    });\n    headers.sort(function (a, b) {\n      return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : 1;\n    });\n    var parts = [];\n    AWS.util.arrayEach.call(this, headers, function (item) {\n      var key = item[0].toLowerCase();\n      if (this.isSignableHeader(key)) {\n        var value = item[1];\n        if (typeof value === 'undefined' || value === null || typeof value.toString !== 'function') {\n          throw AWS.util.error(new Error('Header ' + key + ' contains invalid value'), {\n            code: 'InvalidHeader'\n          });\n        }\n        parts.push(key + ':' +\n          this.canonicalHeaderValues(value.toString()));\n      }\n    });\n    return parts.join('\\n');\n  },\n\n  canonicalHeaderValues: function canonicalHeaderValues(values) {\n    return values.replace(/\\s+/g, ' ').replace(/^\\s+|\\s+$/g, '');\n  },\n\n  signedHeaders: function signedHeaders() {\n    var keys = [];\n    AWS.util.each.call(this, this.request.headers, function (key) {\n      key = key.toLowerCase();\n      if (this.isSignableHeader(key)) keys.push(key);\n    });\n    return keys.sort().join(';');\n  },\n\n  credentialString: function credentialString(datetime) {\n    return v4Credentials.createScope(\n      datetime.substr(0, 8),\n      this.request.region,\n      this.serviceName\n    );\n  },\n\n  hexEncodedHash: function hash(string) {\n    return AWS.util.crypto.sha256(string, 'hex');\n  },\n\n  hexEncodedBodyHash: function hexEncodedBodyHash() {\n    var request = this.request;\n    if (this.isPresigned() && this.serviceName === 's3' && !request.body) {\n      return 'UNSIGNED-PAYLOAD';\n    } else if (request.headers['X-Amz-Content-Sha256']) {\n      return request.headers['X-Amz-Content-Sha256'];\n    } else {\n      return this.hexEncodedHash(this.request.body || '');\n    }\n  },\n\n  unsignableHeaders: [\n    'authorization',\n    'content-type',\n    'content-length',\n    'user-agent',\n    expiresHeader,\n    'expect',\n    'x-amzn-trace-id'\n  ],\n\n  isSignableHeader: function isSignableHeader(key) {\n    if (key.toLowerCase().indexOf('x-amz-') === 0) return true;\n    return this.unsignableHeaders.indexOf(key) < 0;\n  },\n\n  isPresigned: function isPresigned() {\n    return this.request.headers[expiresHeader] ? true : false;\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V4;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.S3 = inherit(AWS.Signers.RequestSigner, {\n  /**\n   * When building the stringToSign, these sub resource params should be\n   * part of the canonical resource string with their NON-decoded values\n   */\n  subResources: {\n    'acl': 1,\n    'accelerate': 1,\n    'analytics': 1,\n    'cors': 1,\n    'lifecycle': 1,\n    'delete': 1,\n    'inventory': 1,\n    'location': 1,\n    'logging': 1,\n    'metrics': 1,\n    'notification': 1,\n    'partNumber': 1,\n    'policy': 1,\n    'requestPayment': 1,\n    'replication': 1,\n    'restore': 1,\n    'tagging': 1,\n    'torrent': 1,\n    'uploadId': 1,\n    'uploads': 1,\n    'versionId': 1,\n    'versioning': 1,\n    'versions': 1,\n    'website': 1\n  },\n\n  // when building the stringToSign, these querystring params should be\n  // part of the canonical resource string with their NON-encoded values\n  responseHeaders: {\n    'response-content-type': 1,\n    'response-content-language': 1,\n    'response-expires': 1,\n    'response-cache-control': 1,\n    'response-content-disposition': 1,\n    'response-content-encoding': 1\n  },\n\n  addAuthorization: function addAuthorization(credentials, date) {\n    if (!this.request.headers['presigned-expires']) {\n      this.request.headers['X-Amz-Date'] = AWS.util.date.rfc822(date);\n    }\n\n    if (credentials.sessionToken) {\n      // presigned URLs require this header to be lowercased\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    var signature = this.sign(credentials.secretAccessKey, this.stringToSign());\n    var auth = 'AWS ' + credentials.accessKeyId + ':' + signature;\n\n    this.request.headers['Authorization'] = auth;\n  },\n\n  stringToSign: function stringToSign() {\n    var r = this.request;\n\n    var parts = [];\n    parts.push(r.method);\n    parts.push(r.headers['Content-MD5'] || '');\n    parts.push(r.headers['Content-Type'] || '');\n\n    // This is the \"Date\" header, but we use X-Amz-Date.\n    // The S3 signing mechanism requires us to pass an empty\n    // string for this Date header regardless.\n    parts.push(r.headers['presigned-expires'] || '');\n\n    var headers = this.canonicalizedAmzHeaders();\n    if (headers) parts.push(headers);\n    parts.push(this.canonicalizedResource());\n\n    return parts.join('\\n');\n\n  },\n\n  canonicalizedAmzHeaders: function canonicalizedAmzHeaders() {\n\n    var amzHeaders = [];\n\n    AWS.util.each(this.request.headers, function (name) {\n      if (name.match(/^x-amz-/i))\n        amzHeaders.push(name);\n    });\n\n    amzHeaders.sort(function (a, b) {\n      return a.toLowerCase() < b.toLowerCase() ? -1 : 1;\n    });\n\n    var parts = [];\n    AWS.util.arrayEach.call(this, amzHeaders, function (name) {\n      parts.push(name.toLowerCase() + ':' + String(this.request.headers[name]));\n    });\n\n    return parts.join('\\n');\n\n  },\n\n  canonicalizedResource: function canonicalizedResource() {\n\n    var r = this.request;\n\n    var parts = r.path.split('?');\n    var path = parts[0];\n    var querystring = parts[1];\n\n    var resource = '';\n\n    if (r.virtualHostedBucket)\n      resource += '/' + r.virtualHostedBucket;\n\n    resource += path;\n\n    if (querystring) {\n\n      // collect a list of sub resources and query params that need to be signed\n      var resources = [];\n\n      AWS.util.arrayEach.call(this, querystring.split('&'), function (param) {\n        var name = param.split('=')[0];\n        var value = param.split('=')[1];\n        if (this.subResources[name] || this.responseHeaders[name]) {\n          var subresource = { name: name };\n          if (value !== undefined) {\n            if (this.subResources[name]) {\n              subresource.value = value;\n            } else {\n              subresource.value = decodeURIComponent(value);\n            }\n          }\n          resources.push(subresource);\n        }\n      });\n\n      resources.sort(function (a, b) { return a.name < b.name ? -1 : 1; });\n\n      if (resources.length) {\n\n        querystring = [];\n        AWS.util.arrayEach(resources, function (res) {\n          if (res.value === undefined) {\n            querystring.push(res.name);\n          } else {\n            querystring.push(res.name + '=' + res.value);\n          }\n        });\n\n        resource += '?' + querystring.join('&');\n      }\n\n    }\n\n    return resource;\n\n  },\n\n  sign: function sign(secret, string) {\n    return AWS.util.crypto.hmac(secret, string, 'base64', 'sha1');\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.S3;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nvar expiresHeader = 'presigned-expires';\n\n/**\n * @api private\n */\nfunction signedUrlBuilder(request) {\n  var expires = request.httpRequest.headers[expiresHeader];\n  var signerClass = request.service.getSignerClass(request);\n\n  delete request.httpRequest.headers['User-Agent'];\n  delete request.httpRequest.headers['X-Amz-User-Agent'];\n\n  if (signerClass === AWS.Signers.V4) {\n    if (expires > 604800) { // one week expiry is invalid\n      var message = 'Presigning does not support expiry time greater ' +\n                    'than a week with SigV4 signing.';\n      throw AWS.util.error(new Error(), {\n        code: 'InvalidExpiryTime', message: message, retryable: false\n      });\n    }\n    request.httpRequest.headers[expiresHeader] = expires;\n  } else if (signerClass === AWS.Signers.S3) {\n    var now = request.service ? request.service.getSkewCorrectedDate() : AWS.util.date.getDate();\n    request.httpRequest.headers[expiresHeader] = parseInt(\n      AWS.util.date.unixTimestamp(now) + expires, 10).toString();\n  } else {\n    throw AWS.util.error(new Error(), {\n      message: 'Presigning only supports S3 or SigV4 signing.',\n      code: 'UnsupportedSigner', retryable: false\n    });\n  }\n}\n\n/**\n * @api private\n */\nfunction signedUrlSigner(request) {\n  var endpoint = request.httpRequest.endpoint;\n  var parsedUrl = AWS.util.urlParse(request.httpRequest.path);\n  var queryParams = {};\n\n  if (parsedUrl.search) {\n    queryParams = AWS.util.queryStringParse(parsedUrl.search.substr(1));\n  }\n\n  var auth = request.httpRequest.headers['Authorization'].split(' ');\n  if (auth[0] === 'AWS') {\n    auth = auth[1].split(':');\n    queryParams['AWSAccessKeyId'] = auth[0];\n    queryParams['Signature'] = auth[1];\n\n    AWS.util.each(request.httpRequest.headers, function (key, value) {\n      if (key === expiresHeader) key = 'Expires';\n      if (key.indexOf('x-amz-meta-') === 0) {\n        // Delete existing, potentially not normalized key\n        delete queryParams[key];\n        key = key.toLowerCase();\n      }\n      queryParams[key] = value;\n    });\n    delete request.httpRequest.headers[expiresHeader];\n    delete queryParams['Authorization'];\n    delete queryParams['Host'];\n  } else if (auth[0] === 'AWS4-HMAC-SHA256') { // SigV4 signing\n    auth.shift();\n    var rest = auth.join(' ');\n    var signature = rest.match(/Signature=(.*?)(?:,|\\s|\\r?\\n|$)/)[1];\n    queryParams['X-Amz-Signature'] = signature;\n    delete queryParams['Expires'];\n  }\n\n  // build URL\n  endpoint.pathname = parsedUrl.pathname;\n  endpoint.search = AWS.util.queryParamsToString(queryParams);\n}\n\n/**\n * @api private\n */\nAWS.Signers.Presign = inherit({\n  /**\n   * @api private\n   */\n  sign: function sign(request, expireTime, callback) {\n    request.httpRequest.headers[expiresHeader] = expireTime || 3600;\n    request.on('build', signedUrlBuilder);\n    request.on('sign', signedUrlSigner);\n    request.removeListener('afterBuild',\n      AWS.EventListeners.Core.SET_CONTENT_LENGTH);\n    request.removeListener('afterBuild',\n      AWS.EventListeners.Core.COMPUTE_SHA256);\n\n    request.emit('beforePresign', [request]);\n\n    if (callback) {\n      request.build(function() {\n        if (this.response.error) callback(this.response.error);\n        else {\n          callback(null, AWS.util.urlFormat(request.httpRequest.endpoint));\n        }\n      });\n    } else {\n      request.build();\n      if (request.response.error) throw request.response.error;\n      return AWS.util.urlFormat(request.httpRequest.endpoint);\n    }\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.Presign;\n","var AWS = require('./core');\n\n/**\n * @api private\n */\nAWS.ParamValidator = AWS.util.inherit({\n  /**\n   * Create a new validator object.\n   *\n   * @param validation [Boolean|map] whether input parameters should be\n   *     validated against the operation description before sending the\n   *     request. Pass a map to enable any of the following specific\n   *     validation features:\n   *\n   *     * **min** [Boolean] &mdash; Validates that a value meets the min\n   *       constraint. This is enabled by default when paramValidation is set\n   *       to `true`.\n   *     * **max** [Boolean] &mdash; Validates that a value meets the max\n   *       constraint.\n   *     * **pattern** [Boolean] &mdash; Validates that a string value matches a\n   *       regular expression.\n   *     * **enum** [Boolean] &mdash; Validates that a string value matches one\n   *       of the allowable enum values.\n   */\n  constructor: function ParamValidator(validation) {\n    if (validation === true || validation === undefined) {\n      validation = {'min': true};\n    }\n    this.validation = validation;\n  },\n\n  validate: function validate(shape, params, context) {\n    this.errors = [];\n    this.validateMember(shape, params || {}, context || 'params');\n\n    if (this.errors.length > 1) {\n      var msg = this.errors.join('\\n* ');\n      msg = 'There were ' + this.errors.length +\n        ' validation errors:\\n* ' + msg;\n      throw AWS.util.error(new Error(msg),\n        {code: 'MultipleValidationErrors', errors: this.errors});\n    } else if (this.errors.length === 1) {\n      throw this.errors[0];\n    } else {\n      return true;\n    }\n  },\n\n  fail: function fail(code, message) {\n    this.errors.push(AWS.util.error(new Error(message), {code: code}));\n  },\n\n  validateStructure: function validateStructure(shape, params, context) {\n    this.validateType(params, context, ['object'], 'structure');\n\n    var paramName;\n    for (var i = 0; shape.required && i < shape.required.length; i++) {\n      paramName = shape.required[i];\n      var value = params[paramName];\n      if (value === undefined || value === null) {\n        this.fail('MissingRequiredParameter',\n          'Missing required key \\'' + paramName + '\\' in ' + context);\n      }\n    }\n\n    // validate hash members\n    for (paramName in params) {\n      if (!Object.prototype.hasOwnProperty.call(params, paramName)) continue;\n\n      var paramValue = params[paramName],\n          memberShape = shape.members[paramName];\n\n      if (memberShape !== undefined) {\n        var memberContext = [context, paramName].join('.');\n        this.validateMember(memberShape, paramValue, memberContext);\n      } else {\n        this.fail('UnexpectedParameter',\n          'Unexpected key \\'' + paramName + '\\' found in ' + context);\n      }\n    }\n\n    return true;\n  },\n\n  validateMember: function validateMember(shape, param, context) {\n    switch (shape.type) {\n      case 'structure':\n        return this.validateStructure(shape, param, context);\n      case 'list':\n        return this.validateList(shape, param, context);\n      case 'map':\n        return this.validateMap(shape, param, context);\n      default:\n        return this.validateScalar(shape, param, context);\n    }\n  },\n\n  validateList: function validateList(shape, params, context) {\n    if (this.validateType(params, context, [Array])) {\n      this.validateRange(shape, params.length, context, 'list member count');\n      // validate array members\n      for (var i = 0; i < params.length; i++) {\n        this.validateMember(shape.member, params[i], context + '[' + i + ']');\n      }\n    }\n  },\n\n  validateMap: function validateMap(shape, params, context) {\n    if (this.validateType(params, context, ['object'], 'map')) {\n      // Build up a count of map members to validate range traits.\n      var mapCount = 0;\n      for (var param in params) {\n        if (!Object.prototype.hasOwnProperty.call(params, param)) continue;\n        // Validate any map key trait constraints\n        this.validateMember(shape.key, param,\n                            context + '[key=\\'' + param + '\\']')\n        this.validateMember(shape.value, params[param],\n                            context + '[\\'' + param + '\\']');\n        mapCount++;\n      }\n      this.validateRange(shape, mapCount, context, 'map member count');\n    }\n  },\n\n  validateScalar: function validateScalar(shape, value, context) {\n    switch (shape.type) {\n      case null:\n      case undefined:\n      case 'string':\n        return this.validateString(shape, value, context);\n      case 'base64':\n      case 'binary':\n        return this.validatePayload(value, context);\n      case 'integer':\n      case 'float':\n        return this.validateNumber(shape, value, context);\n      case 'boolean':\n        return this.validateType(value, context, ['boolean']);\n      case 'timestamp':\n        return this.validateType(value, context, [Date,\n          /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/, 'number'],\n          'Date object, ISO-8601 string, or a UNIX timestamp');\n      default:\n        return this.fail('UnkownType', 'Unhandled type ' +\n                         shape.type + ' for ' + context);\n    }\n  },\n\n  validateString: function validateString(shape, value, context) {\n    var validTypes = ['string'];\n    if (shape.isJsonValue) {\n      validTypes = validTypes.concat(['number', 'object', 'boolean']);\n    }\n    if (value !== null && this.validateType(value, context, validTypes)) {\n      this.validateEnum(shape, value, context);\n      this.validateRange(shape, value.length, context, 'string length');\n      this.validatePattern(shape, value, context);\n    }\n  },\n\n  validatePattern: function validatePattern(shape, value, context) {\n    if (this.validation['pattern'] && shape['pattern'] !== undefined) {\n      if (!(new RegExp(shape['pattern'])).test(value)) {\n        this.fail('PatternMatchError', 'Provided value \"' + value + '\" '\n          + 'does not match regex pattern /' + shape['pattern'] + '/ for '\n          + context);\n      }\n    }\n  },\n\n  validateRange: function validateRange(shape, value, context, descriptor) {\n    if (this.validation['min']) {\n      if (shape['min'] !== undefined && value < shape['min']) {\n        this.fail('MinRangeError', 'Expected ' + descriptor + ' >= '\n          + shape['min'] + ', but found ' + value + ' for ' + context);\n      }\n    }\n    if (this.validation['max']) {\n      if (shape['max'] !== undefined && value > shape['max']) {\n        this.fail('MaxRangeError', 'Expected ' + descriptor + ' <= '\n          + shape['max'] + ', but found ' + value + ' for ' + context);\n      }\n    }\n  },\n\n  validateEnum: function validateRange(shape, value, context) {\n    if (this.validation['enum'] && shape['enum'] !== undefined) {\n      // Fail if the string value is not present in the enum list\n      if (shape['enum'].indexOf(value) === -1) {\n        this.fail('EnumError', 'Found string value of ' + value + ', but '\n          + 'expected ' + shape['enum'].join('|') + ' for ' + context);\n      }\n    }\n  },\n\n  validateType: function validateType(value, context, acceptedTypes, type) {\n    // We will not log an error for null or undefined, but we will return\n    // false so that callers know that the expected type was not strictly met.\n    if (value === null || value === undefined) return false;\n\n    var foundInvalidType = false;\n    for (var i = 0; i < acceptedTypes.length; i++) {\n      if (typeof acceptedTypes[i] === 'string') {\n        if (typeof value === acceptedTypes[i]) return true;\n      } else if (acceptedTypes[i] instanceof RegExp) {\n        if ((value || '').toString().match(acceptedTypes[i])) return true;\n      } else {\n        if (value instanceof acceptedTypes[i]) return true;\n        if (AWS.util.isType(value, acceptedTypes[i])) return true;\n        if (!type && !foundInvalidType) acceptedTypes = acceptedTypes.slice();\n        acceptedTypes[i] = AWS.util.typeName(acceptedTypes[i]);\n      }\n      foundInvalidType = true;\n    }\n\n    var acceptedType = type;\n    if (!acceptedType) {\n      acceptedType = acceptedTypes.join(', ').replace(/,([^,]+)$/, ', or$1');\n    }\n\n    var vowel = acceptedType.match(/^[aeiou]/i) ? 'n' : '';\n    this.fail('InvalidParameterType', 'Expected ' + context + ' to be a' +\n              vowel + ' ' + acceptedType);\n    return false;\n  },\n\n  validateNumber: function validateNumber(shape, value, context) {\n    if (value === null || value === undefined) return;\n    if (typeof value === 'string') {\n      var castedValue = parseFloat(value);\n      if (castedValue.toString() === value) value = castedValue;\n    }\n    if (this.validateType(value, context, ['number'])) {\n      this.validateRange(shape, value, context, 'numeric value');\n    }\n  },\n\n  validatePayload: function validatePayload(value, context) {\n    if (value === null || value === undefined) return;\n    if (typeof value === 'string') return;\n    if (value && typeof value.byteLength === 'number') return; // typed arrays\n    if (AWS.util.isNode()) { // special check for buffer/stream in Node.js\n      var Stream = AWS.util.stream.Stream;\n      if (AWS.util.Buffer.isBuffer(value) || value instanceof Stream) return;\n    }\n\n    var types = ['Buffer', 'Stream', 'File', 'Blob', 'ArrayBuffer', 'DataView'];\n    if (value) {\n      for (var i = 0; i < types.length; i++) {\n        if (AWS.util.isType(value, types[i])) return;\n        if (AWS.util.typeName(value.constructor) === types[i]) return;\n      }\n    }\n\n    this.fail('InvalidParameterType', 'Expected ' + context + ' to be a ' +\n      'string, Buffer, Stream, Blob, or typed array object');\n  }\n});\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var Hmac = require('./browserHmac');\nvar Md5 = require('./browserMd5');\nvar Sha1 = require('./browserSha1');\nvar Sha256 = require('./browserSha256');\n\n/**\n * @api private\n */\nmodule.exports = exports = {\n    createHash: function createHash(alg) {\n      alg = alg.toLowerCase();\n      if (alg === 'md5') {\n        return new Md5();\n      } else if (alg === 'sha256') {\n        return new Sha256();\n      } else if (alg === 'sha1') {\n        return new Sha1();\n      }\n\n      throw new Error('Hash algorithm ' + alg + ' is not supported in the browser SDK');\n    },\n    createHmac: function createHmac(alg, key) {\n      alg = alg.toLowerCase();\n      if (alg === 'md5') {\n        return new Hmac(Md5, key);\n      } else if (alg === 'sha256') {\n        return new Hmac(Sha256, key);\n      } else if (alg === 'sha1') {\n        return new Hmac(Sha1, key);\n      }\n\n      throw new Error('HMAC algorithm ' + alg + ' is not supported in the browser SDK');\n    },\n    createSign: function() {\n      throw new Error('createSign is not implemented in the browser');\n    }\n  }\n","var hashUtils = require('./browserHashUtils');\n\n/**\n * @api private\n */\nfunction Hmac(hashCtor, secret) {\n    this.hash = new hashCtor();\n    this.outer = new hashCtor();\n\n    var inner = bufferFromSecret(hashCtor, secret);\n    var outer = new Uint8Array(hashCtor.BLOCK_SIZE);\n    outer.set(inner);\n\n    for (var i = 0; i < hashCtor.BLOCK_SIZE; i++) {\n        inner[i] ^= 0x36;\n        outer[i] ^= 0x5c;\n    }\n\n    this.hash.update(inner);\n    this.outer.update(outer);\n\n    // Zero out the copied key buffer.\n    for (var i = 0; i < inner.byteLength; i++) {\n        inner[i] = 0;\n    }\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Hmac;\n\nHmac.prototype.update = function (toHash) {\n    if (hashUtils.isEmptyData(toHash) || this.error) {\n        return this;\n    }\n\n    try {\n        this.hash.update(hashUtils.convertToBuffer(toHash));\n    } catch (e) {\n        this.error = e;\n    }\n\n    return this;\n};\n\nHmac.prototype.digest = function (encoding) {\n    if (!this.outer.finished) {\n        this.outer.update(this.hash.digest());\n    }\n\n    return this.outer.digest(encoding);\n}\n\nfunction bufferFromSecret(hashCtor, secret) {\n    var input = hashUtils.convertToBuffer(secret);\n    if (input.byteLength > hashCtor.BLOCK_SIZE) {\n        var bufferHash = new hashCtor;\n        bufferHash.update(input);\n        input = bufferHash.digest();\n    }\n    var buffer = new Uint8Array(hashCtor.BLOCK_SIZE);\n    buffer.set(input);\n    return buffer;\n}\n","var hashUtils = require('./browserHashUtils');\nvar Buffer = require('buffer/').Buffer;\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 16;\n\nvar INIT = [\n    0x67452301,\n    0xefcdab89,\n    0x98badcfe,\n    0x10325476,\n];\n\n/**\n * @api private\n */\nfunction Md5() {\n    this.state = [\n        0x67452301,\n        0xefcdab89,\n        0x98badcfe,\n        0x10325476,\n    ];\n    this.buffer = new DataView(new ArrayBuffer(BLOCK_SIZE));\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    this.finished = false;\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Md5;\n\nMd5.BLOCK_SIZE = BLOCK_SIZE;\n\nMd5.prototype.update = function (sourceData) {\n    if (hashUtils.isEmptyData(sourceData)) {\n        return this;\n    } else if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    var data = hashUtils.convertToBuffer(sourceData);\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n    while (byteLength > 0) {\n        this.buffer.setUint8(this.bufferLength++, data[position++]);\n        byteLength--;\n        if (this.bufferLength === BLOCK_SIZE) {\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n    }\n\n    return this;\n};\n\nMd5.prototype.digest = function (encoding) {\n    if (!this.finished) {\n        var _a = this, buffer = _a.buffer, undecoratedLength = _a.bufferLength, bytesHashed = _a.bytesHashed;\n        var bitsHashed = bytesHashed * 8;\n        buffer.setUint8(this.bufferLength++, 128);\n        // Ensure the final block has enough room for the hashed length\n        if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n            for (var i = this.bufferLength; i < BLOCK_SIZE; i++) {\n                buffer.setUint8(i, 0);\n            }\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n        for (var i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n            buffer.setUint8(i, 0);\n        }\n        buffer.setUint32(BLOCK_SIZE - 8, bitsHashed >>> 0, true);\n        buffer.setUint32(BLOCK_SIZE - 4, Math.floor(bitsHashed / 0x100000000), true);\n        this.hashBuffer();\n        this.finished = true;\n    }\n    var out = new DataView(new ArrayBuffer(DIGEST_LENGTH));\n    for (var i = 0; i < 4; i++) {\n        out.setUint32(i * 4, this.state[i], true);\n    }\n    var buff = new Buffer(out.buffer, out.byteOffset, out.byteLength);\n    return encoding ? buff.toString(encoding) : buff;\n};\n\nMd5.prototype.hashBuffer = function () {\n    var _a = this, buffer = _a.buffer, state = _a.state;\n    var a = state[0], b = state[1], c = state[2], d = state[3];\n    a = ff(a, b, c, d, buffer.getUint32(0, true), 7, 0xd76aa478);\n    d = ff(d, a, b, c, buffer.getUint32(4, true), 12, 0xe8c7b756);\n    c = ff(c, d, a, b, buffer.getUint32(8, true), 17, 0x242070db);\n    b = ff(b, c, d, a, buffer.getUint32(12, true), 22, 0xc1bdceee);\n    a = ff(a, b, c, d, buffer.getUint32(16, true), 7, 0xf57c0faf);\n    d = ff(d, a, b, c, buffer.getUint32(20, true), 12, 0x4787c62a);\n    c = ff(c, d, a, b, buffer.getUint32(24, true), 17, 0xa8304613);\n    b = ff(b, c, d, a, buffer.getUint32(28, true), 22, 0xfd469501);\n    a = ff(a, b, c, d, buffer.getUint32(32, true), 7, 0x698098d8);\n    d = ff(d, a, b, c, buffer.getUint32(36, true), 12, 0x8b44f7af);\n    c = ff(c, d, a, b, buffer.getUint32(40, true), 17, 0xffff5bb1);\n    b = ff(b, c, d, a, buffer.getUint32(44, true), 22, 0x895cd7be);\n    a = ff(a, b, c, d, buffer.getUint32(48, true), 7, 0x6b901122);\n    d = ff(d, a, b, c, buffer.getUint32(52, true), 12, 0xfd987193);\n    c = ff(c, d, a, b, buffer.getUint32(56, true), 17, 0xa679438e);\n    b = ff(b, c, d, a, buffer.getUint32(60, true), 22, 0x49b40821);\n    a = gg(a, b, c, d, buffer.getUint32(4, true), 5, 0xf61e2562);\n    d = gg(d, a, b, c, buffer.getUint32(24, true), 9, 0xc040b340);\n    c = gg(c, d, a, b, buffer.getUint32(44, true), 14, 0x265e5a51);\n    b = gg(b, c, d, a, buffer.getUint32(0, true), 20, 0xe9b6c7aa);\n    a = gg(a, b, c, d, buffer.getUint32(20, true), 5, 0xd62f105d);\n    d = gg(d, a, b, c, buffer.getUint32(40, true), 9, 0x02441453);\n    c = gg(c, d, a, b, buffer.getUint32(60, true), 14, 0xd8a1e681);\n    b = gg(b, c, d, a, buffer.getUint32(16, true), 20, 0xe7d3fbc8);\n    a = gg(a, b, c, d, buffer.getUint32(36, true), 5, 0x21e1cde6);\n    d = gg(d, a, b, c, buffer.getUint32(56, true), 9, 0xc33707d6);\n    c = gg(c, d, a, b, buffer.getUint32(12, true), 14, 0xf4d50d87);\n    b = gg(b, c, d, a, buffer.getUint32(32, true), 20, 0x455a14ed);\n    a = gg(a, b, c, d, buffer.getUint32(52, true), 5, 0xa9e3e905);\n    d = gg(d, a, b, c, buffer.getUint32(8, true), 9, 0xfcefa3f8);\n    c = gg(c, d, a, b, buffer.getUint32(28, true), 14, 0x676f02d9);\n    b = gg(b, c, d, a, buffer.getUint32(48, true), 20, 0x8d2a4c8a);\n    a = hh(a, b, c, d, buffer.getUint32(20, true), 4, 0xfffa3942);\n    d = hh(d, a, b, c, buffer.getUint32(32, true), 11, 0x8771f681);\n    c = hh(c, d, a, b, buffer.getUint32(44, true), 16, 0x6d9d6122);\n    b = hh(b, c, d, a, buffer.getUint32(56, true), 23, 0xfde5380c);\n    a = hh(a, b, c, d, buffer.getUint32(4, true), 4, 0xa4beea44);\n    d = hh(d, a, b, c, buffer.getUint32(16, true), 11, 0x4bdecfa9);\n    c = hh(c, d, a, b, buffer.getUint32(28, true), 16, 0xf6bb4b60);\n    b = hh(b, c, d, a, buffer.getUint32(40, true), 23, 0xbebfbc70);\n    a = hh(a, b, c, d, buffer.getUint32(52, true), 4, 0x289b7ec6);\n    d = hh(d, a, b, c, buffer.getUint32(0, true), 11, 0xeaa127fa);\n    c = hh(c, d, a, b, buffer.getUint32(12, true), 16, 0xd4ef3085);\n    b = hh(b, c, d, a, buffer.getUint32(24, true), 23, 0x04881d05);\n    a = hh(a, b, c, d, buffer.getUint32(36, true), 4, 0xd9d4d039);\n    d = hh(d, a, b, c, buffer.getUint32(48, true), 11, 0xe6db99e5);\n    c = hh(c, d, a, b, buffer.getUint32(60, true), 16, 0x1fa27cf8);\n    b = hh(b, c, d, a, buffer.getUint32(8, true), 23, 0xc4ac5665);\n    a = ii(a, b, c, d, buffer.getUint32(0, true), 6, 0xf4292244);\n    d = ii(d, a, b, c, buffer.getUint32(28, true), 10, 0x432aff97);\n    c = ii(c, d, a, b, buffer.getUint32(56, true), 15, 0xab9423a7);\n    b = ii(b, c, d, a, buffer.getUint32(20, true), 21, 0xfc93a039);\n    a = ii(a, b, c, d, buffer.getUint32(48, true), 6, 0x655b59c3);\n    d = ii(d, a, b, c, buffer.getUint32(12, true), 10, 0x8f0ccc92);\n    c = ii(c, d, a, b, buffer.getUint32(40, true), 15, 0xffeff47d);\n    b = ii(b, c, d, a, buffer.getUint32(4, true), 21, 0x85845dd1);\n    a = ii(a, b, c, d, buffer.getUint32(32, true), 6, 0x6fa87e4f);\n    d = ii(d, a, b, c, buffer.getUint32(60, true), 10, 0xfe2ce6e0);\n    c = ii(c, d, a, b, buffer.getUint32(24, true), 15, 0xa3014314);\n    b = ii(b, c, d, a, buffer.getUint32(52, true), 21, 0x4e0811a1);\n    a = ii(a, b, c, d, buffer.getUint32(16, true), 6, 0xf7537e82);\n    d = ii(d, a, b, c, buffer.getUint32(44, true), 10, 0xbd3af235);\n    c = ii(c, d, a, b, buffer.getUint32(8, true), 15, 0x2ad7d2bb);\n    b = ii(b, c, d, a, buffer.getUint32(36, true), 21, 0xeb86d391);\n    state[0] = (a + state[0]) & 0xFFFFFFFF;\n    state[1] = (b + state[1]) & 0xFFFFFFFF;\n    state[2] = (c + state[2]) & 0xFFFFFFFF;\n    state[3] = (d + state[3]) & 0xFFFFFFFF;\n};\n\nfunction cmn(q, a, b, x, s, t) {\n    a = (((a + q) & 0xFFFFFFFF) + ((x + t) & 0xFFFFFFFF)) & 0xFFFFFFFF;\n    return (((a << s) | (a >>> (32 - s))) + b) & 0xFFFFFFFF;\n}\n\nfunction ff(a, b, c, d, x, s, t) {\n    return cmn((b & c) | ((~b) & d), a, b, x, s, t);\n}\n\nfunction gg(a, b, c, d, x, s, t) {\n    return cmn((b & d) | (c & (~d)), a, b, x, s, t);\n}\n\nfunction hh(a, b, c, d, x, s, t) {\n    return cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction ii(a, b, c, d, x, s, t) {\n    return cmn(c ^ (b | (~d)), a, b, x, s, t);\n}\n","var Buffer = require('buffer/').Buffer;\nvar hashUtils = require('./browserHashUtils');\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 20;\n\nvar KEY = new Uint32Array([\n    0x5a827999,\n    0x6ed9eba1,\n    0x8f1bbcdc | 0,\n    0xca62c1d6 | 0\n]);\n\nvar INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19,\n];\n\nvar MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n\n/**\n * @api private\n */\nfunction Sha1() {\n    this.h0 = 0x67452301;\n    this.h1 = 0xEFCDAB89;\n    this.h2 = 0x98BADCFE;\n    this.h3 = 0x10325476;\n    this.h4 = 0xC3D2E1F0;\n    // The first 64 bytes (16 words) is the data chunk\n    this.block = new Uint32Array(80);\n    this.offset = 0;\n    this.shift = 24;\n    this.totalLength = 0;\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Sha1;\n\nSha1.BLOCK_SIZE = BLOCK_SIZE;\n\nSha1.prototype.update = function (data) {\n    if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    if (hashUtils.isEmptyData(data)) {\n        return this;\n    }\n\n    data = hashUtils.convertToBuffer(data);\n\n    var length = data.length;\n    this.totalLength += length * 8;\n    for (var i = 0; i < length; i++) {\n        this.write(data[i]);\n    }\n\n    return this;\n};\n\nSha1.prototype.write = function write(byte) {\n    this.block[this.offset] |= (byte & 0xff) << this.shift;\n    if (this.shift) {\n        this.shift -= 8;\n    } else {\n        this.offset++;\n        this.shift = 24;\n    }\n\n    if (this.offset === 16) this.processBlock();\n};\n\nSha1.prototype.digest = function (encoding) {\n    // Pad\n    this.write(0x80);\n    if (this.offset > 14 || (this.offset === 14 && this.shift < 24)) {\n      this.processBlock();\n    }\n    this.offset = 14;\n    this.shift = 24;\n\n    // 64-bit length big-endian\n    this.write(0x00); // numbers this big aren't accurate in javascript anyway\n    this.write(0x00); // ..So just hard-code to zero.\n    this.write(this.totalLength > 0xffffffffff ? this.totalLength / 0x10000000000 : 0x00);\n    this.write(this.totalLength > 0xffffffff ? this.totalLength / 0x100000000 : 0x00);\n    for (var s = 24; s >= 0; s -= 8) {\n        this.write(this.totalLength >> s);\n    }\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    var out = new Buffer(DIGEST_LENGTH);\n    var outView = new DataView(out.buffer);\n    outView.setUint32(0, this.h0, false);\n    outView.setUint32(4, this.h1, false);\n    outView.setUint32(8, this.h2, false);\n    outView.setUint32(12, this.h3, false);\n    outView.setUint32(16, this.h4, false);\n\n    return encoding ? out.toString(encoding) : out;\n};\n\nSha1.prototype.processBlock = function processBlock() {\n    // Extend the sixteen 32-bit words into eighty 32-bit words:\n    for (var i = 16; i < 80; i++) {\n      var w = this.block[i - 3] ^ this.block[i - 8] ^ this.block[i - 14] ^ this.block[i - 16];\n      this.block[i] = (w << 1) | (w >>> 31);\n    }\n\n    // Initialize hash value for this chunk:\n    var a = this.h0;\n    var b = this.h1;\n    var c = this.h2;\n    var d = this.h3;\n    var e = this.h4;\n    var f, k;\n\n    // Main loop:\n    for (i = 0; i < 80; i++) {\n      if (i < 20) {\n        f = d ^ (b & (c ^ d));\n        k = 0x5A827999;\n      }\n      else if (i < 40) {\n        f = b ^ c ^ d;\n        k = 0x6ED9EBA1;\n      }\n      else if (i < 60) {\n        f = (b & c) | (d & (b | c));\n        k = 0x8F1BBCDC;\n      }\n      else {\n        f = b ^ c ^ d;\n        k = 0xCA62C1D6;\n      }\n      var temp = (a << 5 | a >>> 27) + f + e + k + (this.block[i]|0);\n      e = d;\n      d = c;\n      c = (b << 30 | b >>> 2);\n      b = a;\n      a = temp;\n    }\n\n    // Add this chunk's hash to result so far:\n    this.h0 = (this.h0 + a) | 0;\n    this.h1 = (this.h1 + b) | 0;\n    this.h2 = (this.h2 + c) | 0;\n    this.h3 = (this.h3 + d) | 0;\n    this.h4 = (this.h4 + e) | 0;\n\n    // The block is now reusable.\n    this.offset = 0;\n    for (i = 0; i < 16; i++) {\n        this.block[i] = 0;\n    }\n}\n","var Buffer = require('buffer/').Buffer;\nvar hashUtils = require('./browserHashUtils');\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 32;\n\nvar KEY = new Uint32Array([\n    0x428a2f98,\n    0x71374491,\n    0xb5c0fbcf,\n    0xe9b5dba5,\n    0x3956c25b,\n    0x59f111f1,\n    0x923f82a4,\n    0xab1c5ed5,\n    0xd807aa98,\n    0x12835b01,\n    0x243185be,\n    0x550c7dc3,\n    0x72be5d74,\n    0x80deb1fe,\n    0x9bdc06a7,\n    0xc19bf174,\n    0xe49b69c1,\n    0xefbe4786,\n    0x0fc19dc6,\n    0x240ca1cc,\n    0x2de92c6f,\n    0x4a7484aa,\n    0x5cb0a9dc,\n    0x76f988da,\n    0x983e5152,\n    0xa831c66d,\n    0xb00327c8,\n    0xbf597fc7,\n    0xc6e00bf3,\n    0xd5a79147,\n    0x06ca6351,\n    0x14292967,\n    0x27b70a85,\n    0x2e1b2138,\n    0x4d2c6dfc,\n    0x53380d13,\n    0x650a7354,\n    0x766a0abb,\n    0x81c2c92e,\n    0x92722c85,\n    0xa2bfe8a1,\n    0xa81a664b,\n    0xc24b8b70,\n    0xc76c51a3,\n    0xd192e819,\n    0xd6990624,\n    0xf40e3585,\n    0x106aa070,\n    0x19a4c116,\n    0x1e376c08,\n    0x2748774c,\n    0x34b0bcb5,\n    0x391c0cb3,\n    0x4ed8aa4a,\n    0x5b9cca4f,\n    0x682e6ff3,\n    0x748f82ee,\n    0x78a5636f,\n    0x84c87814,\n    0x8cc70208,\n    0x90befffa,\n    0xa4506ceb,\n    0xbef9a3f7,\n    0xc67178f2\n]);\n\nvar INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19,\n];\n\nvar MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n\n/**\n * @private\n */\nfunction Sha256() {\n    this.state = [\n        0x6a09e667,\n        0xbb67ae85,\n        0x3c6ef372,\n        0xa54ff53a,\n        0x510e527f,\n        0x9b05688c,\n        0x1f83d9ab,\n        0x5be0cd19,\n    ];\n    this.temp = new Int32Array(64);\n    this.buffer = new Uint8Array(64);\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    /**\n     * @private\n     */\n    this.finished = false;\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Sha256;\n\nSha256.BLOCK_SIZE = BLOCK_SIZE;\n\nSha256.prototype.update = function (data) {\n    if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    if (hashUtils.isEmptyData(data)) {\n        return this;\n    }\n\n    data = hashUtils.convertToBuffer(data);\n\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n    if (this.bytesHashed * 8 > MAX_HASHABLE_LENGTH) {\n        throw new Error('Cannot hash more than 2^53 - 1 bits');\n    }\n\n    while (byteLength > 0) {\n        this.buffer[this.bufferLength++] = data[position++];\n        byteLength--;\n        if (this.bufferLength === BLOCK_SIZE) {\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n    }\n\n    return this;\n};\n\nSha256.prototype.digest = function (encoding) {\n    if (!this.finished) {\n        var bitsHashed = this.bytesHashed * 8;\n        var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n        var undecoratedLength = this.bufferLength;\n        bufferView.setUint8(this.bufferLength++, 0x80);\n        // Ensure the final block has enough room for the hashed length\n        if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n            for (var i = this.bufferLength; i < BLOCK_SIZE; i++) {\n                bufferView.setUint8(i, 0);\n            }\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n        for (var i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n            bufferView.setUint8(i, 0);\n        }\n        bufferView.setUint32(BLOCK_SIZE - 8, Math.floor(bitsHashed / 0x100000000), true);\n        bufferView.setUint32(BLOCK_SIZE - 4, bitsHashed);\n        this.hashBuffer();\n        this.finished = true;\n    }\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    var out = new Buffer(DIGEST_LENGTH);\n    for (var i = 0; i < 8; i++) {\n        out[i * 4] = (this.state[i] >>> 24) & 0xff;\n        out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n        out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n        out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n    }\n    return encoding ? out.toString(encoding) : out;\n};\n\nSha256.prototype.hashBuffer = function () {\n    var _a = this,\n        buffer = _a.buffer,\n        state = _a.state;\n    var state0 = state[0],\n        state1 = state[1],\n        state2 = state[2],\n        state3 = state[3],\n        state4 = state[4],\n        state5 = state[5],\n        state6 = state[6],\n        state7 = state[7];\n    for (var i = 0; i < BLOCK_SIZE; i++) {\n        if (i < 16) {\n            this.temp[i] = (((buffer[i * 4] & 0xff) << 24) |\n                ((buffer[(i * 4) + 1] & 0xff) << 16) |\n                ((buffer[(i * 4) + 2] & 0xff) << 8) |\n                (buffer[(i * 4) + 3] & 0xff));\n        }\n        else {\n            var u = this.temp[i - 2];\n            var t1_1 = (u >>> 17 | u << 15) ^\n                (u >>> 19 | u << 13) ^\n                (u >>> 10);\n            u = this.temp[i - 15];\n            var t2_1 = (u >>> 7 | u << 25) ^\n                (u >>> 18 | u << 14) ^\n                (u >>> 3);\n            this.temp[i] = (t1_1 + this.temp[i - 7] | 0) +\n                (t2_1 + this.temp[i - 16] | 0);\n        }\n        var t1 = (((((state4 >>> 6 | state4 << 26) ^\n            (state4 >>> 11 | state4 << 21) ^\n            (state4 >>> 25 | state4 << 7))\n            + ((state4 & state5) ^ (~state4 & state6))) | 0)\n            + ((state7 + ((KEY[i] + this.temp[i]) | 0)) | 0)) | 0;\n        var t2 = (((state0 >>> 2 | state0 << 30) ^\n            (state0 >>> 13 | state0 << 19) ^\n            (state0 >>> 22 | state0 << 10)) + ((state0 & state1) ^ (state0 & state2) ^ (state1 & state2))) | 0;\n        state7 = state6;\n        state6 = state5;\n        state5 = state4;\n        state4 = (state3 + t1) | 0;\n        state3 = state2;\n        state2 = state1;\n        state1 = state0;\n        state0 = (t1 + t2) | 0;\n    }\n    state[0] += state0;\n    state[1] += state1;\n    state[2] += state2;\n    state[3] += state3;\n    state[4] += state4;\n    state[5] += state5;\n    state[6] += state6;\n    state[7] += state7;\n};\n","var eventMessageChunker = require('../event-stream/event-message-chunker').eventMessageChunker;\nvar parseEvent = require('./parse-event').parseEvent;\n\nfunction createEventStream(body, parser, model) {\n    var eventMessages = eventMessageChunker(body);\n\n    var events = [];\n\n    for (var i = 0; i < eventMessages.length; i++) {\n        events.push(parseEvent(parser, eventMessages[i], model));\n    }\n\n    return events;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    createEventStream: createEventStream\n};","/**\n * Takes in a buffer of event messages and splits them into individual messages.\n * @param {Buffer} buffer\n * @api private\n */\nfunction eventMessageChunker(buffer) {\n    /** @type Buffer[] */\n    var messages = [];\n    var offset = 0;\n\n    while (offset < buffer.length) {\n        var totalLength = buffer.readInt32BE(offset);\n\n        // create new buffer for individual message (shares memory with original)\n        var message = buffer.slice(offset, totalLength + offset);\n        // increment offset to it starts at the next message\n        offset += totalLength;\n\n        messages.push(message);\n    }\n\n    return messages;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    eventMessageChunker: eventMessageChunker\n};","var parseMessage = require('./parse-message').parseMessage;\n\n/**\n *\n * @param {*} parser\n * @param {Buffer} message\n * @param {*} shape\n * @api private\n */\nfunction parseEvent(parser, message, shape) {\n    var parsedMessage = parseMessage(message);\n\n    // check if message is an event or error\n    var messageType = parsedMessage.headers[':message-type'];\n    if (messageType) {\n        if (messageType.value === 'error') {\n            throw parseError(parsedMessage);\n        } else if (messageType.value !== 'event') {\n            // not sure how to parse non-events/non-errors, ignore for now\n            return;\n        }\n    }\n\n    // determine event type\n    var eventType = parsedMessage.headers[':event-type'];\n    // check that the event type is modeled\n    var eventModel = shape.members[eventType.value];\n    if (!eventModel) {\n        return;\n    }\n\n    var result = {};\n    // check if an event payload exists\n    var eventPayloadMemberName = eventModel.eventPayloadMemberName;\n    if (eventPayloadMemberName) {\n        var payloadShape = eventModel.members[eventPayloadMemberName];\n        // if the shape is binary, return the byte array\n        if (payloadShape.type === 'binary') {\n            result[eventPayloadMemberName] = parsedMessage.body;\n        } else {\n            result[eventPayloadMemberName] = parser.parse(parsedMessage.body.toString(), payloadShape);\n        }\n    }\n\n    // read event headers\n    var eventHeaderNames = eventModel.eventHeaderMemberNames;\n    for (var i = 0; i < eventHeaderNames.length; i++) {\n        var name = eventHeaderNames[i];\n        if (parsedMessage.headers[name]) {\n            // parse the header!\n            result[name] = eventModel.members[name].toType(parsedMessage.headers[name].value);\n        }\n    }\n\n    var output = {};\n    output[eventType.value] = result;\n    return output;\n}\n\nfunction parseError(message) {\n    var errorCode = message.headers[':error-code'];\n    var errorMessage = message.headers[':error-message'];\n    var error = new Error(errorMessage.value || errorMessage);\n    error.code = error.name = errorCode.value || errorCode;\n    return error;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    parseEvent: parseEvent\n};","var Int64 = require('./int64').Int64;\n\nvar splitMessage = require('./split-message').splitMessage;\n\nvar BOOLEAN_TAG = 'boolean';\nvar BYTE_TAG = 'byte';\nvar SHORT_TAG = 'short';\nvar INT_TAG = 'integer';\nvar LONG_TAG = 'long';\nvar BINARY_TAG = 'binary';\nvar STRING_TAG = 'string';\nvar TIMESTAMP_TAG = 'timestamp';\nvar UUID_TAG = 'uuid';\n\n/**\n * @api private\n *\n * @param {Buffer} headers\n */\nfunction parseHeaders(headers) {\n    var out = {};\n    var position = 0;\n    while (position < headers.length) {\n        var nameLength = headers.readUInt8(position++);\n        var name = headers.slice(position, position + nameLength).toString();\n        position += nameLength;\n        switch (headers.readUInt8(position++)) {\n            case 0 /* boolTrue */:\n                out[name] = {\n                    type: BOOLEAN_TAG,\n                    value: true\n                };\n                break;\n            case 1 /* boolFalse */:\n                out[name] = {\n                    type: BOOLEAN_TAG,\n                    value: false\n                };\n                break;\n            case 2 /* byte */:\n                out[name] = {\n                    type: BYTE_TAG,\n                    value: headers.readInt8(position++)\n                };\n                break;\n            case 3 /* short */:\n                out[name] = {\n                    type: SHORT_TAG,\n                    value: headers.readInt16BE(position)\n                };\n                position += 2;\n                break;\n            case 4 /* integer */:\n                out[name] = {\n                    type: INT_TAG,\n                    value: headers.readInt32BE(position)\n                };\n                position += 4;\n                break;\n            case 5 /* long */:\n                out[name] = {\n                    type: LONG_TAG,\n                    value: new Int64(headers.slice(position, position + 8))\n                };\n                position += 8;\n                break;\n            case 6 /* byteArray */:\n                var binaryLength = headers.readUInt16BE(position);\n                position += 2;\n                out[name] = {\n                    type: BINARY_TAG,\n                    value: headers.slice(position, position + binaryLength)\n                };\n                position += binaryLength;\n                break;\n            case 7 /* string */:\n                var stringLength = headers.readUInt16BE(position);\n                position += 2;\n                out[name] = {\n                    type: STRING_TAG,\n                    value: headers.slice(\n                        position,\n                        position + stringLength\n                    ).toString()\n                };\n                position += stringLength;\n                break;\n            case 8 /* timestamp */:\n                out[name] = {\n                    type: TIMESTAMP_TAG,\n                    value: new Date(\n                        new Int64(headers.slice(position, position + 8))\n                            .valueOf()\n                    )\n                };\n                position += 8;\n                break;\n            case 9 /* uuid */:\n                var uuidChars = headers.slice(position, position + 16)\n                    .toString('hex');\n                position += 16;\n                out[name] = {\n                    type: UUID_TAG,\n                    value: uuidChars.substr(0, 8) + '-' +\n                        uuidChars.substr(8, 4) + '-' +\n                        uuidChars.substr(12, 4) + '-' +\n                        uuidChars.substr(16, 4) + '-' +\n                        uuidChars.substr(20)\n                };\n                break;\n            default:\n                throw new Error('Unrecognized header type tag');\n        }\n    }\n    return out;\n}\n\nfunction parseMessage(message) {\n    var parsed = splitMessage(message);\n    return { headers: parseHeaders(parsed.headers), body: parsed.body };\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    parseMessage: parseMessage\n};","var util = require('../util');\nvar toBuffer = require('./to-buffer').toBuffer;\n\n/**\n * A lossless representation of a signed, 64-bit integer. Instances of this\n * class may be used in arithmetic expressions as if they were numeric\n * primitives, but the binary representation will be preserved unchanged as the\n * `bytes` property of the object. The bytes should be encoded as big-endian,\n * two's complement integers.\n * @param {Buffer} bytes\n *\n * @api private\n */\nfunction Int64(bytes) {\n    if (bytes.length !== 8) {\n        throw new Error('Int64 buffers must be exactly 8 bytes');\n    }\n    if (!util.Buffer.isBuffer(bytes)) bytes = toBuffer(bytes);\n\n    this.bytes = bytes;\n}\n\n/**\n * @param {number} number\n * @returns {Int64}\n *\n * @api private\n */\nInt64.fromNumber = function(number) {\n    if (number > 9223372036854775807 || number < -9223372036854775808) {\n        throw new Error(\n            number + ' is too large (or, if negative, too small) to represent as an Int64'\n        );\n    }\n\n    var bytes = new Uint8Array(8)\n    for (\n        var i = 7, remaining = Math.abs(Math.round(number));\n        i > -1 && remaining > 0;\n        i--, remaining /= 256\n    ) {\n        bytes[i] = remaining;\n    }\n\n    if (number < 0) {\n        negate(bytes);\n    }\n\n    return new Int64(bytes);\n};\n\n/**\n * @returns {number}\n *\n * @api private\n */\nInt64.prototype.valueOf = function() {\n    var bytes = this.bytes.slice(0);\n    var negative = bytes[0] & 128;\n    if (negative) {\n        negate(bytes);\n    }\n\n    return parseInt(bytes.toString('hex'), 16) * (negative ? -1 : 1);\n};\n\nInt64.prototype.toString = function() {\n    return String(this.valueOf());\n};\n\n/**\n * @param {Buffer} bytes\n *\n * @api private\n */\nfunction negate(bytes) {\n    for (var i = 0; i < 8; i++) {\n        bytes[i] ^= 0xFF;\n    }\n    for (var i = 7; i > -1; i--) {\n        bytes[i]++;\n        if (bytes[i] !== 0) {\n            break;\n        }\n    }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    Int64: Int64\n};","var util = require('../util');\nvar toBuffer = require('./to-buffer').toBuffer;\n\n// All prelude components are unsigned, 32-bit integers\nvar PRELUDE_MEMBER_LENGTH = 4;\n// The prelude consists of two components\nvar PRELUDE_LENGTH = PRELUDE_MEMBER_LENGTH * 2;\n// Checksums are always CRC32 hashes.\nvar CHECKSUM_LENGTH = 4;\n// Messages must include a full prelude, a prelude checksum, and a message checksum\nvar MINIMUM_MESSAGE_LENGTH = PRELUDE_LENGTH + CHECKSUM_LENGTH * 2;\n\n/**\n * @api private\n *\n * @param {Buffer} message\n */\nfunction splitMessage(message) {\n    if (!util.Buffer.isBuffer(message)) message = toBuffer(message);\n\n    if (message.length < MINIMUM_MESSAGE_LENGTH) {\n        throw new Error('Provided message too short to accommodate event stream message overhead');\n    }\n\n    if (message.length !== message.readUInt32BE(0)) {\n        throw new Error('Reported message length does not match received message length');\n    }\n\n    var expectedPreludeChecksum = message.readUInt32BE(PRELUDE_LENGTH);\n\n    if (\n        expectedPreludeChecksum !== util.crypto.crc32(\n            message.slice(0, PRELUDE_LENGTH)\n        )\n    ) {\n        throw new Error(\n            'The prelude checksum specified in the message (' +\n            expectedPreludeChecksum +\n            ') does not match the calculated CRC32 checksum.'\n        );\n    }\n\n    var expectedMessageChecksum = message.readUInt32BE(message.length - CHECKSUM_LENGTH);\n\n    if (\n        expectedMessageChecksum !== util.crypto.crc32(\n            message.slice(0, message.length - CHECKSUM_LENGTH)\n        )\n    ) {\n        throw new Error(\n            'The message checksum did not match the expected value of ' +\n                expectedMessageChecksum\n        );\n    }\n\n    var headersStart = PRELUDE_LENGTH + CHECKSUM_LENGTH;\n    var headersEnd = headersStart + message.readUInt32BE(PRELUDE_MEMBER_LENGTH);\n\n    return {\n        headers: message.slice(headersStart, headersEnd),\n        body: message.slice(headersEnd, message.length - CHECKSUM_LENGTH),\n    };\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    splitMessage: splitMessage\n};","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents temporary credentials retrieved from {AWS.STS}. Without any\n * extra parameters, credentials will be fetched from the\n * {AWS.STS.getSessionToken} operation. If an IAM role is provided, the\n * {AWS.STS.assumeRole} operation will be used to fetch credentials for the\n * role instead.\n *\n * To setup temporary credentials, configure a set of master credentials\n * using the standard credentials providers (environment, EC2 instance metadata,\n * or from the filesystem), then set the global credentials to a new\n * temporary credentials object:\n *\n * ```javascript\n * // Note that environment credentials are loaded by default,\n * // the following line is shown for clarity:\n * AWS.config.credentials = new AWS.EnvironmentCredentials('AWS');\n *\n * // Now set temporary credentials seeded from the master credentials\n * AWS.config.credentials = new AWS.TemporaryCredentials();\n *\n * // subsequent requests will now use temporary credentials from AWS STS.\n * new AWS.S3().listBucket(function(err, data) { ... });\n * ```\n *\n * @!attribute masterCredentials\n *   @return [AWS.Credentials] the master (non-temporary) credentials used to\n *     get and refresh temporary credentials from AWS STS.\n * @note (see constructor)\n */\nAWS.TemporaryCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new temporary credentials object.\n   *\n   * @note In order to create temporary credentials, you first need to have\n   *   \"master\" credentials configured in {AWS.Config.credentials}. These\n   *   master credentials are necessary to retrieve the temporary credentials,\n   *   as well as refresh the credentials when they expire.\n   * @param params [map] a map of options that are passed to the\n   *   {AWS.STS.assumeRole} or {AWS.STS.getSessionToken} operations.\n   *   If a `RoleArn` parameter is passed in, credentials will be based on the\n   *   IAM role.\n   * @param masterCredentials [AWS.Credentials] the master (non-temporary) credentials\n   *  used to get and refresh temporary credentials from AWS STS.\n   * @example Creating a new credentials object for generic temporary credentials\n   *   AWS.config.credentials = new AWS.TemporaryCredentials();\n   * @example Creating a new credentials object for an IAM role\n   *   AWS.config.credentials = new AWS.TemporaryCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/TemporaryCredentials',\n   *   });\n   * @see AWS.STS.assumeRole\n   * @see AWS.STS.getSessionToken\n   */\n  constructor: function TemporaryCredentials(params, masterCredentials) {\n    AWS.Credentials.call(this);\n    this.loadMasterCredentials(masterCredentials);\n    this.expired = true;\n\n    this.params = params || {};\n    if (this.params.RoleArn) {\n      this.params.RoleSessionName =\n        this.params.RoleSessionName || 'temporary-credentials';\n    }\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRole} or\n   * {AWS.STS.getSessionToken}, depending on whether an IAM role ARN was passed\n   * to the credentials {constructor}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    var self = this;\n    self.createClients();\n    if (!callback) callback = function(err) { if (err) throw err; };\n\n    self.masterCredentials.get(function() {\n      self.service.config.credentials = self.masterCredentials;\n      var operation = self.params.RoleArn ?\n        self.service.assumeRole : self.service.getSessionToken;\n      operation.call(self.service, function (err, data) {\n        if (!err) {\n          self.service.credentialsFrom(data, self);\n        }\n        callback(err);\n      });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  loadMasterCredentials: function loadMasterCredentials(masterCredentials) {\n    this.masterCredentials = masterCredentials || AWS.config.credentials;\n    while (this.masterCredentials.masterCredentials) {\n      this.masterCredentials = this.masterCredentials.masterCredentials;\n    }\n\n    if (typeof this.masterCredentials.get !== 'function') {\n      this.masterCredentials = new AWS.Credentials(this.masterCredentials);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    this.service = this.service || new STS({params: this.params});\n  }\n\n});\n","var AWS = require('../core');\n\nAWS.util.update(AWS.STS.prototype, {\n  /**\n   * @overload credentialsFrom(data, credentials = null)\n   *   Creates a credentials object from STS response data containing\n   *   credentials information. Useful for quickly setting AWS credentials.\n   *\n   *   @note This is a low-level utility function. If you want to load temporary\n   *     credentials into your process for subsequent requests to AWS resources,\n   *     you should use {AWS.TemporaryCredentials} instead.\n   *   @param data [map] data retrieved from a call to {getFederatedToken},\n   *     {getSessionToken}, {assumeRole}, or {assumeRoleWithWebIdentity}.\n   *   @param credentials [AWS.Credentials] an optional credentials object to\n   *     fill instead of creating a new object. Useful when modifying an\n   *     existing credentials object from a refresh call.\n   *   @return [AWS.TemporaryCredentials] the set of temporary credentials\n   *     loaded from a raw STS operation response.\n   *   @example Using credentialsFrom to load global AWS credentials\n   *     var sts = new AWS.STS();\n   *     sts.getSessionToken(function (err, data) {\n   *       if (err) console.log(\"Error getting credentials\");\n   *       else {\n   *         AWS.config.credentials = sts.credentialsFrom(data);\n   *       }\n   *     });\n   *   @see AWS.TemporaryCredentials\n   */\n  credentialsFrom: function credentialsFrom(data, credentials) {\n    if (!data) return null;\n    if (!credentials) credentials = new AWS.TemporaryCredentials();\n    credentials.expired = false;\n    credentials.accessKeyId = data.Credentials.AccessKeyId;\n    credentials.secretAccessKey = data.Credentials.SecretAccessKey;\n    credentials.sessionToken = data.Credentials.SessionToken;\n    credentials.expireTime = data.Credentials.Expiration;\n    return credentials;\n  },\n\n  assumeRoleWithWebIdentity: function assumeRoleWithWebIdentity(params, callback) {\n    return this.makeUnauthenticatedRequest('assumeRoleWithWebIdentity', params, callback);\n  },\n\n  assumeRoleWithSAML: function assumeRoleWithSAML(params, callback) {\n    return this.makeUnauthenticatedRequest('assumeRoleWithSAML', params, callback);\n  }\n});\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS Web Identity Federation support.\n *\n * By default this provider gets credentials using the\n * {AWS.STS.assumeRoleWithWebIdentity} service operation. This operation\n * requires a `RoleArn` containing the ARN of the IAM trust policy for the\n * application for which credentials will be given. In addition, the\n * `WebIdentityToken` must be set to the token provided by the identity\n * provider. See {constructor} for an example on creating a credentials\n * object with proper `RoleArn` and `WebIdentityToken` values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the WebIdentityToken, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.WebIdentityToken = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.STS.assumeRoleWithWebIdentity}. To update the token, set the\n *     `params.WebIdentityToken` property.\n * @!attribute data\n *   @return [map] the raw data response from the call to\n *     {AWS.STS.assumeRoleWithWebIdentity}. Use this if you want to get\n *     access to other properties from the response.\n */\nAWS.WebIdentityCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new credentials object.\n   * @param (see AWS.STS.assumeRoleWithWebIdentity)\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.WebIdentityCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/WebIdentity',\n   *     WebIdentityToken: 'ABCDEFGHIJKLMNOP', // token from identity service\n   *     RoleSessionName: 'web' // optional name, defaults to web-identity\n   *   }, {\n   *     // optionally provide configuration to apply to the underlying AWS.STS service client\n   *     // if configuration is not provided, then configuration will be pulled from AWS.config\n   *\n   *     // specify timeout options\n   *     httpOptions: {\n   *       timeout: 100\n   *     }\n   *   });\n   * @see AWS.STS.assumeRoleWithWebIdentity\n   * @see AWS.Config\n   */\n  constructor: function WebIdentityCredentials(params, clientConfig) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n    this.params.RoleSessionName = this.params.RoleSessionName || 'web-identity';\n    this.data = null;\n    this._clientConfig = AWS.util.copy(clientConfig || {});\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRoleWithWebIdentity}\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    var self = this;\n    self.createClients();\n    if (!callback) callback = function(err) { if (err) throw err; };\n\n    self.service.assumeRoleWithWebIdentity(function (err, data) {\n      self.data = null;\n      if (!err) {\n        self.data = data;\n        self.service.credentialsFrom(data, self);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    if (!this.service) {\n      var stsConfig = AWS.util.merge({}, this._clientConfig);\n      stsConfig.params = this.params;\n      this.service = new STS(stsConfig);\n    }\n  }\n\n});\n","var AWS = require('../core');\nvar CognitoIdentity = require('../../clients/cognitoidentity');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS Web Identity Federation using\n * the Amazon Cognito Identity service.\n *\n * By default this provider gets credentials using the\n * {AWS.CognitoIdentity.getCredentialsForIdentity} service operation, which\n * requires either an `IdentityId` or an `IdentityPoolId` (Amazon Cognito\n * Identity Pool ID), which is used to call {AWS.CognitoIdentity.getId} to\n * obtain an `IdentityId`. If the identity or identity pool is not configured in\n * the Amazon Cognito Console to use IAM roles with the appropriate permissions,\n * then additionally a `RoleArn` is required containing the ARN of the IAM trust\n * policy for the Amazon Cognito role that the user will log into. If a `RoleArn`\n * is provided, then this provider gets credentials using the\n * {AWS.STS.assumeRoleWithWebIdentity} service operation, after first getting an\n * Open ID token from {AWS.CognitoIdentity.getOpenIdToken}.\n *\n * In addition, if this credential provider is used to provide authenticated\n * login, the `Logins` map may be set to the tokens provided by the respective\n * identity providers. See {constructor} for an example on creating a credentials\n * object with proper property values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the WebIdentityToken, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.Logins['graph.facebook.com'] = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.CognitoIdentity.getId},\n *     {AWS.CognitoIdentity.getOpenIdToken}, and\n *     {AWS.STS.assumeRoleWithWebIdentity}. To update the token, set the\n *     `params.WebIdentityToken` property.\n * @!attribute data\n *   @return [map] the raw data response from the call to\n *     {AWS.CognitoIdentity.getCredentialsForIdentity}, or\n *     {AWS.STS.assumeRoleWithWebIdentity}. Use this if you want to get\n *     access to other properties from the response.\n * @!attribute identityId\n *   @return [String] the Cognito ID returned by the last call to\n *     {AWS.CognitoIdentity.getOpenIdToken}. This ID represents the actual\n *     final resolved identity ID from Amazon Cognito.\n */\nAWS.CognitoIdentityCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * @api private\n   */\n  localStorageKey: {\n    id: 'aws.cognito.identity-id.',\n    providers: 'aws.cognito.identity-providers.'\n  },\n\n  /**\n   * Creates a new credentials object.\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n   *\n   *     // either IdentityPoolId or IdentityId is required\n   *     // See the IdentityPoolId param for AWS.CognitoIdentity.getID (linked below)\n   *     // See the IdentityId param for AWS.CognitoIdentity.getCredentialsForIdentity\n   *     // or AWS.CognitoIdentity.getOpenIdToken (linked below)\n   *     IdentityPoolId: 'us-east-1:1699ebc0-7900-4099-b910-2df94f52a030',\n   *     IdentityId: 'us-east-1:128d0a74-c82f-4553-916d-90053e4a8b0f'\n   *\n   *     // optional, only necessary when the identity pool is not configured\n   *     // to use IAM roles in the Amazon Cognito Console\n   *     // See the RoleArn param for AWS.STS.assumeRoleWithWebIdentity (linked below)\n   *     RoleArn: 'arn:aws:iam::1234567890:role/MYAPP-CognitoIdentity',\n   *\n   *     // optional tokens, used for authenticated login\n   *     // See the Logins param for AWS.CognitoIdentity.getID (linked below)\n   *     Logins: {\n   *       'graph.facebook.com': 'FBTOKEN',\n   *       'www.amazon.com': 'AMAZONTOKEN',\n   *       'accounts.google.com': 'GOOGLETOKEN',\n   *       'api.twitter.com': 'TWITTERTOKEN',\n   *       'www.digits.com': 'DIGITSTOKEN'\n   *     },\n   *\n   *     // optional name, defaults to web-identity\n   *     // See the RoleSessionName param for AWS.STS.assumeRoleWithWebIdentity (linked below)\n   *     RoleSessionName: 'web',\n   *\n   *     // optional, only necessary when application runs in a browser\n   *     // and multiple users are signed in at once, used for caching\n   *     LoginId: 'example@gmail.com'\n   *\n   *   }, {\n   *      // optionally provide configuration to apply to the underlying service clients\n   *      // if configuration is not provided, then configuration will be pulled from AWS.config\n   *\n   *      // region should match the region your identity pool is located in\n   *      region: 'us-east-1',\n   *\n   *      // specify timeout options\n   *      httpOptions: {\n   *        timeout: 100\n   *      }\n   *   });\n   * @see AWS.CognitoIdentity.getId\n   * @see AWS.CognitoIdentity.getCredentialsForIdentity\n   * @see AWS.STS.assumeRoleWithWebIdentity\n   * @see AWS.CognitoIdentity.getOpenIdToken\n   * @see AWS.Config\n   * @note If a region is not provided in the global AWS.config, or\n   *   specified in the `clientConfig` to the CognitoIdentityCredentials\n   *   constructor, you may encounter a 'Missing credentials in config' error\n   *   when calling making a service call.\n   */\n  constructor: function CognitoIdentityCredentials(params, clientConfig) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n    this.data = null;\n    this._identityId = null;\n    this._clientConfig = AWS.util.copy(clientConfig || {});\n    this.loadCachedId();\n    var self = this;\n    Object.defineProperty(this, 'identityId', {\n      get: function() {\n        self.loadCachedId();\n        return self._identityId || self.params.IdentityId;\n      },\n      set: function(identityId) {\n        self._identityId = identityId;\n      }\n    });\n  },\n\n  /**\n   * Refreshes credentials using {AWS.CognitoIdentity.getCredentialsForIdentity},\n   * or {AWS.STS.assumeRoleWithWebIdentity}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see AWS.Credentials.get\n   */\n  refresh: function refresh(callback) {\n    var self = this;\n    self.createClients();\n    self.data = null;\n    self._identityId = null;\n    self.getId(function(err) {\n      if (!err) {\n        if (!self.params.RoleArn) {\n          self.getCredentialsForIdentity(callback);\n        } else {\n          self.getCredentialsFromSTS(callback);\n        }\n      } else {\n        self.clearIdOnNotAuthorized(err);\n        callback(err);\n      }\n    });\n  },\n\n  /**\n   * Clears the cached Cognito ID associated with the currently configured\n   * identity pool ID. Use this to manually invalidate your cache if\n   * the identity pool ID was deleted.\n   */\n  clearCachedId: function clearCache() {\n    this._identityId = null;\n    delete this.params.IdentityId;\n\n    var poolId = this.params.IdentityPoolId;\n    var loginId = this.params.LoginId || '';\n    delete this.storage[this.localStorageKey.id + poolId + loginId];\n    delete this.storage[this.localStorageKey.providers + poolId + loginId];\n  },\n\n  /**\n   * @api private\n   */\n  clearIdOnNotAuthorized: function clearIdOnNotAuthorized(err) {\n    var self = this;\n    if (err.code == 'NotAuthorizedException') {\n      self.clearCachedId();\n    }\n  },\n\n  /**\n   * Retrieves a Cognito ID, loading from cache if it was already retrieved\n   * on this device.\n   *\n   * @callback callback function(err, identityId)\n   *   @param err [Error, null] an error object if the call failed or null if\n   *     it succeeded.\n   *   @param identityId [String, null] if successful, the callback will return\n   *     the Cognito ID.\n   * @note If not loaded explicitly, the Cognito ID is loaded and stored in\n   *   localStorage in the browser environment of a device.\n   * @api private\n   */\n  getId: function getId(callback) {\n    var self = this;\n    if (typeof self.params.IdentityId === 'string') {\n      return callback(null, self.params.IdentityId);\n    }\n\n    self.cognito.getId(function(err, data) {\n      if (!err && data.IdentityId) {\n        self.params.IdentityId = data.IdentityId;\n        callback(null, data.IdentityId);\n      } else {\n        callback(err);\n      }\n    });\n  },\n\n\n  /**\n   * @api private\n   */\n  loadCredentials: function loadCredentials(data, credentials) {\n    if (!data || !credentials) return;\n    credentials.expired = false;\n    credentials.accessKeyId = data.Credentials.AccessKeyId;\n    credentials.secretAccessKey = data.Credentials.SecretKey;\n    credentials.sessionToken = data.Credentials.SessionToken;\n    credentials.expireTime = data.Credentials.Expiration;\n  },\n\n  /**\n   * @api private\n   */\n  getCredentialsForIdentity: function getCredentialsForIdentity(callback) {\n    var self = this;\n    self.cognito.getCredentialsForIdentity(function(err, data) {\n      if (!err) {\n        self.cacheId(data);\n        self.data = data;\n        self.loadCredentials(self.data, self);\n      } else {\n        self.clearIdOnNotAuthorized(err);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  getCredentialsFromSTS: function getCredentialsFromSTS(callback) {\n    var self = this;\n    self.cognito.getOpenIdToken(function(err, data) {\n      if (!err) {\n        self.cacheId(data);\n        self.params.WebIdentityToken = data.Token;\n        self.webIdentityCredentials.refresh(function(webErr) {\n          if (!webErr) {\n            self.data = self.webIdentityCredentials.data;\n            self.sts.credentialsFrom(self.data, self);\n          }\n          callback(webErr);\n        });\n      } else {\n        self.clearIdOnNotAuthorized(err);\n        callback(err);\n      }\n    });\n  },\n\n  /**\n   * @api private\n   */\n  loadCachedId: function loadCachedId() {\n    var self = this;\n\n    // in the browser we source default IdentityId from localStorage\n    if (AWS.util.isBrowser() && !self.params.IdentityId) {\n      var id = self.getStorage('id');\n      if (id && self.params.Logins) {\n        var actualProviders = Object.keys(self.params.Logins);\n        var cachedProviders =\n          (self.getStorage('providers') || '').split(',');\n\n        // only load ID if at least one provider used this ID before\n        var intersect = cachedProviders.filter(function(n) {\n          return actualProviders.indexOf(n) !== -1;\n        });\n        if (intersect.length !== 0) {\n          self.params.IdentityId = id;\n        }\n      } else if (id) {\n        self.params.IdentityId = id;\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    var clientConfig = this._clientConfig;\n    this.webIdentityCredentials = this.webIdentityCredentials ||\n      new AWS.WebIdentityCredentials(this.params, clientConfig);\n    if (!this.cognito) {\n      var cognitoConfig = AWS.util.merge({}, clientConfig);\n      cognitoConfig.params = this.params;\n      this.cognito = new CognitoIdentity(cognitoConfig);\n    }\n    this.sts = this.sts || new STS(clientConfig);\n  },\n\n  /**\n   * @api private\n   */\n  cacheId: function cacheId(data) {\n    this._identityId = data.IdentityId;\n    this.params.IdentityId = this._identityId;\n\n    // cache this IdentityId in browser localStorage if possible\n    if (AWS.util.isBrowser()) {\n      this.setStorage('id', data.IdentityId);\n\n      if (this.params.Logins) {\n        this.setStorage('providers', Object.keys(this.params.Logins).join(','));\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getStorage: function getStorage(key) {\n    return this.storage[this.localStorageKey[key] + this.params.IdentityPoolId + (this.params.LoginId || '')];\n  },\n\n  /**\n   * @api private\n   */\n  setStorage: function setStorage(key, val) {\n    try {\n      this.storage[this.localStorageKey[key] + this.params.IdentityPoolId + (this.params.LoginId || '')] = val;\n    } catch (_) {}\n  },\n\n  /**\n   * @api private\n   */\n  storage: (function() {\n    try {\n      var storage = AWS.util.isBrowser() && window.localStorage !== null && typeof window.localStorage === 'object' ?\n          window.localStorage : {};\n\n      // Test set/remove which would throw an error in Safari's private browsing\n      storage['aws.test-storage'] = 'foobar';\n      delete storage['aws.test-storage'];\n\n      return storage;\n    } catch (_) {\n      return {};\n    }\n  })()\n});\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cognitoidentity'] = {};\nAWS.CognitoIdentity = Service.defineService('cognitoidentity', ['2014-06-30']);\nrequire('../lib/services/cognitoidentity');\nObject.defineProperty(apiLoader.services['cognitoidentity'], '2014-06-30', {\n  get: function get() {\n    var model = require('../apis/cognito-identity-2014-06-30.min.json');\n    model.paginators = require('../apis/cognito-identity-2014-06-30.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CognitoIdentity;\n","var AWS = require('../core');\n\nAWS.util.update(AWS.CognitoIdentity.prototype, {\n  getOpenIdToken: function getOpenIdToken(params, callback) {\n    return this.makeUnauthenticatedRequest('getOpenIdToken', params, callback);\n  },\n\n  getId: function getId(params, callback) {\n    return this.makeUnauthenticatedRequest('getId', params, callback);\n  },\n\n  getCredentialsForIdentity: function getCredentialsForIdentity(params, callback) {\n    return this.makeUnauthenticatedRequest('getCredentialsForIdentity', params, callback);\n  }\n});\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS SAML support.\n *\n * By default this provider gets credentials using the\n * {AWS.STS.assumeRoleWithSAML} service operation. This operation\n * requires a `RoleArn` containing the ARN of the IAM trust policy for the\n * application for which credentials will be given, as well as a `PrincipalArn`\n * representing the ARN for the SAML identity provider. In addition, the\n * `SAMLAssertion` must be set to the token provided by the identity\n * provider. See {constructor} for an example on creating a credentials\n * object with proper `RoleArn`, `PrincipalArn`, and `SAMLAssertion` values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the SAMLAssertion, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.SAMLAssertion = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.STS.assumeRoleWithSAML}. To update the token, set the\n *     `params.SAMLAssertion` property.\n */\nAWS.SAMLCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new credentials object.\n   * @param (see AWS.STS.assumeRoleWithSAML)\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.SAMLCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/SAMLRole',\n   *     PrincipalArn: 'arn:aws:iam::1234567890:role/SAMLPrincipal',\n   *     SAMLAssertion: 'base64-token', // base64-encoded token from IdP\n   *   });\n   * @see AWS.STS.assumeRoleWithSAML\n   */\n  constructor: function SAMLCredentials(params) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRoleWithSAML}\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    var self = this;\n    self.createClients();\n    if (!callback) callback = function(err) { if (err) throw err; };\n\n    self.service.assumeRoleWithSAML(function (err, data) {\n      if (!err) {\n        self.service.credentialsFrom(data, self);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    this.service = this.service || new STS({params: this.params});\n  }\n\n});\n","var util = require('../util');\nvar Shape = require('../model/shape');\n\nfunction DomXmlParser() { }\n\nDomXmlParser.prototype.parse = function(xml, shape) {\n  if (xml.replace(/^\\s+/, '') === '') return {};\n\n  var result, error;\n  try {\n    if (window.DOMParser) {\n      try {\n        var parser = new DOMParser();\n        result = parser.parseFromString(xml, 'text/xml');\n      } catch (syntaxError) {\n        throw util.error(new Error('Parse error in document'),\n          {\n            originalError: syntaxError,\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n\n      if (result.documentElement === null) {\n        throw util.error(new Error('Cannot parse empty document.'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n\n      var isError = result.getElementsByTagName('parsererror')[0];\n      if (isError && (isError.parentNode === result ||\n          isError.parentNode.nodeName === 'body' ||\n          isError.parentNode.parentNode === result ||\n          isError.parentNode.parentNode.nodeName === 'body')) {\n        var errorElement = isError.getElementsByTagName('div')[0] || isError;\n        throw util.error(new Error(errorElement.textContent || 'Parser error in document'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n    } else if (window.ActiveXObject) {\n      result = new window.ActiveXObject('Microsoft.XMLDOM');\n      result.async = false;\n\n      if (!result.loadXML(xml)) {\n        throw util.error(new Error('Parse error in document'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n    } else {\n      throw new Error('Cannot load XML parser');\n    }\n  } catch (e) {\n    error = e;\n  }\n\n  if (result && result.documentElement && !error) {\n    var data = parseXml(result.documentElement, shape);\n    var metadata = result.getElementsByTagName('ResponseMetadata')[0];\n    if (metadata) {\n      data.ResponseMetadata = parseXml(metadata, {});\n    }\n    return data;\n  } else if (error) {\n    throw util.error(error || new Error(), {code: 'XMLParserError', retryable: true});\n  } else { // empty xml document\n    return {};\n  }\n};\n\nfunction parseXml(xml, shape) {\n  if (!shape) shape = {};\n  switch (shape.type) {\n    case 'structure': return parseStructure(xml, shape);\n    case 'map': return parseMap(xml, shape);\n    case 'list': return parseList(xml, shape);\n    case undefined: case null: return parseUnknown(xml);\n    default: return parseScalar(xml, shape);\n  }\n}\n\nfunction parseStructure(xml, shape) {\n  var data = {};\n  if (xml === null) return data;\n\n  util.each(shape.members, function(memberName, memberShape) {\n    if (memberShape.isXmlAttribute) {\n      if (Object.prototype.hasOwnProperty.call(xml.attributes, memberShape.name)) {\n        var value = xml.attributes[memberShape.name].value;\n        data[memberName] = parseXml({textContent: value}, memberShape);\n      }\n    } else {\n      var xmlChild = memberShape.flattened ? xml :\n        xml.getElementsByTagName(memberShape.name)[0];\n      if (xmlChild) {\n        data[memberName] = parseXml(xmlChild, memberShape);\n      } else if (!memberShape.flattened && memberShape.type === 'list') {\n        data[memberName] = memberShape.defaultValue;\n      }\n    }\n  });\n\n  return data;\n}\n\nfunction parseMap(xml, shape) {\n  var data = {};\n  var xmlKey = shape.key.name || 'key';\n  var xmlValue = shape.value.name || 'value';\n  var tagName = shape.flattened ? shape.name : 'entry';\n\n  var child = xml.firstElementChild;\n  while (child) {\n    if (child.nodeName === tagName) {\n      var key = child.getElementsByTagName(xmlKey)[0].textContent;\n      var value = child.getElementsByTagName(xmlValue)[0];\n      data[key] = parseXml(value, shape.value);\n    }\n    child = child.nextElementSibling;\n  }\n  return data;\n}\n\nfunction parseList(xml, shape) {\n  var data = [];\n  var tagName = shape.flattened ? shape.name : (shape.member.name || 'member');\n\n  var child = xml.firstElementChild;\n  while (child) {\n    if (child.nodeName === tagName) {\n      data.push(parseXml(child, shape.member));\n    }\n    child = child.nextElementSibling;\n  }\n  return data;\n}\n\nfunction parseScalar(xml, shape) {\n  if (xml.getAttribute) {\n    var encoding = xml.getAttribute('encoding');\n    if (encoding === 'base64') {\n      shape = new Shape.create({type: encoding});\n    }\n  }\n\n  var text = xml.textContent;\n  if (text === '') text = null;\n  if (typeof shape.toType === 'function') {\n    return shape.toType(text);\n  } else {\n    return text;\n  }\n}\n\nfunction parseUnknown(xml) {\n  if (xml === undefined || xml === null) return '';\n\n  // empty object\n  if (!xml.firstElementChild) {\n    if (xml.parentNode.parentNode === null) return {};\n    if (xml.childNodes.length === 0) return '';\n    else return xml.textContent;\n  }\n\n  // object, parse as structure\n  var shape = {type: 'structure', members: {}};\n  var child = xml.firstElementChild;\n  while (child) {\n    var tag = child.nodeName;\n    if (Object.prototype.hasOwnProperty.call(shape.members, tag)) {\n      // multiple tags of the same name makes it a list\n      shape.members[tag].type = 'list';\n    } else {\n      shape.members[tag] = {name: tag};\n    }\n    child = child.nextElementSibling;\n  }\n  return parseStructure(xml, shape);\n}\n\n/**\n * @api private\n */\nmodule.exports = DomXmlParser;\n","var AWS = require('../core');\nvar EventEmitter = require('events').EventEmitter;\nrequire('../http');\n\n/**\n * @api private\n */\nAWS.XHRClient = AWS.util.inherit({\n  handleRequest: function handleRequest(httpRequest, httpOptions, callback, errCallback) {\n    var self = this;\n    var endpoint = httpRequest.endpoint;\n    var emitter = new EventEmitter();\n    var href = endpoint.protocol + '//' + endpoint.hostname;\n    if (endpoint.port !== 80 && endpoint.port !== 443) {\n      href += ':' + endpoint.port;\n    }\n    href += httpRequest.path;\n\n    var xhr = new XMLHttpRequest(), headersEmitted = false;\n    httpRequest.stream = xhr;\n\n    xhr.addEventListener('readystatechange', function() {\n      try {\n        if (xhr.status === 0) return; // 0 code is invalid\n      } catch (e) { return; }\n\n      if (this.readyState >= this.HEADERS_RECEIVED && !headersEmitted) {\n        emitter.statusCode = xhr.status;\n        emitter.headers = self.parseHeaders(xhr.getAllResponseHeaders());\n        emitter.emit(\n          'headers',\n          emitter.statusCode,\n          emitter.headers,\n          xhr.statusText\n        );\n        headersEmitted = true;\n      }\n      if (this.readyState === this.DONE) {\n        self.finishRequest(xhr, emitter);\n      }\n    }, false);\n    xhr.upload.addEventListener('progress', function (evt) {\n      emitter.emit('sendProgress', evt);\n    });\n    xhr.addEventListener('progress', function (evt) {\n      emitter.emit('receiveProgress', evt);\n    }, false);\n    xhr.addEventListener('timeout', function () {\n      errCallback(AWS.util.error(new Error('Timeout'), {code: 'TimeoutError'}));\n    }, false);\n    xhr.addEventListener('error', function () {\n      errCallback(AWS.util.error(new Error('Network Failure'), {\n        code: 'NetworkingError'\n      }));\n    }, false);\n    xhr.addEventListener('abort', function () {\n      errCallback(AWS.util.error(new Error('Request aborted'), {\n        code: 'RequestAbortedError'\n      }));\n    }, false);\n\n    callback(emitter);\n    xhr.open(httpRequest.method, href, httpOptions.xhrAsync !== false);\n    AWS.util.each(httpRequest.headers, function (key, value) {\n      if (key !== 'Content-Length' && key !== 'User-Agent' && key !== 'Host') {\n        xhr.setRequestHeader(key, value);\n      }\n    });\n\n    if (httpOptions.timeout && httpOptions.xhrAsync !== false) {\n      xhr.timeout = httpOptions.timeout;\n    }\n\n    if (httpOptions.xhrWithCredentials) {\n      xhr.withCredentials = true;\n    }\n    try { xhr.responseType = 'arraybuffer'; } catch (e) {}\n\n    try {\n      if (httpRequest.body) {\n        xhr.send(httpRequest.body);\n      } else {\n        xhr.send();\n      }\n    } catch (err) {\n      if (httpRequest.body && typeof httpRequest.body.buffer === 'object') {\n        xhr.send(httpRequest.body.buffer); // send ArrayBuffer directly\n      } else {\n        throw err;\n      }\n    }\n\n    return emitter;\n  },\n\n  parseHeaders: function parseHeaders(rawHeaders) {\n    var headers = {};\n    AWS.util.arrayEach(rawHeaders.split(/\\r?\\n/), function (line) {\n      var key = line.split(':', 1)[0];\n      var value = line.substring(key.length + 2);\n      if (key.length > 0) headers[key.toLowerCase()] = value;\n    });\n    return headers;\n  },\n\n  finishRequest: function finishRequest(xhr, emitter) {\n    var buffer;\n    if (xhr.responseType === 'arraybuffer' && xhr.response) {\n      var ab = xhr.response;\n      buffer = new AWS.util.Buffer(ab.byteLength);\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < buffer.length; ++i) {\n        buffer[i] = view[i];\n      }\n    }\n\n    try {\n      if (!buffer && typeof xhr.responseText === 'string') {\n        buffer = new AWS.util.Buffer(xhr.responseText);\n      }\n    } catch (e) {}\n\n    if (buffer) emitter.emit('data', buffer);\n    emitter.emit('end');\n  }\n});\n\n/**\n * @api private\n */\nAWS.HttpClient.prototype = AWS.XHRClient.prototype;\n\n/**\n * @api private\n */\nAWS.HttpClient.streamsApiVersion = 1;\n","var AWS = require('../core');\nvar v4Credentials = require('../signers/v4_credentials');\n\n// Pull in managed upload extension\nrequire('../s3/managed_upload');\n\n/**\n * @api private\n */\nvar operationsWith200StatusCodeError = {\n  'completeMultipartUpload': true,\n  'copyObject': true,\n  'uploadPartCopy': true\n};\n\n/**\n * @api private\n */\n var regionRedirectErrorCodes = [\n  'AuthorizationHeaderMalformed', // non-head operations on virtual-hosted global bucket endpoints\n  'BadRequest', // head operations on virtual-hosted global bucket endpoints\n  'PermanentRedirect', // non-head operations on path-style or regional endpoints\n  301 // head operations on path-style or regional endpoints\n ];\n\nAWS.util.update(AWS.S3.prototype, {\n  /**\n   * @api private\n   */\n  getSignatureVersion: function getSignatureVersion(request) {\n    var defaultApiVersion = this.api.signatureVersion;\n    var userDefinedVersion = this._originalConfig ? this._originalConfig.signatureVersion : null;\n    var regionDefinedVersion = this.config.signatureVersion;\n    var isPresigned = request ? request.isPresigned() : false;\n    /*\n      1) User defined version specified:\n        a) always return user defined version\n      2) No user defined version specified:\n        a) default to lowest version the region supports\n        b) If using presigned urls, default to lowest version the region supports\n    */\n    if (userDefinedVersion) {\n      userDefinedVersion = userDefinedVersion === 'v2' ? 's3' : userDefinedVersion;\n      return userDefinedVersion;\n    }\n    if (isPresigned !== true) {\n      defaultApiVersion = 'v4';\n    } else if (regionDefinedVersion) {\n      defaultApiVersion = regionDefinedVersion;\n    }\n    return defaultApiVersion;\n  },\n\n  /**\n   * @api private\n   */\n  getSignerClass: function getSignerClass(request) {\n    var signatureVersion = this.getSignatureVersion(request);\n    return AWS.Signers.RequestSigner.getVersion(signatureVersion);\n  },\n\n  /**\n   * @api private\n   */\n  validateService: function validateService() {\n    var msg;\n    var messages = [];\n\n    // default to us-east-1 when no region is provided\n    if (!this.config.region) this.config.region = 'us-east-1';\n\n    if (!this.config.endpoint && this.config.s3BucketEndpoint) {\n      messages.push('An endpoint must be provided when configuring ' +\n                    '`s3BucketEndpoint` to true.');\n    }\n    if (messages.length === 1) {\n      msg = messages[0];\n    } else if (messages.length > 1) {\n      msg = 'Multiple configuration errors:\\n' + messages.join('\\n');\n    }\n    if (msg) {\n      throw AWS.util.error(new Error(),\n        {name: 'InvalidEndpoint', message: msg});\n    }\n  },\n\n  /**\n   * @api private\n   */\n  shouldDisableBodySigning: function shouldDisableBodySigning(request) {\n    var signerClass = this.getSignerClass();\n    if (this.config.s3DisableBodySigning === true && signerClass === AWS.Signers.V4\n        && request.httpRequest.endpoint.protocol === 'https:') {\n      return true;\n    }\n    return false;\n  },\n\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    request.addListener('validate', this.validateScheme);\n    request.addListener('validate', this.validateBucketEndpoint);\n    request.addListener('validate', this.correctBucketRegionFromCache);\n    request.addListener('validate', this.validateBucketName);\n    request.addListener('build', this.addContentType);\n    request.addListener('build', this.populateURI);\n    request.addListener('build', this.computeContentMd5);\n    request.addListener('build', this.computeSseCustomerKeyMd5);\n    request.addListener('afterBuild', this.addExpect100Continue);\n    request.removeListener('validate',\n      AWS.EventListeners.Core.VALIDATE_REGION);\n    request.addListener('extractError', this.extractError);\n    request.onAsync('extractError', this.requestBucketRegion);\n    request.addListener('extractData', this.extractData);\n    request.addListener('extractData', AWS.util.hoistPayloadMember);\n    request.addListener('beforePresign', this.prepareSignedUrl);\n    if (AWS.util.isBrowser()) {\n      request.onAsync('retry', this.reqRegionForNetworkingError);\n    }\n    if (this.shouldDisableBodySigning(request))  {\n      request.removeListener('afterBuild', AWS.EventListeners.Core.COMPUTE_SHA256);\n      request.addListener('afterBuild', this.disableBodySigning);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateScheme: function(req) {\n    var params = req.params,\n        scheme = req.httpRequest.endpoint.protocol,\n        sensitive = params.SSECustomerKey || params.CopySourceSSECustomerKey;\n    if (sensitive && scheme !== 'https:') {\n      var msg = 'Cannot send SSE keys over HTTP. Set \\'sslEnabled\\'' +\n        'to \\'true\\' in your configuration';\n      throw AWS.util.error(new Error(),\n        { code: 'ConfigError', message: msg });\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateBucketEndpoint: function(req) {\n    if (!req.params.Bucket && req.service.config.s3BucketEndpoint) {\n      var msg = 'Cannot send requests to root API with `s3BucketEndpoint` set.';\n      throw AWS.util.error(new Error(),\n        { code: 'ConfigError', message: msg });\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateBucketName: function validateBucketName(req) {\n    var service = req.service;\n    var signatureVersion = service.getSignatureVersion(req);\n    // Only validate buckets when using sigv4\n    if (signatureVersion !== 'v4') {\n      return;\n    }\n    var bucket = req.params && req.params.Bucket;\n    var key = req.params && req.params.Key;\n    var slashIndex = bucket && bucket.indexOf('/');\n    if (bucket && slashIndex >= 0) {\n      if (typeof key === 'string') {\n        req.params = AWS.util.copy(req.params);\n        // Need to include trailing slash to match sigv2 behavior\n        var prefix = bucket.substr(slashIndex + 1) || '';\n        req.params.Key = prefix + '/' + key;\n        req.params.Bucket = bucket.substr(0, slashIndex);\n      } else {\n        var msg = 'Bucket names cannot contain forward slashes. Bucket: ' + bucket;\n        throw AWS.util.error(new Error(),\n          { code: 'InvalidBucket', message: msg });\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  isValidAccelerateOperation: function isValidAccelerateOperation(operation) {\n    var invalidOperations = [\n      'createBucket',\n      'deleteBucket',\n      'listBuckets'\n    ];\n    return invalidOperations.indexOf(operation) === -1;\n  },\n\n\n  /**\n   * S3 prefers dns-compatible bucket names to be moved from the uri path\n   * to the hostname as a sub-domain.  This is not possible, even for dns-compat\n   * buckets when using SSL and the bucket name contains a dot ('.').  The\n   * ssl wildcard certificate is only 1-level deep.\n   *\n   * @api private\n   */\n  populateURI: function populateURI(req) {\n    var httpRequest = req.httpRequest;\n    var b = req.params.Bucket;\n    var service = req.service;\n    var endpoint = httpRequest.endpoint;\n    if (b) {\n      if (!service.pathStyleBucketName(b)) {\n        if (service.config.useAccelerateEndpoint && service.isValidAccelerateOperation(req.operation)) {\n          if (service.config.useDualstack) {\n            endpoint.hostname = b + '.s3-accelerate.dualstack.amazonaws.com';\n          } else {\n            endpoint.hostname = b + '.s3-accelerate.amazonaws.com';\n          }\n        } else if (!service.config.s3BucketEndpoint) {\n          endpoint.hostname =\n            b + '.' + endpoint.hostname;\n        }\n\n        var port = endpoint.port;\n        if (port !== 80 && port !== 443) {\n          endpoint.host = endpoint.hostname + ':' +\n            endpoint.port;\n        } else {\n          endpoint.host = endpoint.hostname;\n        }\n\n        httpRequest.virtualHostedBucket = b; // needed for signing the request\n        service.removeVirtualHostedBucketFromPath(req);\n      }\n    }\n  },\n\n  /**\n   * Takes the bucket name out of the path if bucket is virtual-hosted\n   *\n   * @api private\n   */\n  removeVirtualHostedBucketFromPath: function removeVirtualHostedBucketFromPath(req) {\n    var httpRequest = req.httpRequest;\n    var bucket = httpRequest.virtualHostedBucket;\n    if (bucket && httpRequest.path) {\n      httpRequest.path = httpRequest.path.replace(new RegExp('/' + bucket), '');\n      if (httpRequest.path[0] !== '/') {\n        httpRequest.path = '/' + httpRequest.path;\n      }\n    }\n  },\n\n  /**\n   * Adds Expect: 100-continue header if payload is greater-or-equal 1MB\n   * @api private\n   */\n  addExpect100Continue: function addExpect100Continue(req) {\n    var len = req.httpRequest.headers['Content-Length'];\n    if (AWS.util.isNode() && len >= 1024 * 1024) {\n      req.httpRequest.headers['Expect'] = '100-continue';\n    }\n  },\n\n  /**\n   * Adds a default content type if none is supplied.\n   *\n   * @api private\n   */\n  addContentType: function addContentType(req) {\n    var httpRequest = req.httpRequest;\n    if (httpRequest.method === 'GET' || httpRequest.method === 'HEAD') {\n      // Content-Type is not set in GET/HEAD requests\n      delete httpRequest.headers['Content-Type'];\n      return;\n    }\n\n    if (!httpRequest.headers['Content-Type']) { // always have a Content-Type\n      httpRequest.headers['Content-Type'] = 'application/octet-stream';\n    }\n\n    var contentType = httpRequest.headers['Content-Type'];\n    if (AWS.util.isBrowser()) {\n      if (typeof httpRequest.body === 'string' && !contentType.match(/;\\s*charset=/)) {\n        var charset = '; charset=UTF-8';\n        httpRequest.headers['Content-Type'] += charset;\n      } else {\n        var replaceFn = function(_, prefix, charsetName) {\n          return prefix + charsetName.toUpperCase();\n        };\n\n        httpRequest.headers['Content-Type'] =\n          contentType.replace(/(;\\s*charset=)(.+)$/, replaceFn);\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  computableChecksumOperations: {\n    putBucketCors: true,\n    putBucketLifecycle: true,\n    putBucketLifecycleConfiguration: true,\n    putBucketTagging: true,\n    deleteObjects: true,\n    putBucketReplication: true\n  },\n\n  /**\n   * Checks whether checksums should be computed for the request.\n   * If the request requires checksums to be computed, this will always\n   * return true, otherwise it depends on whether {AWS.Config.computeChecksums}\n   * is set.\n   *\n   * @param req [AWS.Request] the request to check against\n   * @return [Boolean] whether to compute checksums for a request.\n   * @api private\n   */\n  willComputeChecksums: function willComputeChecksums(req) {\n    if (this.computableChecksumOperations[req.operation]) return true;\n    if (!this.config.computeChecksums) return false;\n\n    // TODO: compute checksums for Stream objects\n    if (!AWS.util.Buffer.isBuffer(req.httpRequest.body) &&\n        typeof req.httpRequest.body !== 'string') {\n      return false;\n    }\n\n    var rules = req.service.api.operations[req.operation].input.members;\n\n    // Sha256 signing disabled, and not a presigned url\n    if (req.service.shouldDisableBodySigning(req) && !Object.prototype.hasOwnProperty.call(req.httpRequest.headers, 'presigned-expires')) {\n      if (rules.ContentMD5 && !req.params.ContentMD5) {\n        return true;\n      }\n    }\n\n    // V4 signer uses SHA256 signatures so only compute MD5 if it is required\n    if (req.service.getSignerClass(req) === AWS.Signers.V4) {\n      if (rules.ContentMD5 && !rules.ContentMD5.required) return false;\n    }\n\n    if (rules.ContentMD5 && !req.params.ContentMD5) return true;\n  },\n\n  /**\n   * A listener that computes the Content-MD5 and sets it in the header.\n   * @see AWS.S3.willComputeChecksums\n   * @api private\n   */\n  computeContentMd5: function computeContentMd5(req) {\n    if (req.service.willComputeChecksums(req)) {\n      var md5 = AWS.util.crypto.md5(req.httpRequest.body, 'base64');\n      req.httpRequest.headers['Content-MD5'] = md5;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  computeSseCustomerKeyMd5: function computeSseCustomerKeyMd5(req) {\n    var keys = {\n      SSECustomerKey: 'x-amz-server-side-encryption-customer-key-MD5',\n      CopySourceSSECustomerKey: 'x-amz-copy-source-server-side-encryption-customer-key-MD5'\n    };\n    AWS.util.each(keys, function(key, header) {\n      if (req.params[key]) {\n        var value = AWS.util.crypto.md5(req.params[key], 'base64');\n        req.httpRequest.headers[header] = value;\n      }\n    });\n  },\n\n  /**\n   * Returns true if the bucket name should be left in the URI path for\n   * a request to S3.  This function takes into account the current\n   * endpoint protocol (e.g. http or https).\n   *\n   * @api private\n   */\n  pathStyleBucketName: function pathStyleBucketName(bucketName) {\n    // user can force path style requests via the configuration\n    if (this.config.s3ForcePathStyle) return true;\n    if (this.config.s3BucketEndpoint) return false;\n\n    if (this.dnsCompatibleBucketName(bucketName)) {\n      return (this.config.sslEnabled && bucketName.match(/\\./)) ? true : false;\n    } else {\n      return true; // not dns compatible names must always use path style\n    }\n  },\n\n  /**\n   * Returns true if the bucket name is DNS compatible.  Buckets created\n   * outside of the classic region MUST be DNS compatible.\n   *\n   * @api private\n   */\n  dnsCompatibleBucketName: function dnsCompatibleBucketName(bucketName) {\n    var b = bucketName;\n    var domain = new RegExp(/^[a-z0-9][a-z0-9\\.\\-]{1,61}[a-z0-9]$/);\n    var ipAddress = new RegExp(/(\\d+\\.){3}\\d+/);\n    var dots = new RegExp(/\\.\\./);\n    return (b.match(domain) && !b.match(ipAddress) && !b.match(dots)) ? true : false;\n  },\n\n  /**\n   * @return [Boolean] whether response contains an error\n   * @api private\n   */\n  successfulResponse: function successfulResponse(resp) {\n    var req = resp.request;\n    var httpResponse = resp.httpResponse;\n    if (operationsWith200StatusCodeError[req.operation] &&\n        httpResponse.body.toString().match('<Error>')) {\n      return false;\n    } else {\n      return httpResponse.statusCode < 300;\n    }\n  },\n\n  /**\n   * @return [Boolean] whether the error can be retried\n   * @api private\n   */\n  retryableError: function retryableError(error, request) {\n    if (operationsWith200StatusCodeError[request.operation] &&\n        error.statusCode === 200) {\n      return true;\n    } else if (request._requestRegionForBucket &&\n        request.service.bucketRegionCache[request._requestRegionForBucket]) {\n      return false;\n    } else if (error && error.code === 'RequestTimeout') {\n      return true;\n    } else if (error &&\n        regionRedirectErrorCodes.indexOf(error.code) != -1 &&\n        error.region && error.region != request.httpRequest.region) {\n      request.httpRequest.region = error.region;\n      if (error.statusCode === 301) {\n        request.service.updateReqBucketRegion(request);\n      }\n      return true;\n    } else {\n      var _super = AWS.Service.prototype.retryableError;\n      return _super.call(this, error, request);\n    }\n  },\n\n  /**\n   * Updates httpRequest with region. If region is not provided, then\n   * the httpRequest will be updated based on httpRequest.region\n   *\n   * @api private\n   */\n  updateReqBucketRegion: function updateReqBucketRegion(request, region) {\n    var httpRequest = request.httpRequest;\n    if (typeof region === 'string' && region.length) {\n      httpRequest.region = region;\n    }\n    if (!httpRequest.endpoint.host.match(/s3(?!-accelerate).*\\.amazonaws\\.com$/)) {\n      return;\n    }\n    var service = request.service;\n    var s3Config = service.config;\n    var s3BucketEndpoint = s3Config.s3BucketEndpoint;\n    if (s3BucketEndpoint) {\n      delete s3Config.s3BucketEndpoint;\n    }\n    var newConfig = AWS.util.copy(s3Config);\n    delete newConfig.endpoint;\n    newConfig.region = httpRequest.region;\n\n    httpRequest.endpoint = (new AWS.S3(newConfig)).endpoint;\n    service.populateURI(request);\n    s3Config.s3BucketEndpoint = s3BucketEndpoint;\n    httpRequest.headers.Host = httpRequest.endpoint.host;\n\n    if (request._asm.currentState === 'validate') {\n      request.removeListener('build', service.populateURI);\n      request.addListener('build', service.removeVirtualHostedBucketFromPath);\n    }\n  },\n\n  /**\n   * Provides a specialized parser for getBucketLocation -- all other\n   * operations are parsed by the super class.\n   *\n   * @api private\n   */\n  extractData: function extractData(resp) {\n    var req = resp.request;\n    if (req.operation === 'getBucketLocation') {\n      var match = resp.httpResponse.body.toString().match(/>(.+)<\\/Location/);\n      delete resp.data['_'];\n      if (match) {\n        resp.data.LocationConstraint = match[1];\n      } else {\n        resp.data.LocationConstraint = '';\n      }\n    }\n    var bucket = req.params.Bucket || null;\n    if (req.operation === 'deleteBucket' && typeof bucket === 'string' && !resp.error) {\n      req.service.clearBucketRegionCache(bucket);\n    } else {\n      var headers = resp.httpResponse.headers || {};\n      var region = headers['x-amz-bucket-region'] || null;\n      if (!region && req.operation === 'createBucket' && !resp.error) {\n        var createBucketConfiguration = req.params.CreateBucketConfiguration;\n        if (!createBucketConfiguration) {\n          region = 'us-east-1';\n        } else if (createBucketConfiguration.LocationConstraint === 'EU') {\n          region = 'eu-west-1';\n        } else {\n          region = createBucketConfiguration.LocationConstraint;\n        }\n      }\n      if (region) {\n          if (bucket && region !== req.service.bucketRegionCache[bucket]) {\n            req.service.bucketRegionCache[bucket] = region;\n          }\n      }\n    }\n    req.service.extractRequestIds(resp);\n  },\n\n  /**\n   * Extracts an error object from the http response.\n   *\n   * @api private\n   */\n  extractError: function extractError(resp) {\n    var codes = {\n      304: 'NotModified',\n      403: 'Forbidden',\n      400: 'BadRequest',\n      404: 'NotFound'\n    };\n\n    var req = resp.request;\n    var code = resp.httpResponse.statusCode;\n    var body = resp.httpResponse.body || '';\n\n    var headers = resp.httpResponse.headers || {};\n    var region = headers['x-amz-bucket-region'] || null;\n    var bucket = req.params.Bucket || null;\n    var bucketRegionCache = req.service.bucketRegionCache;\n    if (region && bucket && region !== bucketRegionCache[bucket]) {\n      bucketRegionCache[bucket] = region;\n    }\n\n    var cachedRegion;\n    if (codes[code] && body.length === 0) {\n      if (bucket && !region) {\n        cachedRegion = bucketRegionCache[bucket] || null;\n        if (cachedRegion !== req.httpRequest.region) {\n          region = cachedRegion;\n        }\n      }\n      resp.error = AWS.util.error(new Error(), {\n        code: codes[code],\n        message: null,\n        region: region\n      });\n    } else {\n      var data = new AWS.XML.Parser().parse(body.toString());\n\n      if (data.Region && !region) {\n        region = data.Region;\n        if (bucket && region !== bucketRegionCache[bucket]) {\n          bucketRegionCache[bucket] = region;\n        }\n      } else if (bucket && !region && !data.Region) {\n        cachedRegion = bucketRegionCache[bucket] || null;\n        if (cachedRegion !== req.httpRequest.region) {\n          region = cachedRegion;\n        }\n      }\n\n      resp.error = AWS.util.error(new Error(), {\n        code: data.Code || code,\n        message: data.Message || null,\n        region: region\n      });\n    }\n    req.service.extractRequestIds(resp);\n  },\n\n  /**\n   * If region was not obtained synchronously, then send async request\n   * to get bucket region for errors resulting from wrong region.\n   *\n   * @api private\n   */\n  requestBucketRegion: function requestBucketRegion(resp, done) {\n    var error = resp.error;\n    var req = resp.request;\n    var bucket = req.params.Bucket || null;\n\n    if (!error || !bucket || error.region || req.operation === 'listObjects' ||\n        (AWS.util.isNode() && req.operation === 'headBucket') ||\n        (error.statusCode === 400 && req.operation !== 'headObject') ||\n        regionRedirectErrorCodes.indexOf(error.code) === -1) {\n      return done();\n    }\n    var reqOperation = AWS.util.isNode() ? 'headBucket' : 'listObjects';\n    var reqParams = {Bucket: bucket};\n    if (reqOperation === 'listObjects') reqParams.MaxKeys = 0;\n    var regionReq = req.service[reqOperation](reqParams);\n    regionReq._requestRegionForBucket = bucket;\n    regionReq.send(function() {\n      var region = req.service.bucketRegionCache[bucket] || null;\n      error.region = region;\n      done();\n    });\n  },\n\n   /**\n   * For browser only. If NetworkingError received, will attempt to obtain\n   * the bucket region.\n   *\n   * @api private\n   */\n   reqRegionForNetworkingError: function reqRegionForNetworkingError(resp, done) {\n    if (!AWS.util.isBrowser()) {\n      return done();\n    }\n    var error = resp.error;\n    var request = resp.request;\n    var bucket = request.params.Bucket;\n    if (!error || error.code !== 'NetworkingError' || !bucket ||\n        request.httpRequest.region === 'us-east-1') {\n      return done();\n    }\n    var service = request.service;\n    var bucketRegionCache = service.bucketRegionCache;\n    var cachedRegion = bucketRegionCache[bucket] || null;\n\n    if (cachedRegion && cachedRegion !== request.httpRequest.region) {\n      service.updateReqBucketRegion(request, cachedRegion);\n      done();\n    } else if (!service.dnsCompatibleBucketName(bucket)) {\n      service.updateReqBucketRegion(request, 'us-east-1');\n      if (bucketRegionCache[bucket] !== 'us-east-1') {\n        bucketRegionCache[bucket] = 'us-east-1';\n      }\n      done();\n    } else if (request.httpRequest.virtualHostedBucket) {\n      var getRegionReq = service.listObjects({Bucket: bucket, MaxKeys: 0});\n      service.updateReqBucketRegion(getRegionReq, 'us-east-1');\n      getRegionReq._requestRegionForBucket = bucket;\n\n      getRegionReq.send(function() {\n        var region = service.bucketRegionCache[bucket] || null;\n        if (region && region !== request.httpRequest.region) {\n          service.updateReqBucketRegion(request, region);\n        }\n        done();\n      });\n    } else {\n      // DNS-compatible path-style\n      // (s3ForcePathStyle or bucket name with dot over https)\n      // Cannot obtain region information for this case\n      done();\n    }\n   },\n\n  /**\n   * Cache for bucket region.\n   *\n   * @api private\n   */\n   bucketRegionCache: {},\n\n  /**\n   * Clears bucket region cache.\n   *\n   * @api private\n   */\n   clearBucketRegionCache: function(buckets) {\n    var bucketRegionCache = this.bucketRegionCache;\n    if (!buckets) {\n      buckets = Object.keys(bucketRegionCache);\n    } else if (typeof buckets === 'string') {\n      buckets = [buckets];\n    }\n    for (var i = 0; i < buckets.length; i++) {\n      delete bucketRegionCache[buckets[i]];\n    }\n    return bucketRegionCache;\n   },\n\n   /**\n    * Corrects request region if bucket's cached region is different\n    *\n    * @api private\n    */\n  correctBucketRegionFromCache: function correctBucketRegionFromCache(req) {\n    var bucket = req.params.Bucket || null;\n    if (bucket) {\n      var service = req.service;\n      var requestRegion = req.httpRequest.region;\n      var cachedRegion = service.bucketRegionCache[bucket];\n      if (cachedRegion && cachedRegion !== requestRegion) {\n        service.updateReqBucketRegion(req, cachedRegion);\n      }\n    }\n  },\n\n  /**\n   * Extracts S3 specific request ids from the http response.\n   *\n   * @api private\n   */\n  extractRequestIds: function extractRequestIds(resp) {\n    var extendedRequestId = resp.httpResponse.headers ? resp.httpResponse.headers['x-amz-id-2'] : null;\n    var cfId = resp.httpResponse.headers ? resp.httpResponse.headers['x-amz-cf-id'] : null;\n    resp.extendedRequestId = extendedRequestId;\n    resp.cfId = cfId;\n\n    if (resp.error) {\n      resp.error.requestId = resp.requestId || null;\n      resp.error.extendedRequestId = extendedRequestId;\n      resp.error.cfId = cfId;\n    }\n  },\n\n  /**\n   * Get a pre-signed URL for a given operation name.\n   *\n   * @note You must ensure that you have static or previously resolved\n   *   credentials if you call this method synchronously (with no callback),\n   *   otherwise it may not properly sign the request. If you cannot guarantee\n   *   this (you are using an asynchronous credential provider, i.e., EC2\n   *   IAM roles), you should always call this method with an asynchronous\n   *   callback.\n   * @note Not all operation parameters are supported when using pre-signed\n   *   URLs. Certain parameters, such as `SSECustomerKey`, `ACL`, `Expires`,\n   *   `ContentLength`, or `Tagging` must be provided as headers when sending a\n   *   request. If you are using pre-signed URLs to upload from a browser and\n   *   need to use these fields, see {createPresignedPost}.\n   * @param operation [String] the name of the operation to call\n   * @param params [map] parameters to pass to the operation. See the given\n   *   operation for the expected operation parameters. In addition, you can\n   *   also pass the \"Expires\" parameter to inform S3 how long the URL should\n   *   work for.\n   * @option params Expires [Integer] (900) the number of seconds to expire\n   *   the pre-signed URL operation in. Defaults to 15 minutes.\n   * @param callback [Function] if a callback is provided, this function will\n   *   pass the URL as the second parameter (after the error parameter) to\n   *   the callback function.\n   * @return [String] if called synchronously (with no callback), returns the\n   *   signed URL.\n   * @return [null] nothing is returned if a callback is provided.\n   * @example Pre-signing a getObject operation (synchronously)\n   *   var params = {Bucket: 'bucket', Key: 'key'};\n   *   var url = s3.getSignedUrl('getObject', params);\n   *   console.log('The URL is', url);\n   * @example Pre-signing a putObject (asynchronously)\n   *   var params = {Bucket: 'bucket', Key: 'key'};\n   *   s3.getSignedUrl('putObject', params, function (err, url) {\n   *     console.log('The URL is', url);\n   *   });\n   * @example Pre-signing a putObject operation with a specific payload\n   *   var params = {Bucket: 'bucket', Key: 'key', Body: 'body'};\n   *   var url = s3.getSignedUrl('putObject', params);\n   *   console.log('The URL is', url);\n   * @example Passing in a 1-minute expiry time for a pre-signed URL\n   *   var params = {Bucket: 'bucket', Key: 'key', Expires: 60};\n   *   var url = s3.getSignedUrl('getObject', params);\n   *   console.log('The URL is', url); // expires in 60 seconds\n   */\n  getSignedUrl: function getSignedUrl(operation, params, callback) {\n    params = AWS.util.copy(params || {});\n    var expires = params.Expires || 900;\n    delete params.Expires; // we can't validate this\n    var request = this.makeRequest(operation, params);\n\n    if (callback) {\n      AWS.util.defer(function() {\n        request.presign(expires, callback);\n      });\n    } else {\n      return request.presign(expires, callback);\n    }\n  },\n\n\n  /**\n   * Get a pre-signed POST policy to support uploading to S3 directly from an\n   * HTML form.\n   *\n   * @param params [map]\n   * @option params Bucket [String]     The bucket to which the post should be\n   *                                    uploaded\n   * @option params Expires [Integer]   (3600) The number of seconds for which\n   *                                    the presigned policy should be valid.\n   * @option params Conditions [Array]  An array of conditions that must be met\n   *                                    for the presigned policy to allow the\n   *                                    upload. This can include required tags,\n   *                                    the accepted range for content lengths,\n   *                                    etc.\n   * @see http://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-HTTPPOSTConstructPolicy.html\n   * @option params Fields [map]        Fields to include in the form. All\n   *                                    values passed in as fields will be\n   *                                    signed as exact match conditions.\n   * @param callback [Function]\n   *\n   * @note All fields passed in when creating presigned post data will be signed\n   *   as exact match conditions. Any fields that will be interpolated by S3\n   *   must be added to the fields hash after signing, and an appropriate\n   *   condition for such fields must be explicitly added to the Conditions\n   *   array passed to this function before signing.\n   *\n   * @example Presiging post data with a known key\n   *   var params = {\n   *     Bucket: 'bucket',\n   *     Fields: {\n   *       key: 'key'\n   *     }\n   *   };\n   *   s3.createPresignedPost(params, function(err, data) {\n   *     if (err) {\n   *       console.error('Presigning post data encountered an error', err);\n   *     } else {\n   *       console.log('The post data is', data);\n   *     }\n   *   });\n   *\n   * @example Presigning post data with an interpolated key\n   *   var params = {\n   *     Bucket: 'bucket',\n   *     Conditions: [\n   *       ['starts-with', '$key', 'path/to/uploads/']\n   *     ]\n   *   };\n   *   s3.createPresignedPost(params, function(err, data) {\n   *     if (err) {\n   *       console.error('Presigning post data encountered an error', err);\n   *     } else {\n   *       data.Fields.key = 'path/to/uploads/${filename}';\n   *       console.log('The post data is', data);\n   *     }\n   *   });\n   *\n   * @note You must ensure that you have static or previously resolved\n   *   credentials if you call this method synchronously (with no callback),\n   *   otherwise it may not properly sign the request. If you cannot guarantee\n   *   this (you are using an asynchronous credential provider, i.e., EC2\n   *   IAM roles), you should always call this method with an asynchronous\n   *   callback.\n   *\n   * @return [map]  If called synchronously (with no callback), returns a hash\n   *                with the url to set as the form action and a hash of fields\n   *                to include in the form.\n   * @return [null] Nothing is returned if a callback is provided.\n   *\n   * @callback callback function (err, data)\n   *  @param err [Error] the error object returned from the policy signer\n   *  @param data [map] The data necessary to construct an HTML form\n   *  @param data.url [String] The URL to use as the action of the form\n   *  @param data.fields [map] A hash of fields that must be included in the\n   *                           form for the upload to succeed. This hash will\n   *                           include the signed POST policy, your access key\n   *                           ID and security token (if present), etc. These\n   *                           may be safely included as input elements of type\n   *                           'hidden.'\n   */\n  createPresignedPost: function createPresignedPost(params, callback) {\n    if (typeof params === 'function' && callback === undefined) {\n      callback = params;\n      params = null;\n    }\n\n    params = AWS.util.copy(params || {});\n    var boundParams = this.config.params || {};\n    var bucket = params.Bucket || boundParams.Bucket,\n      self = this,\n      config = this.config,\n      endpoint = AWS.util.copy(this.endpoint);\n    if (!config.s3BucketEndpoint) {\n      endpoint.pathname = '/' + bucket;\n    }\n\n    function finalizePost() {\n      return {\n        url: AWS.util.urlFormat(endpoint),\n        fields: self.preparePostFields(\n          config.credentials,\n          config.region,\n          bucket,\n          params.Fields,\n          params.Conditions,\n          params.Expires\n        )\n      };\n    }\n\n    if (callback) {\n      config.getCredentials(function (err) {\n        if (err) {\n          callback(err);\n        }\n\n        callback(null, finalizePost());\n      });\n    } else {\n      return finalizePost();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  preparePostFields: function preparePostFields(\n    credentials,\n    region,\n    bucket,\n    fields,\n    conditions,\n    expiresInSeconds\n  ) {\n    var now = this.getSkewCorrectedDate();\n    if (!credentials || !region || !bucket) {\n      throw new Error('Unable to create a POST object policy without a bucket,'\n        + ' region, and credentials');\n    }\n    fields = AWS.util.copy(fields || {});\n    conditions = (conditions || []).slice(0);\n    expiresInSeconds = expiresInSeconds || 3600;\n\n    var signingDate = AWS.util.date.iso8601(now).replace(/[:\\-]|\\.\\d{3}/g, '');\n    var shortDate = signingDate.substr(0, 8);\n    var scope = v4Credentials.createScope(shortDate, region, 's3');\n    var credential = credentials.accessKeyId + '/' + scope;\n\n    fields['bucket'] = bucket;\n    fields['X-Amz-Algorithm'] = 'AWS4-HMAC-SHA256';\n    fields['X-Amz-Credential'] = credential;\n    fields['X-Amz-Date'] = signingDate;\n    if (credentials.sessionToken) {\n      fields['X-Amz-Security-Token'] = credentials.sessionToken;\n    }\n    for (var field in fields) {\n      if (fields.hasOwnProperty(field)) {\n        var condition = {};\n        condition[field] = fields[field];\n        conditions.push(condition);\n      }\n    }\n\n    fields.Policy = this.preparePostPolicy(\n      new Date(now.valueOf() + expiresInSeconds * 1000),\n      conditions\n    );\n    fields['X-Amz-Signature'] = AWS.util.crypto.hmac(\n      v4Credentials.getSigningKey(credentials, shortDate, region, 's3', true),\n      fields.Policy,\n      'hex'\n    );\n\n    return fields;\n  },\n\n  /**\n   * @api private\n   */\n  preparePostPolicy: function preparePostPolicy(expiration, conditions) {\n    return AWS.util.base64.encode(JSON.stringify({\n      expiration: AWS.util.date.iso8601(expiration),\n      conditions: conditions\n    }));\n  },\n\n  /**\n   * @api private\n   */\n  prepareSignedUrl: function prepareSignedUrl(request) {\n    request.addListener('validate', request.service.noPresignedContentLength);\n    request.removeListener('build', request.service.addContentType);\n    if (!request.params.Body) {\n      // no Content-MD5/SHA-256 if body is not provided\n      request.removeListener('build', request.service.computeContentMd5);\n    } else {\n      request.addListener('afterBuild', AWS.EventListeners.Core.COMPUTE_SHA256);\n    }\n  },\n\n  /**\n   * @api private\n   * @param request\n   */\n  disableBodySigning: function disableBodySigning(request) {\n    var headers = request.httpRequest.headers;\n    // Add the header to anything that isn't a presigned url, unless that presigned url had a body defined\n    if (!Object.prototype.hasOwnProperty.call(headers, 'presigned-expires')) {\n      headers['X-Amz-Content-Sha256'] = 'UNSIGNED-PAYLOAD';\n    }\n  },\n\n  /**\n   * @api private\n   */\n  noPresignedContentLength: function noPresignedContentLength(request) {\n    if (request.params.ContentLength !== undefined) {\n      throw AWS.util.error(new Error(), {code: 'UnexpectedParameter',\n        message: 'ContentLength is not supported in pre-signed URLs.'});\n    }\n  },\n\n  createBucket: function createBucket(params, callback) {\n    // When creating a bucket *outside* the classic region, the location\n    // constraint must be set for the bucket and it must match the endpoint.\n    // This chunk of code will set the location constraint param based\n    // on the region (when possible), but it will not override a passed-in\n    // location constraint.\n    if (typeof params === 'function' || !params) {\n      callback = callback || params;\n      params = {};\n    }\n    var hostname = this.endpoint.hostname;\n    if (hostname !== this.api.globalEndpoint && !params.CreateBucketConfiguration) {\n      params.CreateBucketConfiguration = { LocationConstraint: this.config.region };\n    }\n    return this.makeRequest('createBucket', params, callback);\n  },\n\n  /**\n   * @see AWS.S3.ManagedUpload\n   * @overload upload(params = {}, [options], [callback])\n   *   Uploads an arbitrarily sized buffer, blob, or stream, using intelligent\n   *   concurrent handling of parts if the payload is large enough. You can\n   *   configure the concurrent queue size by setting `options`. Note that this\n   *   is the only operation for which the SDK can retry requests with stream\n   *   bodies.\n   *\n   *   @param (see AWS.S3.putObject)\n   *   @option (see AWS.S3.ManagedUpload.constructor)\n   *   @return [AWS.S3.ManagedUpload] the managed upload object that can call\n   *     `send()` or track progress.\n   *   @example Uploading a stream object\n   *     var params = {Bucket: 'bucket', Key: 'key', Body: stream};\n   *     s3.upload(params, function(err, data) {\n   *       console.log(err, data);\n   *     });\n   *   @example Uploading a stream with concurrency of 1 and partSize of 10mb\n   *     var params = {Bucket: 'bucket', Key: 'key', Body: stream};\n   *     var options = {partSize: 10 * 1024 * 1024, queueSize: 1};\n   *     s3.upload(params, options, function(err, data) {\n   *       console.log(err, data);\n   *     });\n   * @callback callback function(err, data)\n   *   @param err [Error] an error or null if no error occurred.\n   *   @param data [map] The response data from the successful upload:\n   *   @param data.Location [String] the URL of the uploaded object\n   *   @param data.ETag [String] the ETag of the uploaded object\n   *   @param data.Bucket [String]  the bucket to which the object was uploaded\n   *   @param data.Key [String] the key to which the object was uploaded\n   */\n  upload: function upload(params, options, callback) {\n    if (typeof options === 'function' && callback === undefined) {\n      callback = options;\n      options = null;\n    }\n\n    options = options || {};\n    options = AWS.util.merge(options || {}, {service: this, params: params});\n\n    var uploader = new AWS.S3.ManagedUpload(options);\n    if (typeof callback === 'function') uploader.send(callback);\n    return uploader;\n  }\n});\n","var AWS = require('../core');\nvar byteLength = AWS.util.string.byteLength;\nvar Buffer = AWS.util.Buffer;\n\n/**\n * The managed uploader allows for easy and efficient uploading of buffers,\n * blobs, or streams, using a configurable amount of concurrency to perform\n * multipart uploads where possible. This abstraction also enables uploading\n * streams of unknown size due to the use of multipart uploads.\n *\n * To construct a managed upload object, see the {constructor} function.\n *\n * ## Tracking upload progress\n *\n * The managed upload object can also track progress by attaching an\n * 'httpUploadProgress' listener to the upload manager. This event is similar\n * to {AWS.Request~httpUploadProgress} but groups all concurrent upload progress\n * into a single event. See {AWS.S3.ManagedUpload~httpUploadProgress} for more\n * information.\n *\n * ## Handling Multipart Cleanup\n *\n * By default, this class will automatically clean up any multipart uploads\n * when an individual part upload fails. This behavior can be disabled in order\n * to manually handle failures by setting the `leavePartsOnError` configuration\n * option to `true` when initializing the upload object.\n *\n * @!event httpUploadProgress(progress)\n *   Triggered when the uploader has uploaded more data.\n *   @note The `total` property may not be set if the stream being uploaded has\n *     not yet finished chunking. In this case the `total` will be undefined\n *     until the total stream size is known.\n *   @note This event will not be emitted in Node.js 0.8.x.\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request and the `key` of the S3 object. Note that `total` may be undefined until the payload\n *     size is known.\n *   @context (see AWS.Request~send)\n */\nAWS.S3.ManagedUpload = AWS.util.inherit({\n  /**\n   * Creates a managed upload object with a set of configuration options.\n   *\n   * @note A \"Body\" parameter is required to be set prior to calling {send}.\n   * @option options params [map] a map of parameters to pass to the upload\n   *   requests. The \"Body\" parameter is required to be specified either on\n   *   the service or in the params option.\n   * @note ContentMD5 should not be provided when using the managed upload object.\n   *   Instead, setting \"computeChecksums\" to true will enable automatic ContentMD5 generation\n   *   by the managed upload object.\n   * @option options queueSize [Number] (4) the size of the concurrent queue\n   *   manager to upload parts in parallel. Set to 1 for synchronous uploading\n   *   of parts. Note that the uploader will buffer at most queueSize * partSize\n   *   bytes into memory at any given time.\n   * @option options partSize [Number] (5mb) the size in bytes for each\n   *   individual part to be uploaded. Adjust the part size to ensure the number\n   *   of parts does not exceed {maxTotalParts}. See {minPartSize} for the\n   *   minimum allowed part size.\n   * @option options leavePartsOnError [Boolean] (false) whether to abort the\n   *   multipart upload if an error occurs. Set to true if you want to handle\n   *   failures manually.\n   * @option options service [AWS.S3] an optional S3 service object to use for\n   *   requests. This object might have bound parameters used by the uploader.\n   * @option options tags [Array<map>] The tags to apply to the uploaded object.\n   *   Each tag should have a `Key` and `Value` keys.\n   * @example Creating a default uploader for a stream object\n   *   var upload = new AWS.S3.ManagedUpload({\n   *     params: {Bucket: 'bucket', Key: 'key', Body: stream}\n   *   });\n   * @example Creating an uploader with concurrency of 1 and partSize of 10mb\n   *   var upload = new AWS.S3.ManagedUpload({\n   *     partSize: 10 * 1024 * 1024, queueSize: 1,\n   *     params: {Bucket: 'bucket', Key: 'key', Body: stream}\n   *   });\n   * @example Creating an uploader with tags\n   *   var upload = new AWS.S3.ManagedUpload({\n   *     params: {Bucket: 'bucket', Key: 'key', Body: stream},\n   *     tags: [{Key: 'tag1', Value: 'value1'}, {Key: 'tag2', Value: 'value2'}]\n   *   });\n   * @see send\n   */\n  constructor: function ManagedUpload(options) {\n    var self = this;\n    AWS.SequentialExecutor.call(self);\n    self.body = null;\n    self.sliceFn = null;\n    self.callback = null;\n    self.parts = {};\n    self.completeInfo = [];\n    self.fillQueue = function() {\n      self.callback(new Error('Unsupported body payload ' + typeof self.body));\n    };\n\n    self.configure(options);\n  },\n\n  /**\n   * @api private\n   */\n  configure: function configure(options) {\n    options = options || {};\n    this.partSize = this.minPartSize;\n\n    if (options.queueSize) this.queueSize = options.queueSize;\n    if (options.partSize) this.partSize = options.partSize;\n    if (options.leavePartsOnError) this.leavePartsOnError = true;\n    if (options.tags) {\n      if (!Array.isArray(options.tags)) {\n        throw new Error('Tags must be specified as an array; ' +\n          typeof options.tags + ' provided.');\n      }\n      this.tags = options.tags;\n    }\n\n    if (this.partSize < this.minPartSize) {\n      throw new Error('partSize must be greater than ' +\n                      this.minPartSize);\n    }\n\n    this.service = options.service;\n    this.bindServiceObject(options.params);\n    this.validateBody();\n    this.adjustTotalBytes();\n  },\n\n  /**\n   * @api private\n   */\n  leavePartsOnError: false,\n\n  /**\n   * @api private\n   */\n  queueSize: 4,\n\n  /**\n   * @api private\n   */\n  partSize: null,\n\n  /**\n   * @readonly\n   * @return [Number] the minimum number of bytes for an individual part\n   *   upload.\n   */\n  minPartSize: 1024 * 1024 * 5,\n\n  /**\n   * @readonly\n   * @return [Number] the maximum allowed number of parts in a multipart upload.\n   */\n  maxTotalParts: 10000,\n\n  /**\n   * Initiates the managed upload for the payload.\n   *\n   * @callback callback function(err, data)\n   *   @param err [Error] an error or null if no error occurred.\n   *   @param data [map] The response data from the successful upload:\n   *     * `Location` (String) the URL of the uploaded object\n   *     * `ETag` (String) the ETag of the uploaded object\n   *     * `Bucket` (String) the bucket to which the object was uploaded\n   *     * `Key` (String) the key to which the object was uploaded\n   * @example Sending a managed upload object\n   *   var params = {Bucket: 'bucket', Key: 'key', Body: stream};\n   *   var upload = new AWS.S3.ManagedUpload({params: params});\n   *   upload.send(function(err, data) {\n   *     console.log(err, data);\n   *   });\n   */\n  send: function(callback) {\n    var self = this;\n    self.failed = false;\n    self.callback = callback || function(err) { if (err) throw err; };\n\n    var runFill = true;\n    if (self.sliceFn) {\n      self.fillQueue = self.fillBuffer;\n    } else if (AWS.util.isNode()) {\n      var Stream = AWS.util.stream.Stream;\n      if (self.body instanceof Stream) {\n        runFill = false;\n        self.fillQueue = self.fillStream;\n        self.partBuffers = [];\n        self.body.\n          on('error', function(err) { self.cleanup(err); }).\n          on('readable', function() { self.fillQueue(); }).\n          on('end', function() {\n            self.isDoneChunking = true;\n            self.numParts = self.totalPartNumbers;\n            self.fillQueue.call(self);\n\n            if (self.isDoneChunking && self.totalPartNumbers >= 1 && self.doneParts === self.numParts) {\n              self.finishMultiPart();\n            }\n          });\n      }\n    }\n\n    if (runFill) self.fillQueue.call(self);\n  },\n\n  /**\n   * @!method  promise()\n   *   Returns a 'thenable' promise.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(data)\n   *     Called if the promise is fulfilled.\n   *     @param data [map] The response data from the successful upload:\n   *       `Location` (String) the URL of the uploaded object\n   *       `ETag` (String) the ETag of the uploaded object\n   *       `Bucket` (String) the bucket to which the object was uploaded\n   *       `Key` (String) the key to which the object was uploaded\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] an error or null if no error occurred.\n   *   @return [Promise] A promise that represents the state of the upload request.\n   *   @example Sending an upload request using promises.\n   *     var upload = s3.upload({Bucket: 'bucket', Key: 'key', Body: stream});\n   *     var promise = upload.promise();\n   *     promise.then(function(data) { ... }, function(err) { ... });\n   */\n\n  /**\n   * Aborts a managed upload, including all concurrent upload requests.\n   * @note By default, calling this function will cleanup a multipart upload\n   *   if one was created. To leave the multipart upload around after aborting\n   *   a request, configure `leavePartsOnError` to `true` in the {constructor}.\n   * @note Calling {abort} in the browser environment will not abort any requests\n   *   that are already in flight. If a multipart upload was created, any parts\n   *   not yet uploaded will not be sent, and the multipart upload will be cleaned up.\n   * @example Aborting an upload\n   *   var params = {\n   *     Bucket: 'bucket', Key: 'key',\n   *     Body: new Buffer(1024 * 1024 * 25) // 25MB payload\n   *   };\n   *   var upload = s3.upload(params);\n   *   upload.send(function (err, data) {\n   *     if (err) console.log(\"Error:\", err.code, err.message);\n   *     else console.log(data);\n   *   });\n   *\n   *   // abort request in 1 second\n   *   setTimeout(upload.abort.bind(upload), 1000);\n   */\n  abort: function() {\n    this.cleanup(AWS.util.error(new Error('Request aborted by user'), {\n      code: 'RequestAbortedError', retryable: false\n    }));\n  },\n\n  /**\n   * @api private\n   */\n  validateBody: function validateBody() {\n    var self = this;\n    self.body = self.service.config.params.Body;\n    if (typeof self.body === 'string') {\n      self.body = new AWS.util.Buffer(self.body);\n    } else if (!self.body) {\n      throw new Error('params.Body is required');\n    }\n    self.sliceFn = AWS.util.arraySliceFn(self.body);\n  },\n\n  /**\n   * @api private\n   */\n  bindServiceObject: function bindServiceObject(params) {\n    params = params || {};\n    var self = this;\n    // bind parameters to new service object\n    if (!self.service) {\n      self.service = new AWS.S3({params: params});\n    } else {\n      var service = self.service;\n      var config = AWS.util.copy(service.config);\n      config.signatureVersion = service.getSignatureVersion();\n      self.service = new service.constructor.__super__(config);\n      self.service.config.params =\n        AWS.util.merge(self.service.config.params || {}, params);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  adjustTotalBytes: function adjustTotalBytes() {\n    var self = this;\n    try { // try to get totalBytes\n      self.totalBytes = byteLength(self.body);\n    } catch (e) { }\n\n    // try to adjust partSize if we know payload length\n    if (self.totalBytes) {\n      var newPartSize = Math.ceil(self.totalBytes / self.maxTotalParts);\n      if (newPartSize > self.partSize) self.partSize = newPartSize;\n    } else {\n      self.totalBytes = undefined;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  isDoneChunking: false,\n\n  /**\n   * @api private\n   */\n  partPos: 0,\n\n  /**\n   * @api private\n   */\n  totalChunkedBytes: 0,\n\n  /**\n   * @api private\n   */\n  totalUploadedBytes: 0,\n\n  /**\n   * @api private\n   */\n  totalBytes: undefined,\n\n  /**\n   * @api private\n   */\n  numParts: 0,\n\n  /**\n   * @api private\n   */\n  totalPartNumbers: 0,\n\n  /**\n   * @api private\n   */\n  activeParts: 0,\n\n  /**\n   * @api private\n   */\n  doneParts: 0,\n\n  /**\n   * @api private\n   */\n  parts: null,\n\n  /**\n   * @api private\n   */\n  completeInfo: null,\n\n  /**\n   * @api private\n   */\n  failed: false,\n\n  /**\n   * @api private\n   */\n  multipartReq: null,\n\n  /**\n   * @api private\n   */\n  partBuffers: null,\n\n  /**\n   * @api private\n   */\n  partBufferLength: 0,\n\n  /**\n   * @api private\n   */\n  fillBuffer: function fillBuffer() {\n    var self = this;\n    var bodyLen = byteLength(self.body);\n\n    if (bodyLen === 0) {\n      self.isDoneChunking = true;\n      self.numParts = 1;\n      self.nextChunk(self.body);\n      return;\n    }\n\n    while (self.activeParts < self.queueSize && self.partPos < bodyLen) {\n      var endPos = Math.min(self.partPos + self.partSize, bodyLen);\n      var buf = self.sliceFn.call(self.body, self.partPos, endPos);\n      self.partPos += self.partSize;\n\n      if (byteLength(buf) < self.partSize || self.partPos === bodyLen) {\n        self.isDoneChunking = true;\n        self.numParts = self.totalPartNumbers + 1;\n      }\n      self.nextChunk(buf);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  fillStream: function fillStream() {\n    var self = this;\n    if (self.activeParts >= self.queueSize) return;\n\n    var buf = self.body.read(self.partSize - self.partBufferLength) ||\n              self.body.read();\n    if (buf) {\n      self.partBuffers.push(buf);\n      self.partBufferLength += buf.length;\n      self.totalChunkedBytes += buf.length;\n    }\n\n    if (self.partBufferLength >= self.partSize) {\n      // if we have single buffer we avoid copyfull concat\n      var pbuf = self.partBuffers.length === 1 ?\n        self.partBuffers[0] : Buffer.concat(self.partBuffers);\n      self.partBuffers = [];\n      self.partBufferLength = 0;\n\n      // if we have more than partSize, push the rest back on the queue\n      if (pbuf.length > self.partSize) {\n        var rest = pbuf.slice(self.partSize);\n        self.partBuffers.push(rest);\n        self.partBufferLength += rest.length;\n        pbuf = pbuf.slice(0, self.partSize);\n      }\n\n      self.nextChunk(pbuf);\n    }\n\n    if (self.isDoneChunking && !self.isDoneSending) {\n      // if we have single buffer we avoid copyfull concat\n      pbuf = self.partBuffers.length === 1 ?\n          self.partBuffers[0] : Buffer.concat(self.partBuffers);\n      self.partBuffers = [];\n      self.partBufferLength = 0;\n      self.totalBytes = self.totalChunkedBytes;\n      self.isDoneSending = true;\n\n      if (self.numParts === 0 || pbuf.length > 0) {\n        self.numParts++;\n        self.nextChunk(pbuf);\n      }\n    }\n\n    self.body.read(0);\n  },\n\n  /**\n   * @api private\n   */\n  nextChunk: function nextChunk(chunk) {\n    var self = this;\n    if (self.failed) return null;\n\n    var partNumber = ++self.totalPartNumbers;\n    if (self.isDoneChunking && partNumber === 1) {\n      var params = {Body: chunk};\n      if (this.tags) {\n        params.Tagging = this.getTaggingHeader();\n      }\n      var req = self.service.putObject(params);\n      req._managedUpload = self;\n      req.on('httpUploadProgress', self.progress).send(self.finishSinglePart);\n      return null;\n    } else if (self.service.config.params.ContentMD5) {\n      var err = AWS.util.error(new Error('The Content-MD5 you specified is invalid for multi-part uploads.'), {\n        code: 'InvalidDigest', retryable: false\n      });\n\n      self.cleanup(err);\n      return null;\n    }\n\n    if (self.completeInfo[partNumber] && self.completeInfo[partNumber].ETag !== null) {\n      return null; // Already uploaded this part.\n    }\n\n    self.activeParts++;\n    if (!self.service.config.params.UploadId) {\n\n      if (!self.multipartReq) { // create multipart\n        self.multipartReq = self.service.createMultipartUpload();\n        self.multipartReq.on('success', function(resp) {\n          self.service.config.params.UploadId = resp.data.UploadId;\n          self.multipartReq = null;\n        });\n        self.queueChunks(chunk, partNumber);\n        self.multipartReq.on('error', function(err) {\n          self.cleanup(err);\n        });\n        self.multipartReq.send();\n      } else {\n        self.queueChunks(chunk, partNumber);\n      }\n    } else { // multipart is created, just send\n      self.uploadPart(chunk, partNumber);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getTaggingHeader: function getTaggingHeader() {\n    var kvPairStrings = [];\n    for (var i = 0; i < this.tags.length; i++) {\n      kvPairStrings.push(AWS.util.uriEscape(this.tags[i].Key) + '=' +\n        AWS.util.uriEscape(this.tags[i].Value));\n    }\n\n    return kvPairStrings.join('&');\n  },\n\n  /**\n   * @api private\n   */\n  uploadPart: function uploadPart(chunk, partNumber) {\n    var self = this;\n\n    var partParams = {\n      Body: chunk,\n      ContentLength: AWS.util.string.byteLength(chunk),\n      PartNumber: partNumber\n    };\n\n    var partInfo = {ETag: null, PartNumber: partNumber};\n    self.completeInfo[partNumber] = partInfo;\n\n    var req = self.service.uploadPart(partParams);\n    self.parts[partNumber] = req;\n    req._lastUploadedBytes = 0;\n    req._managedUpload = self;\n    req.on('httpUploadProgress', self.progress);\n    req.send(function(err, data) {\n      delete self.parts[partParams.PartNumber];\n      self.activeParts--;\n\n      if (!err && (!data || !data.ETag)) {\n        var message = 'No access to ETag property on response.';\n        if (AWS.util.isBrowser()) {\n          message += ' Check CORS configuration to expose ETag header.';\n        }\n\n        err = AWS.util.error(new Error(message), {\n          code: 'ETagMissing', retryable: false\n        });\n      }\n      if (err) return self.cleanup(err);\n\n      partInfo.ETag = data.ETag;\n      self.doneParts++;\n      if (self.isDoneChunking && self.doneParts === self.numParts) {\n        self.finishMultiPart();\n      } else {\n        self.fillQueue.call(self);\n      }\n    });\n  },\n\n  /**\n   * @api private\n   */\n  queueChunks: function queueChunks(chunk, partNumber) {\n    var self = this;\n    self.multipartReq.on('success', function() {\n      self.uploadPart(chunk, partNumber);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  cleanup: function cleanup(err) {\n    var self = this;\n    if (self.failed) return;\n\n    // clean up stream\n    if (typeof self.body.removeAllListeners === 'function' &&\n        typeof self.body.resume === 'function') {\n      self.body.removeAllListeners('readable');\n      self.body.removeAllListeners('end');\n      self.body.resume();\n    }\n\n    // cleanup multipartReq listeners\n    if (self.multipartReq) {\n      self.multipartReq.removeAllListeners('success');\n      self.multipartReq.removeAllListeners('error');\n      self.multipartReq.removeAllListeners('complete');\n      delete self.multipartReq;\n    }\n\n    if (self.service.config.params.UploadId && !self.leavePartsOnError) {\n      self.service.abortMultipartUpload().send();\n    } else if (self.leavePartsOnError) {\n      self.isDoneChunking = false;\n    }\n\n    AWS.util.each(self.parts, function(partNumber, part) {\n      part.removeAllListeners('complete');\n      part.abort();\n    });\n\n    self.activeParts = 0;\n    self.partPos = 0;\n    self.numParts = 0;\n    self.totalPartNumbers = 0;\n    self.parts = {};\n    self.failed = true;\n    self.callback(err);\n  },\n\n  /**\n   * @api private\n   */\n  finishMultiPart: function finishMultiPart() {\n    var self = this;\n    var completeParams = { MultipartUpload: { Parts: self.completeInfo.slice(1) } };\n    self.service.completeMultipartUpload(completeParams, function(err, data) {\n      if (err) {\n        return self.cleanup(err);\n      }\n\n      if (data && typeof data.Location === 'string') {\n        data.Location = data.Location.replace(/%2F/g, '/');\n      }\n\n      if (Array.isArray(self.tags)) {\n        self.service.putObjectTagging(\n          {Tagging: {TagSet: self.tags}},\n          function(e, d) {\n            if (e) {\n              self.callback(e);\n            } else {\n              self.callback(e, data);\n            }\n          }\n        );\n      } else {\n        self.callback(err, data);\n      }\n    });\n  },\n\n  /**\n   * @api private\n   */\n  finishSinglePart: function finishSinglePart(err, data) {\n    var upload = this.request._managedUpload;\n    var httpReq = this.request.httpRequest;\n    var endpoint = httpReq.endpoint;\n    if (err) return upload.callback(err);\n    data.Location =\n      [endpoint.protocol, '//', endpoint.host, httpReq.path].join('');\n    data.key = this.request.params.Key; // will stay undocumented\n    data.Key = this.request.params.Key;\n    data.Bucket = this.request.params.Bucket;\n    upload.callback(err, data);\n  },\n\n  /**\n   * @api private\n   */\n  progress: function progress(info) {\n    var upload = this._managedUpload;\n    if (this.operation === 'putObject') {\n      info.part = 1;\n      info.key = this.params.Key;\n    } else {\n      upload.totalUploadedBytes += info.loaded - this._lastUploadedBytes;\n      this._lastUploadedBytes = info.loaded;\n      info = {\n        loaded: upload.totalUploadedBytes,\n        total: upload.totalBytes,\n        part: this.params.PartNumber,\n        key: this.params.Key\n      };\n    }\n    upload.emit('httpUploadProgress', [info]);\n  }\n});\n\nAWS.util.mixin(AWS.S3.ManagedUpload, AWS.SequentialExecutor);\n\n/**\n * @api private\n */\nAWS.S3.ManagedUpload.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.promise = AWS.util.promisifyMethod('send', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.S3.ManagedUpload.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.promise;\n};\n\nAWS.util.addPromises(AWS.S3.ManagedUpload);\n\n/**\n * @api private\n */\nmodule.exports = AWS.S3.ManagedUpload;\n","/*!\n * mustache.js - Logic-less {{mustache}} templates with JavaScript\n * http://github.com/janl/mustache.js\n */\n\n/*global define: false Mustache: true*/\n\n(function defineMustache (global, factory) {\n  if (typeof exports === 'object' && exports && typeof exports.nodeName !== 'string') {\n    factory(exports); // CommonJS\n  } else if (typeof define === 'function' && define.amd) {\n    define(['exports'], factory); // AMD\n  } else {\n    global.Mustache = {};\n    factory(global.Mustache); // script, wsh, asp\n  }\n}(this, function mustacheFactory (mustache) {\n\n  var objectToString = Object.prototype.toString;\n  var isArray = Array.isArray || function isArrayPolyfill (object) {\n    return objectToString.call(object) === '[object Array]';\n  };\n\n  function isFunction (object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * More correct typeof string handling array\n   * which normally returns typeof 'object'\n   */\n  function typeStr (obj) {\n    return isArray(obj) ? 'array' : typeof obj;\n  }\n\n  function escapeRegExp (string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n  }\n\n  /**\n   * Null safe way of checking whether or not an object,\n   * including its prototype, has a given property\n   */\n  function hasProperty (obj, propName) {\n    return obj != null && typeof obj === 'object' && (propName in obj);\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var regExpTest = RegExp.prototype.test;\n  function testRegExp (re, string) {\n    return regExpTest.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace (string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n\n  function escapeHtml (string) {\n    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   */\n  function parseTemplate (template, tags) {\n    if (!template)\n      return [];\n\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace () {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags (tagsToCompile) {\n      if (typeof tagsToCompile === 'string')\n        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\n      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n        throw new Error('Invalid tags: ' + tagsToCompile);\n\n      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n          } else {\n            nonSpace = true;\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n')\n            stripSpace();\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      token = [ type, value, start, scanner.pos ];\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens (tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens (tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n        case '#':\n        case '^':\n          collector.push(token);\n          sections.push(token);\n          collector = token[4] = [];\n          break;\n        case '/':\n          section = sections.pop();\n          section[5] = token[2];\n          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n          break;\n        default:\n          collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner (string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function eos () {\n    return this.tail === '';\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function scan (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function scanUntil (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n      case -1:\n        match = this.tail;\n        this.tail = '';\n        break;\n      case 0:\n        match = '';\n        break;\n      default:\n        match = this.tail.substring(0, index);\n        this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context (view, parentContext) {\n    this.view = view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function push (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function lookup (name) {\n    var cache = this.cache;\n\n    var value;\n    if (cache.hasOwnProperty(name)) {\n      value = cache[name];\n    } else {\n      var context = this, names, index, lookupHit = false;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          value = context.view;\n          names = name.split('.');\n          index = 0;\n\n          /**\n           * Using the dot notion path in `name`, we descend through the\n           * nested objects.\n           *\n           * To be certain that the lookup has been successful, we have to\n           * check if the last object in the path actually has the property\n           * we are looking for. We store the result in `lookupHit`.\n           *\n           * This is specially necessary for when the value has been set to\n           * `undefined` and we want to avoid looking up parent contexts.\n           **/\n          while (value != null && index < names.length) {\n            if (index === names.length - 1)\n              lookupHit = hasProperty(value, names[index]);\n\n            value = value[names[index++]];\n          }\n        } else {\n          value = context.view[name];\n          lookupHit = hasProperty(context.view, name);\n        }\n\n        if (lookupHit)\n          break;\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer () {\n    this.cache = {};\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function clearCache () {\n    this.cache = {};\n  };\n\n  /**\n   * Parses and caches the given `template` and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function parse (template, tags) {\n    var cache = this.cache;\n    var tokens = cache[template];\n\n    if (tokens == null)\n      tokens = cache[template] = parseTemplate(template, tags);\n\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   */\n  Writer.prototype.render = function render (template, view, partials) {\n    var tokens = this.parse(template);\n    var context = (view instanceof Context) ? view : new Context(view);\n    return this.renderTokens(tokens, context, partials, template);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate);\n      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate);\n      else if (symbol === '>') value = this.renderPartial(token, context, partials, originalTemplate);\n      else if (symbol === '&') value = this.unescapedValue(token, context);\n      else if (symbol === 'name') value = this.escapedValue(token, context);\n      else if (symbol === 'text') value = this.rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender (template) {\n      return self.render(template, context, partials);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate);\n    }\n    return buffer;\n  };\n\n  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate);\n  };\n\n  Writer.prototype.renderPartial = function renderPartial (token, context, partials) {\n    if (!partials) return;\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null)\n      return this.renderTokens(this.parse(value), context, partials, value);\n  };\n\n  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype.escapedValue = function escapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return mustache.escape(value);\n  };\n\n  Writer.prototype.rawValue = function rawValue (token) {\n    return token[1];\n  };\n\n  mustache.name = 'mustache.js';\n  mustache.version = '2.3.2';\n  mustache.tags = [ '{{', '}}' ];\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function clearCache () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function parse (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view` and `partials` using the\n   * default writer.\n   */\n  mustache.render = function render (template, view, partials) {\n    if (typeof template !== 'string') {\n      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n                          'but \"' + typeStr(template) + '\" was given as the first ' +\n                          'argument for mustache#render(template, view, partials)');\n    }\n\n    return defaultWriter.render(template, view, partials);\n  };\n\n  // This is here for backwards compatibility with 0.4.x.,\n  /*eslint-disable */ // eslint wants camel cased function name\n  mustache.to_html = function to_html (template, view, partials, send) {\n    /*eslint-enable*/\n\n    var result = mustache.render(template, view, partials);\n\n    if (isFunction(send)) {\n      send(result);\n    } else {\n      return result;\n    }\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n  return mustache;\n}));\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar AuthenticationDetails = function () {\n  /**\n   * Constructs a new AuthenticationDetails object\n   * @param {object=} data Creation options.\n   * @param {string} data.Username User being authenticated.\n   * @param {string} data.Password Plain-text password to authenticate with.\n   * @param {(AttributeArg[])?} data.ValidationData Application extra metadata.\n   * @param {(AttributeArg[])?} data.AuthParamaters Authentication paramaters for custom auth.\n   */\n  function AuthenticationDetails(data) {\n    _classCallCheck(this, AuthenticationDetails);\n\n    var _ref = data || {},\n        ValidationData = _ref.ValidationData,\n        Username = _ref.Username,\n        Password = _ref.Password,\n        AuthParameters = _ref.AuthParameters;\n\n    this.validationData = ValidationData || {};\n    this.authParameters = AuthParameters || {};\n    this.username = Username;\n    this.password = Password;\n  }\n\n  /**\n   * @returns {string} the record's username\n   */\n\n\n  AuthenticationDetails.prototype.getUsername = function getUsername() {\n    return this.username;\n  };\n\n  /**\n   * @returns {string} the record's password\n   */\n\n\n  AuthenticationDetails.prototype.getPassword = function getPassword() {\n    return this.password;\n  };\n\n  /**\n   * @returns {Array} the record's validationData\n   */\n\n\n  AuthenticationDetails.prototype.getValidationData = function getValidationData() {\n    return this.validationData;\n  };\n\n  /**\n   * @returns {Array} the record's authParameters\n   */\n\n\n  AuthenticationDetails.prototype.getAuthParameters = function getAuthParameters() {\n    return this.authParameters;\n  };\n\n  return AuthenticationDetails;\n}();\n\nexport default AuthenticationDetails;","// A small implementation of BigInteger based on http://www-cs-students.stanford.edu/~tjw/jsbn/\n//\n// All public methods have been removed except the following:\n//   new BigInteger(a, b) (only radix 2, 4, 8, 16 and 32 supported)\n//   toString (only radix 2, 4, 8, 16 and 32 supported)\n//   negate\n//   abs\n//   compareTo\n//   bitLength\n//   mod\n//   equals\n//   add\n//   subtract\n//   multiply\n//   divide\n//   modPow\n\nexport default BigInteger;\n\n/*\n * Copyright (c) 2003-2005  Tom Wu\n * All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS-IS\" AND WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY\n * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.\n *\n * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,\n * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER\n * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF\n * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT\n * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n *\n * In addition, the following condition applies:\n *\n * All redistributions must retain an intact copy of this copyright notice\n * and disclaimer.\n */\n\n// (public) Constructor\nfunction BigInteger(a, b) {\n  if (a != null) this.fromString(a, b);\n}\n\n// return new, unset BigInteger\nfunction nbi() {\n  return new BigInteger(null);\n}\n\n// Bits per digit\nvar dbits;\n\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = (canary & 0xffffff) == 0xefcafe;\n\n// am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\nfunction am1(i, x, w, j, c, n) {\n  while (--n >= 0) {\n    var v = x * this[i++] + w[j] + c;\n    c = Math.floor(v / 0x4000000);\n    w[j++] = v & 0x3ffffff;\n  }\n  return c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\nfunction am2(i, x, w, j, c, n) {\n  var xl = x & 0x7fff,\n      xh = x >> 15;\n  while (--n >= 0) {\n    var l = this[i] & 0x7fff;\n    var h = this[i++] >> 15;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n    c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n    w[j++] = l & 0x3fffffff;\n  }\n  return c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i, x, w, j, c, n) {\n  var xl = x & 0x3fff,\n      xh = x >> 14;\n  while (--n >= 0) {\n    var l = this[i] & 0x3fff;\n    var h = this[i++] >> 14;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n    c = (l >> 28) + (m >> 14) + xh * h;\n    w[j++] = l & 0xfffffff;\n  }\n  return c;\n}\nvar inBrowser = typeof navigator !== \"undefined\";\nif (inBrowser && j_lm && navigator.appName == \"Microsoft Internet Explorer\") {\n  BigInteger.prototype.am = am2;\n  dbits = 30;\n} else if (inBrowser && j_lm && navigator.appName != \"Netscape\") {\n  BigInteger.prototype.am = am1;\n  dbits = 26;\n} else {\n  // Mozilla/Netscape seems to prefer am3\n  BigInteger.prototype.am = am3;\n  dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = (1 << dbits) - 1;\nBigInteger.prototype.DV = 1 << dbits;\n\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP;\n\n// Digit conversions\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nvar BI_RC = new Array();\nvar rr, vv;\nrr = \"0\".charCodeAt(0);\nfor (vv = 0; vv <= 9; ++vv) {\n  BI_RC[rr++] = vv;\n}rr = \"a\".charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}rr = \"A\".charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}function int2char(n) {\n  return BI_RM.charAt(n);\n}\nfunction intAt(s, i) {\n  var c = BI_RC[s.charCodeAt(i)];\n  return c == null ? -1 : c;\n}\n\n// (protected) copy this to r\nfunction bnpCopyTo(r) {\n  for (var i = this.t - 1; i >= 0; --i) {\n    r[i] = this[i];\n  }r.t = this.t;\n  r.s = this.s;\n}\n\n// (protected) set from integer value x, -DV <= x < DV\nfunction bnpFromInt(x) {\n  this.t = 1;\n  this.s = x < 0 ? -1 : 0;\n  if (x > 0) this[0] = x;else if (x < -1) this[0] = x + this.DV;else this.t = 0;\n}\n\n// return bigint initialized to value\nfunction nbv(i) {\n  var r = nbi();\n\n  r.fromInt(i);\n\n  return r;\n}\n\n// (protected) set from string and radix\nfunction bnpFromString(s, b) {\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error(\"Only radix 2, 4, 8, 16, 32 are supported\");\n  this.t = 0;\n  this.s = 0;\n  var i = s.length,\n      mi = false,\n      sh = 0;\n  while (--i >= 0) {\n    var x = intAt(s, i);\n    if (x < 0) {\n      if (s.charAt(i) == \"-\") mi = true;\n      continue;\n    }\n    mi = false;\n    if (sh == 0) this[this.t++] = x;else if (sh + k > this.DB) {\n      this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;\n      this[this.t++] = x >> this.DB - sh;\n    } else this[this.t - 1] |= x << sh;\n    sh += k;\n    if (sh >= this.DB) sh -= this.DB;\n  }\n  this.clamp();\n  if (mi) BigInteger.ZERO.subTo(this, this);\n}\n\n// (protected) clamp off excess high words\nfunction bnpClamp() {\n  var c = this.s & this.DM;\n  while (this.t > 0 && this[this.t - 1] == c) {\n    --this.t;\n  }\n}\n\n// (public) return string representation in given radix\nfunction bnToString(b) {\n  if (this.s < 0) return \"-\" + this.negate().toString();\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error(\"Only radix 2, 4, 8, 16, 32 are supported\");\n  var km = (1 << k) - 1,\n      d,\n      m = false,\n      r = \"\",\n      i = this.t;\n  var p = this.DB - i * this.DB % k;\n  if (i-- > 0) {\n    if (p < this.DB && (d = this[i] >> p) > 0) {\n      m = true;\n      r = int2char(d);\n    }\n    while (i >= 0) {\n      if (p < k) {\n        d = (this[i] & (1 << p) - 1) << k - p;\n        d |= this[--i] >> (p += this.DB - k);\n      } else {\n        d = this[i] >> (p -= k) & km;\n        if (p <= 0) {\n          p += this.DB;\n          --i;\n        }\n      }\n      if (d > 0) m = true;\n      if (m) r += int2char(d);\n    }\n  }\n  return m ? r : \"0\";\n}\n\n// (public) -this\nfunction bnNegate() {\n  var r = nbi();\n\n  BigInteger.ZERO.subTo(this, r);\n\n  return r;\n}\n\n// (public) |this|\nfunction bnAbs() {\n  return this.s < 0 ? this.negate() : this;\n}\n\n// (public) return + if this > a, - if this < a, 0 if equal\nfunction bnCompareTo(a) {\n  var r = this.s - a.s;\n  if (r != 0) return r;\n  var i = this.t;\n  r = i - a.t;\n  if (r != 0) return this.s < 0 ? -r : r;\n  while (--i >= 0) {\n    if ((r = this[i] - a[i]) != 0) return r;\n  }return 0;\n}\n\n// returns bit length of the integer x\nfunction nbits(x) {\n  var r = 1,\n      t;\n  if ((t = x >>> 16) != 0) {\n    x = t;\n    r += 16;\n  }\n  if ((t = x >> 8) != 0) {\n    x = t;\n    r += 8;\n  }\n  if ((t = x >> 4) != 0) {\n    x = t;\n    r += 4;\n  }\n  if ((t = x >> 2) != 0) {\n    x = t;\n    r += 2;\n  }\n  if ((t = x >> 1) != 0) {\n    x = t;\n    r += 1;\n  }\n  return r;\n}\n\n// (public) return the number of bits in \"this\"\nfunction bnBitLength() {\n  if (this.t <= 0) return 0;\n  return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);\n}\n\n// (protected) r = this << n*DB\nfunction bnpDLShiftTo(n, r) {\n  var i;\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + n] = this[i];\n  }for (i = n - 1; i >= 0; --i) {\n    r[i] = 0;\n  }r.t = this.t + n;\n  r.s = this.s;\n}\n\n// (protected) r = this >> n*DB\nfunction bnpDRShiftTo(n, r) {\n  for (var i = n; i < this.t; ++i) {\n    r[i - n] = this[i];\n  }r.t = Math.max(this.t - n, 0);\n  r.s = this.s;\n}\n\n// (protected) r = this << n\nfunction bnpLShiftTo(n, r) {\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << cbs) - 1;\n  var ds = Math.floor(n / this.DB),\n      c = this.s << bs & this.DM,\n      i;\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + ds + 1] = this[i] >> cbs | c;\n    c = (this[i] & bm) << bs;\n  }\n  for (i = ds - 1; i >= 0; --i) {\n    r[i] = 0;\n  }r[ds] = c;\n  r.t = this.t + ds + 1;\n  r.s = this.s;\n  r.clamp();\n}\n\n// (protected) r = this >> n\nfunction bnpRShiftTo(n, r) {\n  r.s = this.s;\n  var ds = Math.floor(n / this.DB);\n  if (ds >= this.t) {\n    r.t = 0;\n    return;\n  }\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << bs) - 1;\n  r[0] = this[ds] >> bs;\n  for (var i = ds + 1; i < this.t; ++i) {\n    r[i - ds - 1] |= (this[i] & bm) << cbs;\n    r[i - ds] = this[i] >> bs;\n  }\n  if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n  r.t = this.t - ds;\n  r.clamp();\n}\n\n// (protected) r = this - a\nfunction bnpSubTo(a, r) {\n  var i = 0,\n      c = 0,\n      m = Math.min(a.t, this.t);\n  while (i < m) {\n    c += this[i] - a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n  if (a.t < this.t) {\n    c -= a.s;\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n    c += this.s;\n  } else {\n    c += this.s;\n    while (i < a.t) {\n      c -= a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n    c -= a.s;\n  }\n  r.s = c < 0 ? -1 : 0;\n  if (c < -1) r[i++] = this.DV + c;else if (c > 0) r[i++] = c;\n  r.t = i;\n  r.clamp();\n}\n\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyTo(a, r) {\n  var x = this.abs(),\n      y = a.abs();\n  var i = x.t;\n  r.t = i + y.t;\n  while (--i >= 0) {\n    r[i] = 0;\n  }for (i = 0; i < y.t; ++i) {\n    r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n  }r.s = 0;\n  r.clamp();\n  if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n}\n\n// (protected) r = this^2, r != this (HAC 14.16)\nfunction bnpSquareTo(r) {\n  var x = this.abs();\n  var i = r.t = 2 * x.t;\n  while (--i >= 0) {\n    r[i] = 0;\n  }for (i = 0; i < x.t - 1; ++i) {\n    var c = x.am(i, x[i], r, 2 * i, 0, 1);\n    if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n      r[i + x.t] -= x.DV;\n      r[i + x.t + 1] = 1;\n    }\n  }\n  if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n  r.s = 0;\n  r.clamp();\n}\n\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\nfunction bnpDivRemTo(m, q, r) {\n  var pm = m.abs();\n  if (pm.t <= 0) return;\n  var pt = this.abs();\n  if (pt.t < pm.t) {\n    if (q != null) q.fromInt(0);\n    if (r != null) this.copyTo(r);\n    return;\n  }\n  if (r == null) r = nbi();\n  var y = nbi(),\n      ts = this.s,\n      ms = m.s;\n  var nsh = this.DB - nbits(pm[pm.t - 1]);\n  // normalize modulus\n  if (nsh > 0) {\n    pm.lShiftTo(nsh, y);\n    pt.lShiftTo(nsh, r);\n  } else {\n    pm.copyTo(y);\n    pt.copyTo(r);\n  }\n  var ys = y.t;\n  var y0 = y[ys - 1];\n  if (y0 == 0) return;\n  var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);\n  var d1 = this.FV / yt,\n      d2 = (1 << this.F1) / yt,\n      e = 1 << this.F2;\n  var i = r.t,\n      j = i - ys,\n      t = q == null ? nbi() : q;\n  y.dlShiftTo(j, t);\n  if (r.compareTo(t) >= 0) {\n    r[r.t++] = 1;\n    r.subTo(t, r);\n  }\n  BigInteger.ONE.dlShiftTo(ys, t);\n  t.subTo(y, y);\n  // \"negative\" y so we can replace sub with am later\n  while (y.t < ys) {\n    y[y.t++] = 0;\n  }while (--j >= 0) {\n    // Estimate quotient digit\n    var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n    if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\n      // Try it out\n      y.dlShiftTo(j, t);\n      r.subTo(t, r);\n      while (r[i] < --qd) {\n        r.subTo(t, r);\n      }\n    }\n  }\n  if (q != null) {\n    r.drShiftTo(ys, q);\n    if (ts != ms) BigInteger.ZERO.subTo(q, q);\n  }\n  r.t = ys;\n  r.clamp();\n  if (nsh > 0) r.rShiftTo(nsh, r);\n  // Denormalize remainder\n  if (ts < 0) BigInteger.ZERO.subTo(r, r);\n}\n\n// (public) this mod a\nfunction bnMod(a) {\n  var r = nbi();\n  this.abs().divRemTo(a, null, r);\n  if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n  return r;\n}\n\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\nfunction bnpInvDigit() {\n  if (this.t < 1) return 0;\n  var x = this[0];\n  if ((x & 1) == 0) return 0;\n  var y = x & 3;\n  // y == 1/x mod 2^2\n  y = y * (2 - (x & 0xf) * y) & 0xf;\n  // y == 1/x mod 2^4\n  y = y * (2 - (x & 0xff) * y) & 0xff;\n  // y == 1/x mod 2^8\n  y = y * (2 - ((x & 0xffff) * y & 0xffff)) & 0xffff;\n  // y == 1/x mod 2^16\n  // last step - calculate inverse mod DV directly;\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n  y = y * (2 - x * y % this.DV) % this.DV;\n  // y == 1/x mod 2^dbits\n  // we really want the negative inverse, and -DV < y < DV\n  return y > 0 ? this.DV - y : -y;\n}\n\nfunction bnEquals(a) {\n  return this.compareTo(a) == 0;\n}\n\n// (protected) r = this + a\nfunction bnpAddTo(a, r) {\n  var i = 0,\n      c = 0,\n      m = Math.min(a.t, this.t);\n  while (i < m) {\n    c += this[i] + a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n  if (a.t < this.t) {\n    c += a.s;\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n    c += this.s;\n  } else {\n    c += this.s;\n    while (i < a.t) {\n      c += a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n    c += a.s;\n  }\n  r.s = c < 0 ? -1 : 0;\n  if (c > 0) r[i++] = c;else if (c < -1) r[i++] = this.DV + c;\n  r.t = i;\n  r.clamp();\n}\n\n// (public) this + a\nfunction bnAdd(a) {\n  var r = nbi();\n\n  this.addTo(a, r);\n\n  return r;\n}\n\n// (public) this - a\nfunction bnSubtract(a) {\n  var r = nbi();\n\n  this.subTo(a, r);\n\n  return r;\n}\n\n// (public) this * a\nfunction bnMultiply(a) {\n  var r = nbi();\n\n  this.multiplyTo(a, r);\n\n  return r;\n}\n\n// (public) this / a\nfunction bnDivide(a) {\n  var r = nbi();\n\n  this.divRemTo(a, r, null);\n\n  return r;\n}\n\n// Montgomery reduction\nfunction Montgomery(m) {\n  this.m = m;\n  this.mp = m.invDigit();\n  this.mpl = this.mp & 0x7fff;\n  this.mph = this.mp >> 15;\n  this.um = (1 << m.DB - 15) - 1;\n  this.mt2 = 2 * m.t;\n}\n\n// xR mod m\nfunction montConvert(x) {\n  var r = nbi();\n  x.abs().dlShiftTo(this.m.t, r);\n  r.divRemTo(this.m, null, r);\n  if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n  return r;\n}\n\n// x/R mod m\nfunction montRevert(x) {\n  var r = nbi();\n  x.copyTo(r);\n  this.reduce(r);\n  return r;\n}\n\n// x = x/R mod m (HAC 14.32)\nfunction montReduce(x) {\n  while (x.t <= this.mt2) {\n    // pad x so am has enough room later\n    x[x.t++] = 0;\n  }for (var i = 0; i < this.m.t; ++i) {\n    // faster way of calculating u0 = x[i]*mp mod DV\n    var j = x[i] & 0x7fff;\n    var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM;\n    // use am to combine the multiply-shift-add into one call\n    j = i + this.m.t;\n    x[j] += this.m.am(0, u0, x, i, 0, this.m.t);\n    // propagate carry\n    while (x[j] >= x.DV) {\n      x[j] -= x.DV;\n      x[++j]++;\n    }\n  }\n  x.clamp();\n  x.drShiftTo(this.m.t, x);\n  if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n}\n\n// r = \"x^2/R mod m\"; x != r\nfunction montSqrTo(x, r) {\n  x.squareTo(r);\n\n  this.reduce(r);\n}\n\n// r = \"xy/R mod m\"; x,y != r\nfunction montMulTo(x, y, r) {\n  x.multiplyTo(y, r);\n\n  this.reduce(r);\n}\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo;\n\n// (public) this^e % m (HAC 14.85)\nfunction bnModPow(e, m, callback) {\n  var i = e.bitLength(),\n      k,\n      r = nbv(1),\n      z = new Montgomery(m);\n  if (i <= 0) return r;else if (i < 18) k = 1;else if (i < 48) k = 3;else if (i < 144) k = 4;else if (i < 768) k = 5;else k = 6;\n\n  // precomputation\n  var g = new Array(),\n      n = 3,\n      k1 = k - 1,\n      km = (1 << k) - 1;\n  g[1] = z.convert(this);\n  if (k > 1) {\n    var g2 = nbi();\n    z.sqrTo(g[1], g2);\n    while (n <= km) {\n      g[n] = nbi();\n      z.mulTo(g2, g[n - 2], g[n]);\n      n += 2;\n    }\n  }\n\n  var j = e.t - 1,\n      w,\n      is1 = true,\n      r2 = nbi(),\n      t;\n  i = nbits(e[j]) - 1;\n  while (j >= 0) {\n    if (i >= k1) w = e[j] >> i - k1 & km;else {\n      w = (e[j] & (1 << i + 1) - 1) << k1 - i;\n      if (j > 0) w |= e[j - 1] >> this.DB + i - k1;\n    }\n\n    n = k;\n    while ((w & 1) == 0) {\n      w >>= 1;\n      --n;\n    }\n    if ((i -= n) < 0) {\n      i += this.DB;\n      --j;\n    }\n    if (is1) {\n      // ret == 1, don't bother squaring or multiplying it\n      g[w].copyTo(r);\n      is1 = false;\n    } else {\n      while (n > 1) {\n        z.sqrTo(r, r2);\n        z.sqrTo(r2, r);\n        n -= 2;\n      }\n      if (n > 0) z.sqrTo(r, r2);else {\n        t = r;\n        r = r2;\n        r2 = t;\n      }\n      z.mulTo(r2, g[w], r);\n    }\n\n    while (j >= 0 && (e[j] & 1 << i) == 0) {\n      z.sqrTo(r, r2);\n      t = r;\n      r = r2;\n      r2 = t;\n      if (--i < 0) {\n        i = this.DB - 1;\n        --j;\n      }\n    }\n  }\n  var result = z.revert(r);\n  callback(null, result);\n  return result;\n}\n\n// protected\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.addTo = bnpAddTo;\n\n// public\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.modPow = bnModPow;\n\n// \"constants\"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Buffer } from 'buffer/';\nimport * as crypto from 'crypto-browserify';\nvar createHash = crypto.createHash;\nvar createHmac = crypto.createHmac;\nvar randomBytes = crypto.randomBytes;\n\nimport BigInteger from './BigInteger';\n\nvar initN = 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD1' + '29024E088A67CC74020BBEA63B139B22514A08798E3404DD' + 'EF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245' + 'E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7ED' + 'EE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3D' + 'C2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F' + '83655D23DCA3AD961C62F356208552BB9ED529077096966D' + '670C354E4ABC9804F1746C08CA18217C32905E462E36CE3B' + 'E39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9' + 'DE2BCBF6955817183995497CEA956AE515D2261898FA0510' + '15728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64' + 'ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7' + 'ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6B' + 'F12FFA06D98A0864D87602733EC86A64521F2B18177B200C' + 'BBE117577A615D6C770988C0BAD946E208E24FA074E5AB31' + '43DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF';\n\nvar newPasswordRequiredChallengeUserAttributePrefix = 'userAttributes.';\n\n/** @class */\n\nvar AuthenticationHelper = function () {\n  /**\n   * Constructs a new AuthenticationHelper object\n   * @param {string} PoolName Cognito user pool name.\n   */\n  function AuthenticationHelper(PoolName) {\n    _classCallCheck(this, AuthenticationHelper);\n\n    this.N = new BigInteger(initN, 16);\n    this.g = new BigInteger('2', 16);\n    this.k = new BigInteger(this.hexHash('00' + this.N.toString(16) + '0' + this.g.toString(16)), 16);\n\n    this.smallAValue = this.generateRandomSmallA();\n    this.getLargeAValue(function () {});\n\n    this.infoBits = Buffer.from('Caldera Derived Key', 'utf8');\n\n    this.poolName = PoolName;\n  }\n\n  /**\n   * @returns {BigInteger} small A, a random number\n   */\n\n\n  AuthenticationHelper.prototype.getSmallAValue = function getSmallAValue() {\n    return this.smallAValue;\n  };\n\n  /**\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   */\n\n\n  AuthenticationHelper.prototype.getLargeAValue = function getLargeAValue(callback) {\n    var _this = this;\n\n    if (this.largeAValue) {\n      callback(null, this.largeAValue);\n    } else {\n      this.calculateA(this.smallAValue, function (err, largeAValue) {\n        if (err) {\n          callback(err, null);\n        }\n\n        _this.largeAValue = largeAValue;\n        callback(null, _this.largeAValue);\n      });\n    }\n  };\n\n  /**\n   * helper function to generate a random big integer\n   * @returns {BigInteger} a random value.\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.generateRandomSmallA = function generateRandomSmallA() {\n    var hexRandom = randomBytes(128).toString('hex');\n\n    var randomBigInt = new BigInteger(hexRandom, 16);\n    var smallABigInt = randomBigInt.mod(this.N);\n\n    return smallABigInt;\n  };\n\n  /**\n   * helper function to generate a random string\n   * @returns {string} a random value.\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.generateRandomString = function generateRandomString() {\n    return randomBytes(40).toString('base64');\n  };\n\n  /**\n   * @returns {string} Generated random value included in password hash.\n   */\n\n\n  AuthenticationHelper.prototype.getRandomPassword = function getRandomPassword() {\n    return this.randomPassword;\n  };\n\n  /**\n   * @returns {string} Generated random value included in devices hash.\n   */\n\n\n  AuthenticationHelper.prototype.getSaltDevices = function getSaltDevices() {\n    return this.SaltToHashDevices;\n  };\n\n  /**\n   * @returns {string} Value used to verify devices.\n   */\n\n\n  AuthenticationHelper.prototype.getVerifierDevices = function getVerifierDevices() {\n    return this.verifierDevices;\n  };\n\n  /**\n   * Generate salts and compute verifier.\n   * @param {string} deviceGroupKey Devices to generate verifier for.\n   * @param {string} username User to generate verifier for.\n   * @param {nodeCallback<null>} callback Called with (err, null)\n   * @returns {void}\n   */\n\n\n  AuthenticationHelper.prototype.generateHashDevice = function generateHashDevice(deviceGroupKey, username, callback) {\n    var _this2 = this;\n\n    this.randomPassword = this.generateRandomString();\n    var combinedString = '' + deviceGroupKey + username + ':' + this.randomPassword;\n    var hashedString = this.hash(combinedString);\n\n    var hexRandom = randomBytes(16).toString('hex');\n    this.SaltToHashDevices = this.padHex(new BigInteger(hexRandom, 16));\n\n    this.g.modPow(new BigInteger(this.hexHash(this.SaltToHashDevices + hashedString), 16), this.N, function (err, verifierDevicesNotPadded) {\n      if (err) {\n        callback(err, null);\n      }\n\n      _this2.verifierDevices = _this2.padHex(verifierDevicesNotPadded);\n      callback(null, null);\n    });\n  };\n\n  /**\n   * Calculate the client's public value A = g^a%N\n   * with the generated random number a\n   * @param {BigInteger} a Randomly generated small A.\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.calculateA = function calculateA(a, callback) {\n    var _this3 = this;\n\n    this.g.modPow(a, this.N, function (err, A) {\n      if (err) {\n        callback(err, null);\n      }\n\n      if (A.mod(_this3.N).equals(BigInteger.ZERO)) {\n        callback(new Error('Illegal paramater. A mod N cannot be 0.'), null);\n      }\n\n      callback(null, A);\n    });\n  };\n\n  /**\n   * Calculate the client's value U which is the hash of A and B\n   * @param {BigInteger} A Large A value.\n   * @param {BigInteger} B Server B value.\n   * @returns {BigInteger} Computed U value.\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.calculateU = function calculateU(A, B) {\n    this.UHexHash = this.hexHash(this.padHex(A) + this.padHex(B));\n    var finalU = new BigInteger(this.UHexHash, 16);\n\n    return finalU;\n  };\n\n  /**\n   * Calculate a hash from a bitArray\n   * @param {Buffer} buf Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.hash = function hash(buf) {\n    var hashHex = createHash('sha256').update(buf).digest('hex');\n    return new Array(64 - hashHex.length).join('0') + hashHex;\n  };\n\n  /**\n   * Calculate a hash from a hex string\n   * @param {String} hexStr Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.hexHash = function hexHash(hexStr) {\n    return this.hash(Buffer.from(hexStr, 'hex'));\n  };\n\n  /**\n   * Standard hkdf algorithm\n   * @param {Buffer} ikm Input key material.\n   * @param {Buffer} salt Salt value.\n   * @returns {Buffer} Strong key material.\n   * @private\n   */\n\n\n  AuthenticationHelper.prototype.computehkdf = function computehkdf(ikm, salt) {\n    var prk = createHmac('sha256', salt).update(ikm).digest();\n    var infoBitsUpdate = Buffer.concat([this.infoBits, Buffer.from(String.fromCharCode(1), 'utf8')]);\n    var hmac = createHmac('sha256', prk).update(infoBitsUpdate).digest();\n    return hmac.slice(0, 16);\n  };\n\n  /**\n   * Calculates the final hkdf based on computed S value, and computed U value and the key\n   * @param {String} username Username.\n   * @param {String} password Password.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {BigInteger} salt Generated salt.\n   * @param {nodeCallback<Buffer>} callback Called with (err, hkdfValue)\n   * @returns {void}\n   */\n\n\n  AuthenticationHelper.prototype.getPasswordAuthenticationKey = function getPasswordAuthenticationKey(username, password, serverBValue, salt, callback) {\n    var _this4 = this;\n\n    if (serverBValue.mod(this.N).equals(BigInteger.ZERO)) {\n      throw new Error('B cannot be zero.');\n    }\n\n    this.UValue = this.calculateU(this.largeAValue, serverBValue);\n\n    if (this.UValue.equals(BigInteger.ZERO)) {\n      throw new Error('U cannot be zero.');\n    }\n\n    var usernamePassword = '' + this.poolName + username + ':' + password;\n    var usernamePasswordHash = this.hash(usernamePassword);\n\n    var xValue = new BigInteger(this.hexHash(this.padHex(salt) + usernamePasswordHash), 16);\n    this.calculateS(xValue, serverBValue, function (err, sValue) {\n      if (err) {\n        callback(err, null);\n      }\n\n      var hkdf = _this4.computehkdf(Buffer.from(_this4.padHex(sValue), 'hex'), Buffer.from(_this4.padHex(_this4.UValue.toString(16)), 'hex'));\n\n      callback(null, hkdf);\n    });\n  };\n\n  /**\n   * Calculates the S value used in getPasswordAuthenticationKey\n   * @param {BigInteger} xValue Salted password hash value.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  AuthenticationHelper.prototype.calculateS = function calculateS(xValue, serverBValue, callback) {\n    var _this5 = this;\n\n    this.g.modPow(xValue, this.N, function (err, gModPowXN) {\n      if (err) {\n        callback(err, null);\n      }\n\n      var intValue2 = serverBValue.subtract(_this5.k.multiply(gModPowXN));\n      intValue2.modPow(_this5.smallAValue.add(_this5.UValue.multiply(xValue)), _this5.N, function (err2, result) {\n        if (err2) {\n          callback(err2, null);\n        }\n\n        callback(null, result.mod(_this5.N));\n      });\n    });\n  };\n\n  /**\n  * Return constant newPasswordRequiredChallengeUserAttributePrefix\n  * @return {newPasswordRequiredChallengeUserAttributePrefix} constant prefix value\n  */\n\n\n  AuthenticationHelper.prototype.getNewPasswordRequiredChallengeUserAttributePrefix = function getNewPasswordRequiredChallengeUserAttributePrefix() {\n    return newPasswordRequiredChallengeUserAttributePrefix;\n  };\n\n  /**\n   * Converts a BigInteger (or hex string) to hex format padded with zeroes for hashing\n   * @param {BigInteger|String} bigInt Number or string to pad.\n   * @returns {String} Padded hex string.\n   */\n\n\n  AuthenticationHelper.prototype.padHex = function padHex(bigInt) {\n    var hashStr = bigInt.toString(16);\n    if (hashStr.length % 2 === 1) {\n      hashStr = '0' + hashStr;\n    } else if ('89ABCDEFabcdef'.indexOf(hashStr[0]) !== -1) {\n      hashStr = '00' + hashStr;\n    }\n    return hashStr;\n  };\n\n  return AuthenticationHelper;\n}();\n\nexport default AuthenticationHelper;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Buffer } from 'buffer/';\n\n/** @class */\n\nvar CognitoJwtToken = function () {\n  /**\n   * Constructs a new CognitoJwtToken object\n   * @param {string=} token The JWT token.\n   */\n  function CognitoJwtToken(token) {\n    _classCallCheck(this, CognitoJwtToken);\n\n    // Assign object\n    this.jwtToken = token || '';\n    this.payload = this.decodePayload();\n  }\n\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  CognitoJwtToken.prototype.getJwtToken = function getJwtToken() {\n    return this.jwtToken;\n  };\n\n  /**\n   * @returns {int} the token's expiration (exp member).\n   */\n\n\n  CognitoJwtToken.prototype.getExpiration = function getExpiration() {\n    return this.payload.exp;\n  };\n\n  /**\n   * @returns {int} the token's \"issued at\" (iat member).\n   */\n\n\n  CognitoJwtToken.prototype.getIssuedAt = function getIssuedAt() {\n    return this.payload.iat;\n  };\n\n  /**\n   * @returns {object} the token's payload.\n   */\n\n\n  CognitoJwtToken.prototype.decodePayload = function decodePayload() {\n    var payload = this.jwtToken.split('.')[1];\n    try {\n      return JSON.parse(Buffer.from(payload, 'base64').toString('utf8'));\n    } catch (err) {\n      return {};\n    }\n  };\n\n  return CognitoJwtToken;\n}();\n\nexport default CognitoJwtToken;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport CognitoJwtToken from './CognitoJwtToken';\n\n/** @class */\n\nvar CognitoAccessToken = function (_CognitoJwtToken) {\n  _inherits(CognitoAccessToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoAccessToken object\n   * @param {string=} AccessToken The JWT access token.\n   */\n  function CognitoAccessToken() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        AccessToken = _ref.AccessToken;\n\n    _classCallCheck(this, CognitoAccessToken);\n\n    return _possibleConstructorReturn(this, _CognitoJwtToken.call(this, AccessToken || ''));\n  }\n\n  return CognitoAccessToken;\n}(CognitoJwtToken);\n\nexport default CognitoAccessToken;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport CognitoJwtToken from './CognitoJwtToken';\n\n/** @class */\n\nvar CognitoIdToken = function (_CognitoJwtToken) {\n  _inherits(CognitoIdToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoIdToken object\n   * @param {string=} IdToken The JWT Id token\n   */\n  function CognitoIdToken() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        IdToken = _ref.IdToken;\n\n    _classCallCheck(this, CognitoIdToken);\n\n    return _possibleConstructorReturn(this, _CognitoJwtToken.call(this, IdToken || ''));\n  }\n\n  return CognitoIdToken;\n}(CognitoJwtToken);\n\nexport default CognitoIdToken;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoRefreshToken = function () {\n  /**\n   * Constructs a new CognitoRefreshToken object\n   * @param {string=} RefreshToken The JWT refresh token.\n   */\n  function CognitoRefreshToken() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        RefreshToken = _ref.RefreshToken;\n\n    _classCallCheck(this, CognitoRefreshToken);\n\n    // Assign object\n    this.token = RefreshToken || '';\n  }\n\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  CognitoRefreshToken.prototype.getToken = function getToken() {\n    return this.token;\n  };\n\n  return CognitoRefreshToken;\n}();\n\nexport default CognitoRefreshToken;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoUserSession = function () {\n  /**\n   * Constructs a new CognitoUserSession object\n   * @param {CognitoIdToken} IdToken The session's Id token.\n   * @param {CognitoRefreshToken=} RefreshToken The session's refresh token.\n   * @param {CognitoAccessToken} AccessToken The session's access token.\n   * @param {int} ClockDrift The saved computer's clock drift or undefined to force calculation.\n   */\n  function CognitoUserSession() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        IdToken = _ref.IdToken,\n        RefreshToken = _ref.RefreshToken,\n        AccessToken = _ref.AccessToken,\n        ClockDrift = _ref.ClockDrift;\n\n    _classCallCheck(this, CognitoUserSession);\n\n    if (AccessToken == null || IdToken == null) {\n      throw new Error('Id token and Access Token must be present.');\n    }\n\n    this.idToken = IdToken;\n    this.refreshToken = RefreshToken;\n    this.accessToken = AccessToken;\n    this.clockDrift = ClockDrift === undefined ? this.calculateClockDrift() : ClockDrift;\n  }\n\n  /**\n   * @returns {CognitoIdToken} the session's Id token\n   */\n\n\n  CognitoUserSession.prototype.getIdToken = function getIdToken() {\n    return this.idToken;\n  };\n\n  /**\n   * @returns {CognitoRefreshToken} the session's refresh token\n   */\n\n\n  CognitoUserSession.prototype.getRefreshToken = function getRefreshToken() {\n    return this.refreshToken;\n  };\n\n  /**\n   * @returns {CognitoAccessToken} the session's access token\n   */\n\n\n  CognitoUserSession.prototype.getAccessToken = function getAccessToken() {\n    return this.accessToken;\n  };\n\n  /**\n   * @returns {int} the session's clock drift\n   */\n\n\n  CognitoUserSession.prototype.getClockDrift = function getClockDrift() {\n    return this.clockDrift;\n  };\n\n  /**\n   * @returns {int} the computer's clock drift\n   */\n\n\n  CognitoUserSession.prototype.calculateClockDrift = function calculateClockDrift() {\n    var now = Math.floor(new Date() / 1000);\n    var iat = Math.min(this.accessToken.getIssuedAt(), this.idToken.getIssuedAt());\n\n    return now - iat;\n  };\n\n  /**\n   * Checks to see if the session is still valid based on session expiry information found\n   * in tokens and the current time (adjusted with clock drift)\n   * @returns {boolean} if the session is still valid\n   */\n\n\n  CognitoUserSession.prototype.isValid = function isValid() {\n    var now = Math.floor(new Date() / 1000);\n    var adjusted = now - this.clockDrift;\n\n    return adjusted < this.accessToken.getExpiration() && adjusted < this.idToken.getExpiration();\n  };\n\n  return CognitoUserSession;\n}();\n\nexport default CognitoUserSession;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nvar weekNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\n/** @class */\n\nvar DateHelper = function () {\n  function DateHelper() {\n    _classCallCheck(this, DateHelper);\n  }\n\n  /**\n   * @returns {string} The current time in \"ddd MMM D HH:mm:ss UTC YYYY\" format.\n   */\n  DateHelper.prototype.getNowString = function getNowString() {\n    var now = new Date();\n\n    var weekDay = weekNames[now.getUTCDay()];\n    var month = monthNames[now.getUTCMonth()];\n    var day = now.getUTCDate();\n\n    var hours = now.getUTCHours();\n    if (hours < 10) {\n      hours = '0' + hours;\n    }\n\n    var minutes = now.getUTCMinutes();\n    if (minutes < 10) {\n      minutes = '0' + minutes;\n    }\n\n    var seconds = now.getUTCSeconds();\n    if (seconds < 10) {\n      seconds = '0' + seconds;\n    }\n\n    var year = now.getUTCFullYear();\n\n    // ddd MMM D HH:mm:ss UTC YYYY\n    var dateNow = weekDay + ' ' + month + ' ' + day + ' ' + hours + ':' + minutes + ':' + seconds + ' UTC ' + year;\n\n    return dateNow;\n  };\n\n  return DateHelper;\n}();\n\nexport default DateHelper;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoUserAttribute = function () {\n  /**\n   * Constructs a new CognitoUserAttribute object\n   * @param {string=} Name The record's name\n   * @param {string=} Value The record's value\n   */\n  function CognitoUserAttribute() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        Name = _ref.Name,\n        Value = _ref.Value;\n\n    _classCallCheck(this, CognitoUserAttribute);\n\n    this.Name = Name || '';\n    this.Value = Value || '';\n  }\n\n  /**\n   * @returns {string} the record's value.\n   */\n\n\n  CognitoUserAttribute.prototype.getValue = function getValue() {\n    return this.Value;\n  };\n\n  /**\n   * Sets the record's value.\n   * @param {string} value The new value.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */\n\n\n  CognitoUserAttribute.prototype.setValue = function setValue(value) {\n    this.Value = value;\n    return this;\n  };\n\n  /**\n   * @returns {string} the record's name.\n   */\n\n\n  CognitoUserAttribute.prototype.getName = function getName() {\n    return this.Name;\n  };\n\n  /**\n   * Sets the record's name\n   * @param {string} name The new name.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */\n\n\n  CognitoUserAttribute.prototype.setName = function setName(name) {\n    this.Name = name;\n    return this;\n  };\n\n  /**\n   * @returns {string} a string representation of the record.\n   */\n\n\n  CognitoUserAttribute.prototype.toString = function toString() {\n    return JSON.stringify(this);\n  };\n\n  /**\n   * @returns {object} a flat object representing the record.\n   */\n\n\n  CognitoUserAttribute.prototype.toJSON = function toJSON() {\n    return {\n      Name: this.Name,\n      Value: this.Value\n    };\n  };\n\n  return CognitoUserAttribute;\n}();\n\nexport default CognitoUserAttribute;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar dataMemory = {};\n\n/** @class */\n\nvar MemoryStorage = function () {\n  function MemoryStorage() {\n    _classCallCheck(this, MemoryStorage);\n  }\n\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n  MemoryStorage.setItem = function setItem(key, value) {\n    dataMemory[key] = value;\n    return dataMemory[key];\n  };\n\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n\n\n  MemoryStorage.getItem = function getItem(key) {\n    return Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;\n  };\n\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */\n\n\n  MemoryStorage.removeItem = function removeItem(key) {\n    return delete dataMemory[key];\n  };\n\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n\n\n  MemoryStorage.clear = function clear() {\n    dataMemory = {};\n    return dataMemory;\n  };\n\n  return MemoryStorage;\n}();\n\n/** @class */\n\n\nvar StorageHelper = function () {\n\n  /**\n   * This is used to get a storage object\n   * @returns {object} the storage\n   */\n  function StorageHelper() {\n    _classCallCheck(this, StorageHelper);\n\n    try {\n      this.storageWindow = window.localStorage;\n      this.storageWindow.setItem('aws.cognito.test-ls', 1);\n      this.storageWindow.removeItem('aws.cognito.test-ls');\n    } catch (exception) {\n      this.storageWindow = MemoryStorage;\n    }\n  }\n\n  /**\n   * This is used to return the storage\n   * @returns {object} the storage\n   */\n\n\n  StorageHelper.prototype.getStorage = function getStorage() {\n    return this.storageWindow;\n  };\n\n  return StorageHelper;\n}();\n\nexport default StorageHelper;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Buffer } from 'buffer/';\n//import createHmac from 'create-hmac';\nimport * as crypto from 'crypto-browserify';\nvar createHmac = crypto.createHmac;\n\nimport BigInteger from './BigInteger';\nimport AuthenticationHelper from './AuthenticationHelper';\nimport CognitoAccessToken from './CognitoAccessToken';\nimport CognitoIdToken from './CognitoIdToken';\nimport CognitoRefreshToken from './CognitoRefreshToken';\nimport CognitoUserSession from './CognitoUserSession';\nimport DateHelper from './DateHelper';\nimport CognitoUserAttribute from './CognitoUserAttribute';\nimport StorageHelper from './StorageHelper';\n\n/**\n * @callback nodeCallback\n * @template T result\n * @param {*} err The operation failure reason, or null.\n * @param {T} result The operation result.\n */\n\n/**\n * @callback onFailure\n * @param {*} err Failure reason.\n */\n\n/**\n * @callback onSuccess\n * @template T result\n * @param {T} result The operation result.\n */\n\n/**\n * @callback mfaRequired\n * @param {*} details MFA challenge details.\n */\n\n/**\n * @callback customChallenge\n * @param {*} details Custom challenge details.\n */\n\n/**\n * @callback inputVerificationCode\n * @param {*} data Server response.\n */\n\n/**\n * @callback authSuccess\n * @param {CognitoUserSession} session The new session.\n * @param {bool=} userConfirmationNecessary User must be confirmed.\n */\n\n/** @class */\n\nvar CognitoUser = function () {\n  /**\n   * Constructs a new CognitoUser object\n   * @param {object} data Creation options\n   * @param {string} data.Username The user's username.\n   * @param {CognitoUserPool} data.Pool Pool containing the user.\n   * @param {object} data.Storage Optional storage object.\n   */\n  function CognitoUser(data) {\n    _classCallCheck(this, CognitoUser);\n\n    if (data == null || data.Username == null || data.Pool == null) {\n      throw new Error('Username and pool information are required.');\n    }\n\n    this.username = data.Username || '';\n    this.pool = data.Pool;\n    this.Session = null;\n\n    this.client = data.Pool.client;\n\n    this.signInUserSession = null;\n    this.authenticationFlowType = 'USER_SRP_AUTH';\n\n    this.storage = data.Storage || new StorageHelper().getStorage();\n  }\n\n  /**\n   * Sets the session for this user\n   * @param {CognitoUserSession} signInUserSession the session\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.setSignInUserSession = function setSignInUserSession(signInUserSession) {\n    this.clearCachedTokens();\n    this.signInUserSession = signInUserSession;\n    this.cacheTokens();\n  };\n\n  /**\n   * @returns {CognitoUserSession} the current session for this user\n   */\n\n\n  CognitoUser.prototype.getSignInUserSession = function getSignInUserSession() {\n    return this.signInUserSession;\n  };\n\n  /**\n   * @returns {string} the user's username\n   */\n\n\n  CognitoUser.prototype.getUsername = function getUsername() {\n    return this.username;\n  };\n\n  /**\n   * @returns {String} the authentication flow type\n   */\n\n\n  CognitoUser.prototype.getAuthenticationFlowType = function getAuthenticationFlowType() {\n    return this.authenticationFlowType;\n  };\n\n  /**\n   * sets authentication flow type\n   * @param {string} authenticationFlowType New value.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.setAuthenticationFlowType = function setAuthenticationFlowType(authenticationFlowType) {\n    this.authenticationFlowType = authenticationFlowType;\n  };\n\n  /**\n   * This is used for authenticating the user through the custom authentication flow.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.initiateAuth = function initiateAuth(authDetails, callback) {\n    var _this = this;\n\n    var authParameters = authDetails.getAuthParameters();\n    authParameters.USERNAME = this.username;\n\n    var jsonReq = {\n      AuthFlow: 'CUSTOM_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: authDetails.getValidationData()\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('InitiateAuth', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      var challengeName = data.ChallengeName;\n      var challengeParameters = data.ChallengeParameters;\n\n      if (challengeName === 'CUSTOM_CHALLENGE') {\n        _this.Session = data.Session;\n        return callback.customChallenge(challengeParameters);\n      }\n      _this.signInUserSession = _this.getCognitoUserSession(data.AuthenticationResult);\n      _this.cacheTokens();\n      return callback.onSuccess(_this.signInUserSession);\n    });\n  };\n\n  /**\n   * This is used for authenticating the user.\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.authenticateUser = function authenticateUser(authDetails, callback) {\n    if (this.authenticationFlowType === 'USER_PASSWORD_AUTH') {\n      return this.authenticateUserPlainUsernamePassword(authDetails, callback);\n    } else if (this.authenticationFlowType === 'USER_SRP_AUTH') {\n      return this.authenticateUserDefaultAuth(authDetails, callback);\n    }\n    return callback.onFailure(new Error('Authentication flow type is invalid.'));\n  };\n\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * It calls the AuthenticationHelper for SRP related\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.authenticateUserDefaultAuth = function authenticateUserDefaultAuth(authDetails, callback) {\n    var _this2 = this;\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    var dateHelper = new DateHelper();\n\n    var serverBValue = void 0;\n    var salt = void 0;\n    var authParameters = {};\n\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    authParameters.USERNAME = this.username;\n    authenticationHelper.getLargeAValue(function (errOnAValue, aValue) {\n      // getLargeAValue callback start\n      if (errOnAValue) {\n        callback.onFailure(errOnAValue);\n      }\n\n      authParameters.SRP_A = aValue.toString(16);\n\n      if (_this2.authenticationFlowType === 'CUSTOM_AUTH') {\n        authParameters.CHALLENGE_NAME = 'SRP_A';\n      }\n\n      var jsonReq = {\n        AuthFlow: _this2.authenticationFlowType,\n        ClientId: _this2.pool.getClientId(),\n        AuthParameters: authParameters,\n        ClientMetadata: authDetails.getValidationData()\n      };\n      if (_this2.getUserContextData(_this2.username)) {\n        jsonReq.UserContextData = _this2.getUserContextData(_this2.username);\n      }\n\n      _this2.client.request('InitiateAuth', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        var challengeParameters = data.ChallengeParameters;\n\n        _this2.username = challengeParameters.USER_ID_FOR_SRP;\n        serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        salt = new BigInteger(challengeParameters.SALT, 16);\n        _this2.getCachedDeviceKeyAndPassword();\n\n        authenticationHelper.getPasswordAuthenticationKey(_this2.username, authDetails.getPassword(), serverBValue, salt, function (errOnHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errOnHkdf) {\n            callback.onFailure(errOnHkdf);\n          }\n\n          var dateNow = dateHelper.getNowString();\n\n          var signatureString = createHmac('sha256', hkdf).update(Buffer.concat([Buffer.from(_this2.pool.getUserPoolId().split('_')[1], 'utf8'), Buffer.from(_this2.username, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')])).digest('base64');\n\n          var challengeResponses = {};\n\n          challengeResponses.USERNAME = _this2.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n\n          if (_this2.deviceKey != null) {\n            challengeResponses.DEVICE_KEY = _this2.deviceKey;\n          }\n\n          var respondToAuthChallenge = function respondToAuthChallenge(challenge, challengeCallback) {\n            return _this2.client.request('RespondToAuthChallenge', challenge, function (errChallenge, dataChallenge) {\n              if (errChallenge && errChallenge.code === 'ResourceNotFoundException' && errChallenge.message.toLowerCase().indexOf('device') !== -1) {\n                challengeResponses.DEVICE_KEY = null;\n                _this2.deviceKey = null;\n                _this2.randomPassword = null;\n                _this2.deviceGroupKey = null;\n                _this2.clearCachedDeviceKeyAndPassword();\n                return respondToAuthChallenge(challenge, challengeCallback);\n              }\n              return challengeCallback(errChallenge, dataChallenge);\n            });\n          };\n\n          var jsonReqResp = {\n            ChallengeName: 'PASSWORD_VERIFIER',\n            ClientId: _this2.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session\n          };\n          if (_this2.getUserContextData()) {\n            jsonReqResp.UserContextData = _this2.getUserContextData();\n          }\n          respondToAuthChallenge(jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n\n            var challengeName = dataAuthenticate.ChallengeName;\n            if (challengeName === 'NEW_PASSWORD_REQUIRED') {\n              _this2.Session = dataAuthenticate.Session;\n              var userAttributes = null;\n              var rawRequiredAttributes = null;\n              var requiredAttributes = [];\n              var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n\n              if (dataAuthenticate.ChallengeParameters) {\n                userAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.userAttributes);\n                rawRequiredAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.requiredAttributes);\n              }\n\n              if (rawRequiredAttributes) {\n                for (var i = 0; i < rawRequiredAttributes.length; i++) {\n                  requiredAttributes[i] = rawRequiredAttributes[i].substr(userAttributesPrefix.length);\n                }\n              }\n              return callback.newPasswordRequired(userAttributes, requiredAttributes);\n            }\n            return _this2.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n          });\n          return undefined;\n          // getPasswordAuthenticationKey callback end\n        });\n        return undefined;\n      });\n      // getLargeAValue callback end\n    });\n  };\n\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.authenticateUserPlainUsernamePassword = function authenticateUserPlainUsernamePassword(authDetails, callback) {\n    var _this3 = this;\n\n    var authParameters = {};\n    authParameters.USERNAME = this.username;\n    authParameters.PASSWORD = authDetails.getPassword();\n    if (!authParameters.PASSWORD) {\n      callback.onFailure(new Error('PASSWORD parameter is required'));\n      return;\n    }\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    this.getCachedDeviceKeyAndPassword();\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      AuthFlow: 'USER_PASSWORD_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: authDetails.getValidationData()\n    };\n    if (this.getUserContextData(this.username)) {\n      jsonReq.UserContextData = this.getUserContextData(this.username);\n    }\n    // USER_PASSWORD_AUTH happens in a single round-trip: client sends userName and password,\n    // Cognito UserPools verifies password and returns tokens.\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return _this3.authenticateUserInternal(authResult, authenticationHelper, callback);\n    });\n  };\n\n  /**\n  * PRIVATE ONLY: This is an internal only method and should not\n  * be directly called by the consumers.\n  * @param {object} dataAuthenticate authentication data\n  * @param {object} authenticationHelper helper created\n  * @param {callback} callback passed on from caller\n  * @returns {void}\n  */\n\n\n  CognitoUser.prototype.authenticateUserInternal = function authenticateUserInternal(dataAuthenticate, authenticationHelper, callback) {\n    var _this4 = this;\n\n    var challengeName = dataAuthenticate.ChallengeName;\n    var challengeParameters = dataAuthenticate.ChallengeParameters;\n\n    if (challengeName === 'SMS_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaRequired(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'SELECT_MFA_TYPE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.selectMFAType(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'MFA_SETUP') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaSetup(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'SOFTWARE_TOKEN_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.totpRequired(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'CUSTOM_CHALLENGE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.customChallenge(challengeParameters);\n    }\n\n    if (challengeName === 'DEVICE_SRP_AUTH') {\n      this.getDeviceResponse(callback);\n      return undefined;\n    }\n\n    this.signInUserSession = this.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n    this.cacheTokens();\n\n    var newDeviceMetadata = dataAuthenticate.AuthenticationResult.NewDeviceMetadata;\n    if (newDeviceMetadata == null) {\n      return callback.onSuccess(this.signInUserSession);\n    }\n\n    authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n      if (errGenHash) {\n        return callback.onFailure(errGenHash);\n      }\n\n      var deviceSecretVerifierConfig = {\n        Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n        PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n      };\n\n      _this4.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n      _this4.deviceGroupKey = newDeviceMetadata.DeviceGroupKey;\n      _this4.randomPassword = authenticationHelper.getRandomPassword();\n\n      _this4.client.request('ConfirmDevice', {\n        DeviceKey: newDeviceMetadata.DeviceKey,\n        AccessToken: _this4.signInUserSession.getAccessToken().getJwtToken(),\n        DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n        DeviceName: navigator.userAgent\n      }, function (errConfirm, dataConfirm) {\n        if (errConfirm) {\n          return callback.onFailure(errConfirm);\n        }\n\n        _this4.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n        _this4.cacheDeviceKeyAndPassword();\n        if (dataConfirm.UserConfirmationNecessary === true) {\n          return callback.onSuccess(_this4.signInUserSession, dataConfirm.UserConfirmationNecessary);\n        }\n        return callback.onSuccess(_this4.signInUserSession);\n      });\n      return undefined;\n    });\n    return undefined;\n  };\n\n  /**\n  * This method is user to complete the NEW_PASSWORD_REQUIRED challenge.\n  * Pass the new password with any new user attributes to be updated.\n  * User attribute keys must be of format userAttributes.<attribute_name>.\n  * @param {string} newPassword new password for this user\n  * @param {object} requiredAttributeData map with values for all required attributes\n  * @param {object} callback Result callback map.\n  * @param {onFailure} callback.onFailure Called on any error.\n  * @param {mfaRequired} callback.mfaRequired MFA code required to continue.\n  * @param {customChallenge} callback.customChallenge Custom challenge\n  *         response required to continue.\n  * @param {authSuccess} callback.onSuccess Called on success with the new session.\n  * @returns {void}\n  */\n\n\n  CognitoUser.prototype.completeNewPasswordChallenge = function completeNewPasswordChallenge(newPassword, requiredAttributeData, callback) {\n    var _this5 = this;\n\n    if (!newPassword) {\n      return callback.onFailure(new Error('New password is required.'));\n    }\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n\n    var finalUserAttributes = {};\n    if (requiredAttributeData) {\n      Object.keys(requiredAttributeData).forEach(function (key) {\n        finalUserAttributes[userAttributesPrefix + key] = requiredAttributeData[key];\n      });\n    }\n\n    finalUserAttributes.NEW_PASSWORD = newPassword;\n    finalUserAttributes.USERNAME = this.username;\n    var jsonReq = {\n      ChallengeName: 'NEW_PASSWORD_REQUIRED',\n      ClientId: this.pool.getClientId(),\n      ChallengeResponses: finalUserAttributes,\n      Session: this.Session\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (errAuthenticate, dataAuthenticate) {\n      if (errAuthenticate) {\n        return callback.onFailure(errAuthenticate);\n      }\n      return _this5.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to get a session using device authentication. It is called at the end of user\n   * authentication\n   *\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   * @private\n   */\n\n\n  CognitoUser.prototype.getDeviceResponse = function getDeviceResponse(callback) {\n    var _this6 = this;\n\n    var authenticationHelper = new AuthenticationHelper(this.deviceGroupKey);\n    var dateHelper = new DateHelper();\n\n    var authParameters = {};\n\n    authParameters.USERNAME = this.username;\n    authParameters.DEVICE_KEY = this.deviceKey;\n    authenticationHelper.getLargeAValue(function (errAValue, aValue) {\n      // getLargeAValue callback start\n      if (errAValue) {\n        callback.onFailure(errAValue);\n      }\n\n      authParameters.SRP_A = aValue.toString(16);\n\n      var jsonReq = {\n        ChallengeName: 'DEVICE_SRP_AUTH',\n        ClientId: _this6.pool.getClientId(),\n        ChallengeResponses: authParameters\n      };\n      if (_this6.getUserContextData()) {\n        jsonReq.UserContextData = _this6.getUserContextData();\n      }\n      _this6.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        var challengeParameters = data.ChallengeParameters;\n\n        var serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        var salt = new BigInteger(challengeParameters.SALT, 16);\n\n        authenticationHelper.getPasswordAuthenticationKey(_this6.deviceKey, _this6.randomPassword, serverBValue, salt, function (errHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errHkdf) {\n            return callback.onFailure(errHkdf);\n          }\n\n          var dateNow = dateHelper.getNowString();\n\n          var signatureString = createHmac('sha256', hkdf).update(Buffer.concat([Buffer.from(_this6.deviceGroupKey, 'utf8'), Buffer.from(_this6.deviceKey, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')])).digest('base64');\n\n          var challengeResponses = {};\n\n          challengeResponses.USERNAME = _this6.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n          challengeResponses.DEVICE_KEY = _this6.deviceKey;\n\n          var jsonReqResp = {\n            ChallengeName: 'DEVICE_PASSWORD_VERIFIER',\n            ClientId: _this6.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session\n          };\n          if (_this6.getUserContextData()) {\n            jsonReqResp.UserContextData = _this6.getUserContextData();\n          }\n\n          _this6.client.request('RespondToAuthChallenge', jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n\n            _this6.signInUserSession = _this6.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n            _this6.cacheTokens();\n\n            return callback.onSuccess(_this6.signInUserSession);\n          });\n          return undefined;\n          // getPasswordAuthenticationKey callback end\n        });\n        return undefined;\n      });\n      // getLargeAValue callback end\n    });\n  };\n\n  /**\n   * This is used for a certain user to confirm the registration by using a confirmation code\n   * @param {string} confirmationCode Code entered by user.\n   * @param {bool} forceAliasCreation Allow migrating from an existing email / phone number.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.confirmRegistration = function confirmRegistration(confirmationCode, forceAliasCreation, callback) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      ConfirmationCode: confirmationCode,\n      Username: this.username,\n      ForceAliasCreation: forceAliasCreation\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('ConfirmSignUp', jsonReq, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n  };\n\n  /**\n   * This is used by the user once he has the responses to a custom challenge\n   * @param {string} answerChallenge The custom challange answer.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge\n   *    Custom challenge response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.sendCustomChallengeAnswer = function sendCustomChallengeAnswer(answerChallenge, callback) {\n    var _this7 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    this.getCachedDeviceKeyAndPassword();\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ChallengeName: 'CUSTOM_CHALLENGE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return _this7.authenticateUserInternal(data, authenticationHelper, callback);\n    });\n  };\n\n  /**\n   * This is used by the user once he has an MFA code\n   * @param {string} confirmationCode The MFA code entered by the user.\n   * @param {object} callback Result callback map.\n   * @param {string} mfaType The mfa we are replying to.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.sendMFACode = function sendMFACode(confirmationCode, callback, mfaType) {\n    var _this8 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.SMS_MFA_CODE = confirmationCode;\n    var mfaTypeSelection = mfaType || 'SMS_MFA';\n    if (mfaTypeSelection === 'SOFTWARE_TOKEN_MFA') {\n      challengeResponses.SOFTWARE_TOKEN_MFA_CODE = confirmationCode;\n    }\n\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ChallengeName: mfaTypeSelection,\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, dataAuthenticate) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      var challengeName = dataAuthenticate.ChallengeName;\n\n      if (challengeName === 'DEVICE_SRP_AUTH') {\n        _this8.getDeviceResponse(callback);\n        return undefined;\n      }\n\n      _this8.signInUserSession = _this8.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n      _this8.cacheTokens();\n\n      if (dataAuthenticate.AuthenticationResult.NewDeviceMetadata == null) {\n        return callback.onSuccess(_this8.signInUserSession);\n      }\n\n      var authenticationHelper = new AuthenticationHelper(_this8.pool.getUserPoolId().split('_')[1]);\n      authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n        if (errGenHash) {\n          return callback.onFailure(errGenHash);\n        }\n\n        var deviceSecretVerifierConfig = {\n          Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n          PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n        };\n\n        _this8.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n        _this8.deviceGroupKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey;\n        _this8.randomPassword = authenticationHelper.getRandomPassword();\n\n        _this8.client.request('ConfirmDevice', {\n          DeviceKey: dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey,\n          AccessToken: _this8.signInUserSession.getAccessToken().getJwtToken(),\n          DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n          DeviceName: navigator.userAgent\n        }, function (errConfirm, dataConfirm) {\n          if (errConfirm) {\n            return callback.onFailure(errConfirm);\n          }\n\n          _this8.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n          _this8.cacheDeviceKeyAndPassword();\n          if (dataConfirm.UserConfirmationNecessary === true) {\n            return callback.onSuccess(_this8.signInUserSession, dataConfirm.UserConfirmationNecessary);\n          }\n          return callback.onSuccess(_this8.signInUserSession);\n        });\n        return undefined;\n      });\n      return undefined;\n    });\n  };\n\n  /**\n   * This is used by an authenticated user to change the current password\n   * @param {string} oldUserPassword The current password.\n   * @param {string} newUserPassword The requested new password.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.changePassword = function changePassword(oldUserPassword, newUserPassword, callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('ChangePassword', {\n      PreviousPassword: oldUserPassword,\n      ProposedPassword: newUserPassword,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to enable MFA for himself\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.enableMFA = function enableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var mfaOptions = [];\n    var mfaEnabled = {\n      DeliveryMedium: 'SMS',\n      AttributeName: 'phone_number'\n    };\n    mfaOptions.push(mfaEnabled);\n\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to enable MFA for himself\n   * @param {string[]} smsMfaSettings the sms mfa settings\n   * @param {string[]} softwareTokenMfaSettings the software token mfa settings\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.setUserMfaPreference = function setUserMfaPreference(smsMfaSettings, softwareTokenMfaSettings, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('SetUserMFAPreference', {\n      SMSMfaSettings: smsMfaSettings,\n      SoftwareTokenMfaSettings: softwareTokenMfaSettings,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to disable MFA for himself\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.disableMFA = function disableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var mfaOptions = [];\n\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to delete himself\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.deleteUser = function deleteUser(callback) {\n    var _this9 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('DeleteUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      _this9.clearCachedTokens();\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * @typedef {CognitoUserAttribute | { Name:string, Value:string }} AttributeArg\n   */\n  /**\n   * This is used by an authenticated user to change a list of attributes\n   * @param {AttributeArg[]} attributes A list of the new user attributes.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.updateAttributes = function updateAttributes(attributes, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('UpdateUserAttributes', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      UserAttributes: attributes\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to get a list of attributes\n   * @param {nodeCallback<CognitoUserAttribute[]>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getUserAttributes = function getUserAttributes(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      var attributeList = [];\n\n      for (var i = 0; i < userData.UserAttributes.length; i++) {\n        var attribute = {\n          Name: userData.UserAttributes[i].Name,\n          Value: userData.UserAttributes[i].Value\n        };\n        var userAttribute = new CognitoUserAttribute(attribute);\n        attributeList.push(userAttribute);\n      }\n\n      return callback(null, attributeList);\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to get the MFAOptions\n   * @param {nodeCallback<MFAOptions>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getMFAOptions = function getMFAOptions(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, userData.MFAOptions);\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated users to get the userData\n   * @param {nodeCallback<UserData>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getUserData = function getUserData(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, userData);\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by an authenticated user to delete a list of attributes\n   * @param {string[]} attributeList Names of the attributes to delete.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.deleteAttributes = function deleteAttributes(attributeList, callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('DeleteUserAttributes', {\n      UserAttributeNames: attributeList,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used by a user to resend a confirmation code\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.resendConfirmationCode = function resendConfirmationCode(callback) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username\n    };\n\n    this.client.request('ResendConfirmationCode', jsonReq, function (err, result) {\n      if (err) {\n        return callback(err, null);\n      }\n      return callback(null, result);\n    });\n  };\n\n  /**\n   * This is used to get a session, either from the session object\n   * or from  the local storage, or by using a refresh token\n   *\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getSession = function getSession(callback) {\n    if (this.username == null) {\n      return callback(new Error('Username is null. Cannot retrieve a new session'), null);\n    }\n\n    if (this.signInUserSession != null && this.signInUserSession.isValid()) {\n      return callback(null, this.signInUserSession);\n    }\n\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId() + '.' + this.username;\n    var idTokenKey = keyPrefix + '.idToken';\n    var accessTokenKey = keyPrefix + '.accessToken';\n    var refreshTokenKey = keyPrefix + '.refreshToken';\n    var clockDriftKey = keyPrefix + '.clockDrift';\n\n    if (this.storage.getItem(idTokenKey)) {\n      var idToken = new CognitoIdToken({\n        IdToken: this.storage.getItem(idTokenKey)\n      });\n      var accessToken = new CognitoAccessToken({\n        AccessToken: this.storage.getItem(accessTokenKey)\n      });\n      var refreshToken = new CognitoRefreshToken({\n        RefreshToken: this.storage.getItem(refreshTokenKey)\n      });\n      var clockDrift = parseInt(this.storage.getItem(clockDriftKey), 0) || 0;\n\n      var sessionData = {\n        IdToken: idToken,\n        AccessToken: accessToken,\n        RefreshToken: refreshToken,\n        ClockDrift: clockDrift\n      };\n      var cachedSession = new CognitoUserSession(sessionData);\n      if (cachedSession.isValid()) {\n        this.signInUserSession = cachedSession;\n        return callback(null, this.signInUserSession);\n      }\n\n      if (refreshToken.getToken() == null) {\n        return callback(new Error('Cannot retrieve a new session. Please authenticate.'), null);\n      }\n\n      this.refreshSession(refreshToken, callback);\n    } else {\n      callback(new Error('Local storage is missing an ID Token, Please authenticate'), null);\n    }\n\n    return undefined;\n  };\n\n  /**\n   * This uses the refreshToken to retrieve a new session\n   * @param {CognitoRefreshToken} refreshToken A previous session's refresh token.\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.refreshSession = function refreshSession(refreshToken, callback) {\n    var _this10 = this;\n\n    var authParameters = {};\n    authParameters.REFRESH_TOKEN = refreshToken.getToken();\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId();\n    var lastUserKey = keyPrefix + '.LastAuthUser';\n\n    if (this.storage.getItem(lastUserKey)) {\n      this.username = this.storage.getItem(lastUserKey);\n      var deviceKeyKey = keyPrefix + '.' + this.username + '.deviceKey';\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      AuthFlow: 'REFRESH_TOKEN_AUTH',\n      AuthParameters: authParameters\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        if (err.code === 'NotAuthorizedException') {\n          _this10.clearCachedTokens();\n        }\n        return callback(err, null);\n      }\n      if (authResult) {\n        var authenticationResult = authResult.AuthenticationResult;\n        if (!Object.prototype.hasOwnProperty.call(authenticationResult, 'RefreshToken')) {\n          authenticationResult.RefreshToken = refreshToken.getToken();\n        }\n        _this10.signInUserSession = _this10.getCognitoUserSession(authenticationResult);\n        _this10.cacheTokens();\n        return callback(null, _this10.signInUserSession);\n      }\n      return undefined;\n    });\n  };\n\n  /**\n   * This is used to save the session tokens to local storage\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.cacheTokens = function cacheTokens() {\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId();\n    var idTokenKey = keyPrefix + '.' + this.username + '.idToken';\n    var accessTokenKey = keyPrefix + '.' + this.username + '.accessToken';\n    var refreshTokenKey = keyPrefix + '.' + this.username + '.refreshToken';\n    var clockDriftKey = keyPrefix + '.' + this.username + '.clockDrift';\n    var lastUserKey = keyPrefix + '.LastAuthUser';\n\n    this.storage.setItem(idTokenKey, this.signInUserSession.getIdToken().getJwtToken());\n    this.storage.setItem(accessTokenKey, this.signInUserSession.getAccessToken().getJwtToken());\n    this.storage.setItem(refreshTokenKey, this.signInUserSession.getRefreshToken().getToken());\n    this.storage.setItem(clockDriftKey, '' + this.signInUserSession.getClockDrift());\n    this.storage.setItem(lastUserKey, this.username);\n  };\n\n  /**\n   * This is used to cache the device key and device group and device password\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.cacheDeviceKeyAndPassword = function cacheDeviceKeyAndPassword() {\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId() + '.' + this.username;\n    var deviceKeyKey = keyPrefix + '.deviceKey';\n    var randomPasswordKey = keyPrefix + '.randomPasswordKey';\n    var deviceGroupKeyKey = keyPrefix + '.deviceGroupKey';\n\n    this.storage.setItem(deviceKeyKey, this.deviceKey);\n    this.storage.setItem(randomPasswordKey, this.randomPassword);\n    this.storage.setItem(deviceGroupKeyKey, this.deviceGroupKey);\n  };\n\n  /**\n   * This is used to get current device key and device group and device password\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getCachedDeviceKeyAndPassword = function getCachedDeviceKeyAndPassword() {\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId() + '.' + this.username;\n    var deviceKeyKey = keyPrefix + '.deviceKey';\n    var randomPasswordKey = keyPrefix + '.randomPasswordKey';\n    var deviceGroupKeyKey = keyPrefix + '.deviceGroupKey';\n\n    if (this.storage.getItem(deviceKeyKey)) {\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      this.randomPassword = this.storage.getItem(randomPasswordKey);\n      this.deviceGroupKey = this.storage.getItem(deviceGroupKeyKey);\n    }\n  };\n\n  /**\n   * This is used to clear the device key info from local storage\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.clearCachedDeviceKeyAndPassword = function clearCachedDeviceKeyAndPassword() {\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId() + '.' + this.username;\n    var deviceKeyKey = keyPrefix + '.deviceKey';\n    var randomPasswordKey = keyPrefix + '.randomPasswordKey';\n    var deviceGroupKeyKey = keyPrefix + '.deviceGroupKey';\n\n    this.storage.removeItem(deviceKeyKey);\n    this.storage.removeItem(randomPasswordKey);\n    this.storage.removeItem(deviceGroupKeyKey);\n  };\n\n  /**\n   * This is used to clear the session tokens from local storage\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.clearCachedTokens = function clearCachedTokens() {\n    var keyPrefix = 'CognitoIdentityServiceProvider.' + this.pool.getClientId();\n    var idTokenKey = keyPrefix + '.' + this.username + '.idToken';\n    var accessTokenKey = keyPrefix + '.' + this.username + '.accessToken';\n    var refreshTokenKey = keyPrefix + '.' + this.username + '.refreshToken';\n    var lastUserKey = keyPrefix + '.LastAuthUser';\n\n    this.storage.removeItem(idTokenKey);\n    this.storage.removeItem(accessTokenKey);\n    this.storage.removeItem(refreshTokenKey);\n    this.storage.removeItem(lastUserKey);\n  };\n\n  /**\n   * This is used to build a user session from tokens retrieved in the authentication result\n   * @param {object} authResult Successful auth response from server.\n   * @returns {CognitoUserSession} The new user session.\n   * @private\n   */\n\n\n  CognitoUser.prototype.getCognitoUserSession = function getCognitoUserSession(authResult) {\n    var idToken = new CognitoIdToken(authResult);\n    var accessToken = new CognitoAccessToken(authResult);\n    var refreshToken = new CognitoRefreshToken(authResult);\n\n    var sessionData = {\n      IdToken: idToken,\n      AccessToken: accessToken,\n      RefreshToken: refreshToken\n    };\n\n    return new CognitoUserSession(sessionData);\n  };\n\n  /**\n   * This is used to initiate a forgot password request\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode?} callback.inputVerificationCode\n   *    Optional callback raised instead of onSuccess with response data.\n   * @param {onSuccess} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.forgotPassword = function forgotPassword(callback) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('ForgotPassword', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n      return callback.onSuccess(data);\n    });\n  };\n\n  /**\n   * This is used to confirm a new password using a confirmationCode\n   * @param {string} confirmationCode Code entered by user.\n   * @param {string} newPassword Confirm new password.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<void>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.confirmPassword = function confirmPassword(confirmationCode, newPassword, callback) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ConfirmationCode: confirmationCode,\n      Password: newPassword\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('ConfirmForgotPassword', jsonReq, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess();\n    });\n  };\n\n  /**\n   * This is used to initiate an attribute confirmation request\n   * @param {string} attributeName User attribute that needs confirmation.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode} callback.inputVerificationCode Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getAttributeVerificationCode = function getAttributeVerificationCode(attributeName, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GetUserAttributeVerificationCode', {\n      AttributeName: attributeName,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n      return callback.onSuccess();\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to confirm an attribute using a confirmation code\n   * @param {string} attributeName Attribute being confirmed.\n   * @param {string} confirmationCode Code entered by user.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.verifyAttribute = function verifyAttribute(attributeName, confirmationCode, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('VerifyUserAttribute', {\n      AttributeName: attributeName,\n      Code: confirmationCode,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to get the device information using the current device key\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device data.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getDevice = function getDevice(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to forget a specific device\n   * @param {string} deviceKey Device key.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.forgetSpecificDevice = function forgetSpecificDevice(deviceKey, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('ForgetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: deviceKey\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to forget the current device\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.forgetDevice = function forgetDevice(callback) {\n    var _this11 = this;\n\n    this.forgetSpecificDevice(this.deviceKey, {\n      onFailure: callback.onFailure,\n      onSuccess: function onSuccess(result) {\n        _this11.deviceKey = null;\n        _this11.deviceGroupKey = null;\n        _this11.randomPassword = null;\n        _this11.clearCachedDeviceKeyAndPassword();\n        return callback.onSuccess(result);\n      }\n    });\n  };\n\n  /**\n   * This is used to set the device status as remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.setDeviceStatusRemembered = function setDeviceStatusRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to set the device status as not remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.setDeviceStatusNotRemembered = function setDeviceStatusNotRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'not_remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to list all devices for a user\n   *\n   * @param {int} limit the number of devices returned in a call\n   * @param {string} paginationToken the pagination token in case any was returned before\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device list.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.listDevices = function listDevices(limit, paginationToken, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('ListDevices', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      Limit: limit,\n      PaginationToken: paginationToken\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used to globally revoke all tokens issued to a user\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.globalSignOut = function globalSignOut(callback) {\n    var _this12 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GlobalSignOut', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      _this12.clearCachedTokens();\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  };\n\n  /**\n   * This is used for the user to signOut of the application and clear the cached tokens.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.signOut = function signOut() {\n    this.signInUserSession = null;\n    this.clearCachedTokens();\n  };\n\n  /**\n   * This is used by a user trying to select a given MFA\n   * @param {string} answerChallenge the mfa the user wants\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.sendMFASelectionAnswer = function sendMFASelectionAnswer(answerChallenge, callback) {\n    var _this13 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n\n    var jsonReq = {\n      ChallengeName: 'SELECT_MFA_TYPE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session\n    };\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n      _this13.Session = data.Session;\n      if (answerChallenge === 'SMS_MFA') {\n        return callback.mfaRequired(data.challengeName, data.challengeParameters);\n      }\n      if (answerChallenge === 'SOFTWARE_TOKEN_MFA') {\n        return callback.totpRequired(data.challengeName, data.challengeParameters);\n      }\n      return undefined;\n    });\n  };\n\n  /**\n   * This returns the user context data for advanced security feature.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.getUserContextData = function getUserContextData() {\n    var pool = this.pool;\n    return pool.getUserContextData(this.username);\n  };\n\n  /**\n   * This is used by an authenticated or a user trying to authenticate to associate a TOTP MFA\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.associateSoftwareToken = function associateSoftwareToken(callback) {\n    var _this14 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('AssociateSoftwareToken', {\n        Session: this.Session\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        _this14.Session = data.Session;\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    } else {\n      this.client.request('AssociateSoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    }\n  };\n\n  /**\n   * This is used by an authenticated or a user trying to authenticate to verify a TOTP MFA\n   * @param {string} totpCode The MFA code entered by the user.\n   * @param {string} friendlyDeviceName The device name we are assigning to the device.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n\n\n  CognitoUser.prototype.verifySoftwareToken = function verifySoftwareToken(totpCode, friendlyDeviceName, callback) {\n    var _this15 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('VerifySoftwareToken', {\n        Session: this.Session,\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        _this15.Session = data.Session;\n        var challengeResponses = {};\n        challengeResponses.USERNAME = _this15.username;\n        var jsonReq = {\n          ChallengeName: 'MFA_SETUP',\n          ClientId: _this15.pool.getClientId(),\n          ChallengeResponses: challengeResponses,\n          Session: _this15.Session\n        };\n        if (_this15.getUserContextData()) {\n          jsonReq.UserContextData = _this15.getUserContextData();\n        }\n        _this15.client.request('RespondToAuthChallenge', jsonReq, function (errRespond, dataRespond) {\n          if (errRespond) {\n            return callback.onFailure(errRespond);\n          }\n          _this15.signInUserSession = _this15.getCognitoUserSession(dataRespond.AuthenticationResult);\n          _this15.cacheTokens();\n          return callback.onSuccess(_this15.signInUserSession);\n        });\n        return undefined;\n      });\n    } else {\n      this.client.request('VerifySoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n        return callback.onSuccess(data);\n      });\n    }\n  };\n\n  return CognitoUser;\n}();\n\nexport default CognitoUser;","// class for defining the amzn user-agent\nexport default UserAgent;\n// constructor\nfunction UserAgent() {}\n// public\nUserAgent.prototype.userAgent = 'aws-amplify/0.1.x js';","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport UserAgent from './UserAgent';\n/** @class */\n\nvar Client = function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   */\n  function Client(region, endpoint) {\n    _classCallCheck(this, Client);\n\n    this.endpoint = endpoint || 'https://cognito-idp.' + region + '.amazonaws.com/';\n    this.userAgent = UserAgent.prototype.userAgent || 'aws-amplify/0.1.x js';\n  }\n\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n  */\n\n\n  Client.prototype.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': 'AWSCognitoIdentityProviderService.' + operation,\n      'X-Amz-User-Agent': this.userAgent\n    };\n\n    var options = {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(params)\n    };\n\n    var response = void 0;\n\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n      throw err;\n    }).then(function (resp) {\n      return resp.json().catch(function () {\n        return {};\n      });\n    }).then(function (data) {\n      if (response.ok) return callback(null, data);\n\n      // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n      var code = (data.__type || data.code).split('#').pop();\n      var error = {\n        code: code,\n        name: code,\n        message: data.message || data.Message || null\n      };\n      return callback(error);\n    }).catch(function (err) {\n      // default to return 'UnknownError'\n      var error = { code: 'UnknownError', message: 'Unkown error' };\n\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amz-errortype').split(':')[0];\n          error = {\n            code: code,\n            name: code,\n            statusCode: response.status,\n            message: response.status ? response.status.toString() : null\n          };\n        } catch (ex) {}\n        // pass through so it doesn't get swallowed if we can't parse it\n\n        // otherwise check if error is Network error\n      } else if (err instanceof Error && err.message === 'Network error') {\n        error = {\n          code: 'NetworkError',\n          name: err.name,\n          message: err.message\n        };\n      }\n      return callback(error);\n    });\n  };\n\n  return Client;\n}();\n\nexport default Client;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Client from './Client';\nimport CognitoUser from './CognitoUser';\nimport StorageHelper from './StorageHelper';\n\n/** @class */\n\nvar CognitoUserPool = function () {\n  /**\n   * Constructs a new CognitoUserPool object\n   * @param {object} data Creation options.\n   * @param {string} data.UserPoolId Cognito user pool id.\n   * @param {string} data.ClientId User pool application client id.\n   * @param {object} data.Storage Optional storage object.\n   * @param {boolean} data.AdvancedSecurityDataCollectionFlag Optional:\n   *        boolean flag indicating if the data collection is enabled\n   *        to support cognito advanced security features. By default, this\n   *        flag is set to true.\n   */\n  function CognitoUserPool(data) {\n    _classCallCheck(this, CognitoUserPool);\n\n    var _ref = data || {},\n        UserPoolId = _ref.UserPoolId,\n        ClientId = _ref.ClientId,\n        endpoint = _ref.endpoint,\n        AdvancedSecurityDataCollectionFlag = _ref.AdvancedSecurityDataCollectionFlag;\n\n    if (!UserPoolId || !ClientId) {\n      throw new Error('Both UserPoolId and ClientId are required.');\n    }\n    if (!/^[\\w-]+_.+$/.test(UserPoolId)) {\n      throw new Error('Invalid UserPoolId format.');\n    }\n    var region = UserPoolId.split('_')[0];\n\n    this.userPoolId = UserPoolId;\n    this.clientId = ClientId;\n\n    this.client = new Client(region, endpoint);\n\n    /**\n     * By default, AdvancedSecurityDataCollectionFlag is set to true,\n     * if no input value is provided.\n     */\n    this.advancedSecurityDataCollectionFlag = AdvancedSecurityDataCollectionFlag !== false;\n\n    this.storage = data.Storage || new StorageHelper().getStorage();\n  }\n\n  /**\n   * @returns {string} the user pool id\n   */\n\n\n  CognitoUserPool.prototype.getUserPoolId = function getUserPoolId() {\n    return this.userPoolId;\n  };\n\n  /**\n   * @returns {string} the client id\n   */\n\n\n  CognitoUserPool.prototype.getClientId = function getClientId() {\n    return this.clientId;\n  };\n\n  /**\n   * @typedef {object} SignUpResult\n   * @property {CognitoUser} user New user.\n   * @property {bool} userConfirmed If the user is already confirmed.\n   */\n  /**\n   * method for signing up a user\n   * @param {string} username User's username.\n   * @param {string} password Plain-text initial password entered by user.\n   * @param {(AttributeArg[])=} userAttributes New user attributes.\n   * @param {(AttributeArg[])=} validationData Application metadata.\n   * @param {nodeCallback<SignUpResult>} callback Called on error or with the new user.\n   * @returns {void}\n   */\n\n\n  CognitoUserPool.prototype.signUp = function signUp(username, password, userAttributes, validationData, callback) {\n    var _this = this;\n\n    var jsonReq = {\n      ClientId: this.clientId,\n      Username: username,\n      Password: password,\n      UserAttributes: userAttributes,\n      ValidationData: validationData\n    };\n    if (this.getUserContextData(username)) {\n      jsonReq.UserContextData = this.getUserContextData(username);\n    }\n    this.client.request('SignUp', jsonReq, function (err, data) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      var cognitoUser = {\n        Username: username,\n        Pool: _this,\n        Storage: _this.storage\n      };\n\n      var returnData = {\n        user: new CognitoUser(cognitoUser),\n        userConfirmed: data.UserConfirmed,\n        userSub: data.UserSub\n      };\n\n      return callback(null, returnData);\n    });\n  };\n\n  /**\n   * method for getting the current user of the application from the local storage\n   *\n   * @returns {CognitoUser} the user retrieved from storage\n   */\n\n\n  CognitoUserPool.prototype.getCurrentUser = function getCurrentUser() {\n    var lastUserKey = 'CognitoIdentityServiceProvider.' + this.clientId + '.LastAuthUser';\n\n    var lastAuthUser = this.storage.getItem(lastUserKey);\n    if (lastAuthUser) {\n      var cognitoUser = {\n        Username: lastAuthUser,\n        Pool: this,\n        Storage: this.storage\n      };\n\n      return new CognitoUser(cognitoUser);\n    }\n\n    return null;\n  };\n\n  /**\n   * This method returns the encoded data string used for cognito advanced security feature.\n   * This would be generated only when developer has included the JS used for collecting the\n   * data on their client. Please refer to documentation to know more about using AdvancedSecurity\n   * features\n   * @param {string} username the username for the context data\n   * @returns {string} the user context data\n   **/\n\n\n  CognitoUserPool.prototype.getUserContextData = function getUserContextData(username) {\n    if (typeof AmazonCognitoAdvancedSecurityData === 'undefined') {\n      return undefined;\n    }\n    /* eslint-disable */\n    var amazonCognitoAdvancedSecurityDataConst = AmazonCognitoAdvancedSecurityData;\n    /* eslint-enable */\n\n    if (this.advancedSecurityDataCollectionFlag) {\n      var advancedSecurityData = amazonCognitoAdvancedSecurityDataConst.getData(username, this.userPoolId, this.clientId);\n      if (advancedSecurityData) {\n        var userContextData = {\n          EncodedData: advancedSecurityData\n        };\n        return userContextData;\n      }\n    }\n    return {};\n  };\n\n  return CognitoUserPool;\n}();\n\nexport default CognitoUserPool;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport * as Cookies from 'js-cookie';\n\n/** @class */\n\nvar CookieStorage = function () {\n\n  /**\n   * Constructs a new CookieStorage object\n   * @param {object} data Creation options.\n   * @param {string} data.domain Cookies domain (mandatory).\n   * @param {string} data.path Cookies path (default: '/')\n   * @param {integer} data.expires Cookie expiration (in days, default: 365)\n   * @param {boolean} data.secure Cookie secure flag (default: true)\n   */\n  function CookieStorage(data) {\n    _classCallCheck(this, CookieStorage);\n\n    this.domain = data.domain;\n    if (data.path) {\n      this.path = data.path;\n    } else {\n      this.path = '/';\n    }\n    if (Object.prototype.hasOwnProperty.call(data, 'expires')) {\n      this.expires = data.expires;\n    } else {\n      this.expires = 365;\n    }\n    if (Object.prototype.hasOwnProperty.call(data, 'secure')) {\n      this.secure = data.secure;\n    } else {\n      this.secure = true;\n    }\n  }\n\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n\n\n  CookieStorage.prototype.setItem = function setItem(key, value) {\n    Cookies.set(key, value, {\n      path: this.path,\n      expires: this.expires,\n      domain: this.domain,\n      secure: this.secure\n    });\n    return Cookies.get(key);\n  };\n\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n\n\n  CookieStorage.prototype.getItem = function getItem(key) {\n    return Cookies.get(key);\n  };\n\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */\n\n\n  CookieStorage.prototype.removeItem = function removeItem(key) {\n    return Cookies.remove(key, {\n      path: this.path,\n      domain: this.domain,\n      secure: this.secure\n    });\n  };\n\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n\n\n  CookieStorage.prototype.clear = function clear() {\n    var cookies = Cookies.get();\n    var index = void 0;\n    for (index = 0; index < cookies.length; ++index) {\n      Cookies.remove(cookies[index]);\n    }\n    return {};\n  };\n\n  return CookieStorage;\n}();\n\nexport default CookieStorage;","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as AuthenticationDetails } from './AuthenticationDetails';\nexport { default as AuthenticationHelper } from './AuthenticationHelper';\nexport { default as CognitoAccessToken } from './CognitoAccessToken';\nexport { default as CognitoIdToken } from './CognitoIdToken';\nexport { default as CognitoRefreshToken } from './CognitoRefreshToken';\nexport { default as CognitoUser } from './CognitoUser';\nexport { default as CognitoUserAttribute } from './CognitoUserAttribute';\nexport { default as CognitoUserPool } from './CognitoUserPool';\nexport { default as CognitoUserSession } from './CognitoUserSession';\nexport { default as CookieStorage } from './CookieStorage';\nexport { default as DateHelper } from './DateHelper';"],"sourceRoot":""}