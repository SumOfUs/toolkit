{"version":3,"sources":["FundraiserMailingGenerator/utils/exchange-rates.ts","FundraiserMailingGenerator/state/localStorage.ts","FundraiserMailingGenerator/components/CopyButton.tsx","FundraiserMailingGenerator/components/InputWithActions.tsx","FundraiserMailingGenerator/components/Currency.tsx","FundraiserMailingGenerator/utils/currencyMap.ts","FundraiserMailingGenerator/utils/builders/helpers.tsx","FundraiserMailingGenerator/utils/builders/text.tsx","FundraiserMailingGenerator/components/PlainTextCreator.tsx","FundraiserMailingGenerator/utils/builders/url.tsx","FundraiserMailingGenerator/utils/builders/button.tsx","FundraiserMailingGenerator/utils/builders/link.ts","FundraiserMailingGenerator/components/BasicLinkCreator.tsx","FundraiserMailingGenerator/components/ButtonCreator.tsx","FundraiserMailingGenerator/utils/styles.ts","FundraiserMailingGenerator/components/CannotDonateButtonCreator.js","FundraiserMailingGenerator/components/SuggestedAmountsBasic.tsx","FundraiserMailingGenerator/components/SuggestedAmountsDonors.tsx","FundraiserMailingGenerator/components/FixedAmountBox.tsx","FundraiserMailingGenerator/components/forms/GroupedWithChildren.js","FundraiserMailingGenerator/components/forms/GroupedInput.js","FundraiserMailingGenerator/components/DonorMarkupBuilder.js","FundraiserMailingGenerator/components/NonDonorMarkupBuilder.js","FundraiserMailingGenerator/utils/index.tsx","FundraiserMailingGenerator/locales/en.js","FundraiserMailingGenerator/locales/fr.js","FundraiserMailingGenerator/locales/de.js","FundraiserMailingGenerator/locales/es.js","FundraiserMailingGenerator/locales/pt.js","FundraiserMailingGenerator/locales/index.js","FundraiserMailingGenerator/components/ConditionalCTA.js","FundraiserMailingGenerator/components/Menu.js","FundraiserMailingGenerator/components/SwitchLanguage.tsx","FundraiserMailingGenerator/BaseComponent.tsx"],"names":["SUPPORTED_CURRENCIES","fetchRates","a","async","axios","get","resp","console","log","pick","data","rates","hydrate","key","defaultState","cache","localStorage","getItem","localState","JSON","parse","e","save","state","setItem","stringify","CopyButton","props","copy","text","textFn","setState","hasCopied","window","setTimeout","this","style","color","children","disabled","onClick","size","className","buttonText","Component","InputWithActions","Field","kind","Control","onReset","width","Input","type","onChange","value","onSubmit","Currency","locale","amount","currency","textComponent","Fragment","minimumFractionDigits","maximumFractionDigits","currencyMap","AUD","CAD","GBP","NZD","CHF","MXN","ARS","BRL","EUR","groupByCurrency","fn","Object","keys","map","i","ifelif","checks","c","join","concat","TextBuilder","config","build","multiplier","template","correctLowAsks","match","ask","rate","convertedAmount","Math","round","renderToStaticMarkup","fixedAsk","cutOffValue","ceil","min","cutOffAsk","replace","suggestedAsk","head","tail","split","PlainTextCreator","_debouncedSave","saveState","debounce","updateTemplate","resetTemplate","lang","Error","currentTarget","nextProps","nextState","isEqual","flush","en","fr","de","es","pt","UrlBuilder","options","url","query","defaultQuery","recurringDefault","omitAmount","oneClick","undefined","recurring_default","weekly","one_click","source","qs","omitBy","isUndefined","donation_band","donationBandSnippet","ButtonBuilder","urlConfig","textConfig","href","LinkBuilder","LinkCreator","styles","linkStyle","ButtonCreator","buttonStyle","classic","fontFamily","fontWeight","backgroundColor","borderRadius","boxShadow","display","lineHeight","margin","maxWidth","textAlign","textDecoration","textSizeAdjust","textTransform","whiteSpace","rebranding","CannotDonateButtonCreator","target","Basic","handleChange","event","preventDefault","handleWeeklyDonation","htmlFor","name","SuggestedAmountsDonors","updateButtonTemplate","buttonTemplate","updateOtherLinkTemplate","otherLinkTemplate","updateMultipliers","index","multipliers","Number","updateRecurringDefault","resetState","link","pickBy","identity","button","otherAmountButton","buttons","number","toString","placeholder","classnames","FixedAmountCreator","updateAmount","amounts","GroupedWithChildren","label","GroupedInput","DonorSidebarBuilder","donorButtonTemplate","donorOtherLinkTemplate","donorMultipliers","result","isNaN","donorRecurring","donorOneClick","donorWeekly","NonDonorMarkupBuilder","nonDonorButtonTemplate","nonDonorLinkTemplate","createButton","css","renderLinkOrButtonStatic","createLinkWithoutAmount","otherAmountTemplate","nonDonorSuggestedAmountsMarkup","isButton","pageUrl","plainText","linkText","section","donateAnotherAmountText","monthlyAmount1","monthlyAmount2","monthlyAmount3","monthlyAmount4","monthlyAmount5","donorButtonDefaults","donorLinkDefaults","nonDonorLinkDefaults","oneClickCopy","paymentMethodsCopy","BoxTextHTML","updateKey","buildMarkup","donorTemplate","nonDonorTemplate","tpl","locales","linkWithoutAmount","filter","m","utils","buildSidebarMarkup","buildBodyMarkup","id","DonorMarkupBuilder","data-testid","centered","exact","to","activeClassName","SwitchLanguage","currentLanguage","buttonClass","language","Generator","handleThemeChange","themeName","checked","path","component","ConditionalCTA","defaultChecked"],"mappings":"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","file":"static/js/7.5ac39ac4.chunk.js","sourcesContent":["// @flow\n\nimport axios from 'axios';\nimport { pick } from 'lodash';\n\nconst OXR_XR_URL = 'https://openexchangerates.org/api/latest.json';\nconst OXR_APP_ID = 'b35691a10625439b84bd3638ee37b741';\nconst SUPPORTED_CURRENCIES = ['AUD', 'CAD', 'CHF', 'EUR', 'GBP', 'NZD', 'USD', 'MXN', 'ARS', 'BRL'];\n\nexport type Rates = { [currency: string]: number };\n\nexport async function fetchRates(): Promise<Rates> {\n  const resp = await axios.get(`${OXR_XR_URL}?app_id=${OXR_APP_ID}`);\n  console.log('rates:', pick(resp.data.rates, SUPPORTED_CURRENCIES));\n  return pick(resp.data.rates, SUPPORTED_CURRENCIES);\n}\n","// @flow\nexport function hydrate(key: string, defaultState: any = {}): any {\n  const cache = localStorage.getItem(key);\n  if (!cache) return defaultState;\n  try {\n    const localState = JSON.parse(cache);\n    return { ...defaultState, ...localState };\n  } catch (e) {\n    console.log('Error reading saved state', e);\n    return defaultState;\n  }\n}\n\nexport function save(key: string, state: any) {\n  return localStorage.setItem(key, JSON.stringify(state));\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { Button, Icon } from 'react-bulma-components';\nimport copy from 'copy-to-clipboard';\n\ntype Props = {\n  textFn: () => string;\n  label?: string;\n  disabled?: boolean;\n  children?: typeof React.Children;\n};\n\ntype State = { hasCopied: boolean };\n\nexport default class CopyButton extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      hasCopied: false,\n    };\n  }\n\n  copy = () => {\n    const text = this.props.textFn();\n    copy(text);\n    this.setState({ hasCopied: true }, () => {\n      window.setTimeout(() => this.setState({ hasCopied: false }), 3000);\n    });\n  };\n\n  buttonText() {\n    if (this.state.hasCopied) {\n      return <span style={{ color: 'red' }}>Copied</span>;\n    } else {\n      if (this.props.children) {\n        return <span>{this.props.children}</span>;\n      }\n      return <span>Copy to clipboard</span>;\n    }\n  }\n\n  render() {\n    const { disabled } = this.props;\n    return (\n      <Button onClick={this.copy} disabled={disabled}>\n        <Icon size=\"small\">\n          <i className=\"far fa-copy\" />\n        </Icon>\n        {this.buttonText()}\n      </Button>\n    );\n  }\n}\n","import React, { SyntheticEvent } from 'react';\nimport { Form, Button, Icon } from 'react-bulma-components';\n\nimport CopyButton from './CopyButton';\n\ntype Props = {\n  value: string;\n  onChange: (e: SyntheticEvent<HTMLInputElement>) => any;\n  onReset: () => any;\n  onSubmit: () => any;\n};\n\nexport default function InputWithActions(props: Props) {\n  return (\n    <Form.Field kind=\"addons\">\n      <Form.Control>\n        <Button onClick={props.onReset}>\n          <Icon size=\"small\">\n            <i className=\"fas fa-sync\" />\n          </Icon>\n        </Button>\n      </Form.Control>\n      <Form.Control style={{ width: '100%' }}>\n        <Form.Input type=\"text\" onChange={props.onChange} value={props.value} />\n      </Form.Control>\n      <Form.Control>\n        <CopyButton textFn={props.onSubmit} />\n      </Form.Control>\n    </Form.Field>\n  );\n}\n","// @flow\nimport React, { Fragment } from 'react';\nimport { IntlProvider, FormattedNumber } from 'react-intl';\n\ntype Props = {\n  locale?: string;\n  amount: number;\n  currency: string;\n};\nexport default function Currency({ locale, amount, currency }: Props) {\n  return (\n    <IntlProvider textComponent={Fragment} locale={locale || 'en-US'}>\n      <FormattedNumber\n        value={amount}\n        style=\"currency\"\n        currency={currency}\n        minimumFractionDigits={0}\n        maximumFractionDigits={2}\n      />\n    </IntlProvider>\n  );\n}\n","export type CurrencyMap = {\n  [currency: string]: string[];\n};\n\nexport const currencyMap: CurrencyMap = {\n  AUD: ['Australia'],\n  CAD: ['Canada'],\n  GBP: ['United Kingdom'],\n  NZD: ['New Zealand'],\n  CHF: ['Switzerland'],\n  MXN: ['Mexico'],\n  ARS: ['Argentina'],\n  BRL: ['Brazil'],\n  EUR: [\n    'Austria',\n    'Belgium',\n    'Cyprus',\n    'Denmark',\n    'Estonia',\n    'Finland',\n    'France',\n    'Germany',\n    'Greece',\n    'Ireland',\n    'Italy',\n    'Latvia',\n    'Lithuania',\n    'Luxembourg',\n    'Malta',\n    'Netherlands',\n    'Norway',\n    'Portugal',\n    'Slovakia',\n    'Slovenia',\n    'Spain',\n    'Sweden',\n  ],\n};\n\nexport default currencyMap;\n","// @flow\nimport React from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport Currency from '../../components/Currency';\nimport { currencyMap } from '../currencyMap';\nimport { Rates } from '../exchange-rates';\n\nexport function groupByCurrency(fn: (currency: string) => string) {\n  return Object.keys(currencyMap)\n    .map((currency, i) => {\n      const countries = currencyMap[currency];\n      const ifelif = i === 0 ? 'if' : 'elif';\n      const checks = countries.map(c => `user.country == '${c}'`).join(' or ');\n      return `{% ${ifelif} ${checks} %}${fn(currency)}`;\n    })\n    .concat([`{% else %}${fn('USD')}{% endif %}`])\n    .join('');\n}\n\nexport const suggestedAsk = (\n  rates: Rates,\n  multiplier: number = 1,\n  locale: string = 'en',\n  correctLowAsks: boolean = true\n) =>\n  groupByCurrency(currency => {\n    const rate = rates[currency] * multiplier;\n    const cutOffValue = Math.ceil((185 - (35 * Math.min(5, rate))) / 10) * 10;\n\n    if (!rate) return '';\n    let cutOffAsk = `{{${cutOffValue}|floatformat:0}}`;\n    let ask = `{% if suggested_ask_via_usd|multiply:${rate} >= ${cutOffValue} %}${cutOffAsk}{% else %}{{suggested_ask_via_usd|multiply:${rate}|floatformat:0}}{% endif %}`;\n    if (correctLowAsks) {\n      ask = `{% if suggested_ask_via_usd >= 2.5 %}${ask}{% else %}{{3|multiply:${rate}|floatformat:0}}{% endif %}`;\n    }\n    return renderToStaticMarkup(\n      <Currency amount={0} currency={currency} locale={locale} />\n    ).replace('0', ask);\n  });\n\nexport const fixedAsk = (\n  amount: number,\n  rates: Rates,\n  multiplier: number = 1,\n  locale: string\n) => {\n  return groupByCurrency(currency => {\n    const rate = rates[currency] * multiplier;\n    if (!rate) return '';\n    const convertedAmount = amount ? Math.round(amount * rate) : 0;\n    return renderToStaticMarkup(\n      <Currency amount={convertedAmount} currency={currency} locale={locale} />\n    );\n  });\n};\n","// @flow\nimport React from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport Currency from '../../components/Currency';\nimport { groupByCurrency, suggestedAsk, fixedAsk } from './helpers';\nimport { Rates } from '../exchange-rates';\n\nexport type TextBuilderConfig = {\n  template: string;\n  locale: string;\n  rates: Rates;\n  // if no amount is passed, it will used `suggested_ask_via_usd`\n  amount?: number;\n  multiplier?: number;\n  correctLowAsks?: boolean;\n};\n\nexport default class TextBuilder {\n  config: TextBuilderConfig;\n\n  constructor(config: TextBuilderConfig) {\n    this.config = config;\n  }\n\n  get head() {\n    if (!this.config) return '';\n    const [head] = this.config.template.split('{{amount}}');\n    return head;\n  }\n\n  get tail() {\n    if (!this.config) return '';\n    const [, tail] = this.config.template.split('{{amount}}');\n    return tail;\n  }\n\n  get amount(): string {\n    const { amount, rates, locale } = this.config;\n    return groupByCurrency(currency => {\n      const rate = rates[currency] * (this.config.multiplier || 1);\n      if (!rate) return '';\n      const convertedAmount = amount ? Math.round(amount * rate) : 0;\n\n      return renderToStaticMarkup(\n        <Currency\n          amount={convertedAmount}\n          currency={currency}\n          locale={locale}\n        />\n      );\n    });\n  }\n\n  build = () => {\n    const {\n      amount,\n      rates,\n      multiplier,\n      template,\n      locale,\n      correctLowAsks,\n    } = this.config;\n    if (!template.match(/{{amount}}/)) return template;\n    const ask = amount\n      ? fixedAsk(amount, rates, multiplier, locale)\n      : suggestedAsk(rates, multiplier, locale, correctLowAsks);\n    return `${this.head}${ask}${this.tail}`;\n  };\n}\n","// @flow\nimport React, { Component, SyntheticEvent } from 'react';\nimport InputWithActions from './InputWithActions';\nimport { debounce, isEqual } from 'lodash';\nimport { hydrate, save } from '../state/localStorage';\nimport TextBuilder from '../utils/builders/text';\nimport { Rates } from '../utils/exchange-rates';\n\ntype State = {\n  template: { [lang: string]: string };\n  recurring: string;\n};\n\ntype Props = {\n  url: string;\n  rates: Rates | null;\n  lang: string;\n  correctLowAsks?: boolean;\n};\n\nexport default class PlainTextCreator extends Component<Props, State> {\n  _debouncedSave: any;\n\n  static defaultState = {\n    template: {\n      en: 'Will you chip in {{amount}} to help ...?',\n      fr: 'Ferez-vous un don de {{amount}} pour aider ...?',\n      de: 'Wirst du {{amount}} spenden um zu helfen ...?',\n      es: '¿Puedes aportar {{amount}} para ayudar a ...?',\n      pt: \"Você pode doar {{amount}} para ajudar...?\",\n    },\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = hydrate('PlainTextCreator', PlainTextCreator.defaultState);\n  }\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    if (!isEqual(this.state, nextState)) return true;\n    return this.props.lang !== nextProps.lang;\n  }\n\n  componentDidUpdate() {\n    this._debouncedSave = this.saveState();\n  }\n\n  componentWillUnmount() {\n    if (this._debouncedSave) this._debouncedSave.flush();\n  }\n\n  saveState = debounce(() => save('PlainTextCreator', this.state), 1500);\n\n  updateTemplate = (data: { [key: string]: string }) => {\n    this.setState({ template: { ...this.state.template, ...data } });\n  };\n\n  resetTemplate = () => this.setState(PlainTextCreator.defaultState);\n\n  build = (): string => {\n    if (this.props.rates)\n      return new TextBuilder({\n        template: this.state.template[this.props.lang],\n        locale: this.props.lang,\n        rates: this.props.rates,\n        correctLowAsks: this.props.correctLowAsks,\n      }).build();\n\n    throw new Error('Rates not loaded');\n  };\n\n  onChange = (e: SyntheticEvent<HTMLInputElement>) => {\n    this.updateTemplate({ [this.props.lang]: e.currentTarget.value });\n  };\n\n  render() {\n    return (\n      <div className=\"PlainTextBuilder tool-section\">\n        <label className=\"label\">Build plain text</label>\n        <InputWithActions\n          value={this.state.template[this.props.lang]}\n          onChange={this.onChange}\n          onReset={this.resetTemplate}\n          onSubmit={this.build}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport qs from 'querystringify';\nimport { omitBy, isUndefined } from 'lodash';\nimport { groupByCurrency } from './helpers';\nimport { Rates } from '../exchange-rates';\n\nexport type RecurringDefault = '' | 'recurring' | 'only_recurring' | 'one_off' | 'only_one_off';\n\nexport type UrlBuilderConfig = {\n  amount?: number;\n  omitAmount?: boolean;\n  multiplier?: number;\n  oneClick?: boolean;\n  rates?: Rates;\n  recurringDefault?: RecurringDefault;\n  correctLowAsks?: boolean;\n  weekly?: boolean;\n};\n\ntype UrlBuilderOptions = {\n  config?: UrlBuilderConfig;\n  url?: string;\n};\n\nexport default class UrlBuilder {\n  url: string = 'https://actions.sumofus.org/a/donate';\n  config: UrlBuilderConfig | null = null;\n\n  static defaultQuery = qs\n    .stringify({ donation_band: 'DONATION_BANDS', source: 'fwd' })\n    .replace('DONATION_BANDS', UrlBuilder.donationBandSnippet());\n\n  static donationBandSnippet(): string {\n    return [\n      `{% if suggested_ask_via_usd <= 1 %}nondonor`,\n      `{% elif suggested_ask_via_usd <= 19 %}lowdonor`,\n      `{% elif suggested_ask_via_usd <= 50 %}middonor`,\n      `{% elif suggested_ask_via_usd <= 100 %}highdonor`,\n      `{% else %}vhighdonor{% endif %}`,\n    ].join('');\n  }\n\n  constructor(options: UrlBuilderOptions = {}) {\n    if (options.url) this.url = options.url;\n    if (options.config) this.config = options.config;\n  }\n\n  amount = (currency?: string): string => {\n    \n    if (!currency || !this.config?.rates?.[currency]) return '';\n    const rate = this.config.rates[currency] * (this.config.multiplier || 1);\n    const cutOffValue = Math.ceil(    (185 - (35 * Math.min(5, rate))) / 10) * 10 ;\n    let cutOffAsk = `{{${cutOffValue}|floatformat:0}}`;\n    \n    if (this.config.amount) {\n      return `{{${this.config.amount}|multiply:${rate}|floatformat:0}}`;\n    } else {\n      let ask = `{% if suggested_ask_via_usd|multiply:${rate} >= ${cutOffValue} %}${cutOffAsk}{% else %}{{suggested_ask_via_usd|multiply:${rate}|floatformat:0}}{% endif %}`;\n      if (this.config.correctLowAsks) {\n        ask = `{% if suggested_ask_via_usd >= 2.5 %}${ask}{% else %}{{3|multiply:${rate}|floatformat:0}}{% endif %}`;\n      }\n      return ask;\n    }\n  };\n\n  get query() {\n    if (!this.config) return UrlBuilder.defaultQuery;\n    let { recurringDefault, omitAmount, oneClick, weekly } = this.config;\n    const query = {\n      amount: !omitAmount ? 'AMOUNT' : undefined,\n      currency: 'CURRENCY',\n      recurring_default: recurringDefault,\n      weekly: weekly,\n      one_click: oneClick || undefined,\n      source: 'fwd',\n    };\n    return qs\n      .stringify(omitBy(query, isUndefined))\n      .replace('AMOUNT', groupByCurrency(this.amount))\n      .replace(\n        'CURRENCY',\n        groupByCurrency(currency => currency)\n      );\n  }\n\n  build = () => `${this.url}?${this.query}`;\n}\n","// @flow\nimport React from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport { Rates } from '../exchange-rates';\nimport TextBuilder from './text';\nimport UrlBuilder from './url';\nimport * as CSS from 'csstype';\nimport { RecurringDefault } from './url';\n\nexport type Config = {\n  url: string;\n  template: string;\n  locale: string;\n  rates: Rates;\n  amount?: number;\n  multiplier?: number;\n  correctLowAsks?: boolean;\n  omitAmount?: boolean;\n  style: CSS.Properties;\n  recurringDefault: RecurringDefault;\n  weekly: boolean;\n};\n\nexport default class ButtonBuilder {\n  config: Config;\n  style: any;\n  recurringDefault: RecurringDefault;\n\n  constructor(config: Config) {\n    this.config = config;\n    this.style = config.style;\n    this.recurringDefault = config.recurringDefault;\n  }\n\n  build = () => {\n    const {\n      url,\n      template,\n      locale,\n      rates,\n      amount,\n      multiplier,\n      correctLowAsks,\n      omitAmount,\n      recurringDefault,\n      weekly\n    } = this.config;\n    const urlConfig = {\n      url,\n      config: {\n        locale,\n        rates,\n        amount,\n        multiplier,\n        correctLowAsks,\n        omitAmount,\n        recurringDefault,\n        weekly\n      },\n    };\n    const textConfig = {\n      template,\n      locale,\n      rates,\n      amount,\n      multiplier,\n      correctLowAsks,\n    };\n\n    return renderToStaticMarkup(\n      <a style={this.style} href=\"{{link}}\">{`{{text}}`}</a>\n    )\n      .replace('{{link}}', new UrlBuilder(urlConfig).build())\n      .replace('{{text}}', new TextBuilder(textConfig).build());\n  };\n}\n","// @flow\nimport ButtonBuilder from './button';\nimport { Config } from './button';\n\nexport default class LinkBuilder extends ButtonBuilder {\n  constructor(config: Config) {\n    super(config);\n    this.style = config.style;\n  }\n}\n","import React, { Component, SyntheticEvent } from 'react';\nimport { isEqual, debounce } from 'lodash';\nimport LinkBuilder from '../utils/builders/link';\nimport InputWithActions from './InputWithActions';\nimport { hydrate, save } from '../state/localStorage';\nimport * as CSS from 'csstype';\nimport { Rates } from '../utils/exchange-rates';\nimport { RecurringDefault } from '../utils/builders/url';\n\ntype State = {\n  template: { [lang: string]: string };\n};\n\ntype Props = {\n  lang: string;\n  url: string;\n  rates: Rates | null;\n  correctLowAsks?: boolean;\n  styles: { [key: string]: CSS.Properties };\n  recurringDefault: RecurringDefault;\n  weekly: boolean;\n};\n\nexport default class LinkCreator extends Component<Props, State> {\n  _debouncedSave: any;\n\n  static defaultState = {\n    template: {\n      en: 'Yes, I will chip in {{amount}} to help ...',\n      fr: 'Oui, je vais donner {{amount}} pour aider ...',\n      de: 'Ja, ich spende {{amount}}, um zu helfen ...',\n      es: 'Sí, aportaré {{amount}} para ayudar a...',\n      pt: 'Sim, vou doar {{amount}} para ajudar...'\n    },\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = hydrate('LinkCreator', LinkCreator.defaultState);\n  }\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    if (!isEqual(this.state, nextState)) return true;\n    return this.props.lang !== nextProps.lang;\n  }\n\n  componentDidUpdate() {\n    this._debouncedSave = this.saveState();\n  }\n\n  componentWillUnmount() {\n    if (this._debouncedSave) this._debouncedSave.flush();\n  }\n\n  saveState = debounce(() => save('LinkCreator', this.state), 1500);\n\n  updateTemplate = (data: { [key: string]: string }) => {\n    this.setState({ template: { ...this.state.template, ...data } });\n  };\n\n  resetTemplate = () => this.setState(LinkCreator.defaultState);\n\n  build = (): string => {\n    const { url, rates, lang, correctLowAsks, recurringDefault, weekly } = this.props;\n    const template = this.state.template[this.props.lang];\n\n    if (rates) {\n      return new LinkBuilder({\n        url,\n        template,\n        rates,\n        locale: lang,\n        correctLowAsks,\n        omitAmount: false,\n        style: this.props.styles.linkStyle,\n        recurringDefault: recurringDefault,\n        weekly: weekly\n      }).build();\n    }\n\n    throw new Error('Rates not loaded');\n  };\n\n  onChange = (e: SyntheticEvent<HTMLInputElement>) => {\n    this.updateTemplate({ [this.props.lang]: e.currentTarget.value });\n  };\n\n  render() {\n    return (\n      <div className=\"LinkCreator tool-section\">\n        <label className=\"label\">Build a link</label>\n        <InputWithActions\n          value={this.state.template[this.props.lang]}\n          onChange={this.onChange}\n          onReset={this.resetTemplate}\n          onSubmit={this.build}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component, SyntheticEvent } from 'react';\nimport { debounce, isEqual } from 'lodash';\nimport * as CSS from 'csstype';\nimport InputWithActions from './InputWithActions';\nimport { hydrate, save } from '../state/localStorage';\nimport ButtonBuilder from '../utils/builders/button';\nimport { Rates } from '../utils/exchange-rates';\nimport { RecurringDefault } from '../utils/builders/url';\n\ntype State = {\n  template: { [lang: string]: string };\n  recurring: string;\n};\n\ntype Props = {\n  correctLowAsks?: boolean;\n  url: string;\n  rates: Rates | null;\n  lang: string;\n  styles: { [key: string]: CSS.Properties };\n  recurringDefault: RecurringDefault;\n  weekly: boolean;\n};\n\nexport default class ButtonCreator extends Component<Props, State> {\n  _debouncedSave: any;\n\n  static defaultState = {\n    template: {\n      en: 'Donate {{amount}} now',\n      fr: 'Donner {{amount}}',\n      de: 'Jetzt {{amount}} Spenden',\n      es: 'Dona {{amount}} ahora',\n      pt: 'Doe {{amount}} agora',\n    },\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = hydrate('ButtonCreator', ButtonCreator.defaultState);\n  }\n\n  get template() {\n    return this.state.template[this.props.lang];\n  }\n\n  componentDidUpdate() {\n    this._debouncedSave = this.saveState();\n  }\n\n  componentWillUnmount() {\n    if (this._debouncedSave) this._debouncedSave.flush();\n  }\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    if (!isEqual(this.state, nextState)) return true;\n    return this.props.lang !== nextProps.lang;\n  }\n\n  saveState = debounce(() => save('ButtonCreator', this.state), 1500);\n\n  updateTemplate = (data: { [key: string]: string }) => {\n    this.setState({ template: { ...this.state.template, ...data } });\n  };\n\n  resetTemplate = () => this.setState(ButtonCreator.defaultState);\n\n  // TODO: Refactor this. At the moment it's being duplicated in most\n  // components but we should extract it.\n  build = (): string => {\n    const { url, rates, lang, correctLowAsks, recurringDefault, weekly } = this.props;\n    const template = this.state.template[this.props.lang];\n\n    if (rates)\n      return new ButtonBuilder({\n        url,\n        template,\n        rates,\n        locale: lang,\n        correctLowAsks,\n        omitAmount: false,\n        style: this.props.styles.buttonStyle,\n        recurringDefault: recurringDefault,\n        weekly: weekly\n      }).build();\n\n    throw new Error('Rates not loaded');\n  };\n\n  onChange = (e: SyntheticEvent<HTMLInputElement>) => {\n    this.updateTemplate({ [this.props.lang]: e.currentTarget.value });\n  };\n\n  render() {\n    return (\n      <div className=\"ButtonCreator tool-section\">\n        <label className=\"label\">Build a button</label>\n        <InputWithActions\n          value={this.state.template[this.props.lang]}\n          onChange={this.onChange}\n          onReset={this.resetTemplate}\n          onSubmit={this.build}\n        />\n      </div>\n    );\n  }\n}\n","import * as CSS from 'csstype';\n\ntype StyleList = {\n  [key: string]: CSS.Properties;\n};\ntype Styles = {\n  classic: StyleList;\n  rebranding: StyleList;\n};\nconst styles: Styles = {\n  classic: {\n    linkStyle: {\n      color: '#00abbd',\n      fontFamily: 'sans-serif',\n      fontWeight: 'bold',\n    },\n    buttonStyle: {\n      backgroundColor: '#dc6134',\n      borderRadius: '3px',\n      boxShadow: 'inset 0 -1.2px rgba(0, 0, 0, 0.12) !important',\n      color: 'white',\n      display: 'block',\n      fontFamily: 'sans-serif',\n      fontWeight: 'bold',\n      lineHeight: '44px',\n      margin: '10px 0',\n      maxWidth: '300px',\n      textAlign: 'center',\n      textDecoration: 'none',\n      textSizeAdjust: 'none',\n      textTransform: 'uppercase',\n      whiteSpace: 'nowrap',\n    },\n  },\n  rebranding: {\n    linkStyle: {\n      color: '#00abbd',\n      fontFamily: 'Montserrat, Helvetica, Arial, sans-serif',\n      fontWeight: 'bold',\n    },\n    buttonStyle: {\n      backgroundColor: '#f8492e',\n      borderRadius: '0px',\n      color: 'white',\n      display: 'block',\n      fontFamily: 'Montserrat, Helvetica, Arial, sans-serif',\n      fontWeight: 'bold',\n      lineHeight: '44px',\n      margin: '10px 0',\n      maxWidth: '300px',\n      textAlign: 'center',\n      textDecoration: 'none',\n      textSizeAdjust: 'none',\n      textTransform: 'uppercase',\n      whiteSpace: 'nowrap',\n    },\n  },\n};\n\nexport default styles;\n","// @flow\nimport React, { Component } from 'react';\nimport InputWithActions from './InputWithActions';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport { Style } from '../utils/styles';\nimport { debounce, isEqual } from 'lodash';\nimport { hydrate, save } from '../state/localStorage';\nimport ButtonBuilder from '../utils/builders/button';\n\nimport type { State as BaseState } from '../BaseComponent';\n\ntype State = {\n  template: { [lang: string]: string },\n  recurring: string,\n  buttonStyle: any,\n};\n\ntype Props = BaseState & {\n  correctLowAsks?: boolean,\n};\n\n//let URL = 'https://homepage.staging.sumofus.org/optout/?lang={{ user.lang }}&akid={{ user.token }}'\nlet URL =\n  'https://www.sumofus.org/optout/?lang={{ user.lang }}&akid={{ user.token }}';\n\nlet buttonStyle = {\n  backgroundColor: '#BEBEBE',\n  color: '#000',\n};\n\nexport default class CannotDonateButtonCreator extends Component<Props, State> {\n  _debouncedSave: any;\n\n  static defaultState = {\n    template: {\n      en: \"Can't Donate\",\n      fr: 'Je ne peux pas faire de don',\n      de: 'Kann nicht spenden',\n      es: 'No puedo donar',\n      pt: 'Não posso doar',\n    },\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = hydrate(\n      'CannotDonateButtonCreator',\n      CannotDonateButtonCreator.defaultState\n    );\n    this.state.buttonStyle = props.styles.buttonStyle;\n  }\n\n  get template() {\n    return this.state.template[this.props.lang];\n  }\n\n  componentDidUpdate() {\n    this._debouncedSave = this.saveState();\n  }\n\n  componentWillUnmount() {\n    if (this._debouncedSave) this._debouncedSave.flush();\n  }\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    if (!isEqual(this.state, nextState)) return true;\n    return this.props.lang !== nextProps.lang;\n  }\n\n  saveState = debounce(\n    () => save('CannotDonateButtonCreator', this.state),\n    1500\n  );\n\n  updateTemplate = (data: { [string]: string }) => {\n    this.setState({ template: { ...this.state.template, ...data } });\n  };\n\n  resetTemplate = () => this.setState(CannotDonateButtonCreator.defaultState);\n\n  // TODO: Refactor this. At the moment it's being duplicated in most\n  // components but we should extract it.\n  build = (): string => {\n    return renderToStaticMarkup(\n      <a style={{ ...this.state.buttonStyle, ...buttonStyle }} href={URL}>\n        {this.state.template[this.props.lang]}\n      </a>\n    );\n  };\n\n  onChange = (e: SyntheticInputEvent<HTMLInputElement>) => {\n    this.updateTemplate({ [this.props.lang]: e.target.value });\n  };\n\n  render() {\n    return (\n      <div className=\"CannotDonateButtonCreator tool-section\">\n        <label className=\"label\">Can't Donate</label>\n        <InputWithActions\n          value={this.state.template[this.props.lang]}\n          onChange={this.onChange}\n          onReset={this.resetTemplate}\n          onSubmit={this.build}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component, SyntheticEvent } from 'react';\nimport PlainTextCreator from './PlainTextCreator';\nimport BasicLinkCreator from './BasicLinkCreator';\nimport ButtonCreator from './ButtonCreator';\nimport CannotDonateButtonCreator from './CannotDonateButtonCreator';\nimport * as CSS from 'csstype';\nimport { Rates } from '../utils/exchange-rates';\nimport { RecurringDefault } from '../utils/builders/url';\n\ntype State = {\n  recurringDefault: RecurringDefault;\n  weekly: boolean;\n};\n\ntype Props = {\n  url: string;\n  rates: Rates | null;\n  lang: string;\n  styles: { [key: string]: CSS.Properties };\n};\n\nexport default class Basic extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { recurringDefault: '', weekly: false };\n  }\n\n  handleChange = (event: SyntheticEvent<HTMLSelectElement>) => {\n    event.preventDefault();\n    const value = event.currentTarget.value as RecurringDefault;\n    this.setState({recurringDefault: value });\n  };\n\n  handleWeeklyDonation = (event: SyntheticEvent<HTMLSelectElement>) => {\n    event.preventDefault();\n    const value = event.currentTarget.value === \"true\" ? true : false;\n    this.setState({weekly: value });\n  };\n\n  render() {\n    return (\n      <div className=\"BasicFundraiserCreators\">\n        <PlainTextCreator {...this.props} correctLowAsks={false} />\n        <BasicLinkCreator {...this.props} correctLowAsks={false} recurringDefault={this.state.recurringDefault} weekly={this.state.weekly} />\n        <ButtonCreator {...this.props} correctLowAsks={false} recurringDefault={this.state.recurringDefault} weekly={this.state.weekly} />\n        <CannotDonateButtonCreator {...this.props} correctLowAsks={false} />\n\n        <div className=\" tool-section\">\n          <label htmlFor=\"oneoff-only-donation\">Recurring &nbsp;</label>\n          <span className=\"select is-small\">\n            <select name=\"recurringDefault\" className='is-small' onChange={this.handleChange }>\n              <option value=\"\">Default</option>\n              <option value=\"only_one_off\">Only One-off Donation </option>\n              <option value=\"only_recurring\">Only Recurring Donation</option>\n            </select>\n          </span>\n        </div>\n        <div className=\" tool-section\">\n          <label htmlFor=\"oneoff-only-donation\">Allow Weekly &nbsp;</label>\n          <span className=\"select is-small\">\n            <select name=\"donorWeekly\" className='is-small' onChange={this.handleWeeklyDonation }>\n              <option value=\"false\">No</option>\n              <option value=\"true\">Yes </option>\n            </select>\n          </span>\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\nimport React, { Component, SyntheticEvent } from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport { Button, Form, Icon } from 'react-bulma-components';\nimport classnames from 'classnames';\nimport { debounce, pickBy, identity } from 'lodash';\nimport { hydrate, save } from '../state/localStorage';\nimport CopyButton from './CopyButton';\nimport UrlBuilder from '../utils/builders/url';\nimport TextBuilder from '../utils/builders/text';\nimport { RecurringDefault } from '../utils/builders/url';\nimport * as CSS from 'csstype';\nimport { Rates } from '../utils/exchange-rates';\n\ntype Translations = { [lang: string]: string };\ntype State = {\n  multipliers: Array<string | number>;\n  recurringDefault: RecurringDefault;\n  oneClick: boolean;\n  buttonTemplate: Translations;\n  otherLinkTemplate: Translations;\n  weekly: boolean;\n};\n\ntype Props = {\n  url: string;\n  rates: Rates | null;\n  lang: string;\n  styles: { [key: string]: CSS.Properties };\n};\nexport default class SuggestedAmountsDonors extends Component<Props, State> {\n  _debouncedSave: any;\n  static defaultState: State = {\n    multipliers: [1, 1.5, 2, 0, 0],\n    recurringDefault: '',\n    weekly: false,\n    oneClick: true,\n    buttonTemplate: {\n      en: `Donate {{amount}} now`,\n      fr: `Donner {{amount}}`,\n      de: `Jetzt {{amount}} Spenden`,\n      es: `Dona {{amount}} ahora`,\n      pt: `Doe {{amount}} agora`,\n    },\n    otherLinkTemplate: {\n      en: `Donate another amount`,\n      fr: `Doner un autre montant`,\n      de: `Spenden Sie einen anderen Betrag`,\n      es: `Dona otra cantidad`,\n      pt: `Doe um outro valor`,\n    },\n  };\n  constructor(props: Props) {\n    super(props);\n    this.state = hydrate(\n      'SuggestedAmountsDonors',\n      SuggestedAmountsDonors.defaultState\n    );\n  }\n\n  componentDidUpdate() {\n    this._debouncedSave = this.saveState();\n  }\n\n  componentWillUnmount() {\n    if (this._debouncedSave) this._debouncedSave.flush();\n  }\n\n  saveState = debounce(() => save('SuggestedAmountsDonors', this.state), 500);\n\n  updateButtonTemplate = (e: SyntheticEvent<HTMLInputElement>) => {\n    this.setState({\n      buttonTemplate: {\n        ...this.state.buttonTemplate,\n        [this.props.lang]: e.currentTarget.value,\n      },\n    });\n  };\n\n  updateOtherLinkTemplate = (e: SyntheticEvent<HTMLInputElement>) => {\n    this.setState({\n      otherLinkTemplate: {\n        ...this.state.otherLinkTemplate,\n        [this.props.lang]: e.currentTarget.value,\n      },\n    });\n  };\n\n  updateMultipliers = (value: string, index: number) => {\n    const multipliers = [...this.state.multipliers];\n    if (value && !Number(value)) return;\n    multipliers[index] = value;\n    this.setState({ multipliers });\n  };\n\n  updateRecurringDefault = (e: SyntheticEvent<HTMLSelectElement>) => {\n    const value = e.currentTarget.value;\n    if (\n      value === '' ||\n      value === 'recurring' ||\n      value === 'only_recurring' ||\n      value === 'only_one_off' ||\n      value === 'one_off'\n    ) {\n      this.setState({ recurringDefault: value });\n    }\n  };\n\n  handleWeeklyDonation = (event: SyntheticEvent<HTMLSelectElement>) => {\n    event.preventDefault();\n    const value = event.currentTarget.value === \"true\" ? true : false;\n    this.setState({weekly: value });\n  };\n\n  resetState = () => this.setState(SuggestedAmountsDonors.defaultState);\n\n  link = (multiplier: number): string => {\n    const { lang, rates, url } = this.props;\n    const { recurringDefault, oneClick, weekly } = this.state;\n    if (!rates) return url;\n    return new UrlBuilder({\n      url,\n      config: pickBy(\n        {\n          multiplier,\n          locale: lang,\n          rates,\n          recurringDefault,\n          weekly,\n          oneClick,\n          correctLowAsks: true,\n        },\n        identity\n      ),\n    }).build();\n  };\n\n  text = (multiplier: number): string => {\n    const { lang, rates } = this.props;\n    if (!rates) return '';\n    return new TextBuilder({\n      multiplier,\n      locale: lang,\n      rates,\n      template: this.state.buttonTemplate[this.props.lang],\n      correctLowAsks: true,\n    }).build();\n  };\n\n  button = (multiplier?: number): string => {\n    if (!multiplier) return '';\n    return renderToStaticMarkup(\n      <a style={this.props.styles.buttonStyle} href=\"{{link}}\">{`{{text}}`}</a>\n    )\n      .replace('{{link}}', this.link(multiplier))\n      .replace('{{text}}', this.text(multiplier));\n  };\n\n  otherAmountButton = () => {\n    const link = new UrlBuilder({\n      url: this.props.url,\n      config: pickBy(\n        {\n          recurringDefault: this.state.recurringDefault,\n          weekly: this.state.weekly,\n          omitAmount: true,\n        },\n        identity\n      ),\n    }).build();\n    const text = this.state.otherLinkTemplate[this.props.lang];\n    return renderToStaticMarkup(\n      <a style={this.props.styles.linkStyle} href=\"{{link}}\">{`{{text}}`}</a>\n    )\n      .replace('{{link}}', link)\n      .replace('{{text}}', text);\n  };\n\n  copy = () => {\n    if (!this.props.rates) return '';\n    const buttons = this.state.multipliers\n      .map(number => Number(number))\n      .map(this.button)\n      .concat([this.otherAmountButton()])\n      .join('');\n    return `<div>${buttons}</div>`;\n  };\n\n  render() {\n    return (\n      <div className=\"SuggestedAmountsDonors tool-section\">\n        <Form.Field className=\"is-horizontal is-grouped\">\n          <div className=\"field-label\">\n            <label className=\"label\">Button copy</label>\n          </div>\n          <div className=\"field-body\">\n            <Form.Input\n              type=\"text\"\n              size=\"small\"\n              value={this.state.buttonTemplate[this.props.lang]}\n              onChange={this.updateButtonTemplate}\n            />\n          </div>\n        </Form.Field>\n        <Form.Field className=\"is-horizontal is-grouped\">\n          <div className=\"field-label\">\n            <label className=\"label\">Other amount copy</label>\n          </div>\n          <div className=\"field-body\">\n            <Form.Input\n              type=\"text\"\n              size=\"small\"\n              value={this.state.otherLinkTemplate[this.props.lang]}\n              onChange={this.updateOtherLinkTemplate}\n            />\n          </div>\n        </Form.Field>\n\n        <Form.Field className=\"is-horizontal\">\n          <div className=\"field-label\">\n            <label className=\"label\">Multipliers</label>\n          </div>\n          <div className=\"field-body\">\n            {this.state.multipliers.map((amount, index) => (\n              <Form.Control key={`amount-${index}`} className=\"field\">\n                <Form.Input\n                  size=\"small\"\n                  name={`amount-${index}`}\n                  value={amount?.toString() || ''}\n                  className=\"is-info\"\n                  placeholder={`Amount ${index + 1}`}\n                  type=\"text\"\n                  onChange={e =>\n                    this.updateMultipliers(e.currentTarget.value, index)\n                  }\n                />\n              </Form.Control>\n            ))}\n          </div>\n        </Form.Field>\n        <Form.Field className=\"is-horizontal is-grouped\">\n          <div className=\"field-label\" />\n          <div className=\"field-body\">\n            <p className=\"field has-text-right\">\n              Enter your multipliers here. 4 and 5 are optional.\n            </p>\n          </div>\n        </Form.Field>\n\n        <Form.Field className=\"is-horizontal is-grouped\">\n          <div className=\"field-label\">\n            <label className=\"label\">Recurring</label>\n          </div>\n          <div className=\"field-body\">\n            <div className=\"select is-small\">\n              <select\n                className=\"is-small\"\n                name=\"recurringDefault\"\n                value={this.state.recurringDefault}\n                onChange={this.updateRecurringDefault}\n              >\n                <option value=\"\">Use page default</option>\n                <option value=\"recurring\">Recurring</option>\n                <option value=\"only_recurring\">Only recurring</option>\n                <option value=\"one_off\">One off</option>\n                <option value=\"only_one_off\">Only One off</option>\n              </select>\n            </div>\n          </div>\n        </Form.Field>\n\n        <Form.Field className=\"is-horizontal is-grouped\">\n          <div className=\"field-label\">\n            <label className=\"label\">Allow Weekly</label>\n          </div>\n          <div className=\"field-body\">\n            <div className=\"select is-small\">\n              <select\n                className=\"is-small\"\n                name=\"weekly\"\n                value={this.state.weekly ? \"true\" : \"false\"}\n                onChange={this.handleWeeklyDonation}\n              >\n                <option value=\"false\">No</option>\n                <option value=\"true\">Yes</option>\n              </select>\n            </div>\n          </div>\n        </Form.Field>\n\n        <Form.Field className=\"is-horizontal is-grouped\">\n          <div className=\"field-label\">\n            <label className=\"label\" htmlFor=\"oneClick\">\n              One click?\n            </label>\n          </div>\n          <div className=\"field-body\">\n            <div\n              className={classnames('select', 'is-small', {\n                'is-success': this.state.oneClick,\n                'is-danger': !this.state.oneClick,\n              })}\n            >\n              <select\n                className=\"is-small\"\n                name=\"oneClick\"\n                value={this.state.oneClick ? 'true' : 'false'}\n                onChange={e =>\n                  this.setState({ oneClick: e.currentTarget.value === 'true' })\n                }\n              >\n                <option value=\"true\">Yes</option>\n                <option value=\"false\">No</option>\n              </select>\n            </div>\n          </div>\n        </Form.Field>\n        <div className=\"level\">\n          <CopyButton textFn={this.copy} disabled={!this.props.rates} />\n          <Button onClick={this.resetState}>\n            <Icon size=\"small\">\n              <i className=\"fas fa-sync\" />\n            </Icon>\n            <span>Reset</span>\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component, SyntheticEvent } from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport { Button, Form, Icon } from 'react-bulma-components';\nimport { debounce, pickBy, identity } from 'lodash';\nimport { hydrate, save } from '../state/localStorage';\nimport CopyButton from './CopyButton';\nimport UrlBuilder from '../utils/builders/url';\nimport TextBuilder from '../utils/builders/text';\nimport { RecurringDefault } from '../utils/builders/url';\nimport { Rates } from '../utils/exchange-rates';\nimport * as CSS from 'csstype';\n\ntype Translations = { [lang: string]: string };\ntype State = {\n  amounts: number[];\n  recurringDefault: RecurringDefault;\n  buttonTemplate: Translations;\n  otherLinkTemplate: Translations;\n  weekly: boolean;\n};\ntype Props = {\n  url: string;\n  rates: Rates | null;\n  lang: string;\n  styles: { [key: string]: CSS.Properties };\n};\nexport default class FixedAmountCreator extends Component<Props, State> {\n  _debouncedSave: any;\n  static defaultState: State = {\n    amounts: [4, 8, 20, 0, 0],\n    recurringDefault: '',\n    weekly: false,\n    buttonTemplate: {\n      en: `Donate {{amount}} now`,\n      fr: `Donner {{amount}}`,\n      de: `Jetzt {{amount}} Spenden`,\n      es: `Dona {{amount}} ahora`,\n      pt: 'Doe {{amount}} agora',\n    },\n    otherLinkTemplate: {\n      en: `Donate another amount`,\n      fr: `Doner un autre montant`,\n      de: `Spenden Sie einen anderen Betrag`,\n      es: `Dona otra cantidad`,\n      pt: 'Doe um outro valor',\n    },\n  };\n  constructor(props: Props) {\n    super(props);\n    this.state = hydrate('FixedAmountCreator', FixedAmountCreator.defaultState);\n  }\n\n  componentDidUpdate() {\n    this._debouncedSave = this.saveState();\n  }\n\n  componentWillUnmount() {\n    if (this._debouncedSave) this._debouncedSave.flush();\n  }\n\n  saveState = debounce(() => save('FixedAmountCreator', this.state), 500);\n\n  updateButtonTemplate = (e: SyntheticEvent<HTMLInputElement>) => {\n    this.setState({\n      buttonTemplate: {\n        ...this.state.buttonTemplate,\n        [this.props.lang]: e.currentTarget.value,\n      },\n    });\n  };\n\n  updateOtherLinkTemplate = (e: SyntheticEvent<HTMLInputElement>) => {\n    this.setState({\n      otherLinkTemplate: {\n        ...this.state.otherLinkTemplate,\n        [this.props.lang]: e.currentTarget.value,\n      },\n    });\n  };\n\n  updateAmount = (value: string, index: number) => {\n    const amounts = [...this.state.amounts];\n    amounts[index] = Number(value) || 0;\n    this.setState({ amounts });\n  };\n\n  updateRecurringDefault = (e: SyntheticEvent<HTMLSelectElement>) => {\n    const value = e.currentTarget.value;\n    if (\n      value === '' ||\n      value === 'recurring' ||\n      value === 'only_recurring' ||\n      value === 'only_one_off' ||\n      value === 'one_off'\n    ) {\n      this.setState({\n        recurringDefault: value,\n      });\n    }\n  };\n\n  handleWeeklyDonation = (event: SyntheticEvent<HTMLSelectElement>) => {\n    event.preventDefault();\n    const value = event.currentTarget.value === \"true\" ? true : false;\n    this.setState({weekly: value });\n  };\n\n  resetState = () => this.setState(FixedAmountCreator.defaultState);\n\n  link = (amount: number): string => {\n    const { lang, rates, url } = this.props;\n    const { recurringDefault, weekly } = this.state;\n    if (!rates) return url;\n    return new UrlBuilder({\n      url,\n      config: pickBy(\n        { amount, locale: lang, rates, recurringDefault, weekly },\n        identity\n      ),\n    }).build();\n  };\n\n  text = (amount: number): string => {\n    const { lang, rates } = this.props;\n    if (!rates) return '';\n    return new TextBuilder({\n      amount,\n      locale: lang,\n      rates,\n      template: this.state.buttonTemplate[this.props.lang],\n    }).build();\n  };\n\n  button = (amount?: number): string => {\n    if (!amount) return '';\n    return renderToStaticMarkup(\n      <a style={this.props.styles.buttonStyle} href=\"{{link}}\">{`{{text}}`}</a>\n    )\n      .replace('{{link}}', this.link(amount))\n      .replace('{{text}}', this.text(amount));\n  };\n\n  otherAmountButton = () => {\n    const link = new UrlBuilder({\n      url: this.props.url,\n      config: pickBy(\n        {\n          recurringDefault: this.state.recurringDefault,\n          weekly: this.state.weekly,\n          omitAmount: true,\n        },\n        identity\n      ),\n    }).build();\n    const text = this.state.otherLinkTemplate[this.props.lang];\n    return renderToStaticMarkup(\n      <a style={this.props.styles.linkStyle} href=\"{{link}}\">{`{{text}}`}</a>\n    )\n      .replace('{{link}}', link)\n      .replace('{{text}}', text);\n  };\n\n  copy = () => {\n    const { rates } = this.props;\n    if (!rates) return '';\n    return this.state.amounts\n      .map(amount => this.button(amount))\n      .concat([this.otherAmountButton()])\n      .join('');\n  };\n\n  render() {\n    return (\n      <div className=\"FixedAmountCreator tool-section\">\n        <Form.Field>\n          <label className=\"label\">Button copy</label>\n          <Form.Input\n            type=\"text\"\n            size=\"small\"\n            value={this.state.buttonTemplate[this.props.lang]}\n            onChange={this.updateButtonTemplate}\n          />\n        </Form.Field>\n        <Form.Field>\n          <label className=\"label\">Other amount copy</label>\n          <Form.Input\n            type=\"text\"\n            size=\"small\"\n            value={this.state.otherLinkTemplate[this.props.lang]}\n            onChange={this.updateOtherLinkTemplate}\n          />\n        </Form.Field>\n\n        <label className=\"label\">\n          Enter your amounts here. 4 and 5 are optional. Each will create a\n          button.\n        </label>\n\n        <Form.Field className=\"is-grouped is-grouped-multiline\">\n          {this.state.amounts.map((amount, index) => (\n            <Form.Control key={`amount-${index}`}>\n              <Form.Input\n                size=\"small\"\n                name={`amount-${index}`}\n                value={amount ? amount.toString() : ''}\n                className=\"is-info\"\n                placeholder={`Amount ${index + 1}`}\n                type=\"text\"\n                onChange={e => this.updateAmount(e.currentTarget.value, index)}\n              />\n            </Form.Control>\n          ))}\n        </Form.Field>\n        <Form.Field>\n          <label className=\"label\">Recurring</label>\n          <div className=\"select\">\n            <select\n              name=\"recurringDefault\"\n              value={this.state.recurringDefault}\n              onChange={this.updateRecurringDefault}\n            >\n              <option value=\"\">Use page default</option>\n              <option value=\"recurring\">Recurring</option>\n              <option value=\"only_recurring\">Only recurring</option>\n              <option value=\"one_off\">One off</option>\n              <option value=\"only_one_off\">Only One off</option>\n            </select>\n          </div>\n        </Form.Field>\n        <Form.Field>\n          <label className=\"label\">Allow Weekly</label>\n          <div className=\"select\">\n            <select\n              className=\"is-small\"\n              name=\"weekly\"\n              value={this.state.weekly ? \"true\" : \"false\"}\n              onChange={this.handleWeeklyDonation}\n            >\n              <option value=\"false\">No</option>\n              <option value=\"true\">Yes</option>\n            </select>\n          </div>\n        </Form.Field>\n        <div className=\"level\">\n          <CopyButton textFn={this.copy} disabled={!this.props.rates} />\n          <Button onClick={this.resetState}>\n            <Icon size=\"small\">\n              <i className=\"fas fa-sync\" />\n            </Icon>\n            <span>Reset</span>\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Form } from 'react-bulma-components';\n\nexport const GroupedWithChildren = props => {\n  return (\n    <Form.Field className=\"is-horizontal\">\n      <div className=\"field-label\">\n        <label className=\"label is-normal\">{props.label}</label>\n      </div>\n      <div className=\"field-body\">{props.children}</div>\n    </Form.Field>\n  );\n};\n\nexport default GroupedWithChildren;\n","import React from 'react';\nimport { Form } from 'react-bulma-components';\n\nexport const GroupedInput = props => {\n  return (\n    <Form.Field className=\"is-horizontal\">\n      <div className=\"field-label\">\n        <label className=\"label is-normal\">{props.label}</label>\n      </div>\n      <div className=\"field-body\">\n        <Form.Input\n          type=\"text\"\n          size=\"small\"\n          value={props.value}\n          onChange={props.onChange}\n        />\n      </div>\n    </Form.Field>\n  );\n};\n\nexport default GroupedInput;\n","import React from 'react';\nimport { Form } from 'react-bulma-components';\nimport { GroupedWithChildren, GroupedInput } from './forms';\nimport classnames from 'classnames';\n\n// FIXME: Move to translation file?\nconst BUTTON_DEFAULTS = {\n  en: `Donate {{amount}} now`,\n  fr: `Donner {{amount}}`,\n  de: `Jetzt {{amount}} Spenden`,\n  es: 'Dona {{amount}} ahora',\n  pt: 'Doe {{amount}} agora',\n};\n\nconst LINK_DEFAULTS = {\n  en: `Donate another amount`,\n  fr: `Doner un autre montant`,\n  de: `Spenden Sie einen anderen Betrag`,\n  es: `Dona otra cantidad`,\n  pt: 'Doe um outro valor',\n};\n\nconst DonorSidebarBuilder = props => {\n  const updateMultipliers = (value, index) => {\n    const result = [...props.donorMultipliers];\n    if (Number.isNaN(Number(value))) return;\n    result[index] = Number(value);\n    props.onChange('donorMultipliers', result);\n  };\n\n  return (\n    <>\n      <GroupedInput\n        label=\"Button\"\n        value={props.donorButtonTemplate}\n        onChange={e =>\n          props.onChange('donorButtonTemplate', e.currentTarget.value)\n        }\n      />\n      <GroupedInput\n        label=\"Other\"\n        value={props.donorOtherLinkTemplate}\n        onChange={e =>\n          props.onChange('donorOtherLinkTemplate', e.currentTarget.value)\n        }\n      />\n\n      <GroupedWithChildren label=\"Multipliers\">\n        {props.donorMultipliers.map((amount, index) => (\n          <Form.Control key={`amount-${index}`} className=\"field\">\n            <Form.Input\n              size=\"small\"\n              name={`amount-${index}`}\n              value={amount || ''}\n              className=\"is-info\"\n              placeholder={`Amount ${index + 1}`}\n              type=\"text\"\n              onChange={e => updateMultipliers(e.currentTarget.value, index)}\n            />\n          </Form.Control>\n        ))}\n      </GroupedWithChildren>\n\n      <GroupedWithChildren label=\"Recurring\">\n        <div className=\"select is-small\">\n          <select\n            className=\"is-small\"\n            name=\"recurringDefault\"\n            value={props.donorRecurring}\n            onChange={e =>\n              props.onChange('donorRecurring', e.currentTarget.value)\n            }\n          >\n            <option value=\"\">Use page default</option>\n            <option value=\"recurring\">Recurring</option>\n            <option value=\"only_recurring\">Only recurring</option>\n            <option value=\"one_off\">One off</option>\n            <option value=\"only_one_off\">Only One off</option>\n          </select>\n        </div>\n      </GroupedWithChildren>\n      <GroupedWithChildren label=\"One click\">\n        <div\n          className={classnames('select', 'is-small', {\n            'is-success': props.donorOneClick,\n            'is-danger': !props.donorOneClick,\n          })}\n        >\n          <select\n            className=\"is-small\"\n            name=\"oneClick\"\n            value={props.donorOneClick}\n            onChange={e =>\n              props.onChange('donorOneClick', e.currentTarget.value === 'true')\n            }\n          >\n            <option value={true}>Yes</option>\n            <option value={false}>No</option>\n          </select>\n        </div>\n      </GroupedWithChildren>\n      <GroupedWithChildren label=\"Allow Weekly\">\n        <div\n          className={classnames('select', 'is-small', {\n            'is-success': props.donorOneClick,\n            'is-danger': !props.donorOneClick,\n          })}\n        >\n          <select\n            className=\"is-small\"\n            name=\"weekly\"\n            value={props.donorWeekly}\n            onChange={e =>\n              props.onChange('donorWeekly', e.currentTarget.value === 'true')\n            }\n          >\n            <option value={true}>Yes</option>\n            <option value={false}>No</option>\n          </select>\n        </div>\n      </GroupedWithChildren>\n    </>\n  );\n};\n\nexport default DonorSidebarBuilder;\n","import React from 'react';\nimport { GroupedInput } from './forms';\n\nconst NonDonorMarkupBuilder = props => {\n  return (\n    <div className=\"form\">\n      <GroupedInput\n        label=\"Button\"\n        value={props.nonDonorButtonTemplate}\n        onChange={e =>\n          props.onChange('nonDonorButtonTemplate', e.currentTarget.value)\n        }\n      />\n      <GroupedInput\n        label=\"Link\"\n        value={props.nonDonorLinkTemplate}\n        onChange={e =>\n          props.onChange('nonDonorLinkTemplate', e.currentTarget.value)\n        }\n      />\n    </div>\n  );\n};\n\nexport default NonDonorMarkupBuilder;\n","import React from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport { identity, pickBy } from 'lodash';\nimport UrlBuilder, { RecurringDefault } from './builders/url';\nimport TextBuilder from './builders/text';\nimport LinkBuilder from './builders/link';\nimport { Rates } from '../utils/exchange-rates';\nimport * as CSS from 'csstype';\nimport styles from './styles';\n\ninterface NonDonorSuggestedAmountsMarkup {\n  url: string;\n  locale: string;\n  rates: Rates;\n  template: string;\n  correctLowAsks?: boolean;\n  isButton?: boolean;\n  styles?: any;\n  recurringDefault: RecurringDefault;\n  weekly: boolean;\n}\n\ninterface DonorSuggestedAmountsMarkup {\n  url: string;\n  locale: string;\n  rates: Rates;\n  multipliers: number[];\n  recurringDefault: RecurringDefault;\n  weekly: boolean;\n  oneClick: boolean;\n  buttonTemplate: string;\n  otherAmountTemplate: string;\n  styles?: any;\n}\n\nexport const donorSuggestedAmountsMarkup = (\n  options: DonorSuggestedAmountsMarkup\n) => {\n  if (!options.rates) return '';\n  const linkWithoutAmount = createLinkWithoutAmount(options);\n  const markup = options.multipliers\n    .map(multiplier => Number(multiplier))\n    .filter(multiplier => multiplier > 0)\n    .map(m => createButton(m, options))\n    .concat([linkWithoutAmount])\n    .join('');\n  return markup;\n};\n\nexport const createButton = (\n  multiplier: number,\n  options: DonorSuggestedAmountsMarkup\n) => {\n  // Donate {{amount}} now\n  // Donate another amount\n  const css = options.styles || styles.classic;\n\n  const href = new UrlBuilder({\n    url: options.url,\n    config: pickBy(\n      {\n        multiplier: multiplier,\n        locale: options.locale,\n        rates: options.rates,\n        recurringDefault: options.recurringDefault,\n        weekly: options.weekly,\n        oneClick: options.oneClick,\n        correctLowAsks: true,\n      },\n      identity\n    ),\n  }).build();\n\n\n  const text = new TextBuilder({\n    multiplier,\n    locale: options.locale,\n    rates: options.rates,\n    template: options.buttonTemplate,\n    correctLowAsks: true,\n  }).build();\n\n  return renderLinkOrButtonStatic({\n    style: css.buttonStyle,\n    href,\n    text,\n  });\n};\n\nexport const createLinkWithoutAmount = (\n  options: DonorSuggestedAmountsMarkup\n) => {\n  const { url, recurringDefault, weekly, otherAmountTemplate } = options;\n  const css = options.styles || styles.classic;\n  \n  const href = new UrlBuilder({\n    url,\n    config: pickBy(\n      {\n        weekly,\n        recurringDefault,\n        omitAmount: true,\n      },\n      identity\n    ),\n  }).build();\n  \n\n  return renderLinkOrButtonStatic({\n    style: css.linkStyle,\n    href,\n    text: otherAmountTemplate,\n  });\n};\n\nexport const nonDonorSuggestedAmountsMarkup = (\n  options: NonDonorSuggestedAmountsMarkup\n) => {\n  const { url, rates, locale, correctLowAsks, template, recurringDefault, weekly } = options;\n  let style = options.isButton\n    ? options.styles?.buttonStyle || styles.classic.buttonStyle\n    : options.styles?.linkStyle || styles.classic.linkStyle;\n  if (rates)\n    return new LinkBuilder({\n      url,\n      template,\n      rates,\n      locale,\n      correctLowAsks: correctLowAsks || false,\n      omitAmount: false,\n      style,\n      recurringDefault,\n      weekly\n    }).build();\n\n  throw new Error('Rates not loaded');\n};\n\ninterface LinkOptions {\n  href: string;\n  text: string;\n  style: CSS.Properties;\n}\nconst renderLinkOrButtonStatic = (options: LinkOptions): string => {\n  return renderToStaticMarkup(\n    <a style={options.style} href=\"{{href}}\">{`{{text}}`}</a>\n  )\n    .replace('{{href}}', options.href)\n    .replace('{{text}}', options.text);\n};\n","export const pageUrl = 'https://actions.sumofus.org/a/donate';\nexport const plainText =\n  \"EN Can you chip in {{amount}} to keep nestle's hands off our water\";\nexport const linkText =\n  \"Can you chip in {{amount}} to keep nestle's hands off our water\";\nexport const section = 'monthly';\nexport const donateAnotherAmountText = 'Donate another amount';\nexport const monthlyAmount1 = 1;\nexport const monthlyAmount2 = 5;\nexport const monthlyAmount3 = 10;\nexport const monthlyAmount4 = '';\nexport const monthlyAmount5 = '';\nexport const recurringDefault = '';\nexport const amounts = [];\nexport const donorButtonDefaults = `Donate {{amount}} now`;\nexport const donorLinkDefaults = `Donate another amount`;\nexport const nonDonorLinkDefaults = `Will you chip in {{amount}} to help?`;\nexport const oneClickCopy = `If you’ve saved your payment information with SumOfUs, your donation will go through immediately:`;\nexport const paymentMethodsCopy =\n  'Donating just takes a moment -- use Paypal or your card.';\n","export const pageUrl = 'https://actions.sumofus.org/a/donate';\nexport const plainText = `Oui, je vais faire un don de {{amount}} pour sauver les abeilles`;\nexport const linkText = `Oui, je vais faire un don de {{amount}} pour sauver les abeilles`;\nexport const section = 'monthly';\nexport const donateAnotherAmountText = 'FR Donate another amount';\nexport const monthlyAmount1 = 1;\nexport const monthlyAmount2 = 5;\nexport const monthlyAmount3 = 10;\nexport const monthlyAmount4 = '';\nexport const monthlyAmount5 = '';\nexport const recurringDefault = '';\nexport const amounts = [];\nexport const donorButtonDefaults = `Donner {{amount}}`;\nexport const donorLinkDefaults = `Doner un autre montant`;\nexport const nonDonorLinkDefaults = `Oui, je vais donner {{amount}} pour aider [EDIT]`;\nexport const oneClickCopy = `Si vous avez enregistré votre moyen de paiement avec SumOfUs, votre don sera pris en compte automatiquement.`;\nexport const paymentMethodsCopy =\n  'Donner ne prend que deux minutes — utilisez votre carte bancaire ou PayPal.';\n","export const pageUrl = 'https://actions.sumofus.org/a/donate';\nexport const plainText = `Helfen Sie uns mit einer Spende {{amount}} dabei?`;\nexport const linkText = `Ja, ich spende {{amount}} um die Bienen zu retten.`;\nexport const donateAnotherAmountText = 'DE Donate another amount';\nexport const monthlyAmount1 = 1;\nexport const monthlyAmount2 = 5;\nexport const monthlyAmount3 = 10;\nexport const monthlyAmount4 = '';\nexport const monthlyAmount5 = '';\nexport const recurringDefault = '';\nexport const amounts = [];\nexport const donorButtonDefaults = `Jetzt {{amount}} Spenden`;\nexport const donorLinkDefaults = `Spenden Sie einen anderen Betrag`;\nexport const nonDonorLinkDefaults = `Ja, ich spende {{amount}}, um zu helfen [EDIT]`;\nexport const oneClickCopy = `Fall Sie Ihre Kontoinformationen schon hinterlegt haben, spenden Sie mit nur einem Klick`;\nexport const paymentMethodsCopy =\n  'Spenden dauert keine 2 Minuten - nutzen Sie einfach PayPal oder Lastschrift.';\n","export const pageUrl = 'https://actions.sumofus.org/a/donate';\nexport const plainText =\n  \"ES Can you chip in {{amount}} to keep nestle's hands off our water\";\nexport const linkText =\n  \"Can you chip in {{amount}} to keep nestle's hands off our water\";\nexport const section = 'monthly';\nexport const donateAnotherAmountText = 'Dona otra cantidad';\nexport const monthlyAmount1 = 1;\nexport const monthlyAmount2 = 5;\nexport const monthlyAmount3 = 10;\nexport const monthlyAmount4 = '';\nexport const monthlyAmount5 = '';\nexport const recurringDefault = '';\nexport const amounts = [];\nexport const donorButtonDefaults = `Dona {{amount}} ahora`;\nexport const donorLinkDefaults = `Dona otra cantidad`;\nexport const nonDonorLinkDefaults =\n  '¿Puedes aportar {{amount}} para ayudar a ...?';\nexport const oneClickCopy = `Si has guardado tu información de pago con SumOfUs, tu donación se procesará inmediatamente:`;\nexport const paymentMethodsCopy =\n  'Donar sólo toma un momento -- usa PayPal o tu tarjeta.';\n","export const pageUrl = 'https://actions.sumofus.org/a/donate';\nexport const plainText =\n  \"EN Can you chip in {{amount}} to keep nestle's hands off our water\";\nexport const linkText =\n  \"Can you chip in {{amount}} to keep nestle's hands off our water\";\nexport const section = 'monthly';\nexport const donateAnotherAmountText = 'Donate another amount';\nexport const monthlyAmount1 = 1;\nexport const monthlyAmount2 = 5;\nexport const monthlyAmount3 = 10;\nexport const monthlyAmount4 = '';\nexport const monthlyAmount5 = '';\nexport const recurringDefault = '';\nexport const amounts = [];\nexport const donorButtonDefaults = `Doe {{amount}} agora`;\nexport const donorLinkDefaults = `Doe um outro valor`;\nexport const nonDonorLinkDefaults = `Você pode doar {{amount}} para ajudar...?`;\nexport const oneClickCopy = `Se você já salvou seus dados de pagamento com a SumOfUs, sua doação será feita imediatamente:`;\nexport const paymentMethodsCopy =\n  'Doar leva apenas alguns instantes — use Paypal ou seu cartão.';\n","import * as en from './en';\nimport * as fr from './fr';\nimport * as de from './de';\nimport * as es from './es';\nimport * as pt from './pt';\n\nexport default { en, de, fr, es, pt };\n","import React, { Component } from 'react';\nimport CopyButton from './CopyButton';\nimport DonorMarkupBuilder from './DonorMarkupBuilder';\nimport NonDonorMarkupBuilder from './NonDonorMarkupBuilder';\nimport * as utils from '../utils';\nimport locales from '../locales';\n\nclass BoxTextHTML extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      donorButtonTemplate: locales[props.lang].donorButtonDefaults,\n      donorOtherLinkTemplate: locales[props.lang].donorLinkDefaults,\n      donorMultipliers: [1, 1.5, 2, 0, 0],\n      donorRecurring: '',\n      donorOneClick: true,\n      donorWeekly: false,\n      nonDonorButtonTemplate: locales[props.lang].donorButtonDefaults,\n      nonDonorLinkTemplate: locales[props.lang].nonDonorLinkDefaults,\n    };\n  }\n\n  updateKey = (key, value) => {\n    this.setState({ [key]: value });\n  };\n\n  buildMarkup = (donorTemplate = 'XXXX', nonDonorTemplate = 'YYYY') => {\n    // Note: We are doing snapshot testing. If we modify this template,\n    //       we should also update the snapshot. Make sure the snapshot\n    //       test is passing, before updating the snapshot, otherwise\n    //       you'll have no guarantee that the output is what's expected.\n    const tpl = `\n    {% if donations_as_usd.highest_previous %}\n    <!--- DONOR --->\n    <p><strong><em>${locales[this.props.lang].oneClickCopy}</em></strong></p>\n  \n    ${donorTemplate}\n  \n    {% else %}\n    <!--- NON-DONOR --->\n    <p><em>${locales[this.props.lang].paymentMethodsCopy}</em></p>\n  \n    ${nonDonorTemplate}\n  \n    {% endif %}`;\n    return tpl;\n  };\n\n  donorTemplate = () => {\n    return utils.donorSuggestedAmountsMarkup({\n      locale: this.props.lang,\n      rates: this.props.rates,\n      url: this.props.url,\n      styles: this.props.styles,\n      multipliers: this.state.donorMultipliers,\n      recurringDefault: this.state.donorRecurring,\n      oneClick: this.state.donorOneClick,\n      weekly: this.state.donorWeekly,\n      buttonTemplate: this.state.donorButtonTemplate,\n      otherAmountTemplate: this.state.donorOtherLinkTemplate,\n    });\n  };\n\n  nonDonorTemplate = (options = {}) => {\n    return utils.nonDonorSuggestedAmountsMarkup({\n      correctLowAsks: options.correctLowAsks || false,\n      isButton: options.isButton || false,\n      locale: this.props.lang,\n      rates: this.props.rates,\n      styles: this.props.styles,\n      template: options.template || this.state.nonDonorButtonTemplate,\n      url: this.props.url,\n      recurringDefault: this.state.donorRecurring,\n      weekly: this.state.donorWeekly,\n    });\n  };\n\n  buildSidebarMarkup = () => {\n    return this.buildMarkup(\n      this.donorTemplate(),\n      this.nonDonorTemplate({\n        isButton: true,\n        template: this.state.nonDonorButtonTemplate,\n      })\n    );\n  };\n\n  buildBodyMarkup = () => {\n    return this.buildMarkup(\n      this.donorTemplate(),\n      this.nonDonorTemplate({\n        isButton: false,\n        template: this.state.nonDonorLinkTemplate,\n      })\n    );\n  };\n\n  render() {\n    return (\n      <div id=\"box-text-wrapper\" className=\"tool-section\">\n        <div className=\"columns\">\n          <div className=\"column\">\n            <h1 className=\"subtitle\">Donors</h1>\n            <DonorMarkupBuilder\n              donorButtonTemplate={this.state.donorButtonTemplate}\n              donorOtherLinkTemplate={this.state.donorOtherLinkTemplate}\n              donorMultipliers={this.state.donorMultipliers}\n              donorRecurring={this.state.donorRecurring}\n              donorOneClick={this.state.donorOneClick}\n              donorWeekly={this.state.donorWeekly}\n              onChange={this.updateKey}\n            />\n          </div>\n          <div className=\"column\">\n            <h2 className=\"subtitle\">Non-donors</h2>\n            <NonDonorMarkupBuilder\n              nonDonorButtonTemplate={this.state.nonDonorButtonTemplate}\n              nonDonorLinkTemplate={this.state.nonDonorLinkTemplate}\n              onChange={this.updateKey}\n            />\n          </div>\n        </div>\n\n        <div className=\"columns\">\n          <div className=\"column\">\n            <CopyButton textFn={this.buildSidebarMarkup}>\n              <span data-testid=\"box-button\">\n                Copy <strong>box button</strong> html\n              </span>\n            </CopyButton>{' '}\n            <CopyButton textFn={this.buildBodyMarkup}>\n              <span data-testid=\"body-button\">\n                Copy <strong>body</strong> html\n              </span>\n            </CopyButton>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default BoxTextHTML;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Tabs } from 'react-bulma-components';\nimport './Menu.css';\n\nexport default () => (\n  <Tabs centered className=\"FundraiserMailingMenu\">\n    <ul>\n      <li>\n        <NavLink exact to=\"/fundraiser-mailing\" activeClassName=\"is-active\">\n          Suggested Amounts\n        </NavLink>\n      </li>\n      <li>\n        <NavLink\n          exact\n          to=\"/fundraiser-mailing/suggested-amounts-donors\"\n          activeClassName=\"is-active\"\n        >\n          Suggested Amounts (Donors)\n        </NavLink>\n      </li>\n      <li>\n        <NavLink\n          exact\n          to=\"/fundraiser-mailing/fixed-amount\"\n          activeClassName=\"is-active\"\n        >\n          Fixed Amounts (Monthly)\n        </NavLink>\n      </li>\n      <li>\n        <NavLink\n          exact\n          to=\"/fundraiser-mailing/conditional-cta\"\n          activeClassName=\"is-active\"\n        >\n          <span>Conditional CTA for full list</span>\n        </NavLink>\n      </li>\n    </ul>\n  </Tabs>\n);\n","// @flow\n\nimport React from 'react';\nimport classnames from 'classnames';\nimport { Button } from 'react-bulma-components';\n\ntype Props = {\n  currentLanguage: string;\n  onChange: (lang: string) => void;\n};\n\nexport default function SwitchLanguage({ currentLanguage, onChange }: Props) {\n  return (\n    <nav className=\"SwitchLanguage\">\n      <Button\n        style={{ margin: 'auto .5em' }}\n        className={buttonClass('en', currentLanguage)}\n        onClick={() => onChange('en')}\n      >\n        En\n      </Button>\n      <Button\n        style={{ margin: 'auto .5em' }}\n        className={buttonClass('fr', currentLanguage)}\n        onClick={() => onChange('fr')}\n      >\n        Fr\n      </Button>\n      <Button\n        style={{ margin: 'auto .5em' }}\n        className={buttonClass('de', currentLanguage)}\n        onClick={() => onChange('de')}\n      >\n        De\n      </Button>\n      <Button\n        style={{ margin: 'auto .5em' }}\n        className={buttonClass('es', currentLanguage)}\n        onClick={() => onChange('es')}\n      >\n        Es\n      </Button>\n      <Button\n        style={{ margin: 'auto .5em' }}\n        className={buttonClass('pt', currentLanguage)}\n        onClick={() => onChange('pt')}\n      >\n        Pt\n      </Button>\n    </nav>\n  );\n}\n\nfunction buttonClass(language: string, currentLanguage: string): string {\n  return classnames({\n    'is-small': true,\n    'is-white': true,\n    'is-light': language === currentLanguage,\n  });\n}\n","// @flow\n\nimport React, { Component, SyntheticEvent } from 'react';\nimport { debounce } from 'lodash';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport { Form } from 'react-bulma-components';\nimport { fetchRates } from './utils/exchange-rates';\nimport { hydrate, save } from './state/localStorage';\nimport SuggestedAmountsBasic from './components/SuggestedAmountsBasic';\nimport SuggestedAmountsDonors from './components/SuggestedAmountsDonors';\nimport FixedAmountBox from './components/FixedAmountBox';\nimport ConditionalCTA from './components/ConditionalCTA';\nimport Menu from './components/Menu';\nimport SwitchLanguage from './components/SwitchLanguage';\nimport Toggle from 'react-toggle';\nimport styles from './utils/styles';\nimport './BaseComponent.css';\nimport 'react-toggle/style.css';\nimport * as CSS from 'csstype';\n\nimport { Rates } from './utils/exchange-rates';\n\nexport type StyleList = { [key: string]: CSS.Properties };\n\nexport type State = {\n  url: string;\n  rates: Rates | null;\n  lang: string;\n  themeName: 'classic' | 'rebranding';\n};\n\nclass Generator extends Component<void, State> {\n  _debouncedSave: any;\n\n  static defaultState: State = {\n    url: 'https://actions.sumofus.org/a/donate',\n    rates: null,\n    lang: 'en',\n    themeName: 'classic',\n  };\n\n  constructor(props: void) {\n    super(props);\n    this.state = hydrate('BaseComponent', Generator.defaultState);\n  }\n\n  componentDidUpdate() {\n    this._debouncedSave = this.saveState();\n  }\n\n  componentWillUnmount() {\n    if (this._debouncedSave) this._debouncedSave.flush();\n  }\n\n  saveState = debounce(() => save('BaseComponent', this.state), 3000);\n\n  async componentDidMount() {\n    const rates = await fetchRates();\n    this.setState({ rates });\n  }\n\n  handleThemeChange = (event: SyntheticEvent<HTMLInputElement>) => {\n    if (!event) return;\n    const target = event.currentTarget;\n    const themeName = target.checked ? 'rebranding' : 'classic';\n    this.setState({ themeName });\n  };\n\n  render() {\n    return (\n      <div className=\"BaseComponent section\">\n        <div className=\"container\">\n          <SwitchLanguage\n            currentLanguage={this.state.lang}\n            onChange={lang => this.setState({ lang })}\n          />\n          <Menu />\n\n          <Form.Field className=\"BaseComponent-url\">\n            <label className=\"label\">Page URL</label>\n            <Form.Input\n              type=\"text\"\n              name=\"pageUrl\"\n              onChange={e =>\n                this.setState({\n                  url: e.currentTarget.value,\n                })\n              }\n              value={this.state.url}\n            />\n          </Form.Field>\n\n          <Router>\n            <Route\n              exact\n              path=\"/fundraiser-mailing\"\n              component={() => (\n                <SuggestedAmountsBasic\n                  url={this.state.url}\n                  rates={this.state.rates}\n                  lang={this.state.lang}\n                  styles={styles[this.state.themeName] || styles.classic}\n                />\n              )}\n            />\n\n            <Route\n              exact\n              path=\"/fundraiser-mailing/conditional-cta\"\n              component={() => (\n                <ConditionalCTA\n                  url={this.state.url}\n                  rates={this.state.rates}\n                  lang={this.state.lang}\n                  styles={styles[this.state.themeName] || styles.classic}\n                />\n              )}\n            />\n\n            <Route\n              exact\n              path=\"/fundraiser-mailing/suggested-amounts-donors\"\n              component={() => (\n                <SuggestedAmountsDonors\n                  url={this.state.url}\n                  rates={this.state.rates}\n                  lang={this.state.lang}\n                  styles={styles[this.state.themeName] || styles.classic}\n                />\n              )}\n            />\n\n            <Route\n              exact\n              path=\"/fundraiser-mailing/fixed-amount\"\n              component={() => (\n                <FixedAmountBox\n                  url={this.state.url}\n                  rates={this.state.rates}\n                  lang={this.state.lang}\n                  styles={styles[this.state.themeName] || styles.classic}\n                />\n              )}\n            />\n          </Router>\n\n          <div className=\"theme-selector\">\n            <label htmlFor=\"theme-toggle\">Rebranding styles:</label>\n            <Toggle\n              id=\"theme-toggle\"\n              defaultChecked={this.state.themeName === 'rebranding'}\n              onChange={this.handleThemeChange}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Generator;\n"],"sourceRoot":""}