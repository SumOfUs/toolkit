(this["webpackJsonptweet-storm-builder"]=this["webpackJsonptweet-storm-builder"]||[]).push([[11],{557:function(e,t,a){"use strict";a.r(t);var n=a(27),l=a(28),r=a(31),s=a(30),c=a(32),i=a(0),o=a.n(i),u=a(29),m=a(163),h=a.n(m),d=(a(47),function(e){return o.a.createElement(u.Box,null,o.a.createElement(u.Media,null,o.a.createElement(u.Media.Content,null,o.a.createElement(u.Content,null,o.a.createElement("p",null,e.text)),o.a.createElement(u.Level,{small:"true"},o.a.createElement(u.Level.Side,{align:"left"},o.a.createElement(u.Level.Item,{onClick:e.handleDelete.bind(void 0,e.index)},o.a.createElement(u.Icon,{small:!0},o.a.createElement("i",{className:"fa fa-trash"}))))))))}),w=a(265),E=a.n(w),v=a(114),f=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(r.a)(this,Object(s.a)(t).call(this,e)),console.log(window.localStorage.getItem("tweet-storm:tweets"));var l=JSON.parse(window.localStorage.getItem("tweet-storm:tweets")||"[]");return a.state={tweets:l||[],current:"",valid:!0,currentLength:0},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"createTweet",value:function(){var e=this.state.tweets.concat(this.state.current);console.log(e),this.setState({tweets:e,current:"",currentLength:0,valid:!0}),window.localStorage.setItem("tweet-storm:tweets",JSON.stringify(e))}},{key:"handleSubmit",value:function(e){e.preventDefault(),e.target.elements[0].focus(),this.createTweet()}},{key:"handleDelete",value:function(e){var t=this.state.tweets.filter((function(t,a){return a!==e}));this.setState({tweets:t}),window.localStorage.setItem("tweet-storm:tweets",JSON.stringify(t,null,2))}},{key:"handleChange",value:function(e){var t=e.currentTarget.value,a=E.a.parseTweet(t);console.log("result =>",a),this.setState({current:t,currentLength:a.weightedLength,valid:a.valid})}},{key:"tweetsArray",value:function(){return"<script>\n  var tweets = ".concat(JSON.stringify(this.state.tweets),";\n<\/script>")}},{key:"onEnterPress",value:function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),this.createTweet())}},{key:"render",value:function(){var e=this,t=this.state.tweets.map((function(t,a){return o.a.createElement(d,{text:t,index:a,key:a,handleDelete:e.handleDelete.bind(e)})})),a=this.state.valid?"is-info":"is-danger";return o.a.createElement("div",null,o.a.createElement(u.Section,null,o.a.createElement("h1",{className:"title"},"Tweet Maker"),o.a.createElement("h2",null,"Write a tweet and ",o.a.createElement("strong",null,"press enter"),"."),o.a.createElement("form",{ref:function(t){return e.myFormRef=t},className:"form",onSubmit:this.handleSubmit.bind(this)},o.a.createElement(u.Form.Field,null,o.a.createElement(u.Form.Control,null,o.a.createElement(h.a,{onKeyDown:this.onEnterPress.bind(this),autoFocus:!0,className:a,onChange:this.handleChange.bind(this),value:this.state.current}))),o.a.createElement(u.Form.Field,null,o.a.createElement(u.Tag,{className:"is-large ".concat(a)},this.state.currentLength)," ","chars")),o.a.createElement("div",{className:"tweets"},t)),o.a.createElement("section",{className:"section raw"},o.a.createElement("h2",null,"When you're done, click below to copy your tweets..."),o.a.createElement(u.Form.Field,null,o.a.createElement(u.Form.Control,null,o.a.createElement(v.CopyToClipboard,{text:this.tweetsArray(),onCopy:function(){return e.setState({copied:!0})}},o.a.createElement(u.Form.Field,null,o.a.createElement(u.Level,null,o.a.createElement(u.Level.Side,{align:"left"},o.a.createElement(u.Level.Item,null,o.a.createElement(u.Button,null,"Copy to clipboard")),o.a.createElement(u.Level.Item,null,this.state.copied?o.a.createElement(u.Tag,{className:"is-success"},"Copied."):"")))))))))}}]),t}(i.Component);t.default=f}}]);
//# sourceMappingURL=11.de67e9a0.chunk.js.map