(this["webpackJsonptweet-storm-builder"]=this["webpackJsonptweet-storm-builder"]||[]).push([[11],{558:function(e,t,a){"use strict";a.r(t);var n=a(27),l=a(28),r=a(31),s=a(30),c=a(32),o=a(0),i=a.n(o),u=a(29),m=a(164),d=a.n(m),h=a(265),w=a.n(h),E=(a(47),function(e){return i.a.createElement(u.Box,null,i.a.createElement(u.Media,null,i.a.createElement(u.Media.Content,null,i.a.createElement(u.Content,null,i.a.createElement("p",null,e.text)),i.a.createElement(u.Level,{small:"true"},i.a.createElement(u.Level.Side,{align:"left"},i.a.createElement(u.Level.Item,{onClick:e.handleDelete.bind(void 0,e.index)},i.a.createElement(u.Icon,{small:!0},i.a.createElement("i",{className:"fa fa-trash"}))))))))}),v=a(266),f=a.n(v),g=a(114),p=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(r.a)(this,Object(s.a)(t).call(this,e)),console.log(window.localStorage.getItem("tweet-storm:tweets"));var l=JSON.parse(window.localStorage.getItem("tweet-storm:tweets")||"[]");return a.state={tweets:l||[],current:"",valid:!0,currentLength:0,replyToId:""},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"createTweet",value:function(){var e=this.state.tweets.concat(this.state.current);console.log(e),this.setState({tweets:e,current:"",currentLength:0,valid:!0}),window.localStorage.setItem("tweet-storm:tweets",JSON.stringify(e))}},{key:"handleSubmit",value:function(e){e.preventDefault(),e.target.elements[0].focus(),this.createTweet()}},{key:"handleDelete",value:function(e){var t=this.state.tweets.filter((function(t,a){return a!==e}));this.setState({tweets:t}),window.localStorage.setItem("tweet-storm:tweets",JSON.stringify(t,null,2))}},{key:"handleChange",value:function(e){var t=e.currentTarget.value,a=f.a.parseTweet(t);console.log("result =>",a),this.setState({current:t,currentLength:a.weightedLength,valid:a.valid})}},{key:"handleIdChange",value:function(e){var t=e.currentTarget.value;this.setState({replyToId:t})}},{key:"tweetsArray",value:function(){return"<script>\n  var tweets = ".concat(JSON.stringify(this.state.tweets),';\n  var replyToId = "').concat(this.state.replyToId,'";\n<\/script>')}},{key:"onEnterPress",value:function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),this.createTweet())}},{key:"render",value:function(){var e=this,t=this.state.tweets.map((function(t,a){return i.a.createElement(E,{text:t,index:a,key:a,handleDelete:e.handleDelete.bind(e)})})),a=this.state.valid?"is-info":"is-danger";return i.a.createElement("div",null,i.a.createElement(u.Section,null,i.a.createElement("h1",{className:"title"},"Tweet Maker"),i.a.createElement("h2",null,"Add a tweet's ID here if you want tweets to be posted as replies"),i.a.createElement(u.Form.Field,null,i.a.createElement(u.Form.Control,null,i.a.createElement(w.a,{name:"replyToId",onChange:this.handleIdChange.bind(this),value:this.state.replyToId}))),i.a.createElement("h2",null,"Write a tweet and ",i.a.createElement("strong",null,"press enter"),"."),i.a.createElement("form",{ref:function(t){return e.myFormRef=t},className:"form",onSubmit:this.handleSubmit.bind(this)},i.a.createElement(u.Form.Field,null,i.a.createElement(u.Form.Control,null,i.a.createElement(d.a,{onKeyDown:this.onEnterPress.bind(this),autoFocus:!0,className:a,onChange:this.handleChange.bind(this),value:this.state.current}))),i.a.createElement(u.Form.Field,null,i.a.createElement(u.Tag,{className:"is-large ".concat(a)},this.state.currentLength)," ","chars")),i.a.createElement("div",{className:"tweets"},t)),i.a.createElement("section",{className:"section raw"},i.a.createElement("h2",null,"When you're done, click below to copy your tweets..."),i.a.createElement(u.Form.Field,null,i.a.createElement(u.Form.Control,null,i.a.createElement(g.CopyToClipboard,{text:this.tweetsArray(),onCopy:function(){return e.setState({copied:!0})}},i.a.createElement(u.Form.Field,null,i.a.createElement(u.Level,null,i.a.createElement(u.Level.Side,{align:"left"},i.a.createElement(u.Level.Item,null,i.a.createElement(u.Button,null,"Copy to clipboard")),i.a.createElement(u.Level.Item,null,this.state.copied?i.a.createElement(u.Tag,{className:"is-success"},"Copied."):"")))))))))}}]),t}(o.Component);t.default=p}}]);
//# sourceMappingURL=11.57aa99fc.chunk.js.map